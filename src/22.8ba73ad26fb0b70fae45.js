(window.webpackJsonp = window.webpackJsonp || []).push([
    [22], {
        "1Xw/": function(e, t) {
            e.exports.id = "ace/mode/html_worker", e.exports.src = '"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/html/saxparser",["require","exports","module"],function(acequire,exports,module){module.exports=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof acequire&&acequire;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw Error("Cannot find module \'"+o+"\'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof acequire&&acequire,o=0;r.length>o;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){function isScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI?"applet"===node.localName||"caption"===node.localName||"marquee"===node.localName||"object"===node.localName||"table"===node.localName||"td"===node.localName||"th"===node.localName:"http://www.w3.org/1998/Math/MathML"===node.namespaceURI?"mi"===node.localName||"mo"===node.localName||"mn"===node.localName||"ms"===node.localName||"mtext"===node.localName||"annotation-xml"===node.localName:"http://www.w3.org/2000/svg"===node.namespaceURI?"foreignObject"===node.localName||"desc"===node.localName||"title"===node.localName:void 0}function isListItemScopeMarker(node){return isScopeMarker(node)||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"ol"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"ul"===node.localName}function isTableScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"table"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isTableBodyScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tbody"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tfoot"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"thead"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isTableRowScopeMarker(node){return"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"tr"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"html"===node.localName}function isButtonScopeMarker(node){return isScopeMarker(node)||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"button"===node.localName}function isSelectScopeMarker(node){return!("http://www.w3.org/1999/xhtml"===node.namespaceURI&&"optgroup"===node.localName||"http://www.w3.org/1999/xhtml"===node.namespaceURI&&"option"===node.localName)}function ElementStack(){this.elements=[],this.rootNode=null,this.headElement=null,this.bodyElement=null}ElementStack.prototype._inScope=function(localName,isMarker){for(var i=this.elements.length-1;i>=0;i--){var node=this.elements[i];if(node.localName===localName)return!0;if(isMarker(node))return!1}},ElementStack.prototype.push=function(item){this.elements.push(item)},ElementStack.prototype.pushHtmlElement=function(item){this.rootNode=item.node,this.push(item)},ElementStack.prototype.pushHeadElement=function(item){this.headElement=item.node,this.push(item)},ElementStack.prototype.pushBodyElement=function(item){this.bodyElement=item.node,this.push(item)},ElementStack.prototype.pop=function(){return this.elements.pop()},ElementStack.prototype.remove=function(item){this.elements.splice(this.elements.indexOf(item),1)},ElementStack.prototype.popUntilPopped=function(localName){var element;do element=this.pop();while(element.localName!=localName)},ElementStack.prototype.popUntilTableScopeMarker=function(){for(;!isTableScopeMarker(this.top);)this.pop()},ElementStack.prototype.popUntilTableBodyScopeMarker=function(){for(;!isTableBodyScopeMarker(this.top);)this.pop()},ElementStack.prototype.popUntilTableRowScopeMarker=function(){for(;!isTableRowScopeMarker(this.top);)this.pop()},ElementStack.prototype.item=function(index){return this.elements[index]},ElementStack.prototype.contains=function(element){return-1!==this.elements.indexOf(element)},ElementStack.prototype.inScope=function(localName){return this._inScope(localName,isScopeMarker)},ElementStack.prototype.inListItemScope=function(localName){return this._inScope(localName,isListItemScopeMarker)},ElementStack.prototype.inTableScope=function(localName){return this._inScope(localName,isTableScopeMarker)},ElementStack.prototype.inButtonScope=function(localName){return this._inScope(localName,isButtonScopeMarker)},ElementStack.prototype.inSelectScope=function(localName){return this._inScope(localName,isSelectScopeMarker)},ElementStack.prototype.hasNumberedHeaderElementInScope=function(){for(var i=this.elements.length-1;i>=0;i--){var node=this.elements[i];if(node.isNumberedHeader())return!0;if(isScopeMarker(node))return!1}},ElementStack.prototype.furthestBlockForFormattingElement=function(element){for(var furthestBlock=null,i=this.elements.length-1;i>=0;i--){var node=this.elements[i];\nif(node.node===element)break;node.isSpecial()&&(furthestBlock=node)}return furthestBlock},ElementStack.prototype.findIndex=function(localName){for(var i=this.elements.length-1;i>=0;i--)if(this.elements[i].localName==localName)return i;return-1},ElementStack.prototype.remove_openElements_until=function(callback){for(var element,finished=!1;!finished;)element=this.elements.pop(),finished=callback(element);return element},Object.defineProperty(ElementStack.prototype,"top",{get:function(){return this.elements[this.elements.length-1]}}),Object.defineProperty(ElementStack.prototype,"length",{get:function(){return this.elements.length}}),exports.ElementStack=ElementStack},{}],2:[function(_dereq_,module,exports){function isAlphaNumeric(c){return c>="0"&&"9">=c||c>="a"&&"z">=c||c>="A"&&"Z">=c}function isHexDigit(c){return c>="0"&&"9">=c||c>="a"&&"f">=c||c>="A"&&"F">=c}function isDecimalDigit(c){return c>="0"&&"9">=c}var entities=_dereq_("html5-entities"),InputStream=_dereq_("./InputStream").InputStream,namedEntityPrefixes={};Object.keys(entities).forEach(function(entityKey){for(var i=0;entityKey.length>i;i++)namedEntityPrefixes[entityKey.substring(0,i+1)]=!0});var EntityParser={};EntityParser.consumeEntity=function(buffer,tokenizer,additionalAllowedCharacter){var decodedCharacter="",consumedCharacters="",ch=buffer.char();if(ch===InputStream.EOF)return!1;if(consumedCharacters+=ch,"\t"==ch||"\\n"==ch||"\v"==ch||" "==ch||"<"==ch||"&"==ch)return buffer.unget(consumedCharacters),!1;if(additionalAllowedCharacter===ch)return buffer.unget(consumedCharacters),!1;if("#"==ch){if(ch=buffer.shift(1),ch===InputStream.EOF)return tokenizer._parseError("expected-numeric-entity-but-got-eof"),buffer.unget(consumedCharacters),!1;consumedCharacters+=ch;var radix=10,isDigit=isDecimalDigit;if("x"==ch||"X"==ch){if(radix=16,isDigit=isHexDigit,ch=buffer.shift(1),ch===InputStream.EOF)return tokenizer._parseError("expected-numeric-entity-but-got-eof"),buffer.unget(consumedCharacters),!1;consumedCharacters+=ch}if(isDigit(ch)){for(var code="";ch!==InputStream.EOF&&isDigit(ch);)code+=ch,ch=buffer.char();code=parseInt(code,radix);var replacement=this.replaceEntityNumbers(code);if(replacement&&(tokenizer._parseError("invalid-numeric-entity-replaced"),code=replacement),code>65535&&1114111>=code){code-=65536;var first=((1047552&code)>>10)+55296,second=(1023&code)+56320;decodedCharacter=String.fromCharCode(first,second)}else decodedCharacter=String.fromCharCode(code);return";"!==ch&&(tokenizer._parseError("numeric-entity-without-semicolon"),buffer.unget(ch)),decodedCharacter}return buffer.unget(consumedCharacters),tokenizer._parseError("expected-numeric-entity"),!1}if(ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch){for(var mostRecentMatch="";namedEntityPrefixes[consumedCharacters]&&(entities[consumedCharacters]&&(mostRecentMatch=consumedCharacters),";"!=ch)&&(ch=buffer.char(),ch!==InputStream.EOF);)consumedCharacters+=ch;return mostRecentMatch?(decodedCharacter=entities[mostRecentMatch],";"===ch||!additionalAllowedCharacter||!isAlphaNumeric(ch)&&"="!==ch?(consumedCharacters.length>mostRecentMatch.length&&buffer.unget(consumedCharacters.substring(mostRecentMatch.length)),";"!==ch&&tokenizer._parseError("named-entity-without-semicolon"),decodedCharacter):(buffer.unget(consumedCharacters),!1)):(tokenizer._parseError("expected-named-entity"),buffer.unget(consumedCharacters),!1)}},EntityParser.replaceEntityNumbers=function(c){switch(c){case 0:return 65533;case 19:return 16;case 128:return 8364;case 129:return 129;case 130:return 8218;case 131:return 402;case 132:return 8222;case 133:return 8230;case 134:return 8224;case 135:return 8225;case 136:return 710;case 137:return 8240;case 138:return 352;case 139:return 8249;case 140:return 338;case 141:return 141;case 142:return 381;case 143:return 143;case 144:return 144;case 145:return 8216;case 146:return 8217;case 147:return 8220;case 148:return 8221;case 149:return 8226;case 150:return 8211;case 151:return 8212;case 152:return 732;case 153:return 8482;case 154:return 353;case 155:return 8250;case 156:return 339;case 157:return 157;case 158:return 382;case 159:return 376;default:if(c>=55296&&57343>=c||c>1114111)return 65533;if(c>=1&&8>=c||c>=14&&31>=c||c>=127&&159>=c||c>=64976&&65007>=c||11==c||65534==c||131070==c||3145726==c||196607==c||262142==c||262143==c||327678==c||327679==c||393214==c||393215==c||458750==c||458751==c||524286==c||524287==c||589822==c||589823==c||655358==c||655359==c||720894==c||720895==c||786430==c||786431==c||851966==c||851967==c||917502==c||917503==c||983038==c||983039==c||1048574==c||1048575==c||1114110==c||1114111==c)return c}},exports.EntityParser=EntityParser},{"./InputStream":3,"html5-entities":12}],3:[function(_dereq_,module,exports){function InputStream(){this.data="",this.start=0,this.committed=0,this.eof=!1,this.lastLocation={line:0,column:0}}InputStream.EOF=-1,InputStream.DRAIN=-2,InputStream.prototype={slice:function(){if(this.start>=this.data.length){if(!this.eof)throw InputStream.DRAIN;return InputStream.EOF}return this.data.slice(this.start,this.data.length)},"char":function(){if(!this.eof&&this.start>=this.data.length-1)throw InputStream.DRAIN;if(this.start>=this.data.length)return InputStream.EOF;var ch=this.data[this.start++];return"\\r"===ch&&(ch="\\n"),ch},advance:function(amount){if(this.start+=amount,this.start>=this.data.length){if(!this.eof)throw InputStream.DRAIN;return InputStream.EOF}this.committed>this.data.length/2&&(this.lastLocation=this.location(),this.data=this.data.slice(this.committed),this.start=this.start-this.committed,this.committed=0)},matchWhile:function(re){if(this.eof&&this.start>=this.data.length)return"";var r=RegExp("^"+re+"+"),m=r.exec(this.slice());if(m){if(!this.eof&&m[0].length==this.data.length-this.start)throw InputStream.DRAIN;return this.advance(m[0].length),m[0]}return""},matchUntil:function(re){var m,s;if(s=this.slice(),s===InputStream.EOF)return"";if(m=RegExp(re+(this.eof?"|$":"")).exec(s)){var t=this.data.slice(this.start,this.start+m.index);return this.advance(m.index),t.replace(/\\r/g,"\\n").replace(/\\n{2,}/g,"\\n")}throw InputStream.DRAIN},append:function(data){this.data+=data},shift:function(n){if(!this.eof&&this.start+n>=this.data.length)throw InputStream.DRAIN;if(this.eof&&this.start>=this.data.length)return InputStream.EOF;var d=""+this.data.slice(this.start,this.start+n);return this.advance(Math.min(n,this.data.length-this.start)),d},peek:function(n){if(!this.eof&&this.start+n>=this.data.length)throw InputStream.DRAIN;return this.eof&&this.start>=this.data.length?InputStream.EOF:""+this.data.slice(this.start,Math.min(this.start+n,this.data.length))},length:function(){return this.data.length-this.start-1},unget:function(d){d!==InputStream.EOF&&(this.start-=d.length)},undo:function(){this.start=this.committed},commit:function(){this.committed=this.start},location:function(){var lastLine=this.lastLocation.line,lastColumn=this.lastLocation.column,read=this.data.slice(0,this.committed),newlines=read.match(/\\n/g),line=newlines?lastLine+newlines.length:lastLine,column=newlines?read.length-read.lastIndexOf("\\n")-1:lastColumn+read.length;return{line:line,column:column}}},exports.InputStream=InputStream},{}],4:[function(_dereq_,module,exports){function StackItem(namespaceURI,localName,attributes,node){this.localName=localName,this.namespaceURI=namespaceURI,this.attributes=attributes,this.node=node}function getAttribute(item,name){for(var i=0;item.attributes.length>i;i++)if(item.attributes[i].nodeName==name)return item.attributes[i].nodeValue;return null}var SpecialElements={"http://www.w3.org/1999/xhtml":["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],"http://www.w3.org/1998/Math/MathML":["mi","mo","mn","ms","mtext","annotation-xml"],"http://www.w3.org/2000/svg":["foreignObject","desc","title"]};StackItem.prototype.isSpecial=function(){return this.namespaceURI in SpecialElements&&SpecialElements[this.namespaceURI].indexOf(this.localName)>-1},StackItem.prototype.isFosterParenting=function(){return"http://www.w3.org/1999/xhtml"===this.namespaceURI?"table"===this.localName||"tbody"===this.localName||"tfoot"===this.localName||"thead"===this.localName||"tr"===this.localName:!1},StackItem.prototype.isNumberedHeader=function(){return"http://www.w3.org/1999/xhtml"===this.namespaceURI?"h1"===this.localName||"h2"===this.localName||"h3"===this.localName||"h4"===this.localName||"h5"===this.localName||"h6"===this.localName:!1},StackItem.prototype.isForeign=function(){return"http://www.w3.org/1999/xhtml"!=this.namespaceURI},StackItem.prototype.isHtmlIntegrationPoint=function(){if("http://www.w3.org/1998/Math/MathML"===this.namespaceURI){if("annotation-xml"!==this.localName)return!1;var encoding=getAttribute(this,"encoding");return encoding?(encoding=encoding.toLowerCase(),"text/html"===encoding||"application/xhtml+xml"===encoding):!1}return"http://www.w3.org/2000/svg"===this.namespaceURI?"foreignObject"===this.localName||"desc"===this.localName||"title"===this.localName:!1},StackItem.prototype.isMathMLTextIntegrationPoint=function(){return"http://www.w3.org/1998/Math/MathML"===this.namespaceURI?"mi"===this.localName||"mo"===this.localName||"mn"===this.localName||"ms"===this.localName||"mtext"===this.localName:!1},exports.StackItem=StackItem},{}],5:[function(_dereq_,module,exports){function isWhitespace(c){return" "===c||"\\n"===c||"\t"===c||"\\r"===c||"\\f"===c}function isAlpha(c){return c>="A"&&"Z">=c||c>="a"&&"z">=c}function Tokenizer(tokenHandler){this._tokenHandler=tokenHandler,this._state=Tokenizer.DATA,this._inputStream=new InputStream,this._currentToken=null,this._temporaryBuffer="",this._additionalAllowedCharacter=""}var InputStream=_dereq_("./InputStream").InputStream,EntityParser=_dereq_("./EntityParser").EntityParser;Tokenizer.prototype._parseError=function(code,args){this._tokenHandler.parseError(code,args)},Tokenizer.prototype._emitToken=function(token){if("StartTag"===token.type)for(var i=1;token.data.length>i;i++)token.data[i].nodeName||token.data.splice(i--,1);else"EndTag"===token.type&&(token.selfClosing&&this._parseError("self-closing-flag-on-end-tag"),0!==token.data.length&&this._parseError("attributes-in-end-tag"));this._tokenHandler.processToken(token),"StartTag"===token.type&&token.selfClosing&&!this._tokenHandler.isSelfClosingFlagAcknowledged()&&this._parseError("non-void-element-with-trailing-solidus",{name:token.name})},Tokenizer.prototype._emitCurrentToken=function(){this._state=Tokenizer.DATA,this._emitToken(this._currentToken)},Tokenizer.prototype._currentAttribute=function(){return this._currentToken.data[this._currentToken.data.length-1]},Tokenizer.prototype.setState=function(state){this._state=state},Tokenizer.prototype.tokenize=function(source){function data_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("&"===data)tokenizer.setState(character_reference_in_data_state);else if("<"===data)tokenizer.setState(tag_open_state);else if("\\0"===data)tokenizer._emitToken({type:"Characters",data:data}),buffer.commit();else{var chars=buffer.matchUntil("&|<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars}),buffer.commit()}return!0}function character_reference_in_data_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer);return tokenizer.setState(data_state),tokenizer._emitToken({type:"Characters",data:character||"&"}),!0}function rcdata_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("&"===data)tokenizer.setState(character_reference_in_rcdata_state);else if("<"===data)tokenizer.setState(rcdata_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),buffer.commit();else{var chars=buffer.matchUntil("&|<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars}),buffer.commit()}return!0}function character_reference_in_rcdata_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer);return tokenizer.setState(rcdata_state),tokenizer._emitToken({type:"Characters",data:character||"&"}),!0}function rawtext_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("<"===data)tokenizer.setState(rawtext_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),buffer.commit();else{var chars=buffer.matchUntil("<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function plaintext_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),buffer.commit();else{var chars=buffer.matchUntil("\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function script_data_state(buffer){var data=buffer.char();if(data===InputStream.EOF)return tokenizer._emitToken({type:"EOF",data:null}),!1;if("<"===data)tokenizer.setState(script_data_less_than_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),buffer.commit();else{var chars=buffer.matchUntil("<|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function rcdata_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(rcdata_end_tag_open_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rcdata_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(rcdata_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rcdata_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(rcdata_state)),!0}function rawtext_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(rawtext_end_tag_open_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function rawtext_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(rawtext_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function rawtext_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:this._temporaryBuffer,data:[],selfClosing:!1},tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(rawtext_state)),!0}function script_data_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(script_data_end_tag_open_state)):"!"===data?(tokenizer._emitToken({type:"Characters",data:"<!"}),tokenizer.setState(script_data_escape_start_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer+=data,tokenizer.setState(script_data_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer._emitCurrentToken()):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escape_start_state(buffer){var data=buffer.char();return"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escape_start_dash_state)):(buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escape_start_dash_state(buffer){var data=buffer.char();return"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_dash_state)):(buffer.unget(data),tokenizer.setState(script_data_state)),!0}function script_data_escaped_state(buffer){var data=buffer.char();if(data===InputStream.EOF)buffer.unget(data),tokenizer.setState(data_state);else if("-"===data)tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_state);else if("<"===data)tokenizer.setState(script_data_escaped_less_then_sign_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),buffer.commit();else{var chars=buffer.matchUntil("<|-|\\0");tokenizer._emitToken({type:"Characters",data:data+chars})}return!0}function script_data_escaped_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_escaped_dash_dash_state)):"<"===data?tokenizer.setState(script_data_escaped_less_then_sign_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),tokenizer.setState(script_data_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_dash_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"<"===data?tokenizer.setState(script_data_escaped_less_then_sign_state):">"===data?(tokenizer._emitToken({type:"Characters",data:">"}),tokenizer.setState(script_data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),tokenizer.setState(script_data_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_less_then_sign_state(buffer){var data=buffer.char();return"/"===data?(this._temporaryBuffer="",tokenizer.setState(script_data_escaped_end_tag_open_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:"<"+data}),this._temporaryBuffer=data,tokenizer.setState(script_data_double_escape_start_state)):(tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_end_tag_open_state(buffer){var data=buffer.char();return isAlpha(data)?(this._temporaryBuffer=data,tokenizer.setState(script_data_escaped_end_tag_name_state)):(tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_escaped_end_tag_name_state(buffer){var appropriate=tokenizer._currentToken&&tokenizer._currentToken.name===this._temporaryBuffer.toLowerCase(),data=buffer.char();return isWhitespace(data)&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(before_attribute_name_state)):"/"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(self_closing_tag_state)):">"===data&&appropriate?(tokenizer._currentToken={type:"EndTag",name:"script",data:[],selfClosing:!1},tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isAlpha(data)?(this._temporaryBuffer+=data,buffer.commit()):(tokenizer._emitToken({type:"Characters",data:"</"+this._temporaryBuffer}),buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_double_escape_start_state(buffer){var data=buffer.char();return isWhitespace(data)||"/"===data||">"===data?(tokenizer._emitToken({type:"Characters",data:data}),"script"===this._temporaryBuffer.toLowerCase()?tokenizer.setState(script_data_double_escaped_state):tokenizer.setState(script_data_escaped_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:data}),this._temporaryBuffer+=data,buffer.commit()):(buffer.unget(data),tokenizer.setState(script_data_escaped_state)),!0}function script_data_double_escaped_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_double_escaped_dash_state)):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),buffer.commit()):(tokenizer._emitToken({type:"Characters",data:data}),buffer.commit()),!0}function script_data_double_escaped_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),tokenizer.setState(script_data_double_escaped_dash_dash_state)):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),tokenizer.setState(script_data_double_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escaped_dash_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-script"),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?(tokenizer._emitToken({type:"Characters",data:"-"}),buffer.commit()):"<"===data?(tokenizer._emitToken({type:"Characters",data:"<"}),tokenizer.setState(script_data_double_escaped_less_than_sign_state)):">"===data?(tokenizer._emitToken({type:"Characters",data:">"}),tokenizer.setState(script_data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._emitToken({type:"Characters",data:"\ufffd"}),tokenizer.setState(script_data_double_escaped_state)):(tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escaped_less_than_sign_state(buffer){var data=buffer.char();return"/"===data?(tokenizer._emitToken({type:"Characters",data:"/"}),this._temporaryBuffer="",tokenizer.setState(script_data_double_escape_end_state)):(buffer.unget(data),tokenizer.setState(script_data_double_escaped_state)),!0}function script_data_double_escape_end_state(buffer){var data=buffer.char();return isWhitespace(data)||"/"===data||">"===data?(tokenizer._emitToken({type:"Characters",data:data}),"script"===this._temporaryBuffer.toLowerCase()?tokenizer.setState(script_data_escaped_state):tokenizer.setState(script_data_double_escaped_state)):isAlpha(data)?(tokenizer._emitToken({type:"Characters",data:data}),this._temporaryBuffer+=data,buffer.commit()):(buffer.unget(data),tokenizer.setState(script_data_double_escaped_state)),!0}function tag_open_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("bare-less-than-sign-at-eof"),tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(data_state)):isAlpha(data)?(tokenizer._currentToken={type:"StartTag",name:data.toLowerCase(),data:[]},tokenizer.setState(tag_name_state)):"!"===data?tokenizer.setState(markup_declaration_open_state):"/"===data?tokenizer.setState(close_tag_open_state):">"===data?(tokenizer._parseError("expected-tag-name-but-got-right-bracket"),tokenizer._emitToken({type:"Characters",data:"<>"}),tokenizer.setState(data_state)):"?"===data?(tokenizer._parseError("expected-tag-name-but-got-question-mark"),buffer.unget(data),tokenizer.setState(bogus_comment_state)):(tokenizer._parseError("expected-tag-name"),tokenizer._emitToken({type:"Characters",data:"<"}),buffer.unget(data),tokenizer.setState(data_state)),!0}function close_tag_open_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-closing-tag-but-got-eof"),tokenizer._emitToken({type:"Characters",data:"</"}),buffer.unget(data),tokenizer.setState(data_state)):isAlpha(data)?(tokenizer._currentToken={type:"EndTag",name:data.toLowerCase(),data:[]},tokenizer.setState(tag_name_state)):">"===data?(tokenizer._parseError("expected-closing-tag-but-got-right-bracket"),tokenizer.setState(data_state)):(tokenizer._parseError("expected-closing-tag-but-got-char",{data:data}),buffer.unget(data),tokenizer.setState(bogus_comment_state)),!0}function tag_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-tag-name"),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_attribute_name_state):isAlpha(data)?tokenizer._currentToken.name+=data.toLowerCase():">"===data?tokenizer._emitCurrentToken():"/"===data?tokenizer.setState(self_closing_tag_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.name+="\ufffd"):tokenizer._currentToken.name+=data,buffer.commit(),!0}function before_attribute_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-attribute-name-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;isAlpha(data)?(tokenizer._currentToken.data.push({nodeName:data.toLowerCase(),nodeValue:""}),tokenizer.setState(attribute_name_state)):">"===data?tokenizer._emitCurrentToken():"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data||"="===data||"<"===data?(tokenizer._parseError("invalid-character-in-attribute-name"),tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data.push({nodeName:"\ufffd",nodeValue:""})):(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state))}return!0}function attribute_name_state(buffer){var data=buffer.char(),leavingThisState=!0,shouldEmit=!1;if(data===InputStream.EOF?(tokenizer._parseError("eof-in-attribute-name"),buffer.unget(data),tokenizer.setState(data_state),shouldEmit=!0):"="===data?tokenizer.setState(before_attribute_value_state):isAlpha(data)?(tokenizer._currentAttribute().nodeName+=data.toLowerCase(),leavingThisState=!1):">"===data?shouldEmit=!0:isWhitespace(data)?tokenizer.setState(after_attribute_name_state):"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data?(tokenizer._parseError("invalid-character-in-attribute-name"),tokenizer._currentAttribute().nodeName+=data,leavingThisState=!1):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeName+="\ufffd"):(tokenizer._currentAttribute().nodeName+=data,leavingThisState=!1),leavingThisState){for(var attributes=tokenizer._currentToken.data,currentAttribute=attributes[attributes.length-1],i=attributes.length-2;i>=0;i--)if(currentAttribute.nodeName===attributes[i].nodeName){tokenizer._parseError("duplicate-attribute",{name:currentAttribute.nodeName}),currentAttribute.nodeName=null;break}shouldEmit&&tokenizer._emitCurrentToken()}else buffer.commit();return!0}function after_attribute_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-end-of-tag-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;"="===data?tokenizer.setState(before_attribute_value_state):">"===data?tokenizer._emitCurrentToken():isAlpha(data)?(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"/"===data?tokenizer.setState(self_closing_tag_state):"\'"===data||\'"\'===data||"<"===data?(tokenizer._parseError("invalid-character-after-attribute-name"),tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data.push({nodeName:"\ufffd",nodeValue:""})):(tokenizer._currentToken.data.push({nodeName:data,nodeValue:""}),tokenizer.setState(attribute_name_state))}return!0}function before_attribute_value_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("expected-attribute-value-but-got-eof"),buffer.unget(data),tokenizer.setState(data_state);else{if(isWhitespace(data))return!0;\'"\'===data?tokenizer.setState(attribute_value_double_quoted_state):"&"===data?(tokenizer.setState(attribute_value_unquoted_state),buffer.unget(data)):"\'"===data?tokenizer.setState(attribute_value_single_quoted_state):">"===data?(tokenizer._parseError("expected-attribute-value-but-got-right-bracket"),tokenizer._emitCurrentToken()):"="===data||"<"===data||"`"===data?(tokenizer._parseError("unexpected-character-in-unquoted-attribute-value"),tokenizer._currentAttribute().nodeValue+=data,tokenizer.setState(attribute_value_unquoted_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="\ufffd"):(tokenizer._currentAttribute().nodeValue+=data,tokenizer.setState(attribute_value_unquoted_state))}return!0\n}function attribute_value_double_quoted_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("eof-in-attribute-value-double-quote"),buffer.unget(data),tokenizer.setState(data_state);else if(\'"\'===data)tokenizer.setState(after_attribute_value_state);else if("&"===data)this._additionalAllowedCharacter=\'"\',tokenizer.setState(character_reference_in_attribute_value_state);else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="\ufffd";else{var s=buffer.matchUntil(\'[\\0"&]\');data+=s,tokenizer._currentAttribute().nodeValue+=data}return!0}function attribute_value_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-attribute-value-single-quote"),buffer.unget(data),tokenizer.setState(data_state)):"\'"===data?tokenizer.setState(after_attribute_value_state):"&"===data?(this._additionalAllowedCharacter="\'",tokenizer.setState(character_reference_in_attribute_value_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="\ufffd"):tokenizer._currentAttribute().nodeValue+=data+buffer.matchUntil("\\0|[\'&]"),!0}function attribute_value_unquoted_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._parseError("eof-after-attribute-value"),buffer.unget(data),tokenizer.setState(data_state);else if(isWhitespace(data))tokenizer.setState(before_attribute_name_state);else if("&"===data)this._additionalAllowedCharacter=">",tokenizer.setState(character_reference_in_attribute_value_state);else if(">"===data)tokenizer._emitCurrentToken();else if(\'"\'===data||"\'"===data||"="===data||"`"===data||"<"===data)tokenizer._parseError("unexpected-character-in-unquoted-attribute-value"),tokenizer._currentAttribute().nodeValue+=data,buffer.commit();else if("\\0"===data)tokenizer._parseError("invalid-codepoint"),tokenizer._currentAttribute().nodeValue+="\ufffd";else{var o=buffer.matchUntil("\\0|[\t\\n\v\\f \\r&<>\\"\'=`]");o===InputStream.EOF&&(tokenizer._parseError("eof-in-attribute-value-no-quotes"),tokenizer._emitCurrentToken()),buffer.commit(),tokenizer._currentAttribute().nodeValue+=data+o}return!0}function character_reference_in_attribute_value_state(buffer){var character=EntityParser.consumeEntity(buffer,tokenizer,this._additionalAllowedCharacter);return this._currentAttribute().nodeValue+=character||"&",\'"\'===this._additionalAllowedCharacter?tokenizer.setState(attribute_value_double_quoted_state):"\'"===this._additionalAllowedCharacter?tokenizer.setState(attribute_value_single_quoted_state):">"===this._additionalAllowedCharacter&&tokenizer.setState(attribute_value_unquoted_state),!0}function after_attribute_value_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-after-attribute-value"),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_attribute_name_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):"/"===data?tokenizer.setState(self_closing_tag_state):(tokenizer._parseError("unexpected-character-after-attribute-value"),buffer.unget(data),tokenizer.setState(before_attribute_name_state)),!0}function self_closing_tag_state(buffer){var c=buffer.char();return c===InputStream.EOF?(tokenizer._parseError("unexpected-eof-after-solidus-in-tag"),buffer.unget(c),tokenizer.setState(data_state)):">"===c?(tokenizer._currentToken.selfClosing=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("unexpected-character-after-solidus-in-tag"),buffer.unget(c),tokenizer.setState(before_attribute_name_state)),!0}function bogus_comment_state(buffer){var data=buffer.matchUntil(">");return data=data.replace(/\\u0000/g,"\ufffd"),buffer.char(),tokenizer._emitToken({type:"Comment",data:data}),tokenizer.setState(data_state),!0}function markup_declaration_open_state(buffer){var chars=buffer.shift(2);if("--"===chars)tokenizer._currentToken={type:"Comment",data:""},tokenizer.setState(comment_start_state);else{var newchars=buffer.shift(5);if(newchars===InputStream.EOF||chars===InputStream.EOF)return tokenizer._parseError("expected-dashes-or-doctype"),tokenizer.setState(bogus_comment_state),buffer.unget(chars),!0;chars+=newchars,"DOCTYPE"===chars.toUpperCase()?(tokenizer._currentToken={type:"Doctype",name:"",publicId:null,systemId:null,forceQuirks:!1},tokenizer.setState(doctype_state)):tokenizer._tokenHandler.isCdataSectionAllowed()&&"[CDATA["===chars?tokenizer.setState(cdata_section_state):(tokenizer._parseError("expected-dashes-or-doctype"),buffer.unget(chars),tokenizer.setState(bogus_comment_state))}return!0}function cdata_section_state(buffer){var data=buffer.matchUntil("]]>");return buffer.shift(3),data&&tokenizer._emitToken({type:"Characters",data:data}),tokenizer.setState(data_state),!0}function comment_start_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_start_dash_state):">"===data?(tokenizer._parseError("incorrect-comment"),tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="\ufffd"):(tokenizer._currentToken.data+=data,tokenizer.setState(comment_state)),!0}function comment_start_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_state):">"===data?(tokenizer._parseError("incorrect-comment"),tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="\ufffd"):(tokenizer._currentToken.data+="-"+data,tokenizer.setState(comment_state)),!0}function comment_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_dash_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="\ufffd"):(tokenizer._currentToken.data+=data,buffer.commit()),!0}function comment_end_dash_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-end-dash"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):"-"===data?tokenizer.setState(comment_end_state):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="-\ufffd",tokenizer.setState(comment_state)):(tokenizer._currentToken.data+="-"+data+buffer.matchUntil("\\0|-"),buffer.char()),!0}function comment_end_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-double-dash"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):">"===data?(tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"!"===data?(tokenizer._parseError("unexpected-bang-after-double-dash-in-comment"),tokenizer.setState(comment_end_bang_state)):"-"===data?(tokenizer._parseError("unexpected-dash-after-double-dash-in-comment"),tokenizer._currentToken.data+=data):"\\0"===data?(tokenizer._parseError("invalid-codepoint"),tokenizer._currentToken.data+="--\ufffd",tokenizer.setState(comment_state)):(tokenizer._parseError("unexpected-char-in-comment"),tokenizer._currentToken.data+="--"+data,tokenizer.setState(comment_state)),!0}function comment_end_bang_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-comment-end-bang-state"),tokenizer._emitToken(tokenizer._currentToken),buffer.unget(data),tokenizer.setState(data_state)):">"===data?(tokenizer._emitToken(tokenizer._currentToken),tokenizer.setState(data_state)):"-"===data?(tokenizer._currentToken.data+="--!",tokenizer.setState(comment_end_dash_state)):(tokenizer._currentToken.data+="--!"+data,tokenizer.setState(comment_state)),!0}function doctype_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-doctype-name-but-got-eof"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(before_doctype_name_state):(tokenizer._parseError("need-space-after-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_name_state)),!0}function before_doctype_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("expected-doctype-name-but-got-eof"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)||(">"===data?(tokenizer._parseError("expected-doctype-name-but-got-right-bracket"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(isAlpha(data)&&(data=data.toLowerCase()),tokenizer._currentToken.name=data,tokenizer.setState(doctype_name_state))),!0}function doctype_name_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer._parseError("eof-in-doctype-name"),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(after_doctype_name_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(isAlpha(data)&&(data=data.toLowerCase()),tokenizer._currentToken.name+=data,buffer.commit()),!0}function after_doctype_name_state(buffer){var data=buffer.char();if(data===InputStream.EOF)tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer._parseError("eof-in-doctype"),tokenizer.setState(data_state),tokenizer._emitCurrentToken();else if(isWhitespace(data));else if(">"===data)tokenizer.setState(data_state),tokenizer._emitCurrentToken();else{if(["p","P"].indexOf(data)>-1){var expected=[["u","U"],["b","B"],["l","L"],["i","I"],["c","C"]],matched=expected.every(function(expected){return data=buffer.char(),expected.indexOf(data)>-1});if(matched)return tokenizer.setState(after_doctype_public_keyword_state),!0}else if(["s","S"].indexOf(data)>-1){var expected=[["y","Y"],["s","S"],["t","T"],["e","E"],["m","M"]],matched=expected.every(function(expected){return data=buffer.char(),expected.indexOf(data)>-1});if(matched)return tokenizer.setState(after_doctype_system_keyword_state),!0}buffer.unget(data),tokenizer._currentToken.forceQuirks=!0,data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("expected-space-or-right-bracket-in-doctype",{data:data}),tokenizer.setState(bogus_doctype_state))}return!0}function after_doctype_public_keyword_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)?tokenizer.setState(before_doctype_public_identifier_state):"\'"===data||\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_public_identifier_state)):(buffer.unget(data),tokenizer.setState(before_doctype_public_identifier_state)),!0}function before_doctype_public_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):isWhitespace(data)||(\'"\'===data?(tokenizer._currentToken.publicId="",tokenizer.setState(doctype_public_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.publicId="",tokenizer.setState(doctype_public_identifier_single_quoted_state)):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function doctype_public_identifier_double_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):\'"\'===data?tokenizer.setState(after_doctype_public_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):tokenizer._currentToken.publicId+=data,!0}function doctype_public_identifier_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,buffer.unget(data),tokenizer.setState(data_state),tokenizer._emitCurrentToken()):"\'"===data?tokenizer.setState(after_doctype_public_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(data_state),tokenizer._emitCurrentToken()):tokenizer._currentToken.publicId+=data,!0}function after_doctype_public_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(between_doctype_public_and_system_identifiers_state):">"===data?(tokenizer.setState(data_state),tokenizer._emitCurrentToken()):\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state)),!0}function between_doctype_public_and_system_identifiers_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(">"===data?(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):\'"\'===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function after_doctype_system_keyword_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)?tokenizer.setState(before_doctype_system_identifier_state):"\'"===data||\'"\'===data?(tokenizer._parseError("unexpected-char-in-doctype"),buffer.unget(data),tokenizer.setState(before_doctype_system_identifier_state)):(buffer.unget(data),tokenizer.setState(before_doctype_system_identifier_state)),!0}function before_doctype_system_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(\'"\'===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_double_quoted_state)):"\'"===data?(tokenizer._currentToken.systemId="",tokenizer.setState(doctype_system_identifier_single_quoted_state)):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer.setState(bogus_doctype_state))),!0}function doctype_system_identifier_double_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):\'"\'===data?tokenizer.setState(after_doctype_system_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):tokenizer._currentToken.systemId+=data,!0}function doctype_system_identifier_single_quoted_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):"\'"===data?tokenizer.setState(after_doctype_system_identifier_state):">"===data?(tokenizer._parseError("unexpected-end-of-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):tokenizer._currentToken.systemId+=data,!0}function after_doctype_system_identifier_state(buffer){var data=buffer.char();return data===InputStream.EOF?(tokenizer._parseError("eof-in-doctype"),tokenizer._currentToken.forceQuirks=!0,tokenizer._emitCurrentToken(),buffer.unget(data),tokenizer.setState(data_state)):isWhitespace(data)||(">"===data?(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):(tokenizer._parseError("unexpected-char-in-doctype"),tokenizer.setState(bogus_doctype_state))),!0}function bogus_doctype_state(buffer){var data=buffer.char();return data===InputStream.EOF?(buffer.unget(data),tokenizer._emitCurrentToken(),tokenizer.setState(data_state)):">"===data&&(tokenizer._emitCurrentToken(),tokenizer.setState(data_state)),!0}Tokenizer.DATA=data_state,Tokenizer.RCDATA=rcdata_state,Tokenizer.RAWTEXT=rawtext_state,Tokenizer.SCRIPT_DATA=script_data_state,Tokenizer.PLAINTEXT=plaintext_state,this._state=Tokenizer.DATA,this._inputStream.append(source),this._tokenHandler.startTokenization(this),this._inputStream.eof=!0;for(var tokenizer=this;this._state.call(this,this._inputStream););},Object.defineProperty(Tokenizer.prototype,"lineNumber",{get:function(){return this._inputStream.location().line}}),Object.defineProperty(Tokenizer.prototype,"columnNumber",{get:function(){return this._inputStream.location().column}}),exports.Tokenizer=Tokenizer},{"./EntityParser":2,"./InputStream":3}],6:[function(_dereq_,module,exports){function isWhitespace(ch){return" "===ch||"\\n"===ch||"\t"===ch||"\\r"===ch||"\\f"===ch}function isWhitespaceOrReplacementCharacter(ch){return isWhitespace(ch)||"\ufffd"===ch}function isAllWhitespace(characters){for(var i=0;characters.length>i;i++){var ch=characters[i];if(!isWhitespace(ch))return!1}return!0}function isAllWhitespaceOrReplacementCharacters(characters){for(var i=0;characters.length>i;i++){var ch=characters[i];if(!isWhitespaceOrReplacementCharacter(ch))return!1}return!0}function getAttribute(node,name){for(var i=0;node.attributes.length>i;i++){var attribute=node.attributes[i];if(attribute.nodeName===name)return attribute}return null}function CharacterBuffer(characters){this.characters=characters,this.current=0,this.end=this.characters.length}function TreeBuilder(){this.tokenizer=null,this.errorHandler=null,this.scriptingEnabled=!1,this.document=null,this.head=null,this.form=null,this.openElements=new ElementStack,this.activeFormattingElements=[],this.insertionMode=null,this.insertionModeName="",this.originalInsertionMode="",this.inQuirksMode=!1,this.compatMode="no quirks",this.framesetOk=!0,this.redirectAttachToFosterParent=!1,this.selfClosingFlagAcknowledged=!1,this.context="",this.pendingTableCharacters=[],this.shouldSkipLeadingNewline=!1;var tree=this,modes=this.insertionModes={};modes.base={end_tag_handlers:{"-default":"endTagOther"},start_tag_handlers:{"-default":"startTagOther"},processEOF:function(){tree.generateImpliedEndTags(),tree.openElements.length>2?tree.parseError("expected-closing-tag-but-got-eof"):2==tree.openElements.length&&"body"!=tree.openElements.item(1).localName?tree.parseError("expected-closing-tag-but-got-eof"):tree.context&&tree.openElements.length>1},processComment:function(data){tree.insertComment(data,tree.currentStackItem().node)},processDoctype:function(){tree.parseError("unexpected-doctype")},processStartTag:function(name,attributes,selfClosing){if(this[this.start_tag_handlers[name]])this[this.start_tag_handlers[name]](name,attributes,selfClosing);else{if(!this[this.start_tag_handlers["-default"]])throw Error("No handler found for "+name);this[this.start_tag_handlers["-default"]](name,attributes,selfClosing)}},processEndTag:function(name){if(this[this.end_tag_handlers[name]])this[this.end_tag_handlers[name]](name);else{if(!this[this.end_tag_handlers["-default"]])throw Error("No handler found for "+name);this[this.end_tag_handlers["-default"]](name)}},startTagHtml:function(name,attributes){modes.inBody.startTagHtml(name,attributes)}},modes.initial=Object.create(modes.base),modes.initial.processEOF=function(){tree.parseError("expected-doctype-but-got-eof"),this.anythingElse(),tree.insertionMode.processEOF()},modes.initial.processComment=function(data){tree.insertComment(data,tree.document)},modes.initial.processDoctype=function(name,publicId,systemId,forceQuirks){function publicIdStartsWith(string){return 0===publicId.toLowerCase().indexOf(string)}tree.insertDoctype(name||"",publicId||"",systemId||""),forceQuirks||"html"!=name||null!=publicId&&(["+//silmaril//dtd html pro v0r11 19970101//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//as//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html strict//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//ietf//dtd html//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o\'reilly and associates//dtd html 2.0//","-//o\'reilly and associates//dtd html extended 1.0//","-//spyglass//dtd html 2.0 extended//","-//sq//dtd html 2.0 hotmetal + extensions//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//","html"].some(publicIdStartsWith)||["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"].indexOf(publicId.toLowerCase())>-1||null==systemId&&["-//w3c//dtd html 4.01 transitional//","-//w3c//dtd html 4.01 frameset//"].some(publicIdStartsWith))||null!=systemId&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"==systemId.toLowerCase()?(tree.compatMode="quirks",tree.parseError("quirky-doctype")):null!=publicId&&(["-//w3c//dtd xhtml 1.0 transitional//","-//w3c//dtd xhtml 1.0 frameset//"].some(publicIdStartsWith)||null!=systemId&&["-//w3c//dtd html 4.01 transitional//","-//w3c//dtd html 4.01 frameset//"].indexOf(publicId.toLowerCase())>-1)?(tree.compatMode="limited quirks",tree.parseError("almost-standards-doctype")):"-//W3C//DTD HTML 4.0//EN"==publicId&&(null==systemId||"http://www.w3.org/TR/REC-html40/strict.dtd"==systemId)||"-//W3C//DTD HTML 4.01//EN"==publicId&&(null==systemId||"http://www.w3.org/TR/html4/strict.dtd"==systemId)||"-//W3C//DTD XHTML 1.0 Strict//EN"==publicId&&"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"==systemId||"-//W3C//DTD XHTML 1.1//EN"==publicId&&"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"==systemId||(null!=systemId&&"about:legacy-compat"!=systemId||null!=publicId)&&tree.parseError("unknown-doctype"),tree.setInsertionMode("beforeHTML")},modes.initial.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(tree.parseError("expected-doctype-but-got-chars"),this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.initial.processStartTag=function(name,attributes,selfClosing){tree.parseError("expected-doctype-but-got-start-tag",{name:name}),this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.initial.processEndTag=function(name){tree.parseError("expected-doctype-but-got-end-tag",{name:name}),this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.initial.anythingElse=function(){tree.compatMode="quirks",tree.setInsertionMode("beforeHTML")},modes.beforeHTML=Object.create(modes.base),modes.beforeHTML.start_tag_handlers={html:"startTagHtml","-default":"startTagOther"},modes.beforeHTML.processEOF=function(){this.anythingElse(),tree.insertionMode.processEOF()},modes.beforeHTML.processComment=function(data){tree.insertComment(data,tree.document)},modes.beforeHTML.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.beforeHTML.startTagHtml=function(name,attributes){tree.insertHtmlElement(attributes),tree.setInsertionMode("beforeHead")},modes.beforeHTML.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.beforeHTML.processEndTag=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.beforeHTML.anythingElse=function(){tree.insertHtmlElement(),tree.setInsertionMode("beforeHead")},modes.afterAfterBody=Object.create(modes.base),modes.afterAfterBody.start_tag_handlers={html:"startTagHtml","-default":"startTagOther"},modes.afterAfterBody.processComment=function(data){tree.insertComment(data,tree.document)},modes.afterAfterBody.processDoctype=function(data){modes.inBody.processDoctype(data)},modes.afterAfterBody.startTagHtml=function(data,attributes){modes.inBody.startTagHtml(data,attributes)},modes.afterAfterBody.startTagOther=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterAfterBody.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processEndTag(name)},modes.afterAfterBody.processCharacters=function(data){return isAllWhitespace(data.characters)?(modes.inBody.processCharacters(data),void 0):(tree.parseError("unexpected-char-after-body"),tree.setInsertionMode("inBody"),tree.insertionMode.processCharacters(data))},modes.afterBody=Object.create(modes.base),modes.afterBody.end_tag_handlers={html:"endTagHtml","-default":"endTagOther"},modes.afterBody.processComment=function(data){tree.insertComment(data,tree.openElements.rootNode)},modes.afterBody.processCharacters=function(data){return isAllWhitespace(data.characters)?(modes.inBody.processCharacters(data),void 0):(tree.parseError("unexpected-char-after-body"),tree.setInsertionMode("inBody"),tree.insertionMode.processCharacters(data))},modes.afterBody.processStartTag=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-after-body",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterBody.endTagHtml=function(){tree.context?tree.parseError("end-html-in-innerhtml"):tree.setInsertionMode("afterAfterBody")},modes.afterBody.endTagOther=function(name){tree.parseError("unexpected-end-tag-after-body",{name:name}),tree.setInsertionMode("inBody"),tree.insertionMode.processEndTag(name)},modes.afterFrameset=Object.create(modes.base),modes.afterFrameset.start_tag_handlers={html:"startTagHtml",noframes:"startTagNoframes","-default":"startTagOther"},modes.afterFrameset.end_tag_handlers={html:"endTagHtml","-default":"endTagOther"},modes.afterFrameset.processCharacters=function(buffer){for(var characters=buffer.takeRemaining(),whitespace="",i=0;characters.length>i;i++){var ch=characters[i];isWhitespace(ch)&&(whitespace+=ch)}whitespace&&tree.insertText(whitespace),whitespace.length<characters.length&&tree.parseError("expected-eof-but-got-char")},modes.afterFrameset.startTagNoframes=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.afterFrameset.startTagOther=function(name){tree.parseError("unexpected-start-tag-after-frameset",{name:name})},modes.afterFrameset.endTagHtml=function(){tree.setInsertionMode("afterAfterFrameset")},modes.afterFrameset.endTagOther=function(name){tree.parseError("unexpected-end-tag-after-frameset",{name:name})},modes.beforeHead=Object.create(modes.base),modes.beforeHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead","-default":"startTagOther"},modes.beforeHead.end_tag_handlers={html:"endTagImplyHead",head:"endTagImplyHead",body:"endTagImplyHead",br:"endTagImplyHead","-default":"endTagOther"},modes.beforeHead.processEOF=function(){this.startTagHead("head",[]),tree.insertionMode.processEOF()},modes.beforeHead.processCharacters=function(buffer){buffer.skipLeadingWhitespace(),buffer.length&&(this.startTagHead("head",[]),tree.insertionMode.processCharacters(buffer))},modes.beforeHead.startTagHead=function(name,attributes){tree.insertHeadElement(attributes),tree.setInsertionMode("inHead")},modes.beforeHead.startTagOther=function(name,attributes,selfClosing){this.startTagHead("head",[]),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.beforeHead.endTagImplyHead=function(name){this.startTagHead("head",[]),tree.insertionMode.processEndTag(name)},modes.beforeHead.endTagOther=function(name){tree.parseError("end-tag-after-implied-root",{name:name})},modes.inHead=Object.create(modes.base),modes.inHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead",title:"startTagTitle",script:"startTagScript",style:"startTagNoFramesStyle",noscript:"startTagNoScript",noframes:"startTagNoFramesStyle",base:"startTagBaseBasefontBgsoundLink",basefont:"startTagBaseBasefontBgsoundLink",bgsound:"startTagBaseBasefontBgsoundLink",link:"startTagBaseBasefontBgsoundLink",meta:"startTagMeta","-default":"startTagOther"},modes.inHead.end_tag_handlers={head:"endTagHead",html:"endTagHtmlBodyBr",body:"endTagHtmlBodyBr",br:"endTagHtmlBodyBr","-default":"endTagOther"},modes.inHead.processEOF=function(){var name=tree.currentStackItem().localName;\n-1!=["title","style","script"].indexOf(name)&&(tree.parseError("expected-named-closing-tag-but-got-eof",{name:name}),tree.popElement()),this.anythingElse(),tree.insertionMode.processEOF()},modes.inHead.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.inHead.startTagHtml=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.inHead.startTagHead=function(){tree.parseError("two-heads-are-not-better-than-one")},modes.inHead.startTagTitle=function(name,attributes){tree.processGenericRCDATAStartTag(name,attributes)},modes.inHead.startTagNoScript=function(name,attributes){return tree.scriptingEnabled?tree.processGenericRawTextStartTag(name,attributes):(tree.insertElement(name,attributes),tree.setInsertionMode("inHeadNoscript"),void 0)},modes.inHead.startTagNoFramesStyle=function(name,attributes){tree.processGenericRawTextStartTag(name,attributes)},modes.inHead.startTagScript=function(name,attributes){tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.SCRIPT_DATA),tree.originalInsertionMode=tree.insertionModeName,tree.setInsertionMode("text")},modes.inHead.startTagBaseBasefontBgsoundLink=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inHead.startTagMeta=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inHead.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inHead.endTagHead=function(){"head"==tree.openElements.item(tree.openElements.length-1).localName?tree.openElements.pop():tree.parseError("unexpected-end-tag",{name:"head"}),tree.setInsertionMode("afterHead")},modes.inHead.endTagHtmlBodyBr=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.inHead.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inHead.anythingElse=function(){this.endTagHead("head")},modes.afterHead=Object.create(modes.base),modes.afterHead.start_tag_handlers={html:"startTagHtml",head:"startTagHead",body:"startTagBody",frameset:"startTagFrameset",base:"startTagFromHead",link:"startTagFromHead",meta:"startTagFromHead",script:"startTagFromHead",style:"startTagFromHead",title:"startTagFromHead","-default":"startTagOther"},modes.afterHead.end_tag_handlers={body:"endTagBodyHtmlBr",html:"endTagBodyHtmlBr",br:"endTagBodyHtmlBr","-default":"endTagOther"},modes.afterHead.processEOF=function(){this.anythingElse(),tree.insertionMode.processEOF()},modes.afterHead.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.afterHead.startTagHtml=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.afterHead.startTagBody=function(name,attributes){tree.framesetOk=!1,tree.insertBodyElement(attributes),tree.setInsertionMode("inBody")},modes.afterHead.startTagFrameset=function(name,attributes){tree.insertElement(name,attributes),tree.setInsertionMode("inFrameset")},modes.afterHead.startTagFromHead=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-out-of-my-head",{name:name}),tree.openElements.push(tree.head),modes.inHead.processStartTag(name,attributes,selfClosing),tree.openElements.remove(tree.head)},modes.afterHead.startTagHead=function(name){tree.parseError("unexpected-start-tag",{name:name})},modes.afterHead.startTagOther=function(name,attributes,selfClosing){this.anythingElse(),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.afterHead.endTagBodyHtmlBr=function(name){this.anythingElse(),tree.insertionMode.processEndTag(name)},modes.afterHead.endTagOther=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.afterHead.anythingElse=function(){tree.insertBodyElement([]),tree.setInsertionMode("inBody"),tree.framesetOk=!0},modes.inBody=Object.create(modes.base),modes.inBody.start_tag_handlers={html:"startTagHtml",head:"startTagMisplaced",base:"startTagProcessInHead",basefont:"startTagProcessInHead",bgsound:"startTagProcessInHead",link:"startTagProcessInHead",meta:"startTagProcessInHead",noframes:"startTagProcessInHead",script:"startTagProcessInHead",style:"startTagProcessInHead",title:"startTagProcessInHead",body:"startTagBody",form:"startTagForm",plaintext:"startTagPlaintext",a:"startTagA",button:"startTagButton",xmp:"startTagXmp",table:"startTagTable",hr:"startTagHr",image:"startTagImage",input:"startTagInput",textarea:"startTagTextarea",select:"startTagSelect",isindex:"startTagIsindex",applet:"startTagAppletMarqueeObject",marquee:"startTagAppletMarqueeObject",object:"startTagAppletMarqueeObject",li:"startTagListItem",dd:"startTagListItem",dt:"startTagListItem",address:"startTagCloseP",article:"startTagCloseP",aside:"startTagCloseP",blockquote:"startTagCloseP",center:"startTagCloseP",details:"startTagCloseP",dir:"startTagCloseP",div:"startTagCloseP",dl:"startTagCloseP",fieldset:"startTagCloseP",figcaption:"startTagCloseP",figure:"startTagCloseP",footer:"startTagCloseP",header:"startTagCloseP",hgroup:"startTagCloseP",main:"startTagCloseP",menu:"startTagCloseP",nav:"startTagCloseP",ol:"startTagCloseP",p:"startTagCloseP",section:"startTagCloseP",summary:"startTagCloseP",ul:"startTagCloseP",listing:"startTagPreListing",pre:"startTagPreListing",b:"startTagFormatting",big:"startTagFormatting",code:"startTagFormatting",em:"startTagFormatting",font:"startTagFormatting",i:"startTagFormatting",s:"startTagFormatting",small:"startTagFormatting",strike:"startTagFormatting",strong:"startTagFormatting",tt:"startTagFormatting",u:"startTagFormatting",nobr:"startTagNobr",area:"startTagVoidFormatting",br:"startTagVoidFormatting",embed:"startTagVoidFormatting",img:"startTagVoidFormatting",keygen:"startTagVoidFormatting",wbr:"startTagVoidFormatting",param:"startTagParamSourceTrack",source:"startTagParamSourceTrack",track:"startTagParamSourceTrack",iframe:"startTagIFrame",noembed:"startTagRawText",noscript:"startTagRawText",h1:"startTagHeading",h2:"startTagHeading",h3:"startTagHeading",h4:"startTagHeading",h5:"startTagHeading",h6:"startTagHeading",caption:"startTagMisplaced",col:"startTagMisplaced",colgroup:"startTagMisplaced",frame:"startTagMisplaced",frameset:"startTagFrameset",tbody:"startTagMisplaced",td:"startTagMisplaced",tfoot:"startTagMisplaced",th:"startTagMisplaced",thead:"startTagMisplaced",tr:"startTagMisplaced",option:"startTagOptionOptgroup",optgroup:"startTagOptionOptgroup",math:"startTagMath",svg:"startTagSVG",rt:"startTagRpRt",rp:"startTagRpRt","-default":"startTagOther"},modes.inBody.end_tag_handlers={p:"endTagP",body:"endTagBody",html:"endTagHtml",address:"endTagBlock",article:"endTagBlock",aside:"endTagBlock",blockquote:"endTagBlock",button:"endTagBlock",center:"endTagBlock",details:"endTagBlock",dir:"endTagBlock",div:"endTagBlock",dl:"endTagBlock",fieldset:"endTagBlock",figcaption:"endTagBlock",figure:"endTagBlock",footer:"endTagBlock",header:"endTagBlock",hgroup:"endTagBlock",listing:"endTagBlock",main:"endTagBlock",menu:"endTagBlock",nav:"endTagBlock",ol:"endTagBlock",pre:"endTagBlock",section:"endTagBlock",summary:"endTagBlock",ul:"endTagBlock",form:"endTagForm",applet:"endTagAppletMarqueeObject",marquee:"endTagAppletMarqueeObject",object:"endTagAppletMarqueeObject",dd:"endTagListItem",dt:"endTagListItem",li:"endTagListItem",h1:"endTagHeading",h2:"endTagHeading",h3:"endTagHeading",h4:"endTagHeading",h5:"endTagHeading",h6:"endTagHeading",a:"endTagFormatting",b:"endTagFormatting",big:"endTagFormatting",code:"endTagFormatting",em:"endTagFormatting",font:"endTagFormatting",i:"endTagFormatting",nobr:"endTagFormatting",s:"endTagFormatting",small:"endTagFormatting",strike:"endTagFormatting",strong:"endTagFormatting",tt:"endTagFormatting",u:"endTagFormatting",br:"endTagBr","-default":"endTagOther"},modes.inBody.processCharacters=function(buffer){tree.shouldSkipLeadingNewline&&(tree.shouldSkipLeadingNewline=!1,buffer.skipAtMostOneLeadingNewline()),tree.reconstructActiveFormattingElements();var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),characters&&(tree.insertText(characters),tree.framesetOk&&!isAllWhitespaceOrReplacementCharacters(characters)&&(tree.framesetOk=!1))},modes.inBody.startTagHtml=function(name,attributes){tree.parseError("non-html-root"),tree.addAttributesToElement(tree.openElements.rootNode,attributes)},modes.inBody.startTagProcessInHead=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inBody.startTagBody=function(name,attributes){tree.parseError("unexpected-start-tag",{name:"body"}),1==tree.openElements.length||"body"!=tree.openElements.item(1).localName?assert.ok(tree.context):(tree.framesetOk=!1,tree.addAttributesToElement(tree.openElements.bodyElement,attributes))},modes.inBody.startTagFrameset=function(name,attributes){if(tree.parseError("unexpected-start-tag",{name:"frameset"}),1==tree.openElements.length||"body"!=tree.openElements.item(1).localName)assert.ok(tree.context);else if(tree.framesetOk){for(tree.detachFromParent(tree.openElements.bodyElement);tree.openElements.length>1;)tree.openElements.pop();tree.insertElement(name,attributes),tree.setInsertionMode("inFrameset")}},modes.inBody.startTagCloseP=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes)},modes.inBody.startTagPreListing=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.framesetOk=!1,tree.shouldSkipLeadingNewline=!0},modes.inBody.startTagForm=function(name,attributes){tree.form?tree.parseError("unexpected-start-tag",{name:name}):(tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.form=tree.currentStackItem())},modes.inBody.startTagRpRt=function(name,attributes){tree.openElements.inScope("ruby")&&(tree.generateImpliedEndTags(),"ruby"!=tree.currentStackItem().localName&&tree.parseError("unexpected-start-tag",{name:name})),tree.insertElement(name,attributes)},modes.inBody.startTagListItem=function(name,attributes){for(var stopNames={li:["li"],dd:["dd","dt"],dt:["dd","dt"]},stopName=stopNames[name],els=tree.openElements,i=els.length-1;i>=0;i--){var node=els.item(i);if(-1!=stopName.indexOf(node.localName)){tree.insertionMode.processEndTag(node.localName);break}if(node.isSpecial()&&"p"!==node.localName&&"address"!==node.localName&&"div"!==node.localName)break}tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagPlaintext=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.PLAINTEXT)},modes.inBody.startTagHeading=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.currentStackItem().isNumberedHeader()&&(tree.parseError("unexpected-start-tag",{name:name}),tree.popElement()),tree.insertElement(name,attributes)},modes.inBody.startTagA=function(name,attributes){var activeA=tree.elementInActiveFormattingElements("a");activeA&&(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"a",endName:"a"}),tree.adoptionAgencyEndTag("a"),tree.openElements.contains(activeA)&&tree.openElements.remove(activeA),tree.removeElementFromActiveFormattingElements(activeA)),tree.reconstructActiveFormattingElements(),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagFormatting=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagNobr=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.openElements.inScope("nobr")&&(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"nobr",endName:"nobr"}),this.processEndTag("nobr"),tree.reconstructActiveFormattingElements()),tree.insertFormattingElement(name,attributes)},modes.inBody.startTagButton=function(name,attributes){tree.openElements.inScope("button")?(tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"button",endName:"button"}),this.processEndTag("button"),tree.insertionMode.processStartTag(name,attributes)):(tree.framesetOk=!1,tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes))},modes.inBody.startTagAppletMarqueeObject=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes),tree.activeFormattingElements.push(Marker),tree.framesetOk=!1},modes.inBody.endTagAppletMarqueeObject=function(name){tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name),tree.clearActiveFormattingElements()):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.startTagXmp=function(name,attributes){tree.openElements.inButtonScope("p")&&this.processEndTag("p"),tree.reconstructActiveFormattingElements(),tree.processGenericRawTextStartTag(name,attributes),tree.framesetOk=!1},modes.inBody.startTagTable=function(name,attributes){"quirks"!==tree.compatMode&&tree.openElements.inButtonScope("p")&&this.processEndTag("p"),tree.insertElement(name,attributes),tree.setInsertionMode("inTable"),tree.framesetOk=!1},modes.inBody.startTagVoidFormatting=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertSelfClosingElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagParamSourceTrack=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inBody.startTagHr=function(name,attributes){tree.openElements.inButtonScope("p")&&this.endTagP("p"),tree.insertSelfClosingElement(name,attributes),tree.framesetOk=!1},modes.inBody.startTagImage=function(name,attributes){tree.parseError("unexpected-start-tag-treated-as",{originalName:"image",newName:"img"}),this.processStartTag("img",attributes)},modes.inBody.startTagInput=function(name,attributes){var currentFramesetOk=tree.framesetOk;this.startTagVoidFormatting(name,attributes);for(var key in attributes)if("type"==attributes[key].nodeName){"hidden"==attributes[key].nodeValue.toLowerCase()&&(tree.framesetOk=currentFramesetOk);break}},modes.inBody.startTagIsindex=function(name,attributes){if(tree.parseError("deprecated-tag",{name:"isindex"}),tree.selfClosingFlagAcknowledged=!0,!tree.form){var formAttributes=[],inputAttributes=[],prompt="This is a searchable index. Enter search keywords: ";for(var key in attributes)switch(attributes[key].nodeName){case"action":formAttributes.push({nodeName:"action",nodeValue:attributes[key].nodeValue});break;case"prompt":prompt=attributes[key].nodeValue;break;case"name":break;default:inputAttributes.push({nodeName:attributes[key].nodeName,nodeValue:attributes[key].nodeValue})}inputAttributes.push({nodeName:"name",nodeValue:"isindex"}),this.processStartTag("form",formAttributes),this.processStartTag("hr"),this.processStartTag("label"),this.processCharacters(new CharacterBuffer(prompt)),this.processStartTag("input",inputAttributes),this.processEndTag("label"),this.processStartTag("hr"),this.processEndTag("form")}},modes.inBody.startTagTextarea=function(name,attributes){tree.insertElement(name,attributes),tree.tokenizer.setState(Tokenizer.RCDATA),tree.originalInsertionMode=tree.insertionModeName,tree.shouldSkipLeadingNewline=!0,tree.framesetOk=!1,tree.setInsertionMode("text")},modes.inBody.startTagIFrame=function(name,attributes){tree.framesetOk=!1,this.startTagRawText(name,attributes)},modes.inBody.startTagRawText=function(name,attributes){tree.processGenericRawTextStartTag(name,attributes)},modes.inBody.startTagSelect=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes),tree.framesetOk=!1;var insertionModeName=tree.insertionModeName;"inTable"==insertionModeName||"inCaption"==insertionModeName||"inColumnGroup"==insertionModeName||"inTableBody"==insertionModeName||"inRow"==insertionModeName||"inCell"==insertionModeName?tree.setInsertionMode("inSelectInTable"):tree.setInsertionMode("inSelect")},modes.inBody.startTagMisplaced=function(name){tree.parseError("unexpected-start-tag-ignored",{name:name})},modes.inBody.endTagMisplaced=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagBr=function(name){tree.parseError("unexpected-end-tag-treated-as",{originalName:"br",newName:"br element"}),tree.reconstructActiveFormattingElements(),tree.insertElement(name,[]),tree.popElement()},modes.inBody.startTagOptionOptgroup=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes)},modes.inBody.startTagOther=function(name,attributes){tree.reconstructActiveFormattingElements(),tree.insertElement(name,attributes)},modes.inBody.endTagOther=function(name){for(var node,i=tree.openElements.length-1;i>0;i--){if(node=tree.openElements.item(i),node.localName==name){tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name&&tree.parseError("unexpected-end-tag",{name:name}),tree.openElements.remove_openElements_until(function(x){return x===node});break}if(node.isSpecial()){tree.parseError("unexpected-end-tag",{name:name});break}}},modes.inBody.startTagMath=function(name,attributes,selfClosing){tree.reconstructActiveFormattingElements(),attributes=tree.adjustMathMLAttributes(attributes),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,"http://www.w3.org/1998/Math/MathML",selfClosing)},modes.inBody.startTagSVG=function(name,attributes,selfClosing){tree.reconstructActiveFormattingElements(),attributes=tree.adjustSVGAttributes(attributes),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,"http://www.w3.org/2000/svg",selfClosing)},modes.inBody.endTagP=function(name){tree.openElements.inButtonScope("p")?(tree.generateImpliedEndTags("p"),"p"!=tree.currentStackItem().localName&&tree.parseError("unexpected-implied-end-tag",{name:"p"}),tree.openElements.popUntilPopped(name)):(tree.parseError("unexpected-end-tag",{name:"p"}),this.startTagCloseP("p",[]),this.endTagP("p"))},modes.inBody.endTagBody=function(name){return tree.openElements.inScope("body")?("body"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{expectedName:tree.currentStackItem().localName,gotName:name}),tree.setInsertionMode("afterBody"),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagHtml=function(name){return tree.openElements.inScope("body")?("body"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{expectedName:tree.currentStackItem().localName,gotName:name}),tree.setInsertionMode("afterBody"),tree.insertionMode.processEndTag(name),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagBlock=function(name){tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagForm=function(name){var node=tree.form;tree.form=null,node&&tree.openElements.inScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem()!=node&&tree.parseError("end-tag-too-early-ignored",{name:"form"}),tree.openElements.remove(node)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagListItem=function(name){tree.openElements.inListItemScope(name)?(tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.popUntilPopped(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inBody.endTagHeading=function(name){return tree.openElements.hasNumberedHeaderElementInScope()?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early",{name:name}),tree.openElements.remove_openElements_until(function(e){return e.isNumberedHeader()}),void 0):(tree.parseError("unexpected-end-tag",{name:name}),void 0)},modes.inBody.endTagFormatting=function(name,attributes){tree.adoptionAgencyEndTag(name)||this.endTagOther(name,attributes)},modes.inCaption=Object.create(modes.base),modes.inCaption.start_tag_handlers={html:"startTagHtml",caption:"startTagTableElement",col:"startTagTableElement",colgroup:"startTagTableElement",tbody:"startTagTableElement",td:"startTagTableElement",tfoot:"startTagTableElement",thead:"startTagTableElement",tr:"startTagTableElement","-default":"startTagOther"},modes.inCaption.end_tag_handlers={caption:"endTagCaption",table:"endTagTable",body:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",tbody:"endTagIgnore",td:"endTagIgnore",tfood:"endTagIgnore",thead:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inCaption.processCharacters=function(data){modes.inBody.processCharacters(data)},modes.inCaption.startTagTableElement=function(name,attributes){tree.parseError("unexpected-end-tag",{name:name});var ignoreEndTag=!tree.openElements.inTableScope("caption");tree.insertionMode.processEndTag("caption"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes)},modes.inCaption.startTagOther=function(name,attributes,selfClosing){modes.inBody.processStartTag(name,attributes,selfClosing)},modes.inCaption.endTagCaption=function(name){tree.openElements.inTableScope("caption")?(tree.generateImpliedEndTags(),"caption"!=tree.currentStackItem().localName&&tree.parseError("expected-one-end-tag-but-got-another",{gotName:"caption",expectedName:tree.currentStackItem().localName}),tree.openElements.popUntilPopped("caption"),tree.clearActiveFormattingElements(),tree.setInsertionMode("inTable")):(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name}))},modes.inCaption.endTagTable=function(name){tree.parseError("unexpected-end-table-in-caption");var ignoreEndTag=!tree.openElements.inTableScope("caption");tree.insertionMode.processEndTag("caption"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inCaption.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inCaption.endTagOther=function(name){modes.inBody.processEndTag(name)},modes.inCell=Object.create(modes.base),modes.inCell.start_tag_handlers={html:"startTagHtml",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",td:"startTagTableOther",tfoot:"startTagTableOther",th:"startTagTableOther",thead:"startTagTableOther",tr:"startTagTableOther","-default":"startTagOther"},modes.inCell.end_tag_handlers={td:"endTagTableCell",th:"endTagTableCell",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",table:"endTagImply",tbody:"endTagImply",tfoot:"endTagImply",thead:"endTagImply",tr:"endTagImply","-default":"endTagOther"},modes.inCell.processCharacters=function(data){modes.inBody.processCharacters(data)},modes.inCell.startTagTableOther=function(name,attributes,selfClosing){tree.openElements.inTableScope("td")||tree.openElements.inTableScope("th")?(this.closeCell(),tree.insertionMode.processStartTag(name,attributes,selfClosing)):tree.parseError("unexpected-start-tag",{name:name})},modes.inCell.startTagOther=function(name,attributes,selfClosing){modes.inBody.processStartTag(name,attributes,selfClosing)},modes.inCell.endTagTableCell=function(name){tree.openElements.inTableScope(name)?(tree.generateImpliedEndTags(name),tree.currentStackItem().localName!=name.toLowerCase()?(tree.parseError("unexpected-cell-end-tag",{name:name}),tree.openElements.popUntilPopped(name)):tree.popElement(),tree.clearActiveFormattingElements(),tree.setInsertionMode("inRow")):tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagImply=function(name){tree.openElements.inTableScope(name)?(this.closeCell(),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inCell.endTagOther=function(name){modes.inBody.processEndTag(name)},modes.inCell.closeCell=function(){tree.openElements.inTableScope("td")?this.endTagTableCell("td"):tree.openElements.inTableScope("th")&&this.endTagTableCell("th")},modes.inColumnGroup=Object.create(modes.base),modes.inColumnGroup.start_tag_handlers={html:"startTagHtml",col:"startTagCol","-default":"startTagOther"},modes.inColumnGroup.end_tag_handlers={colgroup:"endTagColgroup",col:"endTagCol","-default":"endTagOther"},modes.inColumnGroup.ignoreEndTagColgroup=function(){return"html"==tree.currentStackItem().localName},modes.inColumnGroup.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();if(leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processCharacters(buffer)}},modes.inColumnGroup.startTagCol=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inColumnGroup.startTagOther=function(name,attributes,selfClosing){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inColumnGroup.endTagColgroup=function(name){this.ignoreEndTagColgroup()?(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name})):(tree.popElement(),tree.setInsertionMode("inTable"))},modes.inColumnGroup.endTagCol=function(){tree.parseError("no-end-tag",{name:"col"})},modes.inColumnGroup.endTagOther=function(name){var ignoreEndTag=this.ignoreEndTagColgroup();this.endTagColgroup("colgroup"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inForeignContent=Object.create(modes.base),modes.inForeignContent.processStartTag=function(name,attributes,selfClosing){if(-1!=["b","big","blockquote","body","br","center","code","dd","div","dl","dt","em","embed","h1","h2","h3","h4","h5","h6","head","hr","i","img","li","listing","menu","meta","nobr","ol","p","pre","ruby","s","small","span","strong","strike","sub","sup","table","tt","u","ul","var"].indexOf(name)||"font"==name&&attributes.some(function(attr){return["color","face","size"].indexOf(attr.nodeName)>=0})){for(tree.parseError("unexpected-html-element-in-foreign-content",{name:name});tree.currentStackItem().isForeign()&&!tree.currentStackItem().isHtmlIntegrationPoint()&&!tree.currentStackItem().isMathMLTextIntegrationPoint();)tree.openElements.pop();return tree.insertionMode.processStartTag(name,attributes,selfClosing),void 0}"http://www.w3.org/1998/Math/MathML"==tree.currentStackItem().namespaceURI&&(attributes=tree.adjustMathMLAttributes(attributes)),"http://www.w3.org/2000/svg"==tree.currentStackItem().namespaceURI&&(name=tree.adjustSVGTagNameCase(name),attributes=tree.adjustSVGAttributes(attributes)),attributes=tree.adjustForeignAttributes(attributes),tree.insertForeignElement(name,attributes,tree.currentStackItem().namespaceURI,selfClosing)},modes.inForeignContent.processEndTag=function(name){var node=tree.currentStackItem(),index=tree.openElements.length-1;for(node.localName.toLowerCase()!=name&&tree.parseError("unexpected-end-tag",{name:name});;){if(0===index)break;if(node.localName.toLowerCase()==name){for(;tree.openElements.pop()!=node;);break}if(index-=1,node=tree.openElements.item(index),!node.isForeign()){tree.insertionMode.processEndTag(name);break}}},modes.inForeignContent.processCharacters=function(buffer){var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),"\ufffd"}),tree.framesetOk&&!isAllWhitespaceOrReplacementCharacters(characters)&&(tree.framesetOk=!1),tree.insertText(characters)},modes.inHeadNoscript=Object.create(modes.base),modes.inHeadNoscript.start_tag_handlers={html:"startTagHtml",basefont:"startTagBasefontBgsoundLinkMetaNoframesStyle",bgsound:"startTagBasefontBgsoundLinkMetaNoframesStyle",link:"startTagBasefontBgsoundLinkMetaNoframesStyle",meta:"startTagBasefontBgsoundLinkMetaNoframesStyle",noframes:"startTagBasefontBgsoundLinkMetaNoframesStyle",style:"startTagBasefontBgsoundLinkMetaNoframesStyle",head:"startTagHeadNoscript",noscript:"startTagHeadNoscript","-default":"startTagOther"},modes.inHeadNoscript.end_tag_handlers={noscript:"endTagNoscript",br:"endTagBr","-default":"endTagOther"},modes.inHeadNoscript.processCharacters=function(buffer){var leadingWhitespace=buffer.takeLeadingWhitespace();leadingWhitespace&&tree.insertText(leadingWhitespace),buffer.length&&(tree.parseError("unexpected-char-in-frameset"),this.anythingElse(),tree.insertionMode.processCharacters(buffer))},modes.inHeadNoscript.processComment=function(data){modes.inHead.processComment(data)},modes.inHeadNoscript.startTagBasefontBgsoundLinkMetaNoframesStyle=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inHeadNoscript.startTagHeadNoscript=function(name){tree.parseError("unexpected-start-tag-in-frameset",{name:name})},modes.inHeadNoscript.startTagOther=function(name,attributes){tree.parseError("unexpected-start-tag-in-frameset",{name:name}),this.anythingElse(),tree.insertionMode.processStartTag(name,attributes)},modes.inHeadNoscript.endTagBr=function(name,attributes){tree.parseError("unexpected-end-tag-in-frameset",{name:name}),this.anythingElse(),tree.insertionMode.processEndTag(name,attributes)},modes.inHeadNoscript.endTagNoscript=function(){tree.popElement(),tree.setInsertionMode("inHead")},modes.inHeadNoscript.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-frameset",{name:name})},modes.inHeadNoscript.anythingElse=function(){tree.popElement(),tree.setInsertionMode("inHead")},modes.inFrameset=Object.create(modes.base),modes.inFrameset.start_tag_handlers={html:"startTagHtml",frameset:"startTagFrameset",frame:"startTagFrame",noframes:"startTagNoframes","-default":"startTagOther"},modes.inFrameset.end_tag_handlers={frameset:"endTagFrameset",noframes:"endTagNoframes","-default":"endTagOther"},modes.inFrameset.processCharacters=function(){tree.parseError("unexpected-char-in-frameset")},modes.inFrameset.startTagFrameset=function(name,attributes){tree.insertElement(name,attributes)},modes.inFrameset.startTagFrame=function(name,attributes){tree.insertSelfClosingElement(name,attributes)},modes.inFrameset.startTagNoframes=function(name,attributes){modes.inBody.processStartTag(name,attributes)},modes.inFrameset.startTagOther=function(name){tree.parseError("unexpected-start-tag-in-frameset",{name:name})},modes.inFrameset.endTagFrameset=function(){"html"==tree.currentStackItem().localName?tree.parseError("unexpected-frameset-in-frameset-innerhtml"):tree.popElement(),tree.context||"frameset"==tree.currentStackItem().localName||tree.setInsertionMode("afterFrameset")},modes.inFrameset.endTagNoframes=function(name){modes.inBody.processEndTag(name)},modes.inFrameset.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-frameset",{name:name})},modes.inTable=Object.create(modes.base),modes.inTable.start_tag_handlers={html:"startTagHtml",caption:"startTagCaption",colgroup:"startTagColgroup",col:"startTagCol",table:"startTagTable",tbody:"startTagRowGroup",tfoot:"startTagRowGroup",thead:"startTagRowGroup",td:"startTagImplyTbody",th:"startTagImplyTbody",tr:"startTagImplyTbody",style:"startTagStyleScript",script:"startTagStyleScript",input:"startTagInput",form:"startTagForm","-default":"startTagOther"},modes.inTable.end_tag_handlers={table:"endTagTable",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",tbody:"endTagIgnore",td:"endTagIgnore",tfoot:"endTagIgnore",th:"endTagIgnore",thead:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inTable.processCharacters=function(data){if(tree.currentStackItem().isFosterParenting()){var originalInsertionMode=tree.insertionModeName;\ntree.setInsertionMode("inTableText"),tree.originalInsertionMode=originalInsertionMode,tree.insertionMode.processCharacters(data)}else tree.redirectAttachToFosterParent=!0,modes.inBody.processCharacters(data),tree.redirectAttachToFosterParent=!1},modes.inTable.startTagCaption=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.activeFormattingElements.push(Marker),tree.insertElement(name,attributes),tree.setInsertionMode("inCaption")},modes.inTable.startTagColgroup=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inColumnGroup")},modes.inTable.startTagCol=function(name,attributes){this.startTagColgroup("colgroup",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagRowGroup=function(name,attributes){tree.openElements.popUntilTableScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inTableBody")},modes.inTable.startTagImplyTbody=function(name,attributes){this.startTagRowGroup("tbody",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagTable=function(name,attributes){tree.parseError("unexpected-start-tag-implies-end-tag",{startName:"table",endName:"table"}),tree.insertionMode.processEndTag("table"),tree.context||tree.insertionMode.processStartTag(name,attributes)},modes.inTable.startTagStyleScript=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inTable.startTagInput=function(name,attributes){for(var key in attributes)if("type"==attributes[key].nodeName.toLowerCase()){if("hidden"==attributes[key].nodeValue.toLowerCase())return tree.parseError("unexpected-hidden-input-in-table"),tree.insertElement(name,attributes),tree.openElements.pop(),void 0;break}this.startTagOther(name,attributes)},modes.inTable.startTagForm=function(name,attributes){tree.parseError("unexpected-form-in-table"),tree.form||(tree.insertElement(name,attributes),tree.form=tree.currentStackItem(),tree.openElements.pop())},modes.inTable.startTagOther=function(name,attributes,selfClosing){tree.parseError("unexpected-start-tag-implies-table-voodoo",{name:name}),tree.redirectAttachToFosterParent=!0,modes.inBody.processStartTag(name,attributes,selfClosing),tree.redirectAttachToFosterParent=!1},modes.inTable.endTagTable=function(name){tree.openElements.inTableScope(name)?(tree.generateImpliedEndTags(),tree.currentStackItem().localName!=name&&tree.parseError("end-tag-too-early-named",{gotName:"table",expectedName:tree.currentStackItem().localName}),tree.openElements.popUntilPopped("table"),tree.resetInsertionMode()):(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name}))},modes.inTable.endTagIgnore=function(name){tree.parseError("unexpected-end-tag",{name:name})},modes.inTable.endTagOther=function(name){tree.parseError("unexpected-end-tag-implies-table-voodoo",{name:name}),tree.redirectAttachToFosterParent=!0,modes.inBody.processEndTag(name),tree.redirectAttachToFosterParent=!1},modes.inTableText=Object.create(modes.base),modes.inTableText.flushCharacters=function(){var characters=tree.pendingTableCharacters.join("");isAllWhitespace(characters)?tree.insertText(characters):(tree.redirectAttachToFosterParent=!0,tree.reconstructActiveFormattingElements(),tree.insertText(characters),tree.framesetOk=!1,tree.redirectAttachToFosterParent=!1),tree.pendingTableCharacters=[]},modes.inTableText.processComment=function(data){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processComment(data)},modes.inTableText.processEOF=function(){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEOF()},modes.inTableText.processCharacters=function(buffer){var characters=buffer.takeRemaining();characters=characters.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),characters&&tree.pendingTableCharacters.push(characters)},modes.inTableText.processStartTag=function(name,attributes,selfClosing){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processStartTag(name,attributes,selfClosing)},modes.inTableText.processEndTag=function(name,attributes){this.flushCharacters(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEndTag(name,attributes)},modes.inTableBody=Object.create(modes.base),modes.inTableBody.start_tag_handlers={html:"startTagHtml",tr:"startTagTr",td:"startTagTableCell",th:"startTagTableCell",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",tfoot:"startTagTableOther",thead:"startTagTableOther","-default":"startTagOther"},modes.inTableBody.end_tag_handlers={table:"endTagTable",tbody:"endTagTableRowGroup",tfoot:"endTagTableRowGroup",thead:"endTagTableRowGroup",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",td:"endTagIgnore",th:"endTagIgnore",tr:"endTagIgnore","-default":"endTagOther"},modes.inTableBody.processCharacters=function(data){modes.inTable.processCharacters(data)},modes.inTableBody.startTagTr=function(name,attributes){tree.openElements.popUntilTableBodyScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inRow")},modes.inTableBody.startTagTableCell=function(name,attributes){tree.parseError("unexpected-cell-in-table-body",{name:name}),this.startTagTr("tr",[]),tree.insertionMode.processStartTag(name,attributes)},modes.inTableBody.startTagTableOther=function(name,attributes){tree.openElements.inTableScope("tbody")||tree.openElements.inTableScope("thead")||tree.openElements.inTableScope("tfoot")?(tree.openElements.popUntilTableBodyScopeMarker(),this.endTagTableRowGroup(tree.currentStackItem().localName),tree.insertionMode.processStartTag(name,attributes)):tree.parseError("unexpected-start-tag",{name:name})},modes.inTableBody.startTagOther=function(name,attributes){modes.inTable.processStartTag(name,attributes)},modes.inTableBody.endTagTableRowGroup=function(name){tree.openElements.inTableScope(name)?(tree.openElements.popUntilTableBodyScopeMarker(),tree.popElement(),tree.setInsertionMode("inTable")):tree.parseError("unexpected-end-tag-in-table-body",{name:name})},modes.inTableBody.endTagTable=function(name){tree.openElements.inTableScope("tbody")||tree.openElements.inTableScope("thead")||tree.openElements.inTableScope("tfoot")?(tree.openElements.popUntilTableBodyScopeMarker(),this.endTagTableRowGroup(tree.currentStackItem().localName),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inTableBody.endTagIgnore=function(name){tree.parseError("unexpected-end-tag-in-table-body",{name:name})},modes.inTableBody.endTagOther=function(name){modes.inTable.processEndTag(name)},modes.inSelect=Object.create(modes.base),modes.inSelect.start_tag_handlers={html:"startTagHtml",option:"startTagOption",optgroup:"startTagOptgroup",select:"startTagSelect",input:"startTagInput",keygen:"startTagInput",textarea:"startTagInput",script:"startTagScript","-default":"startTagOther"},modes.inSelect.end_tag_handlers={option:"endTagOption",optgroup:"endTagOptgroup",select:"endTagSelect",caption:"endTagTableElements",table:"endTagTableElements",tbody:"endTagTableElements",tfoot:"endTagTableElements",thead:"endTagTableElements",tr:"endTagTableElements",td:"endTagTableElements",th:"endTagTableElements","-default":"endTagOther"},modes.inSelect.processCharacters=function(buffer){var data=buffer.takeRemaining();data=data.replace(/\\u0000/g,function(){return tree.parseError("invalid-codepoint"),""}),data&&tree.insertText(data)},modes.inSelect.startTagOption=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),tree.insertElement(name,attributes)},modes.inSelect.startTagOptgroup=function(name,attributes){"option"==tree.currentStackItem().localName&&tree.popElement(),"optgroup"==tree.currentStackItem().localName&&tree.popElement(),tree.insertElement(name,attributes)},modes.inSelect.endTagOption=function(name){return"option"!==tree.currentStackItem().localName?(tree.parseError("unexpected-end-tag-in-select",{name:name}),void 0):(tree.popElement(),void 0)},modes.inSelect.endTagOptgroup=function(){"option"==tree.currentStackItem().localName&&"optgroup"==tree.openElements.item(tree.openElements.length-2).localName&&tree.popElement(),"optgroup"==tree.currentStackItem().localName?tree.popElement():tree.parseError("unexpected-end-tag-in-select",{name:"optgroup"})},modes.inSelect.startTagSelect=function(){tree.parseError("unexpected-select-in-select"),this.endTagSelect("select")},modes.inSelect.endTagSelect=function(name){tree.openElements.inTableScope("select")?(tree.openElements.popUntilPopped("select"),tree.resetInsertionMode()):tree.parseError("unexpected-end-tag",{name:name})},modes.inSelect.startTagInput=function(name,attributes){tree.parseError("unexpected-input-in-select"),tree.openElements.inSelectScope("select")&&(this.endTagSelect("select"),tree.insertionMode.processStartTag(name,attributes))},modes.inSelect.startTagScript=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.inSelect.endTagTableElements=function(name){tree.parseError("unexpected-end-tag-in-select",{name:name}),tree.openElements.inTableScope(name)&&(this.endTagSelect("select"),tree.insertionMode.processEndTag(name))},modes.inSelect.startTagOther=function(name){tree.parseError("unexpected-start-tag-in-select",{name:name})},modes.inSelect.endTagOther=function(name){tree.parseError("unexpected-end-tag-in-select",{name:name})},modes.inSelectInTable=Object.create(modes.base),modes.inSelectInTable.start_tag_handlers={caption:"startTagTable",table:"startTagTable",tbody:"startTagTable",tfoot:"startTagTable",thead:"startTagTable",tr:"startTagTable",td:"startTagTable",th:"startTagTable","-default":"startTagOther"},modes.inSelectInTable.end_tag_handlers={caption:"endTagTable",table:"endTagTable",tbody:"endTagTable",tfoot:"endTagTable",thead:"endTagTable",tr:"endTagTable",td:"endTagTable",th:"endTagTable","-default":"endTagOther"},modes.inSelectInTable.processCharacters=function(data){modes.inSelect.processCharacters(data)},modes.inSelectInTable.startTagTable=function(name,attributes){tree.parseError("unexpected-table-element-start-tag-in-select-in-table",{name:name}),this.endTagOther("select"),tree.insertionMode.processStartTag(name,attributes)},modes.inSelectInTable.startTagOther=function(name,attributes,selfClosing){modes.inSelect.processStartTag(name,attributes,selfClosing)},modes.inSelectInTable.endTagTable=function(name){tree.parseError("unexpected-table-element-end-tag-in-select-in-table",{name:name}),tree.openElements.inTableScope(name)&&(this.endTagOther("select"),tree.insertionMode.processEndTag(name))},modes.inSelectInTable.endTagOther=function(name){modes.inSelect.processEndTag(name)},modes.inRow=Object.create(modes.base),modes.inRow.start_tag_handlers={html:"startTagHtml",td:"startTagTableCell",th:"startTagTableCell",caption:"startTagTableOther",col:"startTagTableOther",colgroup:"startTagTableOther",tbody:"startTagTableOther",tfoot:"startTagTableOther",thead:"startTagTableOther",tr:"startTagTableOther","-default":"startTagOther"},modes.inRow.end_tag_handlers={tr:"endTagTr",table:"endTagTable",tbody:"endTagTableRowGroup",tfoot:"endTagTableRowGroup",thead:"endTagTableRowGroup",body:"endTagIgnore",caption:"endTagIgnore",col:"endTagIgnore",colgroup:"endTagIgnore",html:"endTagIgnore",td:"endTagIgnore",th:"endTagIgnore","-default":"endTagOther"},modes.inRow.processCharacters=function(data){modes.inTable.processCharacters(data)},modes.inRow.startTagTableCell=function(name,attributes){tree.openElements.popUntilTableRowScopeMarker(),tree.insertElement(name,attributes),tree.setInsertionMode("inCell"),tree.activeFormattingElements.push(Marker)},modes.inRow.startTagTableOther=function(name,attributes){var ignoreEndTag=this.ignoreEndTagTr();this.endTagTr("tr"),ignoreEndTag||tree.insertionMode.processStartTag(name,attributes)},modes.inRow.startTagOther=function(name,attributes,selfClosing){modes.inTable.processStartTag(name,attributes,selfClosing)},modes.inRow.endTagTr=function(name){this.ignoreEndTagTr()?(assert.ok(tree.context),tree.parseError("unexpected-end-tag",{name:name})):(tree.openElements.popUntilTableRowScopeMarker(),tree.popElement(),tree.setInsertionMode("inTableBody"))},modes.inRow.endTagTable=function(name){var ignoreEndTag=this.ignoreEndTagTr();this.endTagTr("tr"),ignoreEndTag||tree.insertionMode.processEndTag(name)},modes.inRow.endTagTableRowGroup=function(name){tree.openElements.inTableScope(name)?(this.endTagTr("tr"),tree.insertionMode.processEndTag(name)):tree.parseError("unexpected-end-tag",{name:name})},modes.inRow.endTagIgnore=function(name){tree.parseError("unexpected-end-tag-in-table-row",{name:name})},modes.inRow.endTagOther=function(name){modes.inTable.processEndTag(name)},modes.inRow.ignoreEndTagTr=function(){return!tree.openElements.inTableScope("tr")},modes.afterAfterFrameset=Object.create(modes.base),modes.afterAfterFrameset.start_tag_handlers={html:"startTagHtml",noframes:"startTagNoFrames","-default":"startTagOther"},modes.afterAfterFrameset.processEOF=function(){},modes.afterAfterFrameset.processComment=function(data){tree.insertComment(data,tree.document)},modes.afterAfterFrameset.processCharacters=function(buffer){for(var characters=buffer.takeRemaining(),whitespace="",i=0;characters.length>i;i++){var ch=characters[i];isWhitespace(ch)&&(whitespace+=ch)}whitespace&&(tree.reconstructActiveFormattingElements(),tree.insertText(whitespace)),whitespace.length<characters.length&&tree.parseError("expected-eof-but-got-char")},modes.afterAfterFrameset.startTagNoFrames=function(name,attributes){modes.inHead.processStartTag(name,attributes)},modes.afterAfterFrameset.startTagOther=function(name){tree.parseError("expected-eof-but-got-start-tag",{name:name})},modes.afterAfterFrameset.processEndTag=function(name){tree.parseError("expected-eof-but-got-end-tag",{name:name})},modes.text=Object.create(modes.base),modes.text.start_tag_handlers={"-default":"startTagOther"},modes.text.end_tag_handlers={script:"endTagScript","-default":"endTagOther"},modes.text.processCharacters=function(buffer){tree.shouldSkipLeadingNewline&&(tree.shouldSkipLeadingNewline=!1,buffer.skipAtMostOneLeadingNewline());var data=buffer.takeRemaining();data&&tree.insertText(data)},modes.text.processEOF=function(){tree.parseError("expected-named-closing-tag-but-got-eof",{name:tree.currentStackItem().localName}),tree.openElements.pop(),tree.setInsertionMode(tree.originalInsertionMode),tree.insertionMode.processEOF()},modes.text.startTagOther=function(name){throw"Tried to process start tag "+name+" in RCDATA/RAWTEXT mode"},modes.text.endTagScript=function(){var node=tree.openElements.pop();assert.ok("script"==node.localName),tree.setInsertionMode(tree.originalInsertionMode)},modes.text.endTagOther=function(){tree.openElements.pop(),tree.setInsertionMode(tree.originalInsertionMode)}}function formatMessage(format,args){return format.replace(RegExp("{[0-9a-z-]+}","gi"),function(match){return args[match.slice(1,-1)]||match})}var assert=_dereq_("assert"),messages=_dereq_("./messages.json"),constants=_dereq_("./constants");_dereq_("events").EventEmitter;var Tokenizer=_dereq_("./Tokenizer").Tokenizer,ElementStack=_dereq_("./ElementStack").ElementStack,StackItem=_dereq_("./StackItem").StackItem,Marker={};CharacterBuffer.prototype.skipAtMostOneLeadingNewline=function(){"\\n"===this.characters[this.current]&&this.current++},CharacterBuffer.prototype.skipLeadingWhitespace=function(){for(;isWhitespace(this.characters[this.current]);)if(++this.current==this.end)return},CharacterBuffer.prototype.skipLeadingNonWhitespace=function(){for(;!isWhitespace(this.characters[this.current]);)if(++this.current==this.end)return},CharacterBuffer.prototype.takeRemaining=function(){return this.characters.substring(this.current)},CharacterBuffer.prototype.takeLeadingWhitespace=function(){var start=this.current;return this.skipLeadingWhitespace(),start===this.current?"":this.characters.substring(start,this.current-start)},Object.defineProperty(CharacterBuffer.prototype,"length",{get:function(){return this.end-this.current}}),TreeBuilder.prototype.setInsertionMode=function(name){this.insertionMode=this.insertionModes[name],this.insertionModeName=name},TreeBuilder.prototype.adoptionAgencyEndTag=function(name){function isActiveFormattingElement(el){return el===formattingElement}for(var formattingElement,outerIterationLimit=8,innerIterationLimit=3,outerLoopCounter=0;outerIterationLimit>outerLoopCounter++;){if(formattingElement=this.elementInActiveFormattingElements(name),!formattingElement||this.openElements.contains(formattingElement)&&!this.openElements.inScope(formattingElement.localName))return this.parseError("adoption-agency-1.1",{name:name}),!1;if(!this.openElements.contains(formattingElement))return this.parseError("adoption-agency-1.2",{name:name}),this.removeElementFromActiveFormattingElements(formattingElement),!0;this.openElements.inScope(formattingElement.localName)||this.parseError("adoption-agency-4.4",{name:name}),formattingElement!=this.currentStackItem()&&this.parseError("adoption-agency-1.3",{name:name});var furthestBlock=this.openElements.furthestBlockForFormattingElement(formattingElement.node);if(!furthestBlock)return this.openElements.remove_openElements_until(isActiveFormattingElement),this.removeElementFromActiveFormattingElements(formattingElement),!0;for(var afeIndex=this.openElements.elements.indexOf(formattingElement),commonAncestor=this.openElements.item(afeIndex-1),bookmark=this.activeFormattingElements.indexOf(formattingElement),node=furthestBlock,lastNode=furthestBlock,index=this.openElements.elements.indexOf(node),innerLoopCounter=0;innerIterationLimit>innerLoopCounter++;)if(index-=1,node=this.openElements.item(index),0>this.activeFormattingElements.indexOf(node))this.openElements.elements.splice(index,1);else{if(node==formattingElement)break;lastNode==furthestBlock&&(bookmark=this.activeFormattingElements.indexOf(node)+1);var clone=this.createElement(node.namespaceURI,node.localName,node.attributes),newNode=new StackItem(node.namespaceURI,node.localName,node.attributes,clone);this.activeFormattingElements[this.activeFormattingElements.indexOf(node)]=newNode,this.openElements.elements[this.openElements.elements.indexOf(node)]=newNode,node=newNode,this.detachFromParent(lastNode.node),this.attachNode(lastNode.node,node.node),lastNode=node}this.detachFromParent(lastNode.node),commonAncestor.isFosterParenting()?this.insertIntoFosterParent(lastNode.node):this.attachNode(lastNode.node,commonAncestor.node);var clone=this.createElement("http://www.w3.org/1999/xhtml",formattingElement.localName,formattingElement.attributes),formattingClone=new StackItem(formattingElement.namespaceURI,formattingElement.localName,formattingElement.attributes,clone);this.reparentChildren(furthestBlock.node,clone),this.attachNode(clone,furthestBlock.node),this.removeElementFromActiveFormattingElements(formattingElement),this.activeFormattingElements.splice(Math.min(bookmark,this.activeFormattingElements.length),0,formattingClone),this.openElements.remove(formattingElement),this.openElements.elements.splice(this.openElements.elements.indexOf(furthestBlock)+1,0,formattingClone)}return!0},TreeBuilder.prototype.start=function(){throw"Not mplemented"},TreeBuilder.prototype.startTokenization=function(tokenizer){if(this.tokenizer=tokenizer,this.compatMode="no quirks",this.originalInsertionMode="initial",this.framesetOk=!0,this.openElements=new ElementStack,this.activeFormattingElements=[],this.start(),this.context){switch(this.context){case"title":case"textarea":this.tokenizer.setState(Tokenizer.RCDATA);break;case"style":case"xmp":case"iframe":case"noembed":case"noframes":this.tokenizer.setState(Tokenizer.RAWTEXT);break;case"script":this.tokenizer.setState(Tokenizer.SCRIPT_DATA);break;case"noscript":this.scriptingEnabled&&this.tokenizer.setState(Tokenizer.RAWTEXT);break;case"plaintext":this.tokenizer.setState(Tokenizer.PLAINTEXT)}this.insertHtmlElement(),this.resetInsertionMode()}else this.setInsertionMode("initial")},TreeBuilder.prototype.processToken=function(token){this.selfClosingFlagAcknowledged=!1;var insertionMode,currentNode=this.openElements.top||null;switch(insertionMode=!currentNode||!currentNode.isForeign()||currentNode.isMathMLTextIntegrationPoint()&&("StartTag"==token.type&&!(token.name in{mglyph:0,malignmark:0})||"Characters"===token.type)||"http://www.w3.org/1998/Math/MathML"==currentNode.namespaceURI&&"annotation-xml"==currentNode.localName&&"StartTag"==token.type&&"svg"==token.name||currentNode.isHtmlIntegrationPoint()&&token.type in{StartTag:0,Characters:0}||"EOF"==token.type?this.insertionMode:this.insertionModes.inForeignContent,token.type){case"Characters":var buffer=new CharacterBuffer(token.data);insertionMode.processCharacters(buffer);break;case"Comment":insertionMode.processComment(token.data);break;case"StartTag":insertionMode.processStartTag(token.name,token.data,token.selfClosing);break;case"EndTag":insertionMode.processEndTag(token.name);break;case"Doctype":insertionMode.processDoctype(token.name,token.publicId,token.systemId,token.forceQuirks);break;case"EOF":insertionMode.processEOF()}},TreeBuilder.prototype.isCdataSectionAllowed=function(){return this.openElements.length>0&&this.currentStackItem().isForeign()},TreeBuilder.prototype.isSelfClosingFlagAcknowledged=function(){return this.selfClosingFlagAcknowledged},TreeBuilder.prototype.createElement=function(){throw Error("Not implemented")},TreeBuilder.prototype.attachNode=function(){throw Error("Not implemented")},TreeBuilder.prototype.attachNodeToFosterParent=function(){throw Error("Not implemented")},TreeBuilder.prototype.detachFromParent=function(){throw Error("Not implemented")},TreeBuilder.prototype.addAttributesToElement=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertHtmlElement=function(attributes){var root=this.createElement("http://www.w3.org/1999/xhtml","html",attributes);return this.attachNode(root,this.document),this.openElements.pushHtmlElement(new StackItem("http://www.w3.org/1999/xhtml","html",attributes,root)),root},TreeBuilder.prototype.insertHeadElement=function(attributes){var element=this.createElement("http://www.w3.org/1999/xhtml","head",attributes);return this.head=new StackItem("http://www.w3.org/1999/xhtml","head",attributes,element),this.attachNode(element,this.openElements.top.node),this.openElements.pushHeadElement(this.head),element},TreeBuilder.prototype.insertBodyElement=function(attributes){var element=this.createElement("http://www.w3.org/1999/xhtml","body",attributes);return this.attachNode(element,this.openElements.top.node),this.openElements.pushBodyElement(new StackItem("http://www.w3.org/1999/xhtml","body",attributes,element)),element},TreeBuilder.prototype.insertIntoFosterParent=function(node){var tableIndex=this.openElements.findIndex("table"),tableElement=this.openElements.item(tableIndex).node;return 0===tableIndex?this.attachNode(node,tableElement):(this.attachNodeToFosterParent(node,tableElement,this.openElements.item(tableIndex-1).node),void 0)},TreeBuilder.prototype.insertElement=function(name,attributes,namespaceURI,selfClosing){namespaceURI||(namespaceURI="http://www.w3.org/1999/xhtml");var element=this.createElement(namespaceURI,name,attributes);this.shouldFosterParent()?this.insertIntoFosterParent(element):this.attachNode(element,this.openElements.top.node),selfClosing||this.openElements.push(new StackItem(namespaceURI,name,attributes,element))},TreeBuilder.prototype.insertFormattingElement=function(name,attributes){this.insertElement(name,attributes,"http://www.w3.org/1999/xhtml"),this.appendElementToActiveFormattingElements(this.currentStackItem())},TreeBuilder.prototype.insertSelfClosingElement=function(name,attributes){this.selfClosingFlagAcknowledged=!0,this.insertElement(name,attributes,"http://www.w3.org/1999/xhtml",!0)},TreeBuilder.prototype.insertForeignElement=function(name,attributes,namespaceURI,selfClosing){selfClosing&&(this.selfClosingFlagAcknowledged=!0),this.insertElement(name,attributes,namespaceURI,selfClosing)},TreeBuilder.prototype.insertComment=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertDoctype=function(){throw Error("Not implemented")},TreeBuilder.prototype.insertText=function(){throw Error("Not implemented")},TreeBuilder.prototype.currentStackItem=function(){return this.openElements.top},TreeBuilder.prototype.popElement=function(){return this.openElements.pop()},TreeBuilder.prototype.shouldFosterParent=function(){return this.redirectAttachToFosterParent&&this.currentStackItem().isFosterParenting()},TreeBuilder.prototype.generateImpliedEndTags=function(exclude){var name=this.openElements.top.localName;-1!=["dd","dt","li","option","optgroup","p","rp","rt"].indexOf(name)&&name!=exclude&&(this.popElement(),this.generateImpliedEndTags(exclude))},TreeBuilder.prototype.reconstructActiveFormattingElements=function(){if(0!==this.activeFormattingElements.length){var i=this.activeFormattingElements.length-1,entry=this.activeFormattingElements[i];if(entry!=Marker&&!this.openElements.contains(entry)){for(;entry!=Marker&&!this.openElements.contains(entry)&&(i-=1,entry=this.activeFormattingElements[i]););for(;;){i+=1,entry=this.activeFormattingElements[i],this.insertElement(entry.localName,entry.attributes);var element=this.currentStackItem();if(this.activeFormattingElements[i]=element,element==this.activeFormattingElements[this.activeFormattingElements.length-1])break}}}},TreeBuilder.prototype.ensureNoahsArkCondition=function(item){var kNoahsArkCapacity=3;if(!(kNoahsArkCapacity>this.activeFormattingElements.length)){for(var candidates=[],newItemAttributeCount=item.attributes.length,i=this.activeFormattingElements.length-1;i>=0;i--){var candidate=this.activeFormattingElements[i];if(candidate===Marker)break;item.localName===candidate.localName&&item.namespaceURI===candidate.namespaceURI&&candidate.attributes.length==newItemAttributeCount&&candidates.push(candidate)}if(!(kNoahsArkCapacity>candidates.length)){for(var remainingCandidates=[],attributes=item.attributes,i=0;attributes.length>i;i++){for(var attribute=attributes[i],j=0;candidates.length>j;j++){var candidate=candidates[j],candidateAttribute=getAttribute(candidate,attribute.nodeName);candidateAttribute&&candidateAttribute.nodeValue===attribute.nodeValue&&remainingCandidates.push(candidate)}if(kNoahsArkCapacity>remainingCandidates.length)return;candidates=remainingCandidates,remainingCandidates=[]}for(var i=kNoahsArkCapacity-1;candidates.length>i;i++)this.removeElementFromActiveFormattingElements(candidates[i])}}},TreeBuilder.prototype.appendElementToActiveFormattingElements=function(item){this.ensureNoahsArkCondition(item),this.activeFormattingElements.push(item)},TreeBuilder.prototype.removeElementFromActiveFormattingElements=function(item){var index=this.activeFormattingElements.indexOf(item);index>=0&&this.activeFormattingElements.splice(index,1)},TreeBuilder.prototype.elementInActiveFormattingElements=function(name){for(var els=this.activeFormattingElements,i=els.length-1;i>=0&&els[i]!=Marker;i--)if(els[i].localName==name)return els[i];return!1},TreeBuilder.prototype.clearActiveFormattingElements=function(){for(;0!==this.activeFormattingElements.length&&this.activeFormattingElements.pop()!=Marker;);},TreeBuilder.prototype.reparentChildren=function(){throw Error("Not implemented")},TreeBuilder.prototype.setFragmentContext=function(context){this.context=context},TreeBuilder.prototype.parseError=function(code,args){if(this.errorHandler){var message=formatMessage(messages[code],args);this.errorHandler.error(message,this.tokenizer._inputStream.location(),code)}},TreeBuilder.prototype.resetInsertionMode=function(){for(var last=!1,node=null,i=this.openElements.length-1;i>=0;i--){if(node=this.openElements.item(i),0===i&&(assert.ok(this.context),last=!0,node=new StackItem("http://www.w3.org/1999/xhtml",this.context,[],null)),"http://www.w3.org/1999/xhtml"===node.namespaceURI){if("select"===node.localName)return this.setInsertionMode("inSelect");if("td"===node.localName||"th"===node.localName)return this.setInsertionMode("inCell");if("tr"===node.localName)return this.setInsertionMode("inRow");if("tbody"===node.localName||"thead"===node.localName||"tfoot"===node.localName)return this.setInsertionMode("inTableBody");if("caption"===node.localName)return this.setInsertionMode("inCaption");if("colgroup"===node.localName)return this.setInsertionMode("inColumnGroup");if("table"===node.localName)return this.setInsertionMode("inTable");if("head"===node.localName&&!last)return this.setInsertionMode("inHead");if("body"===node.localName)return this.setInsertionMode("inBody");if("frameset"===node.localName)return this.setInsertionMode("inFrameset");if("html"===node.localName)return this.openElements.headElement?this.setInsertionMode("afterHead"):this.setInsertionMode("beforeHead")}if(last)return this.setInsertionMode("inBody")}},TreeBuilder.prototype.processGenericRCDATAStartTag=function(name,attributes){this.insertElement(name,attributes),this.tokenizer.setState(Tokenizer.RCDATA),this.originalInsertionMode=this.insertionModeName,this.setInsertionMode("text")},TreeBuilder.prototype.processGenericRawTextStartTag=function(name,attributes){this.insertElement(name,attributes),this.tokenizer.setState(Tokenizer.RAWTEXT),this.originalInsertionMode=this.insertionModeName,this.setInsertionMode("text")},TreeBuilder.prototype.adjustMathMLAttributes=function(attributes){return attributes.forEach(function(a){a.namespaceURI="http://www.w3.org/1998/Math/MathML",constants.MATHMLAttributeMap[a.nodeName]&&(a.nodeName=constants.MATHMLAttributeMap[a.nodeName])}),attributes},TreeBuilder.prototype.adjustSVGTagNameCase=function(name){return constants.SVGTagMap[name]||name},TreeBuilder.prototype.adjustSVGAttributes=function(attributes){return attributes.forEach(function(a){a.namespaceURI="http://www.w3.org/2000/svg",constants.SVGAttributeMap[a.nodeName]&&(a.nodeName=constants.SVGAttributeMap[a.nodeName])}),attributes},TreeBuilder.prototype.adjustForeignAttributes=function(attributes){for(var i=0;attributes.length>i;i++){var attribute=attributes[i],adjusted=constants.ForeignAttributeMap[attribute.nodeName];adjusted&&(attribute.nodeName=adjusted.localName,attribute.prefix=adjusted.prefix,attribute.namespaceURI=adjusted.namespaceURI)}return attributes},exports.TreeBuilder=TreeBuilder},{"./ElementStack":1,"./StackItem":4,"./Tokenizer":5,"./constants":7,"./messages.json":8,assert:13,events:16}],7:[function(_dereq_,module,exports){exports.SVGTagMap={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},exports.MATHMLAttributeMap={definitionurl:"definitionURL"},exports.SVGAttributeMap={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",externalresourcesacequired:"externalResourcesRequired",filterres:"filterRes",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",acequiredextensions:"acequiredExtensions",acequiredfeatures:"acequiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},exports.ForeignAttributeMap={"xlink:actuate":{prefix:"xlink",localName:"actuate",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:arcrole":{prefix:"xlink",localName:"arcrole",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:href":{prefix:"xlink",localName:"href",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:role":{prefix:"xlink",localName:"role",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:show":{prefix:"xlink",localName:"show",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:title":{prefix:"xlink",localName:"title",namespaceURI:"http://www.w3.org/1999/xlink"},"xlink:type":{prefix:"xlink",localName:"title",namespaceURI:"http://www.w3.org/1999/xlink"},"xml:base":{prefix:"xml",localName:"base",namespaceURI:"http://www.w3.org/XML/1998/namespace"},"xml:lang":{prefix:"xml",localName:"lang",namespaceURI:"http://www.w3.org/XML/1998/namespace"},"xml:space":{prefix:"xml",localName:"space",namespaceURI:"http://www.w3.org/XML/1998/namespace"},xmlns:{prefix:null,localName:"xmlns",namespaceURI:"http://www.w3.org/2000/xmlns/"},"xmlns:xlink":{prefix:"xmlns",localName:"xlink",namespaceURI:"http://www.w3.org/2000/xmlns/"}}\n},{}],8:[function(_dereq_,module){module.exports={"null-character":"Null character in input stream, replaced with U+FFFD.","invalid-codepoint":"Invalid codepoint in stream","incorrectly-placed-solidus":"Solidus (/) incorrectly placed in tag.","incorrect-cr-newline-entity":"Incorrect CR newline entity, replaced with LF.","illegal-windows-1252-entity":"Entity used with illegal number (windows-1252 reference).","cant-convert-numeric-entity":"Numeric entity couldn\'t be converted to character (codepoint U+{charAsInt}).","invalid-numeric-entity-replaced":"Numeric entity represents an illegal codepoint. Expanded to the C1 controls range.","numeric-entity-without-semicolon":"Numeric entity didn\'t end with \';\'.","expected-numeric-entity-but-got-eof":"Numeric entity expected. Got end of file instead.","expected-numeric-entity":"Numeric entity expected but none found.","named-entity-without-semicolon":"Named entity didn\'t end with \';\'.","expected-named-entity":"Named entity expected. Got none.","attributes-in-end-tag":"End tag contains unexpected attributes.","self-closing-flag-on-end-tag":"End tag contains unexpected self-closing flag.","bare-less-than-sign-at-eof":"End of file after <.","expected-tag-name-but-got-right-bracket":"Expected tag name. Got \'>\' instead.","expected-tag-name-but-got-question-mark":"Expected tag name. Got \'?\' instead. (HTML doesn\'t support processing instructions.)","expected-tag-name":"Expected tag name. Got something else instead.","expected-closing-tag-but-got-right-bracket":"Expected closing tag. Got \'>\' instead. Ignoring \'</>\'.","expected-closing-tag-but-got-eof":"Expected closing tag. Unexpected end of file.","expected-closing-tag-but-got-char":"Expected closing tag. Unexpected character \'{data}\' found.","eof-in-tag-name":"Unexpected end of file in the tag name.","expected-attribute-name-but-got-eof":"Unexpected end of file. Expected attribute name instead.","eof-in-attribute-name":"Unexpected end of file in attribute name.","invalid-character-in-attribute-name":"Invalid character in attribute name.","duplicate-attribute":"Dropped duplicate attribute \'{name}\' on tag.","expected-end-of-tag-but-got-eof":"Unexpected end of file. Expected = or end of tag.","expected-attribute-value-but-got-eof":"Unexpected end of file. Expected attribute value.","expected-attribute-value-but-got-right-bracket":"Expected attribute value. Got \'>\' instead.","unexpected-character-in-unquoted-attribute-value":"Unexpected character in unquoted attribute","invalid-character-after-attribute-name":"Unexpected character after attribute name.","unexpected-character-after-attribute-value":"Unexpected character after attribute value.","eof-in-attribute-value-double-quote":\'Unexpected end of file in attribute value (").\',"eof-in-attribute-value-single-quote":"Unexpected end of file in attribute value (\').","eof-in-attribute-value-no-quotes":"Unexpected end of file in attribute value.","eof-after-attribute-value":"Unexpected end of file after attribute value.","unexpected-eof-after-solidus-in-tag":"Unexpected end of file in tag. Expected >.","unexpected-character-after-solidus-in-tag":"Unexpected character after / in tag. Expected >.","expected-dashes-or-doctype":"Expected \'--\' or \'DOCTYPE\'. Not found.","unexpected-bang-after-double-dash-in-comment":"Unexpected ! after -- in comment.","incorrect-comment":"Incorrect comment.","eof-in-comment":"Unexpected end of file in comment.","eof-in-comment-end-dash":"Unexpected end of file in comment (-).","unexpected-dash-after-double-dash-in-comment":"Unexpected \'-\' after \'--\' found in comment.","eof-in-comment-double-dash":"Unexpected end of file in comment (--).","eof-in-comment-end-bang-state":"Unexpected end of file in comment.","unexpected-char-in-comment":"Unexpected character in comment found.","need-space-after-doctype":"No space after literal string \'DOCTYPE\'.","expected-doctype-name-but-got-right-bracket":"Unexpected > character. Expected DOCTYPE name.","expected-doctype-name-but-got-eof":"Unexpected end of file. Expected DOCTYPE name.","eof-in-doctype-name":"Unexpected end of file in DOCTYPE name.","eof-in-doctype":"Unexpected end of file in DOCTYPE.","expected-space-or-right-bracket-in-doctype":"Expected space or \'>\'. Got \'{data}\'.","unexpected-end-of-doctype":"Unexpected end of DOCTYPE.","unexpected-char-in-doctype":"Unexpected character in DOCTYPE.","eof-in-bogus-doctype":"Unexpected end of file in bogus doctype.","eof-in-innerhtml":"Unexpected EOF in inner html mode.","unexpected-doctype":"Unexpected DOCTYPE. Ignored.","non-html-root":"html needs to be the first start tag.","expected-doctype-but-got-eof":"Unexpected End of file. Expected DOCTYPE.","unknown-doctype":"Erroneous DOCTYPE. Expected <!DOCTYPE html>.","quirky-doctype":"Quirky doctype. Expected <!DOCTYPE html>.","almost-standards-doctype":"Almost standards mode doctype. Expected <!DOCTYPE html>.","obsolete-doctype":"Obsolete doctype. Expected <!DOCTYPE html>.","expected-doctype-but-got-chars":"Non-space characters found without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","expected-doctype-but-got-start-tag":"Start tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","expected-doctype-but-got-end-tag":"End tag seen without seeing a doctype first. Expected e.g. <!DOCTYPE html>.","end-tag-after-implied-root":"Unexpected end tag ({name}) after the (implied) root element.","expected-named-closing-tag-but-got-eof":"Unexpected end of file. Expected end tag ({name}).","two-heads-are-not-better-than-one":"Unexpected start tag head in existing head. Ignored.","unexpected-end-tag":"Unexpected end tag ({name}). Ignored.","unexpected-implied-end-tag":"End tag {name} implied, but there were open elements.","unexpected-start-tag-out-of-my-head":"Unexpected start tag ({name}) that can be in head. Moved.","unexpected-start-tag":"Unexpected start tag ({name}).","missing-end-tag":"Missing end tag ({name}).","missing-end-tags":"Missing end tags ({name}).","unexpected-start-tag-implies-end-tag":"Unexpected start tag ({startName}) implies end tag ({endName}).","unexpected-start-tag-treated-as":"Unexpected start tag ({originalName}). Treated as {newName}.","deprecated-tag":"Unexpected start tag {name}. Don\'t use it!","unexpected-start-tag-ignored":"Unexpected start tag {name}. Ignored.","expected-one-end-tag-but-got-another":"Unexpected end tag ({gotName}). Missing end tag ({expectedName}).","end-tag-too-early":"End tag ({name}) seen too early. Expected other end tag.","end-tag-too-early-named":"Unexpected end tag ({gotName}). Expected end tag ({expectedName}.","end-tag-too-early-ignored":"End tag ({name}) seen too early. Ignored.","adoption-agency-1.1":"End tag ({name}) violates step 1, paragraph 1 of the adoption agency algorithm.","adoption-agency-1.2":"End tag ({name}) violates step 1, paragraph 2 of the adoption agency algorithm.","adoption-agency-1.3":"End tag ({name}) violates step 1, paragraph 3 of the adoption agency algorithm.","adoption-agency-4.4":"End tag ({name}) violates step 4, paragraph 4 of the adoption agency algorithm.","unexpected-end-tag-treated-as":"Unexpected end tag ({originalName}). Treated as {newName}.","no-end-tag":"This element ({name}) has no end tag.","unexpected-implied-end-tag-in-table":"Unexpected implied end tag ({name}) in the table phase.","unexpected-implied-end-tag-in-table-body":"Unexpected implied end tag ({name}) in the table body phase.","unexpected-char-implies-table-voodoo":"Unexpected non-space characters in table context caused voodoo mode.","unexpected-hidden-input-in-table":"Unexpected input with type hidden in table context.","unexpected-form-in-table":"Unexpected form in table context.","unexpected-start-tag-implies-table-voodoo":"Unexpected start tag ({name}) in table context caused voodoo mode.","unexpected-end-tag-implies-table-voodoo":"Unexpected end tag ({name}) in table context caused voodoo mode.","unexpected-cell-in-table-body":"Unexpected table cell start tag ({name}) in the table body phase.","unexpected-cell-end-tag":"Got table cell end tag ({name}) while acequired end tags are missing.","unexpected-end-tag-in-table-body":"Unexpected end tag ({name}) in the table body phase. Ignored.","unexpected-implied-end-tag-in-table-row":"Unexpected implied end tag ({name}) in the table row phase.","unexpected-end-tag-in-table-row":"Unexpected end tag ({name}) in the table row phase. Ignored.","unexpected-select-in-select":"Unexpected select start tag in the select phase treated as select end tag.","unexpected-input-in-select":"Unexpected input start tag in the select phase.","unexpected-start-tag-in-select":"Unexpected start tag token ({name}) in the select phase. Ignored.","unexpected-end-tag-in-select":"Unexpected end tag ({name}) in the select phase. Ignored.","unexpected-table-element-start-tag-in-select-in-table":"Unexpected table element start tag ({name}) in the select in table phase.","unexpected-table-element-end-tag-in-select-in-table":"Unexpected table element end tag ({name}) in the select in table phase.","unexpected-char-after-body":"Unexpected non-space characters in the after body phase.","unexpected-start-tag-after-body":"Unexpected start tag token ({name}) in the after body phase.","unexpected-end-tag-after-body":"Unexpected end tag token ({name}) in the after body phase.","unexpected-char-in-frameset":"Unepxected characters in the frameset phase. Characters ignored.","unexpected-start-tag-in-frameset":"Unexpected start tag token ({name}) in the frameset phase. Ignored.","unexpected-frameset-in-frameset-innerhtml":"Unexpected end tag token (frameset in the frameset phase (innerHTML).","unexpected-end-tag-in-frameset":"Unexpected end tag token ({name}) in the frameset phase. Ignored.","unexpected-char-after-frameset":"Unexpected non-space characters in the after frameset phase. Ignored.","unexpected-start-tag-after-frameset":"Unexpected start tag ({name}) in the after frameset phase. Ignored.","unexpected-end-tag-after-frameset":"Unexpected end tag ({name}) in the after frameset phase. Ignored.","expected-eof-but-got-char":"Unexpected non-space characters. Expected end of file.","expected-eof-but-got-start-tag":"Unexpected start tag ({name}). Expected end of file.","expected-eof-but-got-end-tag":"Unexpected end tag ({name}). Expected end of file.","unexpected-end-table-in-caption":"Unexpected end table tag in caption. Generates implied end caption.","end-html-in-innerhtml":"Unexpected html end tag in inner html mode.","eof-in-table":"Unexpected end of file. Expected table content.","eof-in-script":"Unexpected end of file. Expected script content.","non-void-element-with-trailing-solidus":"Trailing solidus not allowed on element {name}.","unexpected-html-element-in-foreign-content":\'HTML start tag "{name}" in a foreign namespace context.\',"unexpected-start-tag-in-table":"Unexpected {name}. Expected table content."}},{}],9:[function(_dereq_,module,exports){function SAXParser(){this.contentHandler=null,this._errorHandler=null,this._treeBuilder=new SAXTreeBuilder,this._tokenizer=new Tokenizer(this._treeBuilder),this._scriptingEnabled=!1}var SAXTreeBuilder=_dereq_("./SAXTreeBuilder").SAXTreeBuilder,Tokenizer=_dereq_("../Tokenizer").Tokenizer,TreeParser=_dereq_("./TreeParser").TreeParser;SAXParser.prototype.parse=function(source){this._tokenizer.tokenize(source);var document=this._treeBuilder.document;document&&new TreeParser(this.contentHandler).parse(document)},SAXParser.prototype.parseFragment=function(source,context){this._treeBuilder.setFragmentContext(context),this._tokenizer.tokenize(source);var fragment=this._treeBuilder.getFragment();fragment&&new TreeParser(this.contentHandler).parse(fragment)},Object.defineProperty(SAXParser.prototype,"scriptingEnabled",{get:function(){return this._scriptingEnabled},set:function(value){this._scriptingEnabled=value,this._treeBuilder.scriptingEnabled=value}}),Object.defineProperty(SAXParser.prototype,"errorHandler",{get:function(){return this._errorHandler},set:function(value){this._errorHandler=value,this._treeBuilder.errorHandler=value}}),exports.SAXParser=SAXParser},{"../Tokenizer":5,"./SAXTreeBuilder":10,"./TreeParser":11}],10:[function(_dereq_,module,exports){function SAXTreeBuilder(){TreeBuilder.call(this)}function getAttribute(node,name){for(var i=0;node.attributes.length>i;i++){var attribute=node.attributes[i];if(attribute.nodeName===name)return attribute.nodeValue}}function Node(locator){locator?(this.columnNumber=locator.columnNumber,this.lineNumber=locator.lineNumber):(this.columnNumber=-1,this.lineNumber=-1),this.parentNode=null,this.nextSibling=null,this.firstChild=null}function ParentNode(locator){Node.call(this,locator),this.lastChild=null,this._endLocator=null}function Document(locator){ParentNode.call(this,locator),this.nodeType=NodeType.DOCUMENT}function DocumentFragment(){ParentNode.call(this,new Locator),this.nodeType=NodeType.DOCUMENT_FRAGMENT}function Element(locator,uri,localName,qName,atts,prefixMappings){ParentNode.call(this,locator),this.uri=uri,this.localName=localName,this.qName=qName,this.attributes=atts,this.prefixMappings=prefixMappings,this.nodeType=NodeType.ELEMENT}function Characters(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.CHARACTERS}function IgnorableWhitespace(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.IGNORABLE_WHITESPACE}function Comment(locator,data){Node.call(this,locator),this.data=data,this.nodeType=NodeType.COMMENT}function CDATA(locator){ParentNode.call(this,locator),this.nodeType=NodeType.CDATA}function Entity(name){ParentNode.call(this),this.name=name,this.nodeType=NodeType.ENTITY}function SkippedEntity(name){Node.call(this),this.name=name,this.nodeType=NodeType.SKIPPED_ENTITY}function ProcessingInstruction(target,data){Node.call(this),this.target=target,this.data=data}function DTD(name,publicIdentifier,systemIdentifier){ParentNode.call(this),this.name=name,this.publicIdentifier=publicIdentifier,this.systemIdentifier=systemIdentifier,this.nodeType=NodeType.DTD}var util=_dereq_("util"),TreeBuilder=_dereq_("../TreeBuilder").TreeBuilder;util.inherits(SAXTreeBuilder,TreeBuilder),SAXTreeBuilder.prototype.start=function(){this.document=new Document(this.tokenizer)},SAXTreeBuilder.prototype.end=function(){this.document.endLocator=this.tokenizer},SAXTreeBuilder.prototype.insertDoctype=function(name,publicId,systemId){var doctype=new DTD(this.tokenizer,name,publicId,systemId);doctype.endLocator=this.tokenizer,this.document.appendChild(doctype)},SAXTreeBuilder.prototype.createElement=function(namespaceURI,localName,attributes){var element=new Element(this.tokenizer,namespaceURI,localName,localName,attributes||[]);return element},SAXTreeBuilder.prototype.insertComment=function(data,parent){parent||(parent=this.currentStackItem());var comment=new Comment(this.tokenizer,data);parent.appendChild(comment)},SAXTreeBuilder.prototype.appendCharacters=function(parent,data){var text=new Characters(this.tokenizer,data);parent.appendChild(text)},SAXTreeBuilder.prototype.insertText=function(data){if(this.redirectAttachToFosterParent&&this.openElements.top.isFosterParenting()){var tableIndex=this.openElements.findIndex("table"),tableItem=this.openElements.item(tableIndex),table=tableItem.node;if(0===tableIndex)return this.appendCharacters(table,data);var text=new Characters(this.tokenizer,data),parent=table.parentNode;if(parent)return parent.insertBetween(text,table.previousSibling,table),void 0;var stackParent=this.openElements.item(tableIndex-1).node;return stackParent.appendChild(text),void 0}this.appendCharacters(this.currentStackItem().node,data)},SAXTreeBuilder.prototype.attachNode=function(node,parent){parent.appendChild(node)},SAXTreeBuilder.prototype.attachNodeToFosterParent=function(child,table,stackParent){var parent=table.parentNode;parent?parent.insertBetween(child,table.previousSibling,table):stackParent.appendChild(child)},SAXTreeBuilder.prototype.detachFromParent=function(element){element.detach()},SAXTreeBuilder.prototype.reparentChildren=function(oldParent,newParent){newParent.appendChildren(oldParent.firstChild)},SAXTreeBuilder.prototype.getFragment=function(){var fragment=new DocumentFragment;return this.reparentChildren(this.openElements.rootNode,fragment),fragment},SAXTreeBuilder.prototype.addAttributesToElement=function(element,attributes){for(var i=0;attributes.length>i;i++){var attribute=attributes[i];getAttribute(element,attribute.nodeName)||element.attributes.push(attribute)}};var NodeType={CDATA:1,CHARACTERS:2,COMMENT:3,DOCUMENT:4,DOCUMENT_FRAGMENT:5,DTD:6,ELEMENT:7,ENTITY:8,IGNORABLE_WHITESPACE:9,PROCESSING_INSTRUCTION:10,SKIPPED_ENTITY:11};Node.prototype.visit=function(){throw Error("Not Implemented")},Node.prototype.revisit=function(){},Node.prototype.detach=function(){null!==this.parentNode&&(this.parentNode.removeChild(this),this.parentNode=null)},Object.defineProperty(Node.prototype,"previousSibling",{get:function(){for(var prev=null,next=this.parentNode.firstChild;;){if(this==next)return prev;prev=next,next=next.nextSibling}}}),ParentNode.prototype=Object.create(Node.prototype),ParentNode.prototype.insertBefore=function(child,sibling){if(!sibling)return this.appendChild(child);if(child.detach(),child.parentNode=this,this.firstChild==sibling)child.nextSibling=sibling,this.firstChild=child;else{for(var prev=this.firstChild,next=this.firstChild.nextSibling;next!=sibling;)prev=next,next=next.nextSibling;prev.nextSibling=child,child.nextSibling=next}return child},ParentNode.prototype.insertBetween=function(child,prev,next){return next?(child.detach(),child.parentNode=this,child.nextSibling=next,prev?prev.nextSibling=child:firstChild=child,child):this.appendChild(child)},ParentNode.prototype.appendChild=function(child){return child.detach(),child.parentNode=this,this.firstChild?this.lastChild.nextSibling=child:this.firstChild=child,this.lastChild=child,child},ParentNode.prototype.appendChildren=function(parent){var child=parent.firstChild;if(child){var another=parent;this.firstChild?this.lastChild.nextSibling=child:this.firstChild=child,this.lastChild=another.lastChild;do child.parentNode=this;while(child=child.nextSibling);another.firstChild=null,another.lastChild=null}},ParentNode.prototype.removeChild=function(node){if(this.firstChild==node)this.firstChild=node.nextSibling,this.lastChild==node&&(this.lastChild=null);else{for(var prev=this.firstChild,next=this.firstChild.nextSibling;next!=node;)prev=next,next=next.nextSibling;prev.nextSibling=node.nextSibling,this.lastChild==node&&(this.lastChild=prev)}return node.parentNode=null,node},Object.defineProperty(ParentNode.prototype,"endLocator",{get:function(){return this._endLocator},set:function(endLocator){this._endLocator={lineNumber:endLocator.lineNumber,columnNumber:endLocator.columnNumber}}}),Document.prototype=Object.create(ParentNode.prototype),Document.prototype.visit=function(treeParser){treeParser.startDocument(this)},Document.prototype.revisit=function(treeParser){treeParser.endDocument(this.endLocator)},DocumentFragment.prototype=Object.create(ParentNode.prototype),DocumentFragment.prototype.visit=function(){},Element.prototype=Object.create(ParentNode.prototype),Element.prototype.visit=function(treeParser){if(this.prefixMappings)for(var key in prefixMappings){var mapping=prefixMappings[key];treeParser.startPrefixMapping(mapping.getPrefix(),mapping.getUri(),this)}treeParser.startElement(this.uri,this.localName,this.qName,this.attributes,this)},Element.prototype.revisit=function(treeParser){if(treeParser.endElement(this.uri,this.localName,this.qName,this.endLocator),this.prefixMappings)for(var key in prefixMappings){var mapping=prefixMappings[key];treeParser.endPrefixMapping(mapping.getPrefix(),this.endLocator)}},Characters.prototype=Object.create(Node.prototype),Characters.prototype.visit=function(treeParser){treeParser.characters(this.data,0,this.data.length,this)},IgnorableWhitespace.prototype=Object.create(Node.prototype),IgnorableWhitespace.prototype.visit=function(treeParser){treeParser.ignorableWhitespace(this.data,0,this.data.length,this)},Comment.prototype=Object.create(Node.prototype),Comment.prototype.visit=function(treeParser){treeParser.comment(this.data,0,this.data.length,this)},CDATA.prototype=Object.create(ParentNode.prototype),CDATA.prototype.visit=function(treeParser){treeParser.startCDATA(this)},CDATA.prototype.revisit=function(treeParser){treeParser.endCDATA(this.endLocator)},Entity.prototype=Object.create(ParentNode.prototype),Entity.prototype.visit=function(treeParser){treeParser.startEntity(this.name,this)},Entity.prototype.revisit=function(treeParser){treeParser.endEntity(this.name)},SkippedEntity.prototype=Object.create(Node.prototype),SkippedEntity.prototype.visit=function(treeParser){treeParser.skippedEntity(this.name,this)},ProcessingInstruction.prototype=Object.create(Node.prototype),ProcessingInstruction.prototype.visit=function(treeParser){treeParser.processingInstruction(this.target,this.data,this)},ProcessingInstruction.prototype.getNodeType=function(){return NodeType.PROCESSING_INSTRUCTION},DTD.prototype=Object.create(ParentNode.prototype),DTD.prototype.visit=function(treeParser){treeParser.startDTD(this.name,this.publicIdentifier,this.systemIdentifier,this)},DTD.prototype.revisit=function(treeParser){treeParser.endDTD()},exports.SAXTreeBuilder=SAXTreeBuilder},{"../TreeBuilder":6,util:20}],11:[function(_dereq_,module,exports){function TreeParser(contentHandler,lexicalHandler){if(this.contentHandler,this.lexicalHandler,this.locatorDelegate,!contentHandler)throw new IllegalArgumentException("contentHandler was null.");this.contentHandler=contentHandler,this.lexicalHandler=lexicalHandler?lexicalHandler:new NullLexicalHandler}function NullLexicalHandler(){}TreeParser.prototype.parse=function(node){this.contentHandler.documentLocator=this;for(var next,current=node;;)if(current.visit(this),next=current.firstChild)current=next;else for(;;){if(current.revisit(this),current==node)return;if(next=current.nextSibling){current=next;break}current=current.parentNode}},TreeParser.prototype.characters=function(ch,start,length,locator){this.locatorDelegate=locator,this.contentHandler.characters(ch,start,length)},TreeParser.prototype.endDocument=function(locator){this.locatorDelegate=locator,this.contentHandler.endDocument()},TreeParser.prototype.endElement=function(uri,localName,qName,locator){this.locatorDelegate=locator,this.contentHandler.endElement(uri,localName,qName)},TreeParser.prototype.endPrefixMapping=function(prefix,locator){this.locatorDelegate=locator,this.contentHandler.endPrefixMapping(prefix)},TreeParser.prototype.ignorableWhitespace=function(ch,start,length,locator){this.locatorDelegate=locator,this.contentHandler.ignorableWhitespace(ch,start,length)},TreeParser.prototype.processingInstruction=function(target,data,locator){this.locatorDelegate=locator,this.contentHandler.processingInstruction(target,data)},TreeParser.prototype.skippedEntity=function(name,locator){this.locatorDelegate=locator,this.contentHandler.skippedEntity(name)},TreeParser.prototype.startDocument=function(locator){this.locatorDelegate=locator,this.contentHandler.startDocument()},TreeParser.prototype.startElement=function(uri,localName,qName,atts,locator){this.locatorDelegate=locator,this.contentHandler.startElement(uri,localName,qName,atts)},TreeParser.prototype.startPrefixMapping=function(prefix,uri,locator){this.locatorDelegate=locator,this.contentHandler.startPrefixMapping(prefix,uri)},TreeParser.prototype.comment=function(ch,start,length,locator){this.locatorDelegate=locator,this.lexicalHandler.comment(ch,start,length)},TreeParser.prototype.endCDATA=function(locator){this.locatorDelegate=locator,this.lexicalHandler.endCDATA()},TreeParser.prototype.endDTD=function(locator){this.locatorDelegate=locator,this.lexicalHandler.endDTD()},TreeParser.prototype.endEntity=function(name,locator){this.locatorDelegate=locator,this.lexicalHandler.endEntity(name)},TreeParser.prototype.startCDATA=function(locator){this.locatorDelegate=locator,this.lexicalHandler.startCDATA()},TreeParser.prototype.startDTD=function(name,publicId,systemId,locator){this.locatorDelegate=locator,this.lexicalHandler.startDTD(name,publicId,systemId)},TreeParser.prototype.startEntity=function(name,locator){this.locatorDelegate=locator,this.lexicalHandler.startEntity(name)},Object.defineProperty(TreeParser.prototype,"columnNumber",{get:function(){return this.locatorDelegate?this.locatorDelegate.columnNumber:-1}}),Object.defineProperty(TreeParser.prototype,"lineNumber",{get:function(){return this.locatorDelegate?this.locatorDelegate.lineNumber:-1}}),NullLexicalHandler.prototype.comment=function(){},NullLexicalHandler.prototype.endCDATA=function(){},NullLexicalHandler.prototype.endDTD=function(){},NullLexicalHandler.prototype.endEntity=function(){},NullLexicalHandler.prototype.startCDATA=function(){},NullLexicalHandler.prototype.startDTD=function(){},NullLexicalHandler.prototype.startEntity=function(){},exports.TreeParser=TreeParser},{}],12:[function(_dereq_,module){module.exports={"Aacute;":"\xc1",Aacute:"\xc1","aacute;":"\xe1",aacute:"\xe1","Abreve;":"\u0102","abreve;":"\u0103","ac;":"\u223e","acd;":"\u223f","acE;":"\u223e\u0333","Acirc;":"\xc2",Acirc:"\xc2","acirc;":"\xe2",acirc:"\xe2","acute;":"\xb4",acute:"\xb4","Acy;":"\u0410","acy;":"\u0430","AElig;":"\xc6",AElig:"\xc6","aelig;":"\xe6",aelig:"\xe6","af;":"\u2061","Afr;":"\ud835\udd04","afr;":"\ud835\udd1e","Agrave;":"\xc0",Agrave:"\xc0","agrave;":"\xe0",agrave:"\xe0","alefsym;":"\u2135","aleph;":"\u2135","Alpha;":"\u0391","alpha;":"\u03b1","Amacr;":"\u0100","amacr;":"\u0101","amalg;":"\u2a3f","amp;":"&",amp:"&","AMP;":"&",AMP:"&","andand;":"\u2a55","And;":"\u2a53","and;":"\u2227","andd;":"\u2a5c","andslope;":"\u2a58","andv;":"\u2a5a","ang;":"\u2220","ange;":"\u29a4","angle;":"\u2220","angmsdaa;":"\u29a8","angmsdab;":"\u29a9","angmsdac;":"\u29aa","angmsdad;":"\u29ab","angmsdae;":"\u29ac","angmsdaf;":"\u29ad","angmsdag;":"\u29ae","angmsdah;":"\u29af","angmsd;":"\u2221","angrt;":"\u221f","angrtvb;":"\u22be","angrtvbd;":"\u299d","angsph;":"\u2222","angst;":"\xc5","angzarr;":"\u237c","Aogon;":"\u0104","aogon;":"\u0105","Aopf;":"\ud835\udd38","aopf;":"\ud835\udd52","apacir;":"\u2a6f","ap;":"\u2248","apE;":"\u2a70","ape;":"\u224a","apid;":"\u224b","apos;":"\'","ApplyFunction;":"\u2061","approx;":"\u2248","approxeq;":"\u224a","Aring;":"\xc5",Aring:"\xc5","aring;":"\xe5",aring:"\xe5","Ascr;":"\ud835\udc9c","ascr;":"\ud835\udcb6","Assign;":"\u2254","ast;":"*","asymp;":"\u2248","asympeq;":"\u224d","Atilde;":"\xc3",Atilde:"\xc3","atilde;":"\xe3",atilde:"\xe3","Auml;":"\xc4",Auml:"\xc4","auml;":"\xe4",auml:"\xe4","awconint;":"\u2233","awint;":"\u2a11","backcong;":"\u224c","backepsilon;":"\u03f6","backprime;":"\u2035","backsim;":"\u223d","backsimeq;":"\u22cd","Backslash;":"\u2216","Barv;":"\u2ae7","barvee;":"\u22bd","barwed;":"\u2305","Barwed;":"\u2306","barwedge;":"\u2305","bbrk;":"\u23b5","bbrktbrk;":"\u23b6","bcong;":"\u224c","Bcy;":"\u0411","bcy;":"\u0431","bdquo;":"\u201e","becaus;":"\u2235","because;":"\u2235","Because;":"\u2235","bemptyv;":"\u29b0","bepsi;":"\u03f6","bernou;":"\u212c","Bernoullis;":"\u212c","Beta;":"\u0392","beta;":"\u03b2","beth;":"\u2136","between;":"\u226c","Bfr;":"\ud835\udd05","bfr;":"\ud835\udd1f","bigcap;":"\u22c2","bigcirc;":"\u25ef","bigcup;":"\u22c3","bigodot;":"\u2a00","bigoplus;":"\u2a01","bigotimes;":"\u2a02","bigsqcup;":"\u2a06","bigstar;":"\u2605","bigtriangledown;":"\u25bd","bigtriangleup;":"\u25b3","biguplus;":"\u2a04","bigvee;":"\u22c1","bigwedge;":"\u22c0","bkarow;":"\u290d","blacklozenge;":"\u29eb","blacksquare;":"\u25aa","blacktriangle;":"\u25b4","blacktriangledown;":"\u25be","blacktriangleleft;":"\u25c2","blacktriangleright;":"\u25b8","blank;":"\u2423","blk12;":"\u2592","blk14;":"\u2591","blk34;":"\u2593","block;":"\u2588","bne;":"=\u20e5","bnequiv;":"\u2261\u20e5","bNot;":"\u2aed","bnot;":"\u2310","Bopf;":"\ud835\udd39","bopf;":"\ud835\udd53","bot;":"\u22a5","bottom;":"\u22a5","bowtie;":"\u22c8","boxbox;":"\u29c9","boxdl;":"\u2510","boxdL;":"\u2555","boxDl;":"\u2556","boxDL;":"\u2557","boxdr;":"\u250c","boxdR;":"\u2552","boxDr;":"\u2553","boxDR;":"\u2554","boxh;":"\u2500","boxH;":"\u2550","boxhd;":"\u252c","boxHd;":"\u2564","boxhD;":"\u2565","boxHD;":"\u2566","boxhu;":"\u2534","boxHu;":"\u2567","boxhU;":"\u2568","boxHU;":"\u2569","boxminus;":"\u229f","boxplus;":"\u229e","boxtimes;":"\u22a0","boxul;":"\u2518","boxuL;":"\u255b","boxUl;":"\u255c","boxUL;":"\u255d","boxur;":"\u2514","boxuR;":"\u2558","boxUr;":"\u2559","boxUR;":"\u255a","boxv;":"\u2502","boxV;":"\u2551","boxvh;":"\u253c","boxvH;":"\u256a","boxVh;":"\u256b","boxVH;":"\u256c","boxvl;":"\u2524","boxvL;":"\u2561","boxVl;":"\u2562","boxVL;":"\u2563","boxvr;":"\u251c","boxvR;":"\u255e","boxVr;":"\u255f","boxVR;":"\u2560","bprime;":"\u2035","breve;":"\u02d8","Breve;":"\u02d8","brvbar;":"\xa6",brvbar:"\xa6","bscr;":"\ud835\udcb7","Bscr;":"\u212c","bsemi;":"\u204f","bsim;":"\u223d","bsime;":"\u22cd","bsolb;":"\u29c5","bsol;":"\\\\","bsolhsub;":"\u27c8","bull;":"\u2022","bullet;":"\u2022","bump;":"\u224e","bumpE;":"\u2aae","bumpe;":"\u224f","Bumpeq;":"\u224e","bumpeq;":"\u224f","Cacute;":"\u0106","cacute;":"\u0107","capand;":"\u2a44","capbrcup;":"\u2a49","capcap;":"\u2a4b","cap;":"\u2229","Cap;":"\u22d2","capcup;":"\u2a47","capdot;":"\u2a40","CapitalDifferentialD;":"\u2145","caps;":"\u2229\ufe00","caret;":"\u2041","caron;":"\u02c7","Cayleys;":"\u212d","ccaps;":"\u2a4d","Ccaron;":"\u010c","ccaron;":"\u010d","Ccedil;":"\xc7",Ccedil:"\xc7","ccedil;":"\xe7",ccedil:"\xe7","Ccirc;":"\u0108","ccirc;":"\u0109","Cconint;":"\u2230","ccups;":"\u2a4c","ccupssm;":"\u2a50","Cdot;":"\u010a","cdot;":"\u010b","cedil;":"\xb8",cedil:"\xb8","Cedilla;":"\xb8","cemptyv;":"\u29b2","cent;":"\xa2",cent:"\xa2","centerdot;":"\xb7","CenterDot;":"\xb7","cfr;":"\ud835\udd20","Cfr;":"\u212d","CHcy;":"\u0427","chcy;":"\u0447","check;":"\u2713","checkmark;":"\u2713","Chi;":"\u03a7","chi;":"\u03c7","circ;":"\u02c6","circeq;":"\u2257","circlearrowleft;":"\u21ba","circlearrowright;":"\u21bb","circledast;":"\u229b","circledcirc;":"\u229a","circleddash;":"\u229d","CircleDot;":"\u2299","circledR;":"\xae","circledS;":"\u24c8","CircleMinus;":"\u2296","CirclePlus;":"\u2295","CircleTimes;":"\u2297","cir;":"\u25cb","cirE;":"\u29c3","cire;":"\u2257","cirfnint;":"\u2a10","cirmid;":"\u2aef","cirscir;":"\u29c2","ClockwiseContourIntegral;":"\u2232","CloseCurlyDoubleQuote;":"\u201d","CloseCurlyQuote;":"\u2019","clubs;":"\u2663","clubsuit;":"\u2663","colon;":":","Colon;":"\u2237","Colone;":"\u2a74","colone;":"\u2254","coloneq;":"\u2254","comma;":",","commat;":"@","comp;":"\u2201","compfn;":"\u2218","complement;":"\u2201","complexes;":"\u2102","cong;":"\u2245","congdot;":"\u2a6d","Congruent;":"\u2261","conint;":"\u222e","Conint;":"\u222f","ContourIntegral;":"\u222e","copf;":"\ud835\udd54","Copf;":"\u2102","coprod;":"\u2210","Coproduct;":"\u2210","copy;":"\xa9",copy:"\xa9","COPY;":"\xa9",COPY:"\xa9","copysr;":"\u2117","CounterClockwiseContourIntegral;":"\u2233","crarr;":"\u21b5","cross;":"\u2717","Cross;":"\u2a2f","Cscr;":"\ud835\udc9e","cscr;":"\ud835\udcb8","csub;":"\u2acf","csube;":"\u2ad1","csup;":"\u2ad0","csupe;":"\u2ad2","ctdot;":"\u22ef","cudarrl;":"\u2938","cudarrr;":"\u2935","cuepr;":"\u22de","cuesc;":"\u22df","cularr;":"\u21b6","cularrp;":"\u293d","cupbrcap;":"\u2a48","cupcap;":"\u2a46","CupCap;":"\u224d","cup;":"\u222a","Cup;":"\u22d3","cupcup;":"\u2a4a","cupdot;":"\u228d","cupor;":"\u2a45","cups;":"\u222a\ufe00","curarr;":"\u21b7","curarrm;":"\u293c","curlyeqprec;":"\u22de","curlyeqsucc;":"\u22df","curlyvee;":"\u22ce","curlywedge;":"\u22cf","curren;":"\xa4",curren:"\xa4","curvearrowleft;":"\u21b6","curvearrowright;":"\u21b7","cuvee;":"\u22ce","cuwed;":"\u22cf","cwconint;":"\u2232","cwint;":"\u2231","cylcty;":"\u232d","dagger;":"\u2020","Dagger;":"\u2021","daleth;":"\u2138","darr;":"\u2193","Darr;":"\u21a1","dArr;":"\u21d3","dash;":"\u2010","Dashv;":"\u2ae4","dashv;":"\u22a3","dbkarow;":"\u290f","dblac;":"\u02dd","Dcaron;":"\u010e","dcaron;":"\u010f","Dcy;":"\u0414","dcy;":"\u0434","ddagger;":"\u2021","ddarr;":"\u21ca","DD;":"\u2145","dd;":"\u2146","DDotrahd;":"\u2911","ddotseq;":"\u2a77","deg;":"\xb0",deg:"\xb0","Del;":"\u2207","Delta;":"\u0394","delta;":"\u03b4","demptyv;":"\u29b1","dfisht;":"\u297f","Dfr;":"\ud835\udd07","dfr;":"\ud835\udd21","dHar;":"\u2965","dharl;":"\u21c3","dharr;":"\u21c2","DiacriticalAcute;":"\xb4","DiacriticalDot;":"\u02d9","DiacriticalDoubleAcute;":"\u02dd","DiacriticalGrave;":"`","DiacriticalTilde;":"\u02dc","diam;":"\u22c4","diamond;":"\u22c4","Diamond;":"\u22c4","diamondsuit;":"\u2666","diams;":"\u2666","die;":"\xa8","DifferentialD;":"\u2146","digamma;":"\u03dd","disin;":"\u22f2","div;":"\xf7","divide;":"\xf7",divide:"\xf7","divideontimes;":"\u22c7","divonx;":"\u22c7","DJcy;":"\u0402","djcy;":"\u0452","dlcorn;":"\u231e","dlcrop;":"\u230d","dollar;":"$","Dopf;":"\ud835\udd3b","dopf;":"\ud835\udd55","Dot;":"\xa8","dot;":"\u02d9","DotDot;":"\u20dc","doteq;":"\u2250","doteqdot;":"\u2251","DotEqual;":"\u2250","dotminus;":"\u2238","dotplus;":"\u2214","dotsquare;":"\u22a1","doublebarwedge;":"\u2306","DoubleContourIntegral;":"\u222f","DoubleDot;":"\xa8","DoubleDownArrow;":"\u21d3","DoubleLeftArrow;":"\u21d0","DoubleLeftRightArrow;":"\u21d4","DoubleLeftTee;":"\u2ae4","DoubleLongLeftArrow;":"\u27f8","DoubleLongLeftRightArrow;":"\u27fa","DoubleLongRightArrow;":"\u27f9","DoubleRightArrow;":"\u21d2","DoubleRightTee;":"\u22a8","DoubleUpArrow;":"\u21d1","DoubleUpDownArrow;":"\u21d5","DoubleVerticalBar;":"\u2225","DownArrowBar;":"\u2913","downarrow;":"\u2193","DownArrow;":"\u2193","Downarrow;":"\u21d3","DownArrowUpArrow;":"\u21f5","DownBreve;":"\u0311","downdownarrows;":"\u21ca","downharpoonleft;":"\u21c3","downharpoonright;":"\u21c2","DownLeftRightVector;":"\u2950","DownLeftTeeVector;":"\u295e","DownLeftVectorBar;":"\u2956","DownLeftVector;":"\u21bd","DownRightTeeVector;":"\u295f","DownRightVectorBar;":"\u2957","DownRightVector;":"\u21c1","DownTeeArrow;":"\u21a7","DownTee;":"\u22a4","drbkarow;":"\u2910","drcorn;":"\u231f","drcrop;":"\u230c","Dscr;":"\ud835\udc9f","dscr;":"\ud835\udcb9","DScy;":"\u0405","dscy;":"\u0455","dsol;":"\u29f6","Dstrok;":"\u0110","dstrok;":"\u0111","dtdot;":"\u22f1","dtri;":"\u25bf","dtrif;":"\u25be","duarr;":"\u21f5","duhar;":"\u296f","dwangle;":"\u29a6","DZcy;":"\u040f","dzcy;":"\u045f","dzigrarr;":"\u27ff","Eacute;":"\xc9",Eacute:"\xc9","eacute;":"\xe9",eacute:"\xe9","easter;":"\u2a6e","Ecaron;":"\u011a","ecaron;":"\u011b","Ecirc;":"\xca",Ecirc:"\xca","ecirc;":"\xea",ecirc:"\xea","ecir;":"\u2256","ecolon;":"\u2255","Ecy;":"\u042d","ecy;":"\u044d","eDDot;":"\u2a77","Edot;":"\u0116","edot;":"\u0117","eDot;":"\u2251","ee;":"\u2147","efDot;":"\u2252","Efr;":"\ud835\udd08","efr;":"\ud835\udd22","eg;":"\u2a9a","Egrave;":"\xc8",Egrave:"\xc8","egrave;":"\xe8",egrave:"\xe8","egs;":"\u2a96","egsdot;":"\u2a98","el;":"\u2a99","Element;":"\u2208","elinters;":"\u23e7","ell;":"\u2113","els;":"\u2a95","elsdot;":"\u2a97","Emacr;":"\u0112","emacr;":"\u0113","empty;":"\u2205","emptyset;":"\u2205","EmptySmallSquare;":"\u25fb","emptyv;":"\u2205","EmptyVerySmallSquare;":"\u25ab","emsp13;":"\u2004","emsp14;":"\u2005","emsp;":"\u2003","ENG;":"\u014a","eng;":"\u014b","ensp;":"\u2002","Eogon;":"\u0118","eogon;":"\u0119","Eopf;":"\ud835\udd3c","eopf;":"\ud835\udd56","epar;":"\u22d5","eparsl;":"\u29e3","eplus;":"\u2a71","epsi;":"\u03b5","Epsilon;":"\u0395","epsilon;":"\u03b5","epsiv;":"\u03f5","eqcirc;":"\u2256","eqcolon;":"\u2255","eqsim;":"\u2242","eqslantgtr;":"\u2a96","eqslantless;":"\u2a95","Equal;":"\u2a75","equals;":"=","EqualTilde;":"\u2242","equest;":"\u225f","Equilibrium;":"\u21cc","equiv;":"\u2261","equivDD;":"\u2a78","eqvparsl;":"\u29e5","erarr;":"\u2971","erDot;":"\u2253","escr;":"\u212f","Escr;":"\u2130","esdot;":"\u2250","Esim;":"\u2a73","esim;":"\u2242","Eta;":"\u0397","eta;":"\u03b7","ETH;":"\xd0",ETH:"\xd0","eth;":"\xf0",eth:"\xf0","Euml;":"\xcb",Euml:"\xcb","euml;":"\xeb",euml:"\xeb","euro;":"\u20ac","excl;":"!","exist;":"\u2203","Exists;":"\u2203","expectation;":"\u2130","exponentiale;":"\u2147","ExponentialE;":"\u2147","fallingdotseq;":"\u2252","Fcy;":"\u0424","fcy;":"\u0444","female;":"\u2640","ffilig;":"\ufb03","fflig;":"\ufb00","ffllig;":"\ufb04","Ffr;":"\ud835\udd09","ffr;":"\ud835\udd23","filig;":"\ufb01","FilledSmallSquare;":"\u25fc","FilledVerySmallSquare;":"\u25aa","fjlig;":"fj","flat;":"\u266d","fllig;":"\ufb02","fltns;":"\u25b1","fnof;":"\u0192","Fopf;":"\ud835\udd3d","fopf;":"\ud835\udd57","forall;":"\u2200","ForAll;":"\u2200","fork;":"\u22d4","forkv;":"\u2ad9","Fouriertrf;":"\u2131","fpartint;":"\u2a0d","frac12;":"\xbd",frac12:"\xbd","frac13;":"\u2153","frac14;":"\xbc",frac14:"\xbc","frac15;":"\u2155","frac16;":"\u2159","frac18;":"\u215b","frac23;":"\u2154","frac25;":"\u2156","frac34;":"\xbe",frac34:"\xbe","frac35;":"\u2157","frac38;":"\u215c","frac45;":"\u2158","frac56;":"\u215a","frac58;":"\u215d","frac78;":"\u215e","frasl;":"\u2044","frown;":"\u2322","fscr;":"\ud835\udcbb","Fscr;":"\u2131","gacute;":"\u01f5","Gamma;":"\u0393","gamma;":"\u03b3","Gammad;":"\u03dc","gammad;":"\u03dd","gap;":"\u2a86","Gbreve;":"\u011e","gbreve;":"\u011f","Gcedil;":"\u0122","Gcirc;":"\u011c","gcirc;":"\u011d","Gcy;":"\u0413","gcy;":"\u0433","Gdot;":"\u0120","gdot;":"\u0121","ge;":"\u2265","gE;":"\u2267","gEl;":"\u2a8c","gel;":"\u22db","geq;":"\u2265","geqq;":"\u2267","geqslant;":"\u2a7e","gescc;":"\u2aa9","ges;":"\u2a7e","gesdot;":"\u2a80","gesdoto;":"\u2a82","gesdotol;":"\u2a84","gesl;":"\u22db\ufe00","gesles;":"\u2a94","Gfr;":"\ud835\udd0a","gfr;":"\ud835\udd24","gg;":"\u226b","Gg;":"\u22d9","ggg;":"\u22d9","gimel;":"\u2137","GJcy;":"\u0403","gjcy;":"\u0453","gla;":"\u2aa5","gl;":"\u2277","glE;":"\u2a92","glj;":"\u2aa4","gnap;":"\u2a8a","gnapprox;":"\u2a8a","gne;":"\u2a88","gnE;":"\u2269","gneq;":"\u2a88","gneqq;":"\u2269","gnsim;":"\u22e7","Gopf;":"\ud835\udd3e","gopf;":"\ud835\udd58","grave;":"`","GreaterEqual;":"\u2265","GreaterEqualLess;":"\u22db","GreaterFullEqual;":"\u2267","GreaterGreater;":"\u2aa2","GreaterLess;":"\u2277","GreaterSlantEqual;":"\u2a7e","GreaterTilde;":"\u2273","Gscr;":"\ud835\udca2","gscr;":"\u210a","gsim;":"\u2273","gsime;":"\u2a8e","gsiml;":"\u2a90","gtcc;":"\u2aa7","gtcir;":"\u2a7a","gt;":">",gt:">","GT;":">",GT:">","Gt;":"\u226b","gtdot;":"\u22d7","gtlPar;":"\u2995","gtquest;":"\u2a7c","gtrapprox;":"\u2a86","gtrarr;":"\u2978","gtrdot;":"\u22d7","gtreqless;":"\u22db","gtreqqless;":"\u2a8c","gtrless;":"\u2277","gtrsim;":"\u2273","gvertneqq;":"\u2269\ufe00","gvnE;":"\u2269\ufe00","Hacek;":"\u02c7","hairsp;":"\u200a","half;":"\xbd","hamilt;":"\u210b","HARDcy;":"\u042a","hardcy;":"\u044a","harrcir;":"\u2948","harr;":"\u2194","hArr;":"\u21d4","harrw;":"\u21ad","Hat;":"^","hbar;":"\u210f","Hcirc;":"\u0124","hcirc;":"\u0125","hearts;":"\u2665","heartsuit;":"\u2665","hellip;":"\u2026","hercon;":"\u22b9","hfr;":"\ud835\udd25","Hfr;":"\u210c","HilbertSpace;":"\u210b","hksearow;":"\u2925","hkswarow;":"\u2926","hoarr;":"\u21ff","homtht;":"\u223b","hookleftarrow;":"\u21a9","hookrightarrow;":"\u21aa","hopf;":"\ud835\udd59","Hopf;":"\u210d","horbar;":"\u2015","HorizontalLine;":"\u2500","hscr;":"\ud835\udcbd","Hscr;":"\u210b","hslash;":"\u210f","Hstrok;":"\u0126","hstrok;":"\u0127","HumpDownHump;":"\u224e","HumpEqual;":"\u224f","hybull;":"\u2043","hyphen;":"\u2010","Iacute;":"\xcd",Iacute:"\xcd","iacute;":"\xed",iacute:"\xed","ic;":"\u2063","Icirc;":"\xce",Icirc:"\xce","icirc;":"\xee",icirc:"\xee","Icy;":"\u0418","icy;":"\u0438","Idot;":"\u0130","IEcy;":"\u0415","iecy;":"\u0435","iexcl;":"\xa1",iexcl:"\xa1","iff;":"\u21d4","ifr;":"\ud835\udd26","Ifr;":"\u2111","Igrave;":"\xcc",Igrave:"\xcc","igrave;":"\xec",igrave:"\xec","ii;":"\u2148","iiiint;":"\u2a0c","iiint;":"\u222d","iinfin;":"\u29dc","iiota;":"\u2129","IJlig;":"\u0132","ijlig;":"\u0133","Imacr;":"\u012a","imacr;":"\u012b","image;":"\u2111","ImaginaryI;":"\u2148","imagline;":"\u2110","imagpart;":"\u2111","imath;":"\u0131","Im;":"\u2111","imof;":"\u22b7","imped;":"\u01b5","Implies;":"\u21d2","incare;":"\u2105","in;":"\u2208","infin;":"\u221e","infintie;":"\u29dd","inodot;":"\u0131","intcal;":"\u22ba","int;":"\u222b","Int;":"\u222c","integers;":"\u2124","Integral;":"\u222b","intercal;":"\u22ba","Intersection;":"\u22c2","intlarhk;":"\u2a17","intprod;":"\u2a3c","InvisibleComma;":"\u2063","InvisibleTimes;":"\u2062","IOcy;":"\u0401","iocy;":"\u0451","Iogon;":"\u012e","iogon;":"\u012f","Iopf;":"\ud835\udd40","iopf;":"\ud835\udd5a","Iota;":"\u0399","iota;":"\u03b9","iprod;":"\u2a3c","iquest;":"\xbf",iquest:"\xbf","iscr;":"\ud835\udcbe","Iscr;":"\u2110","isin;":"\u2208","isindot;":"\u22f5","isinE;":"\u22f9","isins;":"\u22f4","isinsv;":"\u22f3","isinv;":"\u2208","it;":"\u2062","Itilde;":"\u0128","itilde;":"\u0129","Iukcy;":"\u0406","iukcy;":"\u0456","Iuml;":"\xcf",Iuml:"\xcf","iuml;":"\xef",iuml:"\xef","Jcirc;":"\u0134","jcirc;":"\u0135","Jcy;":"\u0419","jcy;":"\u0439","Jfr;":"\ud835\udd0d","jfr;":"\ud835\udd27","jmath;":"\u0237","Jopf;":"\ud835\udd41","jopf;":"\ud835\udd5b","Jscr;":"\ud835\udca5","jscr;":"\ud835\udcbf","Jsercy;":"\u0408","jsercy;":"\u0458","Jukcy;":"\u0404","jukcy;":"\u0454","Kappa;":"\u039a","kappa;":"\u03ba","kappav;":"\u03f0","Kcedil;":"\u0136","kcedil;":"\u0137","Kcy;":"\u041a","kcy;":"\u043a","Kfr;":"\ud835\udd0e","kfr;":"\ud835\udd28","kgreen;":"\u0138","KHcy;":"\u0425","khcy;":"\u0445","KJcy;":"\u040c","kjcy;":"\u045c","Kopf;":"\ud835\udd42","kopf;":"\ud835\udd5c","Kscr;":"\ud835\udca6","kscr;":"\ud835\udcc0","lAarr;":"\u21da","Lacute;":"\u0139","lacute;":"\u013a","laemptyv;":"\u29b4","lagran;":"\u2112","Lambda;":"\u039b","lambda;":"\u03bb","lang;":"\u27e8","Lang;":"\u27ea","langd;":"\u2991","langle;":"\u27e8","lap;":"\u2a85","Laplacetrf;":"\u2112","laquo;":"\xab",laquo:"\xab","larrb;":"\u21e4","larrbfs;":"\u291f","larr;":"\u2190","Larr;":"\u219e","lArr;":"\u21d0","larrfs;":"\u291d","larrhk;":"\u21a9","larrlp;":"\u21ab","larrpl;":"\u2939","larrsim;":"\u2973","larrtl;":"\u21a2","latail;":"\u2919","lAtail;":"\u291b","lat;":"\u2aab","late;":"\u2aad","lates;":"\u2aad\ufe00","lbarr;":"\u290c","lBarr;":"\u290e","lbbrk;":"\u2772","lbrace;":"{","lbrack;":"[","lbrke;":"\u298b","lbrksld;":"\u298f","lbrkslu;":"\u298d","Lcaron;":"\u013d","lcaron;":"\u013e","Lcedil;":"\u013b","lcedil;":"\u013c","lceil;":"\u2308","lcub;":"{","Lcy;":"\u041b","lcy;":"\u043b","ldca;":"\u2936","ldquo;":"\u201c","ldquor;":"\u201e","ldrdhar;":"\u2967","ldrushar;":"\u294b","ldsh;":"\u21b2","le;":"\u2264","lE;":"\u2266","LeftAngleBracket;":"\u27e8","LeftArrowBar;":"\u21e4","leftarrow;":"\u2190","LeftArrow;":"\u2190","Leftarrow;":"\u21d0","LeftArrowRightArrow;":"\u21c6","leftarrowtail;":"\u21a2","LeftCeiling;":"\u2308","LeftDoubleBracket;":"\u27e6","LeftDownTeeVector;":"\u2961","LeftDownVectorBar;":"\u2959","LeftDownVector;":"\u21c3","LeftFloor;":"\u230a","leftharpoondown;":"\u21bd","leftharpoonup;":"\u21bc","leftleftarrows;":"\u21c7","leftrightarrow;":"\u2194","LeftRightArrow;":"\u2194","Leftrightarrow;":"\u21d4","leftrightarrows;":"\u21c6","leftrightharpoons;":"\u21cb","leftrightsquigarrow;":"\u21ad","LeftRightVector;":"\u294e","LeftTeeArrow;":"\u21a4","LeftTee;":"\u22a3","LeftTeeVector;":"\u295a","leftthreetimes;":"\u22cb","LeftTriangleBar;":"\u29cf","LeftTriangle;":"\u22b2","LeftTriangleEqual;":"\u22b4","LeftUpDownVector;":"\u2951","LeftUpTeeVector;":"\u2960","LeftUpVectorBar;":"\u2958","LeftUpVector;":"\u21bf","LeftVectorBar;":"\u2952","LeftVector;":"\u21bc","lEg;":"\u2a8b","leg;":"\u22da","leq;":"\u2264","leqq;":"\u2266","leqslant;":"\u2a7d","lescc;":"\u2aa8","les;":"\u2a7d","lesdot;":"\u2a7f","lesdoto;":"\u2a81","lesdotor;":"\u2a83","lesg;":"\u22da\ufe00","lesges;":"\u2a93","lessapprox;":"\u2a85","lessdot;":"\u22d6","lesseqgtr;":"\u22da","lesseqqgtr;":"\u2a8b","LessEqualGreater;":"\u22da","LessFullEqual;":"\u2266","LessGreater;":"\u2276","lessgtr;":"\u2276","LessLess;":"\u2aa1","lesssim;":"\u2272","LessSlantEqual;":"\u2a7d","LessTilde;":"\u2272","lfisht;":"\u297c","lfloor;":"\u230a","Lfr;":"\ud835\udd0f","lfr;":"\ud835\udd29","lg;":"\u2276","lgE;":"\u2a91","lHar;":"\u2962","lhard;":"\u21bd","lharu;":"\u21bc","lharul;":"\u296a","lhblk;":"\u2584","LJcy;":"\u0409","ljcy;":"\u0459","llarr;":"\u21c7","ll;":"\u226a","Ll;":"\u22d8","llcorner;":"\u231e","Lleftarrow;":"\u21da","llhard;":"\u296b","lltri;":"\u25fa","Lmidot;":"\u013f","lmidot;":"\u0140","lmoustache;":"\u23b0","lmoust;":"\u23b0","lnap;":"\u2a89","lnapprox;":"\u2a89","lne;":"\u2a87","lnE;":"\u2268","lneq;":"\u2a87","lneqq;":"\u2268","lnsim;":"\u22e6","loang;":"\u27ec","loarr;":"\u21fd","lobrk;":"\u27e6","longleftarrow;":"\u27f5","LongLeftArrow;":"\u27f5","Longleftarrow;":"\u27f8","longleftrightarrow;":"\u27f7","LongLeftRightArrow;":"\u27f7","Longleftrightarrow;":"\u27fa","longmapsto;":"\u27fc","longrightarrow;":"\u27f6","LongRightArrow;":"\u27f6","Longrightarrow;":"\u27f9","looparrowleft;":"\u21ab","looparrowright;":"\u21ac","lopar;":"\u2985","Lopf;":"\ud835\udd43","lopf;":"\ud835\udd5d","loplus;":"\u2a2d","lotimes;":"\u2a34","lowast;":"\u2217","lowbar;":"_","LowerLeftArrow;":"\u2199","LowerRightArrow;":"\u2198","loz;":"\u25ca","lozenge;":"\u25ca","lozf;":"\u29eb","lpar;":"(","lparlt;":"\u2993","lrarr;":"\u21c6","lrcorner;":"\u231f","lrhar;":"\u21cb","lrhard;":"\u296d","lrm;":"\u200e","lrtri;":"\u22bf","lsaquo;":"\u2039","lscr;":"\ud835\udcc1","Lscr;":"\u2112","lsh;":"\u21b0","Lsh;":"\u21b0","lsim;":"\u2272","lsime;":"\u2a8d","lsimg;":"\u2a8f","lsqb;":"[","lsquo;":"\u2018","lsquor;":"\u201a","Lstrok;":"\u0141","lstrok;":"\u0142","ltcc;":"\u2aa6","ltcir;":"\u2a79","lt;":"<",lt:"<","LT;":"<",LT:"<","Lt;":"\u226a","ltdot;":"\u22d6","lthree;":"\u22cb","ltimes;":"\u22c9","ltlarr;":"\u2976","ltquest;":"\u2a7b","ltri;":"\u25c3","ltrie;":"\u22b4","ltrif;":"\u25c2","ltrPar;":"\u2996","lurdshar;":"\u294a","luruhar;":"\u2966","lvertneqq;":"\u2268\ufe00","lvnE;":"\u2268\ufe00","macr;":"\xaf",macr:"\xaf","male;":"\u2642","malt;":"\u2720","maltese;":"\u2720","Map;":"\u2905","map;":"\u21a6","mapsto;":"\u21a6","mapstodown;":"\u21a7","mapstoleft;":"\u21a4","mapstoup;":"\u21a5","marker;":"\u25ae","mcomma;":"\u2a29","Mcy;":"\u041c","mcy;":"\u043c","mdash;":"\u2014","mDDot;":"\u223a","measuredangle;":"\u2221","MediumSpace;":"\u205f","Mellintrf;":"\u2133","Mfr;":"\ud835\udd10","mfr;":"\ud835\udd2a","mho;":"\u2127","micro;":"\xb5",micro:"\xb5","midast;":"*","midcir;":"\u2af0","mid;":"\u2223","middot;":"\xb7",middot:"\xb7","minusb;":"\u229f","minus;":"\u2212","minusd;":"\u2238","minusdu;":"\u2a2a","MinusPlus;":"\u2213","mlcp;":"\u2adb","mldr;":"\u2026","mnplus;":"\u2213","models;":"\u22a7","Mopf;":"\ud835\udd44","mopf;":"\ud835\udd5e","mp;":"\u2213","mscr;":"\ud835\udcc2","Mscr;":"\u2133","mstpos;":"\u223e","Mu;":"\u039c","mu;":"\u03bc","multimap;":"\u22b8","mumap;":"\u22b8","nabla;":"\u2207","Nacute;":"\u0143","nacute;":"\u0144","nang;":"\u2220\u20d2","nap;":"\u2249","napE;":"\u2a70\u0338","napid;":"\u224b\u0338","napos;":"\u0149","napprox;":"\u2249","natural;":"\u266e","naturals;":"\u2115","natur;":"\u266e","nbsp;":"\xa0",nbsp:"\xa0","nbump;":"\u224e\u0338","nbumpe;":"\u224f\u0338","ncap;":"\u2a43","Ncaron;":"\u0147","ncaron;":"\u0148","Ncedil;":"\u0145","ncedil;":"\u0146","ncong;":"\u2247","ncongdot;":"\u2a6d\u0338","ncup;":"\u2a42","Ncy;":"\u041d","ncy;":"\u043d","ndash;":"\u2013","nearhk;":"\u2924","nearr;":"\u2197","neArr;":"\u21d7","nearrow;":"\u2197","ne;":"\u2260","nedot;":"\u2250\u0338","NegativeMediumSpace;":"\u200b","NegativeThickSpace;":"\u200b","NegativeThinSpace;":"\u200b","NegativeVeryThinSpace;":"\u200b","nequiv;":"\u2262","nesear;":"\u2928","nesim;":"\u2242\u0338","NestedGreaterGreater;":"\u226b","NestedLessLess;":"\u226a","NewLine;":"\\n","nexist;":"\u2204","nexists;":"\u2204","Nfr;":"\ud835\udd11","nfr;":"\ud835\udd2b","ngE;":"\u2267\u0338","nge;":"\u2271","ngeq;":"\u2271","ngeqq;":"\u2267\u0338","ngeqslant;":"\u2a7e\u0338","nges;":"\u2a7e\u0338","nGg;":"\u22d9\u0338","ngsim;":"\u2275","nGt;":"\u226b\u20d2","ngt;":"\u226f","ngtr;":"\u226f","nGtv;":"\u226b\u0338","nharr;":"\u21ae","nhArr;":"\u21ce","nhpar;":"\u2af2","ni;":"\u220b","nis;":"\u22fc","nisd;":"\u22fa","niv;":"\u220b","NJcy;":"\u040a","njcy;":"\u045a","nlarr;":"\u219a","nlArr;":"\u21cd","nldr;":"\u2025","nlE;":"\u2266\u0338","nle;":"\u2270","nleftarrow;":"\u219a","nLeftarrow;":"\u21cd","nleftrightarrow;":"\u21ae","nLeftrightarrow;":"\u21ce","nleq;":"\u2270","nleqq;":"\u2266\u0338","nleqslant;":"\u2a7d\u0338","nles;":"\u2a7d\u0338","nless;":"\u226e","nLl;":"\u22d8\u0338","nlsim;":"\u2274","nLt;":"\u226a\u20d2","nlt;":"\u226e","nltri;":"\u22ea","nltrie;":"\u22ec","nLtv;":"\u226a\u0338","nmid;":"\u2224","NoBreak;":"\u2060","NonBreakingSpace;":"\xa0","nopf;":"\ud835\udd5f","Nopf;":"\u2115","Not;":"\u2aec","not;":"\xac",not:"\xac","NotCongruent;":"\u2262","NotCupCap;":"\u226d","NotDoubleVerticalBar;":"\u2226","NotElement;":"\u2209","NotEqual;":"\u2260","NotEqualTilde;":"\u2242\u0338","NotExists;":"\u2204","NotGreater;":"\u226f","NotGreaterEqual;":"\u2271","NotGreaterFullEqual;":"\u2267\u0338","NotGreaterGreater;":"\u226b\u0338","NotGreaterLess;":"\u2279","NotGreaterSlantEqual;":"\u2a7e\u0338","NotGreaterTilde;":"\u2275","NotHumpDownHump;":"\u224e\u0338","NotHumpEqual;":"\u224f\u0338","notin;":"\u2209","notindot;":"\u22f5\u0338","notinE;":"\u22f9\u0338","notinva;":"\u2209","notinvb;":"\u22f7","notinvc;":"\u22f6","NotLeftTriangleBar;":"\u29cf\u0338","NotLeftTriangle;":"\u22ea","NotLeftTriangleEqual;":"\u22ec","NotLess;":"\u226e","NotLessEqual;":"\u2270","NotLessGreater;":"\u2278","NotLessLess;":"\u226a\u0338","NotLessSlantEqual;":"\u2a7d\u0338","NotLessTilde;":"\u2274","NotNestedGreaterGreater;":"\u2aa2\u0338","NotNestedLessLess;":"\u2aa1\u0338","notni;":"\u220c","notniva;":"\u220c","notnivb;":"\u22fe","notnivc;":"\u22fd","NotPrecedes;":"\u2280","NotPrecedesEqual;":"\u2aaf\u0338","NotPrecedesSlantEqual;":"\u22e0","NotReverseElement;":"\u220c","NotRightTriangleBar;":"\u29d0\u0338","NotRightTriangle;":"\u22eb","NotRightTriangleEqual;":"\u22ed","NotSquareSubset;":"\u228f\u0338","NotSquareSubsetEqual;":"\u22e2","NotSquareSuperset;":"\u2290\u0338","NotSquareSupersetEqual;":"\u22e3","NotSubset;":"\u2282\u20d2","NotSubsetEqual;":"\u2288","NotSucceeds;":"\u2281","NotSucceedsEqual;":"\u2ab0\u0338","NotSucceedsSlantEqual;":"\u22e1","NotSucceedsTilde;":"\u227f\u0338","NotSuperset;":"\u2283\u20d2","NotSupersetEqual;":"\u2289","NotTilde;":"\u2241","NotTildeEqual;":"\u2244","NotTildeFullEqual;":"\u2247","NotTildeTilde;":"\u2249","NotVerticalBar;":"\u2224","nparallel;":"\u2226","npar;":"\u2226","nparsl;":"\u2afd\u20e5","npart;":"\u2202\u0338","npolint;":"\u2a14","npr;":"\u2280","nprcue;":"\u22e0","nprec;":"\u2280","npreceq;":"\u2aaf\u0338","npre;":"\u2aaf\u0338","nrarrc;":"\u2933\u0338","nrarr;":"\u219b","nrArr;":"\u21cf","nrarrw;":"\u219d\u0338","nrightarrow;":"\u219b","nRightarrow;":"\u21cf","nrtri;":"\u22eb","nrtrie;":"\u22ed","nsc;":"\u2281","nsccue;":"\u22e1","nsce;":"\u2ab0\u0338","Nscr;":"\ud835\udca9","nscr;":"\ud835\udcc3","nshortmid;":"\u2224","nshortparallel;":"\u2226","nsim;":"\u2241","nsime;":"\u2244","nsimeq;":"\u2244","nsmid;":"\u2224","nspar;":"\u2226","nsqsube;":"\u22e2","nsqsupe;":"\u22e3","nsub;":"\u2284","nsubE;":"\u2ac5\u0338","nsube;":"\u2288","nsubset;":"\u2282\u20d2","nsubseteq;":"\u2288","nsubseteqq;":"\u2ac5\u0338","nsucc;":"\u2281","nsucceq;":"\u2ab0\u0338","nsup;":"\u2285","nsupE;":"\u2ac6\u0338","nsupe;":"\u2289","nsupset;":"\u2283\u20d2","nsupseteq;":"\u2289","nsupseteqq;":"\u2ac6\u0338","ntgl;":"\u2279","Ntilde;":"\xd1",Ntilde:"\xd1","ntilde;":"\xf1",ntilde:"\xf1","ntlg;":"\u2278","ntriangleleft;":"\u22ea","ntrianglelefteq;":"\u22ec","ntriangleright;":"\u22eb","ntrianglerighteq;":"\u22ed","Nu;":"\u039d","nu;":"\u03bd","num;":"#","numero;":"\u2116","numsp;":"\u2007","nvap;":"\u224d\u20d2","nvdash;":"\u22ac","nvDash;":"\u22ad","nVdash;":"\u22ae","nVDash;":"\u22af","nvge;":"\u2265\u20d2","nvgt;":">\u20d2","nvHarr;":"\u2904","nvinfin;":"\u29de","nvlArr;":"\u2902","nvle;":"\u2264\u20d2","nvlt;":"<\u20d2","nvltrie;":"\u22b4\u20d2","nvrArr;":"\u2903","nvrtrie;":"\u22b5\u20d2","nvsim;":"\u223c\u20d2","nwarhk;":"\u2923","nwarr;":"\u2196","nwArr;":"\u21d6","nwarrow;":"\u2196","nwnear;":"\u2927","Oacute;":"\xd3",Oacute:"\xd3","oacute;":"\xf3",oacute:"\xf3","oast;":"\u229b","Ocirc;":"\xd4",Ocirc:"\xd4","ocirc;":"\xf4",ocirc:"\xf4","ocir;":"\u229a","Ocy;":"\u041e","ocy;":"\u043e","odash;":"\u229d","Odblac;":"\u0150","odblac;":"\u0151","odiv;":"\u2a38","odot;":"\u2299","odsold;":"\u29bc","OElig;":"\u0152","oelig;":"\u0153","ofcir;":"\u29bf","Ofr;":"\ud835\udd12","ofr;":"\ud835\udd2c","ogon;":"\u02db","Ograve;":"\xd2",Ograve:"\xd2","ograve;":"\xf2",ograve:"\xf2","ogt;":"\u29c1","ohbar;":"\u29b5","ohm;":"\u03a9","oint;":"\u222e","olarr;":"\u21ba","olcir;":"\u29be","olcross;":"\u29bb","oline;":"\u203e","olt;":"\u29c0","Omacr;":"\u014c","omacr;":"\u014d","Omega;":"\u03a9","omega;":"\u03c9","Omicron;":"\u039f","omicron;":"\u03bf","omid;":"\u29b6","ominus;":"\u2296","Oopf;":"\ud835\udd46","oopf;":"\ud835\udd60","opar;":"\u29b7","OpenCurlyDoubleQuote;":"\u201c","OpenCurlyQuote;":"\u2018","operp;":"\u29b9","oplus;":"\u2295","orarr;":"\u21bb","Or;":"\u2a54","or;":"\u2228","ord;":"\u2a5d","order;":"\u2134","orderof;":"\u2134","ordf;":"\xaa",ordf:"\xaa","ordm;":"\xba",ordm:"\xba","origof;":"\u22b6","oror;":"\u2a56","orslope;":"\u2a57","orv;":"\u2a5b","oS;":"\u24c8","Oscr;":"\ud835\udcaa","oscr;":"\u2134","Oslash;":"\xd8",Oslash:"\xd8","oslash;":"\xf8",oslash:"\xf8","osol;":"\u2298","Otilde;":"\xd5",Otilde:"\xd5","otilde;":"\xf5",otilde:"\xf5","otimesas;":"\u2a36","Otimes;":"\u2a37","otimes;":"\u2297","Ouml;":"\xd6",Ouml:"\xd6","ouml;":"\xf6",ouml:"\xf6","ovbar;":"\u233d","OverBar;":"\u203e","OverBrace;":"\u23de","OverBracket;":"\u23b4","OverParenthesis;":"\u23dc","para;":"\xb6",para:"\xb6","parallel;":"\u2225","par;":"\u2225","parsim;":"\u2af3","parsl;":"\u2afd","part;":"\u2202","PartialD;":"\u2202","Pcy;":"\u041f","pcy;":"\u043f","percnt;":"%","period;":".","permil;":"\u2030","perp;":"\u22a5","pertenk;":"\u2031","Pfr;":"\ud835\udd13","pfr;":"\ud835\udd2d","Phi;":"\u03a6","phi;":"\u03c6","phiv;":"\u03d5","phmmat;":"\u2133","phone;":"\u260e","Pi;":"\u03a0","pi;":"\u03c0","pitchfork;":"\u22d4","piv;":"\u03d6","planck;":"\u210f","planckh;":"\u210e","plankv;":"\u210f","plusacir;":"\u2a23","plusb;":"\u229e","pluscir;":"\u2a22","plus;":"+","plusdo;":"\u2214","plusdu;":"\u2a25","pluse;":"\u2a72","PlusMinus;":"\xb1","plusmn;":"\xb1",plusmn:"\xb1","plussim;":"\u2a26","plustwo;":"\u2a27","pm;":"\xb1","Poincareplane;":"\u210c","pointint;":"\u2a15","popf;":"\ud835\udd61","Popf;":"\u2119","pound;":"\xa3",pound:"\xa3","prap;":"\u2ab7","Pr;":"\u2abb","pr;":"\u227a","prcue;":"\u227c","precapprox;":"\u2ab7","prec;":"\u227a","preccurlyeq;":"\u227c","Precedes;":"\u227a","PrecedesEqual;":"\u2aaf","PrecedesSlantEqual;":"\u227c","PrecedesTilde;":"\u227e","preceq;":"\u2aaf","precnapprox;":"\u2ab9","precneqq;":"\u2ab5","precnsim;":"\u22e8","pre;":"\u2aaf","prE;":"\u2ab3","precsim;":"\u227e","prime;":"\u2032","Prime;":"\u2033","primes;":"\u2119","prnap;":"\u2ab9","prnE;":"\u2ab5","prnsim;":"\u22e8","prod;":"\u220f","Product;":"\u220f","profalar;":"\u232e","profline;":"\u2312","profsurf;":"\u2313","prop;":"\u221d","Proportional;":"\u221d","Proportion;":"\u2237","propto;":"\u221d","prsim;":"\u227e","prurel;":"\u22b0","Pscr;":"\ud835\udcab","pscr;":"\ud835\udcc5","Psi;":"\u03a8","psi;":"\u03c8","puncsp;":"\u2008","Qfr;":"\ud835\udd14","qfr;":"\ud835\udd2e","qint;":"\u2a0c","qopf;":"\ud835\udd62","Qopf;":"\u211a","qprime;":"\u2057","Qscr;":"\ud835\udcac","qscr;":"\ud835\udcc6","quaternions;":"\u210d","quatint;":"\u2a16","quest;":"?","questeq;":"\u225f","quot;":\'"\',quot:\'"\',"QUOT;":\'"\',QUOT:\'"\',"rAarr;":"\u21db","race;":"\u223d\u0331","Racute;":"\u0154","racute;":"\u0155","radic;":"\u221a","raemptyv;":"\u29b3","rang;":"\u27e9","Rang;":"\u27eb","rangd;":"\u2992","range;":"\u29a5","rangle;":"\u27e9","raquo;":"\xbb",raquo:"\xbb","rarrap;":"\u2975","rarrb;":"\u21e5","rarrbfs;":"\u2920","rarrc;":"\u2933","rarr;":"\u2192","Rarr;":"\u21a0","rArr;":"\u21d2","rarrfs;":"\u291e","rarrhk;":"\u21aa","rarrlp;":"\u21ac","rarrpl;":"\u2945","rarrsim;":"\u2974","Rarrtl;":"\u2916","rarrtl;":"\u21a3","rarrw;":"\u219d","ratail;":"\u291a","rAtail;":"\u291c","ratio;":"\u2236","rationals;":"\u211a","rbarr;":"\u290d","rBarr;":"\u290f","RBarr;":"\u2910","rbbrk;":"\u2773","rbrace;":"}","rbrack;":"]","rbrke;":"\u298c","rbrksld;":"\u298e","rbrkslu;":"\u2990","Rcaron;":"\u0158","rcaron;":"\u0159","Rcedil;":"\u0156","rcedil;":"\u0157","rceil;":"\u2309","rcub;":"}","Rcy;":"\u0420","rcy;":"\u0440","rdca;":"\u2937","rdldhar;":"\u2969","rdquo;":"\u201d","rdquor;":"\u201d","rdsh;":"\u21b3","real;":"\u211c","realine;":"\u211b","realpart;":"\u211c","reals;":"\u211d","Re;":"\u211c","rect;":"\u25ad","reg;":"\xae",reg:"\xae","REG;":"\xae",REG:"\xae","ReverseElement;":"\u220b","ReverseEquilibrium;":"\u21cb","ReverseUpEquilibrium;":"\u296f","rfisht;":"\u297d","rfloor;":"\u230b","rfr;":"\ud835\udd2f","Rfr;":"\u211c","rHar;":"\u2964","rhard;":"\u21c1","rharu;":"\u21c0","rharul;":"\u296c","Rho;":"\u03a1","rho;":"\u03c1","rhov;":"\u03f1","RightAngleBracket;":"\u27e9","RightArrowBar;":"\u21e5","rightarrow;":"\u2192","RightArrow;":"\u2192","Rightarrow;":"\u21d2","RightArrowLeftArrow;":"\u21c4","rightarrowtail;":"\u21a3","RightCeiling;":"\u2309","RightDoubleBracket;":"\u27e7","RightDownTeeVector;":"\u295d","RightDownVectorBar;":"\u2955","RightDownVector;":"\u21c2","RightFloor;":"\u230b","rightharpoondown;":"\u21c1","rightharpoonup;":"\u21c0","rightleftarrows;":"\u21c4","rightleftharpoons;":"\u21cc","rightrightarrows;":"\u21c9","rightsquigarrow;":"\u219d","RightTeeArrow;":"\u21a6","RightTee;":"\u22a2","RightTeeVector;":"\u295b","rightthreetimes;":"\u22cc","RightTriangleBar;":"\u29d0","RightTriangle;":"\u22b3","RightTriangleEqual;":"\u22b5","RightUpDownVector;":"\u294f","RightUpTeeVector;":"\u295c","RightUpVectorBar;":"\u2954","RightUpVector;":"\u21be","RightVectorBar;":"\u2953","RightVector;":"\u21c0","ring;":"\u02da","risingdotseq;":"\u2253","rlarr;":"\u21c4","rlhar;":"\u21cc","rlm;":"\u200f","rmoustache;":"\u23b1","rmoust;":"\u23b1","rnmid;":"\u2aee","roang;":"\u27ed","roarr;":"\u21fe","robrk;":"\u27e7","ropar;":"\u2986","ropf;":"\ud835\udd63","Ropf;":"\u211d","roplus;":"\u2a2e","rotimes;":"\u2a35","RoundImplies;":"\u2970","rpar;":")","rpargt;":"\u2994","rppolint;":"\u2a12","rrarr;":"\u21c9","Rrightarrow;":"\u21db","rsaquo;":"\u203a","rscr;":"\ud835\udcc7","Rscr;":"\u211b","rsh;":"\u21b1","Rsh;":"\u21b1","rsqb;":"]","rsquo;":"\u2019","rsquor;":"\u2019","rthree;":"\u22cc","rtimes;":"\u22ca","rtri;":"\u25b9","rtrie;":"\u22b5","rtrif;":"\u25b8","rtriltri;":"\u29ce","RuleDelayed;":"\u29f4","ruluhar;":"\u2968","rx;":"\u211e","Sacute;":"\u015a","sacute;":"\u015b","sbquo;":"\u201a","scap;":"\u2ab8","Scaron;":"\u0160","scaron;":"\u0161","Sc;":"\u2abc","sc;":"\u227b","sccue;":"\u227d","sce;":"\u2ab0","scE;":"\u2ab4","Scedil;":"\u015e","scedil;":"\u015f","Scirc;":"\u015c","scirc;":"\u015d","scnap;":"\u2aba","scnE;":"\u2ab6","scnsim;":"\u22e9","scpolint;":"\u2a13","scsim;":"\u227f","Scy;":"\u0421","scy;":"\u0441","sdotb;":"\u22a1","sdot;":"\u22c5","sdote;":"\u2a66","searhk;":"\u2925","searr;":"\u2198","seArr;":"\u21d8","searrow;":"\u2198","sect;":"\xa7",sect:"\xa7","semi;":";","seswar;":"\u2929","setminus;":"\u2216","setmn;":"\u2216","sext;":"\u2736","Sfr;":"\ud835\udd16","sfr;":"\ud835\udd30","sfrown;":"\u2322","sharp;":"\u266f","SHCHcy;":"\u0429","shchcy;":"\u0449","SHcy;":"\u0428","shcy;":"\u0448","ShortDownArrow;":"\u2193","ShortLeftArrow;":"\u2190","shortmid;":"\u2223","shortparallel;":"\u2225","ShortRightArrow;":"\u2192","ShortUpArrow;":"\u2191","shy;":"\xad",shy:"\xad","Sigma;":"\u03a3","sigma;":"\u03c3","sigmaf;":"\u03c2","sigmav;":"\u03c2","sim;":"\u223c","simdot;":"\u2a6a","sime;":"\u2243","simeq;":"\u2243","simg;":"\u2a9e","simgE;":"\u2aa0","siml;":"\u2a9d","simlE;":"\u2a9f","simne;":"\u2246","simplus;":"\u2a24","simrarr;":"\u2972","slarr;":"\u2190","SmallCircle;":"\u2218","smallsetminus;":"\u2216","smashp;":"\u2a33","smeparsl;":"\u29e4","smid;":"\u2223","smile;":"\u2323","smt;":"\u2aaa","smte;":"\u2aac","smtes;":"\u2aac\ufe00","SOFTcy;":"\u042c","softcy;":"\u044c","solbar;":"\u233f","solb;":"\u29c4","sol;":"/","Sopf;":"\ud835\udd4a","sopf;":"\ud835\udd64","spades;":"\u2660","spadesuit;":"\u2660","spar;":"\u2225","sqcap;":"\u2293","sqcaps;":"\u2293\ufe00","sqcup;":"\u2294","sqcups;":"\u2294\ufe00","Sqrt;":"\u221a","sqsub;":"\u228f","sqsube;":"\u2291","sqsubset;":"\u228f","sqsubseteq;":"\u2291","sqsup;":"\u2290","sqsupe;":"\u2292","sqsupset;":"\u2290","sqsupseteq;":"\u2292","square;":"\u25a1","Square;":"\u25a1","SquareIntersection;":"\u2293","SquareSubset;":"\u228f","SquareSubsetEqual;":"\u2291","SquareSuperset;":"\u2290","SquareSupersetEqual;":"\u2292","SquareUnion;":"\u2294","squarf;":"\u25aa","squ;":"\u25a1","squf;":"\u25aa","srarr;":"\u2192","Sscr;":"\ud835\udcae","sscr;":"\ud835\udcc8","ssetmn;":"\u2216","ssmile;":"\u2323","sstarf;":"\u22c6","Star;":"\u22c6","star;":"\u2606","starf;":"\u2605","straightepsilon;":"\u03f5","straightphi;":"\u03d5","strns;":"\xaf","sub;":"\u2282","Sub;":"\u22d0","subdot;":"\u2abd","subE;":"\u2ac5","sube;":"\u2286","subedot;":"\u2ac3","submult;":"\u2ac1","subnE;":"\u2acb","subne;":"\u228a","subplus;":"\u2abf","subrarr;":"\u2979","subset;":"\u2282","Subset;":"\u22d0","subseteq;":"\u2286","subseteqq;":"\u2ac5","SubsetEqual;":"\u2286","subsetneq;":"\u228a","subsetneqq;":"\u2acb","subsim;":"\u2ac7","subsub;":"\u2ad5","subsup;":"\u2ad3","succapprox;":"\u2ab8","succ;":"\u227b","succcurlyeq;":"\u227d","Succeeds;":"\u227b","SucceedsEqual;":"\u2ab0","SucceedsSlantEqual;":"\u227d","SucceedsTilde;":"\u227f","succeq;":"\u2ab0","succnapprox;":"\u2aba","succneqq;":"\u2ab6","succnsim;":"\u22e9","succsim;":"\u227f","SuchThat;":"\u220b","sum;":"\u2211","Sum;":"\u2211","sung;":"\u266a","sup1;":"\xb9",sup1:"\xb9","sup2;":"\xb2",sup2:"\xb2","sup3;":"\xb3",sup3:"\xb3","sup;":"\u2283","Sup;":"\u22d1","supdot;":"\u2abe","supdsub;":"\u2ad8","supE;":"\u2ac6","supe;":"\u2287","supedot;":"\u2ac4","Superset;":"\u2283","SupersetEqual;":"\u2287","suphsol;":"\u27c9","suphsub;":"\u2ad7","suplarr;":"\u297b","supmult;":"\u2ac2","supnE;":"\u2acc","supne;":"\u228b","supplus;":"\u2ac0","supset;":"\u2283","Supset;":"\u22d1","supseteq;":"\u2287","supseteqq;":"\u2ac6","supsetneq;":"\u228b","supsetneqq;":"\u2acc","supsim;":"\u2ac8","supsub;":"\u2ad4","supsup;":"\u2ad6","swarhk;":"\u2926","swarr;":"\u2199","swArr;":"\u21d9","swarrow;":"\u2199","swnwar;":"\u292a","szlig;":"\xdf",szlig:"\xdf","Tab;":"\t","target;":"\u2316","Tau;":"\u03a4","tau;":"\u03c4","tbrk;":"\u23b4","Tcaron;":"\u0164","tcaron;":"\u0165","Tcedil;":"\u0162","tcedil;":"\u0163","Tcy;":"\u0422","tcy;":"\u0442","tdot;":"\u20db","telrec;":"\u2315","Tfr;":"\ud835\udd17","tfr;":"\ud835\udd31","there4;":"\u2234","therefore;":"\u2234","Therefore;":"\u2234","Theta;":"\u0398","theta;":"\u03b8","thetasym;":"\u03d1","thetav;":"\u03d1","thickapprox;":"\u2248","thicksim;":"\u223c","ThickSpace;":"\u205f\u200a","ThinSpace;":"\u2009","thinsp;":"\u2009","thkap;":"\u2248","thksim;":"\u223c","THORN;":"\xde",THORN:"\xde","thorn;":"\xfe",thorn:"\xfe","tilde;":"\u02dc","Tilde;":"\u223c","TildeEqual;":"\u2243","TildeFullEqual;":"\u2245","TildeTilde;":"\u2248","timesbar;":"\u2a31","timesb;":"\u22a0","times;":"\xd7",times:"\xd7","timesd;":"\u2a30","tint;":"\u222d","toea;":"\u2928","topbot;":"\u2336","topcir;":"\u2af1","top;":"\u22a4","Topf;":"\ud835\udd4b","topf;":"\ud835\udd65","topfork;":"\u2ada","tosa;":"\u2929","tprime;":"\u2034","trade;":"\u2122","TRADE;":"\u2122","triangle;":"\u25b5","triangledown;":"\u25bf","triangleleft;":"\u25c3","trianglelefteq;":"\u22b4","triangleq;":"\u225c","triangleright;":"\u25b9","trianglerighteq;":"\u22b5","tridot;":"\u25ec","trie;":"\u225c","triminus;":"\u2a3a","TripleDot;":"\u20db","triplus;":"\u2a39","trisb;":"\u29cd","tritime;":"\u2a3b","trpezium;":"\u23e2","Tscr;":"\ud835\udcaf","tscr;":"\ud835\udcc9","TScy;":"\u0426","tscy;":"\u0446","TSHcy;":"\u040b","tshcy;":"\u045b","Tstrok;":"\u0166","tstrok;":"\u0167","twixt;":"\u226c","twoheadleftarrow;":"\u219e","twoheadrightarrow;":"\u21a0","Uacute;":"\xda",Uacute:"\xda","uacute;":"\xfa",uacute:"\xfa","uarr;":"\u2191","Uarr;":"\u219f","uArr;":"\u21d1","Uarrocir;":"\u2949","Ubrcy;":"\u040e","ubrcy;":"\u045e","Ubreve;":"\u016c","ubreve;":"\u016d","Ucirc;":"\xdb",Ucirc:"\xdb","ucirc;":"\xfb",ucirc:"\xfb","Ucy;":"\u0423","ucy;":"\u0443","udarr;":"\u21c5","Udblac;":"\u0170","udblac;":"\u0171","udhar;":"\u296e","ufisht;":"\u297e","Ufr;":"\ud835\udd18","ufr;":"\ud835\udd32","Ugrave;":"\xd9",Ugrave:"\xd9","ugrave;":"\xf9",ugrave:"\xf9","uHar;":"\u2963","uharl;":"\u21bf","uharr;":"\u21be","uhblk;":"\u2580","ulcorn;":"\u231c","ulcorner;":"\u231c","ulcrop;":"\u230f","ultri;":"\u25f8","Umacr;":"\u016a","umacr;":"\u016b","uml;":"\xa8",uml:"\xa8","UnderBar;":"_","UnderBrace;":"\u23df","UnderBracket;":"\u23b5","UnderParenthesis;":"\u23dd","Union;":"\u22c3","UnionPlus;":"\u228e","Uogon;":"\u0172","uogon;":"\u0173","Uopf;":"\ud835\udd4c","uopf;":"\ud835\udd66","UpArrowBar;":"\u2912","uparrow;":"\u2191","UpArrow;":"\u2191","Uparrow;":"\u21d1","UpArrowDownArrow;":"\u21c5","updownarrow;":"\u2195","UpDownArrow;":"\u2195","Updownarrow;":"\u21d5","UpEquilibrium;":"\u296e","upharpoonleft;":"\u21bf","upharpoonright;":"\u21be","uplus;":"\u228e","UpperLeftArrow;":"\u2196","UpperRightArrow;":"\u2197","upsi;":"\u03c5","Upsi;":"\u03d2","upsih;":"\u03d2","Upsilon;":"\u03a5","upsilon;":"\u03c5","UpTeeArrow;":"\u21a5","UpTee;":"\u22a5","upuparrows;":"\u21c8","urcorn;":"\u231d","urcorner;":"\u231d","urcrop;":"\u230e","Uring;":"\u016e","uring;":"\u016f","urtri;":"\u25f9","Uscr;":"\ud835\udcb0","uscr;":"\ud835\udcca","utdot;":"\u22f0","Utilde;":"\u0168","utilde;":"\u0169","utri;":"\u25b5","utrif;":"\u25b4","uuarr;":"\u21c8","Uuml;":"\xdc",Uuml:"\xdc","uuml;":"\xfc",uuml:"\xfc","uwangle;":"\u29a7","vangrt;":"\u299c","varepsilon;":"\u03f5","varkappa;":"\u03f0","varnothing;":"\u2205","varphi;":"\u03d5","varpi;":"\u03d6","varpropto;":"\u221d","varr;":"\u2195","vArr;":"\u21d5","varrho;":"\u03f1","varsigma;":"\u03c2","varsubsetneq;":"\u228a\ufe00","varsubsetneqq;":"\u2acb\ufe00","varsupsetneq;":"\u228b\ufe00","varsupsetneqq;":"\u2acc\ufe00","vartheta;":"\u03d1","vartriangleleft;":"\u22b2","vartriangleright;":"\u22b3","vBar;":"\u2ae8","Vbar;":"\u2aeb","vBarv;":"\u2ae9","Vcy;":"\u0412","vcy;":"\u0432","vdash;":"\u22a2","vDash;":"\u22a8","Vdash;":"\u22a9","VDash;":"\u22ab","Vdashl;":"\u2ae6","veebar;":"\u22bb","vee;":"\u2228","Vee;":"\u22c1","veeeq;":"\u225a","vellip;":"\u22ee","verbar;":"|","Verbar;":"\u2016","vert;":"|","Vert;":"\u2016","VerticalBar;":"\u2223","VerticalLine;":"|","VerticalSeparator;":"\u2758","VerticalTilde;":"\u2240","VeryThinSpace;":"\u200a","Vfr;":"\ud835\udd19","vfr;":"\ud835\udd33","vltri;":"\u22b2","vnsub;":"\u2282\u20d2","vnsup;":"\u2283\u20d2","Vopf;":"\ud835\udd4d","vopf;":"\ud835\udd67","vprop;":"\u221d","vrtri;":"\u22b3","Vscr;":"\ud835\udcb1","vscr;":"\ud835\udccb","vsubnE;":"\u2acb\ufe00","vsubne;":"\u228a\ufe00","vsupnE;":"\u2acc\ufe00","vsupne;":"\u228b\ufe00","Vvdash;":"\u22aa","vzigzag;":"\u299a","Wcirc;":"\u0174","wcirc;":"\u0175","wedbar;":"\u2a5f","wedge;":"\u2227","Wedge;":"\u22c0","wedgeq;":"\u2259","weierp;":"\u2118","Wfr;":"\ud835\udd1a","wfr;":"\ud835\udd34","Wopf;":"\ud835\udd4e","wopf;":"\ud835\udd68","wp;":"\u2118","wr;":"\u2240","wreath;":"\u2240","Wscr;":"\ud835\udcb2","wscr;":"\ud835\udccc","xcap;":"\u22c2","xcirc;":"\u25ef","xcup;":"\u22c3","xdtri;":"\u25bd","Xfr;":"\ud835\udd1b","xfr;":"\ud835\udd35","xharr;":"\u27f7","xhArr;":"\u27fa","Xi;":"\u039e","xi;":"\u03be","xlarr;":"\u27f5","xlArr;":"\u27f8","xmap;":"\u27fc","xnis;":"\u22fb","xodot;":"\u2a00","Xopf;":"\ud835\udd4f","xopf;":"\ud835\udd69","xoplus;":"\u2a01","xotime;":"\u2a02","xrarr;":"\u27f6","xrArr;":"\u27f9","Xscr;":"\ud835\udcb3","xscr;":"\ud835\udccd","xsqcup;":"\u2a06","xuplus;":"\u2a04","xutri;":"\u25b3","xvee;":"\u22c1","xwedge;":"\u22c0","Yacute;":"\xdd",Yacute:"\xdd","yacute;":"\xfd",yacute:"\xfd","YAcy;":"\u042f","yacy;":"\u044f","Ycirc;":"\u0176","ycirc;":"\u0177","Ycy;":"\u042b","ycy;":"\u044b","yen;":"\xa5",yen:"\xa5","Yfr;":"\ud835\udd1c","yfr;":"\ud835\udd36","YIcy;":"\u0407","yicy;":"\u0457","Yopf;":"\ud835\udd50","yopf;":"\ud835\udd6a","Yscr;":"\ud835\udcb4","yscr;":"\ud835\udcce","YUcy;":"\u042e","yucy;":"\u044e","yuml;":"\xff",yuml:"\xff","Yuml;":"\u0178","Zacute;":"\u0179","zacute;":"\u017a","Zcaron;":"\u017d","zcaron;":"\u017e","Zcy;":"\u0417","zcy;":"\u0437","Zdot;":"\u017b","zdot;":"\u017c","zeetrf;":"\u2128","ZeroWidthSpace;":"\u200b","Zeta;":"\u0396","zeta;":"\u03b6","zfr;":"\ud835\udd37","Zfr;":"\u2128","ZHcy;":"\u0416","zhcy;":"\u0436","zigrarr;":"\u21dd","zopf;":"\ud835\udd6b","Zopf;":"\u2124","Zscr;":"\ud835\udcb5","zscr;":"\ud835\udccf","zwj;":"\u200d","zwnj;":"\u200c"}\n},{}],13:[function(_dereq_,module){function replacer(key,value){return util.isUndefined(value)?""+value:!util.isNumber(value)||!isNaN(value)&&isFinite(value)?util.isFunction(value)||util.isRegExp(value)?""+value:value:""+value}function truncate(s,n){return util.isString(s)?n>s.length?s:s.slice(0,n):s}function getMessage(self){return truncate(JSON.stringify(self.actual,replacer),128)+" "+self.operator+" "+truncate(JSON.stringify(self.expected,replacer),128)}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected){if(actual===expected)return!0;if(util.isBuffer(actual)&&util.isBuffer(expected)){if(actual.length!=expected.length)return!1;for(var i=0;actual.length>i;i++)if(actual[i]!==expected[i])return!1;return!0}return util.isDate(actual)&&util.isDate(expected)?actual.getTime()===expected.getTime():util.isRegExp(actual)&&util.isRegExp(expected)?actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase:util.isObject(actual)||util.isObject(expected)?objEquiv(actual,expected):actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function objEquiv(a,b){if(util.isNullOrUndefined(a)||util.isNullOrUndefined(b))return!1;if(a.prototype!==b.prototype)return!1;if(isArguments(a))return isArguments(b)?(a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b)):!1;try{var key,i,ka=objectKeys(a),kb=objectKeys(b)}catch(e){return!1}if(ka.length!=kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;i>=0;i--)if(ka[i]!=kb[i])return!1;for(i=ka.length-1;i>=0;i--)if(key=ka[i],!_deepEqual(a[key],b[key]))return!1;return!0}function expectedException(actual,expected){return actual&&expected?"[object RegExp]"==Object.prototype.toString.call(expected)?expected.test(actual):actual instanceof expected?!0:expected.call({},actual)===!0?!0:!1:!1}function _throws(shouldThrow,block,expected,message){var actual;util.isString(expected)&&(message=expected,expected=null);try{block()}catch(e){actual=e}if(message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message),!shouldThrow&&expectedException(actual,expected)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}var util=_dereq_("util/"),pSlice=Array.prototype.slice,hasOwn=Object.prototype.hasOwnProperty,assert=module.exports=ok;assert.AssertionError=function(options){this.name="AssertionError",this.actual=options.actual,this.expected=options.expected,this.operator=options.operator,options.message?(this.message=options.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var stackStartFunction=options.stackStartFunction||fail;if(Error.captureStackTrace)Error.captureStackTrace(this,stackStartFunction);else{var err=Error();if(err.stack){var out=err.stack,fn_name=stackStartFunction.name,idx=out.indexOf("\\n"+fn_name);if(idx>=0){var next_line=out.indexOf("\\n",idx+1);out=out.substring(next_line+1)}this.stack=out}}},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(){_throws.apply(this,[!0].concat(pSlice.call(arguments)))},assert.doesNotThrow=function(){_throws.apply(this,[!1].concat(pSlice.call(arguments)))},assert.ifError=function(err){if(err)throw err};var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}},{"util/":15}],14:[function(_dereq_,module){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],15:[function(_dereq_,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"\x1b["+inspect.colors[style][0]+"m"+str+"\x1b["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str){return str}function arrayToHash(array){var hash={};return array.forEach(function(val){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="\'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\')+"\'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)hasOwnProperty(value,i+"")?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,i+"",!0)):output.push("");return keys.forEach(function(key){key.match(/^\\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(0>ctx.seen.indexOf(desc.value)?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\\n")>-1&&(str=array?str.split("\\n").map(function(line){return"  "+line}).join("\\n").substr(2):"\\n"+str.split("\\n").map(function(line){return"   "+line}).join("\\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/\'/g,"\\\\\'").replace(/\\\\"/g,\'"\').replace(/(^"|"$)/g,"\'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\\n")>=0&&numLinesEst++,prev+cur.replace(/\\u001b\\[\\d\\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\\n ")+" "+output.join(",\\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||arg===void 0}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;arguments.length>i;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=(f+"").replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return args[i++]+"";case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(RegExp("\\\\b"+set+"\\\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=_dereq_("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=_dereq_("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,_dereq_("/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":14,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18,inherits:17}],16:[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length))throw er=arguments[1],er instanceof Error?er:TypeError(\'Uncaught, unspecified "error" event.\');if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i--\x3e0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],17:[function(_dereq_,module){module.exports="function"==typeof Object.create?function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],18:[function(_dereq_,module){function noop(){}var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){var source=ev.source;if((source===window||null===source)&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.once=noop,process.off=noop,process.emit=noop,process.binding=function(){throw Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw Error("process.chdir is not supported")}},{}],19:[function(_dereq_,module){module.exports=_dereq_(14)},{}],20:[function(_dereq_,module){module.exports=_dereq_(15)},{"./support/isBuffer":19,"/usr/local/lib/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":18,inherits:17}]},{},[9])(9)}),ace.define("ace/mode/html_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/html/saxparser"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop");acequire("../lib/lang");var Mirror=acequire("../worker/mirror").Mirror,SAXParser=acequire("./html/saxparser").SAXParser,errorTypes={"expected-doctype-but-got-start-tag":"info","expected-doctype-but-got-chars":"info","non-html-root":"info"},Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.context=null};oop.inherits(Worker,Mirror),function(){this.setOptions=function(options){this.context=options.context},this.onUpdate=function(){var value=this.doc.getValue();if(value){var parser=new SAXParser,errors=[],noop=function(){};parser.contentHandler={startDocument:noop,endDocument:noop,startElement:noop,endElement:noop,characters:noop},parser.errorHandler={error:function(message,location,code){errors.push({row:location.line,column:location.column,text:message,type:errorTypes[code]||"error"})}},this.context?parser.parseFragment(value,this.context):parser.parse(value),this.sender.emit("error",errors)}}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object\n});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'
        },
        "2S6r": function(e, t, n) {
            "use strict";
            n.r(t);
            var r = n("CcnG"),
                i = function() {},
                o = n("pMnS"),
                a = n("gIcY"),
                s = (n("Bhyg"), n("FNQ8"), n("vp08"), function() {
                    function e(e, t) {
                        var n = this;
                        this.zone = t, this.textChanged = new r.EventEmitter, this.textChange = new r.EventEmitter, this.style = {}, this._options = {}, this._readOnly = !1, this._theme = "monokai", this._mode = "html", this._autoUpdateContent = !0, this._durationBeforeCallback = 0, this._text = "", this._onChange = function(e) {}, this._onTouched = function() {};
                        var i = e.nativeElement;
                        this.zone.runOutsideAngular(function() {
                            n._editor = ace.edit(i)
                        }), this._editor.$blockScrolling = 1 / 0
                    }
                    return e.prototype.ngOnInit = function() {
                        this.init(), this.initEvents()
                    }, e.prototype.ngOnDestroy = function() {
                        this._editor.destroy()
                    }, e.prototype.init = function() {
                        this.setOptions(this._options || {}), this.setTheme(this._theme), this.setMode(this._mode), this.setReadOnly(this._readOnly)
                    }, e.prototype.initEvents = function() {
                        var e = this;
                        this._editor.on("change", function() {
                            return e.updateText()
                        }), this._editor.on("paste", function() {
                            return e.updateText()
                        })
                    }, e.prototype.updateText = function() {
                        var e = this,
                            t = this._editor.getValue();
                        t !== this.oldText && (this._durationBeforeCallback ? (this.timeoutSaving && clearTimeout(this.timeoutSaving), this.timeoutSaving = setTimeout(function() {
                            e._text = t, e.zone.run(function() {
                                e.textChange.emit(t), e.textChanged.emit(t)
                            }), e.timeoutSaving = null
                        }, this._durationBeforeCallback)) : (this._text = t, this.zone.run(function() {
                            e.textChange.emit(t), e.textChanged.emit(t)
                        }), this._onChange(t)), this.oldText = t)
                    }, Object.defineProperty(e.prototype, "options", {
                        set: function(e) {
                            this.setOptions(e)
                        },
                        enumerable: !0,
                        configurable: !0
                    }), e.prototype.setOptions = function(e) {
                        this._options = e, this._editor.setOptions(e || {})
                    }, Object.defineProperty(e.prototype, "readOnly", {
                        set: function(e) {
                            this.setReadOnly(e)
                        },
                        enumerable: !0,
                        configurable: !0
                    }), e.prototype.setReadOnly = function(e) {
                        this._readOnly = e, this._editor.setReadOnly(e)
                    }, Object.defineProperty(e.prototype, "theme", {
                        set: function(e) {
                            this.setTheme(e)
                        },
                        enumerable: !0,
                        configurable: !0
                    }), e.prototype.setTheme = function(e) {
                        this._theme = e, this._editor.setTheme("ace/theme/" + e)
                    }, Object.defineProperty(e.prototype, "mode", {
                        set: function(e) {
                            this.setMode(e)
                        },
                        enumerable: !0,
                        configurable: !0
                    }), e.prototype.setMode = function(e) {
                        this._mode = e, "object" == typeof this._mode ? this._editor.getSession().setMode(this._mode) : this._editor.getSession().setMode("ace/mode/" + this._mode)
                    }, Object.defineProperty(e.prototype, "value", {
                        get: function() {
                            return this.text
                        },
                        set: function(e) {
                            this.setText(e)
                        },
                        enumerable: !0,
                        configurable: !0
                    }), e.prototype.writeValue = function(e) {
                        this.setText(e)
                    }, e.prototype.registerOnChange = function(e) {
                        this._onChange = e
                    }, e.prototype.registerOnTouched = function(e) {
                        this._onTouched = e
                    }, Object.defineProperty(e.prototype, "text", {
                        get: function() {
                            return this._text
                        },
                        set: function(e) {
                            this.setText(e)
                        },
                        enumerable: !0,
                        configurable: !0
                    }), e.prototype.setText = function(e) {
                        null !== e && void 0 !== e || (e = ""), this._text !== e && !0 === this._autoUpdateContent && (this._text = e, this._editor.setValue(e), this._onChange(e), this._editor.clearSelection())
                    }, Object.defineProperty(e.prototype, "autoUpdateContent", {
                        set: function(e) {
                            this.setAutoUpdateContent(e)
                        },
                        enumerable: !0,
                        configurable: !0
                    }), e.prototype.setAutoUpdateContent = function(e) {
                        this._autoUpdateContent = e
                    }, Object.defineProperty(e.prototype, "durationBeforeCallback", {
                        set: function(e) {
                            this.setDurationBeforeCallback(e)
                        },
                        enumerable: !0,
                        configurable: !0
                    }), e.prototype.setDurationBeforeCallback = function(e) {
                        this._durationBeforeCallback = e
                    }, e.prototype.getEditor = function() {
                        return this._editor
                    }, e
                }()),
                l = r["\u0275crt"]({
                    encapsulation: 0,
                    styles: ["[_nghost-%COMP%] { display:block;width:100%; }"],
                    data: {}
                });

            function c(e) {
                return r["\u0275vid"](0, [], null, null)
            }
            var u = n("c+eF"),
                d = function() {
                    function e(e) {
                        this.pageTitleService = e, this.text = "<style>.button{font-size: 12px; color: #ff0;}</style>"
                    }
                    return e.prototype.ngOnInit = function() {
                        this.pageTitleService.setTitle("Ace Editor")
                    }, e.prototype.ngAfterViewInit = function() {
                        this.editor.setTheme("monokai"), this.editor.getEditor().setOptions({
                            enableBasicAutocompletion: !0
                        }), this.editor.getEditor().commands.addCommand({
                            name: "showOtherCompletions",
                            bindKey: "Ctrl-.",
                            exec: function(e) {}
                        })
                    }, e
                }(),
                h = r["\u0275crt"]({
                    encapsulation: 2,
                    styles: [
                        [""]
                    ],
                    data: {
                        animation: [{
                            type: 7,
                            name: "fadeInAnimation",
                            definitions: [{
                                type: 1,
                                expr: "void => *",
                                animation: [{
                                    type: 6,
                                    styles: {
                                        opacity: 0
                                    },
                                    offset: null
                                }, {
                                    type: 4,
                                    styles: {
                                        type: 6,
                                        styles: {
                                            opacity: 1
                                        },
                                        offset: null
                                    },
                                    timings: "400ms 150ms ease-in-out"
                                }],
                                options: null
                            }],
                            options: {}
                        }]
                    }
                });

            function p(e) {
                return r["\u0275vid"](0, [r["\u0275qud"](402653184, 1, {
                    editor: 0
                }), (e()(), r["\u0275eld"](1, 0, null, null, 12, "div", [
                    ["class", "chk-block"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](2, 0, null, null, 4, "div", [
                    ["class", "chk-block-title"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](3, 0, null, null, 3, "div", [
                    ["class", "d-flex justify-content-between"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](4, 0, null, null, 2, "div", [
                    ["class", "d-flex align-self-center"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](5, 0, null, null, 1, "h3", [
                    ["class", "text-capitalize"]
                ], null, null, null, null, null)), (e()(), r["\u0275ted"](-1, null, ["Ace Editor"])), (e()(), r["\u0275eld"](7, 0, null, null, 6, "div", [
                    ["class", "chk-block-content"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](8, 0, null, null, 5, "ace-editor", [
                    ["style", "height:400px;"]
                ], [
                    [2, "ng-untouched", null],
                    [2, "ng-touched", null],
                    [2, "ng-pristine", null],
                    [2, "ng-dirty", null],
                    [2, "ng-valid", null],
                    [2, "ng-invalid", null],
                    [2, "ng-pending", null]
                ], [
                    [null, "ngModelChange"]
                ], function(e, t, n) {
                    var r = !0;
                    return "ngModelChange" === t && (r = !1 !== (e.component.text = n) && r), r
                }, c, l)), r["\u0275did"](9, 245760, [
                    [1, 4],
                    ["editor", 4]
                ], 0, s, [r.ElementRef, r.NgZone], {
                    style: [0, "style"]
                }, null), r["\u0275prd"](1024, null, a.NG_VALUE_ACCESSOR, function(e) {
                    return [e]
                }, [s]), r["\u0275did"](11, 671744, null, 0, a.NgModel, [
                    [8, null],
                    [8, null],
                    [8, null],
                    [6, a.NG_VALUE_ACCESSOR]
                ], {
                    model: [0, "model"]
                }, {
                    update: "ngModelChange"
                }), r["\u0275prd"](2048, null, a.NgControl, null, [a.NgModel]), r["\u0275did"](13, 16384, null, 0, a.NgControlStatus, [
                    [4, a.NgControl]
                ], null, null)], function(e, t) {
                    var n = t.component;
                    e(t, 9, 0, "height:400px;"), e(t, 11, 0, n.text)
                }, function(e, t) {
                    e(t, 8, 0, r["\u0275nov"](t, 13).ngClassUntouched, r["\u0275nov"](t, 13).ngClassTouched, r["\u0275nov"](t, 13).ngClassPristine, r["\u0275nov"](t, 13).ngClassDirty, r["\u0275nov"](t, 13).ngClassValid, r["\u0275nov"](t, 13).ngClassInvalid, r["\u0275nov"](t, 13).ngClassPending)
                })
            }
            var f = r["\u0275ccf"]("ms-ace-editor", d, function(e) {
                    return r["\u0275vid"](0, [(e()(), r["\u0275eld"](0, 0, null, null, 1, "ms-ace-editor", [], [
                        [40, "@fadeInAnimation", 0]
                    ], null, null, p, h)), r["\u0275did"](1, 4308992, null, 0, d, [u.a], null, null)], function(e, t) {
                        e(t, 1, 0)
                    }, function(e, t) {
                        e(t, 0, 0, !0)
                    })
                }, {}, {}, []),
                m = function() {
                    function e(e) {
                        this.pageTitleService = e
                    }
                    return e.prototype.ngAfterViewInit = function() {
                        this.pageTitleService.setTitle("Summer Editor"), jQuery("#summernote").summernote({
                            height: 400,
                            minHeight: null,
                            maxHeight: null,
                            focus: !0
                        })
                    }, e
                }(),
                g = r["\u0275crt"]({
                    encapsulation: 2,
                    styles: [
                        [".note-toolbar .btn-default{background-color:#0066eb;color:#fff;padding:10px}"]
                    ],
                    data: {
                        animation: [{
                            type: 7,
                            name: "fadeInAnimation",
                            definitions: [{
                                type: 1,
                                expr: "void => *",
                                animation: [{
                                    type: 6,
                                    styles: {
                                        opacity: 0
                                    },
                                    offset: null
                                }, {
                                    type: 4,
                                    styles: {
                                        type: 6,
                                        styles: {
                                            opacity: 1
                                        },
                                        offset: null
                                    },
                                    timings: "400ms 150ms ease-in-out"
                                }],
                                options: null
                            }],
                            options: {}
                        }]
                    }
                });

            function E(e) {
                return r["\u0275vid"](0, [(e()(), r["\u0275eld"](0, 0, null, null, 8, "div", [
                    ["class", "chk-block"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](1, 0, null, null, 4, "div", [
                    ["class", "chk-block-title"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](2, 0, null, null, 3, "div", [
                    ["class", "d-flex justify-content-between"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](3, 0, null, null, 2, "div", [
                    ["class", "d-flex align-self-center"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](4, 0, null, null, 1, "h3", [
                    ["class", "text-capitalize"]
                ], null, null, null, null, null)), (e()(), r["\u0275ted"](-1, null, ["Summer Editor"])), (e()(), r["\u0275eld"](6, 0, null, null, 2, "div", [
                    ["class", "chk-block-content"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](7, 0, null, null, 1, "div", [
                    ["id", "summernote"]
                ], null, null, null, null, null)), (e()(), r["\u0275ted"](-1, null, ["Hello Summernote"]))], null, null)
            }
            var b = r["\u0275ccf"]("ms-summer-editor", m, function(e) {
                    return r["\u0275vid"](0, [(e()(), r["\u0275eld"](0, 0, null, null, 1, "ms-summer-editor", [], [
                        [40, "@fadeInAnimation", 0]
                    ], null, null, E, g)), r["\u0275did"](1, 4243456, null, 0, m, [u.a], null, null)], null, function(e, t) {
                        e(t, 0, 0, !0)
                    })
                }, {}, {}, []),
                v = n("g99b"),
                T = n("9b2d"),
                y = n("Ip0R"),
                C = function() {
                    function e(e) {
                        this.pageTitleService = e
                    }
                    return e.prototype.ngOnInit = function() {
                        this.pageTitleService.setTitle("WYSIWYG Editor")
                    }, e
                }(),
                k = r["\u0275crt"]({
                    encapsulation: 2,
                    styles: [
                        [""]
                    ],
                    data: {
                        animation: [{
                            type: 7,
                            name: "fadeInAnimation",
                            definitions: [{
                                type: 1,
                                expr: "void => *",
                                animation: [{
                                    type: 6,
                                    styles: {
                                        opacity: 0
                                    },
                                    offset: null
                                }, {
                                    type: 4,
                                    styles: {
                                        type: 6,
                                        styles: {
                                            opacity: 1
                                        },
                                        offset: null
                                    },
                                    timings: "400ms 150ms ease-in-out"
                                }],
                                options: null
                            }],
                            options: {}
                        }]
                    }
                });

            function w(e) {
                return r["\u0275vid"](0, [(e()(), r["\u0275eld"](0, 0, null, null, 10, "div", [
                    ["class", "chk-block"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](1, 0, null, null, 4, "div", [
                    ["class", "chk-block-title"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](2, 0, null, null, 3, "div", [
                    ["class", "d-flex justify-content-between"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](3, 0, null, null, 2, "div", [
                    ["class", "d-flex align-self-center"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](4, 0, null, null, 1, "h3", [
                    ["class", "text-capitalize"]
                ], null, null, null, null, null)), (e()(), r["\u0275ted"](-1, null, ["WYSIWYG Editor"])), (e()(), r["\u0275eld"](6, 0, null, null, 4, "div", [
                    ["class", "chk-block-content"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](7, 0, null, null, 3, "quill-editor", [], null, null, null, v.b, v.a)), r["\u0275prd"](5120, null, a.NG_VALUE_ACCESSOR, function(e) {
                    return [e]
                }, [T.a]), r["\u0275prd"](5120, null, a.NG_VALIDATORS, function(e) {
                    return [e]
                }, [T.a]), r["\u0275did"](10, 4767744, null, 0, T.a, [r.ElementRef, y.DOCUMENT, r.PLATFORM_ID, r.Renderer2, r.NgZone], null, null)], null, null)
            }
            var _ = r["\u0275ccf"]("ms-editor", C, function(e) {
                    return r["\u0275vid"](0, [(e()(), r["\u0275eld"](0, 0, null, null, 1, "ms-editor", [], [
                        [40, "@fadeInAnimation", 0]
                    ], null, null, w, k)), r["\u0275did"](1, 114688, null, 0, C, [u.a], null, null)], function(e, t) {
                        e(t, 1, 0)
                    }, function(e, t) {
                        e(t, 0, 0, !0)
                    })
                }, {}, {}, []),
                x = n("EB9a"),
                D = r["\u0275crt"]({
                    encapsulation: 2,
                    styles: [],
                    data: {}
                });

            function O(e) {
                return r["\u0275vid"](0, [r["\u0275qud"](402653184, 1, {
                    host: 0
                }), (e()(), r["\u0275eld"](1, 0, [
                    [1, 0],
                    ["host", 1]
                ], null, 0, "textarea", [], null, null, null, null, null))], null, null)
            }
            n("VMQV"), n("lb/0");
            var R = function() {
                    function e(e) {
                        this.pageTitleService = e, this.ckeditorContent = "<p>Hello CKEditor</p>", this.config = {
                            uiColor: "#dee4e8",
                            height: "500"
                        }
                    }
                    return e.prototype.ngOnInit = function() {
                        this.pageTitleService.setTitle("Ckeditor")
                    }, e
                }(),
                I = r["\u0275crt"]({
                    encapsulation: 2,
                    styles: [
                        [""]
                    ],
                    data: {
                        animation: [{
                            type: 7,
                            name: "fadeInAnimation",
                            definitions: [{
                                type: 1,
                                expr: "void => *",
                                animation: [{
                                    type: 6,
                                    styles: {
                                        opacity: 0
                                    },
                                    offset: null
                                }, {
                                    type: 4,
                                    styles: {
                                        type: 6,
                                        styles: {
                                            opacity: 1
                                        },
                                        offset: null
                                    },
                                    timings: "400ms 150ms ease-in-out"
                                }],
                                options: null
                            }],
                            options: {}
                        }]
                    }
                });

            function S(e) {
                return r["\u0275vid"](0, [(e()(), r["\u0275eld"](0, 0, null, null, 14, "div", [
                    ["class", "chk-block"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](1, 0, null, null, 4, "div", [
                    ["class", "chk-block-title"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](2, 0, null, null, 3, "div", [
                    ["class", "d-flex justify-content-between"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](3, 0, null, null, 2, "div", [
                    ["class", "d-flex align-self-center"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](4, 0, null, null, 1, "h3", [
                    ["class", "text-capitalize"]
                ], null, null, null, null, null)), (e()(), r["\u0275ted"](-1, null, ["Ckeditor"])), (e()(), r["\u0275eld"](6, 0, null, null, 8, "div", [
                    ["class", "chk-block-content"]
                ], null, null, null, null, null)), (e()(), r["\u0275eld"](7, 0, null, null, 7, "ckeditor", [], [
                    [2, "ng-untouched", null],
                    [2, "ng-touched", null],
                    [2, "ng-pristine", null],
                    [2, "ng-dirty", null],
                    [2, "ng-valid", null],
                    [2, "ng-invalid", null],
                    [2, "ng-pending", null]
                ], [
                    [null, "ngModelChange"]
                ], function(e, t, n) {
                    var r = !0;
                    return "ngModelChange" === t && (r = !1 !== (e.component.ckeditorContent = n) && r), r
                }, O, D)), r["\u0275did"](8, 13287424, null, 2, x.CKEditorComponent, [r.NgZone], {
                    config: [0, "config"]
                }, null), r["\u0275qud"](603979776, 1, {
                    toolbarButtons: 1
                }), r["\u0275qud"](603979776, 2, {
                    toolbarGroups: 1
                }), r["\u0275prd"](1024, null, a.NG_VALUE_ACCESSOR, function(e) {
                    return [e]
                }, [x.CKEditorComponent]), r["\u0275did"](12, 671744, null, 0, a.NgModel, [
                    [8, null],
                    [8, null],
                    [8, null],
                    [6, a.NG_VALUE_ACCESSOR]
                ], {
                    model: [0, "model"]
                }, {
                    update: "ngModelChange"
                }), r["\u0275prd"](2048, null, a.NgControl, null, [a.NgModel]), r["\u0275did"](14, 16384, null, 0, a.NgControlStatus, [
                    [4, a.NgControl]
                ], null, null)], function(e, t) {
                    var n = t.component;
                    e(t, 8, 0, n.config), e(t, 12, 0, n.ckeditorContent)
                }, function(e, t) {
                    e(t, 7, 0, r["\u0275nov"](t, 14).ngClassUntouched, r["\u0275nov"](t, 14).ngClassTouched, r["\u0275nov"](t, 14).ngClassPristine, r["\u0275nov"](t, 14).ngClassDirty, r["\u0275nov"](t, 14).ngClassValid, r["\u0275nov"](t, 14).ngClassInvalid, r["\u0275nov"](t, 14).ngClassPending)
                })
            }
            var A = r["\u0275ccf"]("ms-ckeditor", R, function(e) {
                    return r["\u0275vid"](0, [(e()(), r["\u0275eld"](0, 0, null, null, 1, "ms-ckeditor", [], [
                        [40, "@fadeInAnimation", 0]
                    ], null, null, S, I)), r["\u0275did"](1, 114688, null, 0, R, [u.a], null, null)], function(e, t) {
                        e(t, 1, 0)
                    }, function(e, t) {
                        e(t, 0, 0, !0)
                    })
                }, {}, {}, []),
                F = n("LeXK"),
                L = n("kQDJ"),
                N = function() {},
                K = n("ZYCi");
            n.d(t, "EditorModuleNgFactory", function() {
                return B
            });
            var B = r["\u0275cmf"](i, [], function(e) {
                return r["\u0275mod"]([r["\u0275mpd"](512, r.ComponentFactoryResolver, r["\u0275CodegenComponentFactoryResolver"], [
                    [8, [o.a, f, b, _, A]],
                    [3, r.ComponentFactoryResolver], r.NgModuleRef
                ]), r["\u0275mpd"](4608, y.NgLocalization, y.NgLocaleLocalization, [r.LOCALE_ID, [2, y["\u0275angular_packages_common_common_a"]]]), r["\u0275mpd"](4608, a["\u0275angular_packages_forms_forms_i"], a["\u0275angular_packages_forms_forms_i"], []), r["\u0275mpd"](1073742336, y.CommonModule, y.CommonModule, []), r["\u0275mpd"](1073742336, a["\u0275angular_packages_forms_forms_bb"], a["\u0275angular_packages_forms_forms_bb"], []), r["\u0275mpd"](1073742336, a.FormsModule, a.FormsModule, []), r["\u0275mpd"](1073742336, F.a, F.a, []), r["\u0275mpd"](1073742336, L.CKEditorModule, L.CKEditorModule, []), r["\u0275mpd"](1073742336, N, N, []), r["\u0275mpd"](1073742336, K.p, K.p, [
                    [2, K.v],
                    [2, K.m]
                ]), r["\u0275mpd"](1073742336, i, i, []), r["\u0275mpd"](1024, K.k, function() {
                    return [
                        [{
                            path: "",
                            redirectTo: "ace-editor",
                            pathMatch: "full"
                        }, {
                            path: "",
                            children: [{
                                path: "ace-editor",
                                component: d
                            }, {
                                path: "summer-editor",
                                component: m
                            }, {
                                path: "wysiwyg",
                                component: C
                            }, {
                                path: "ckeditor",
                                component: R
                            }]
                        }]
                    ]
                }, [])])
            })
        },
        "4HD+": function(e, t) {
            e.exports.id = "ace/mode/css_worker", e.exports.src = '"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/css/csslint",["require","exports","module"],function(acequire,exports,module){function objectToString(o){return Object.prototype.toString.call(o)}function clone(parent,circular,depth,prototype){function _clone(parent,depth){if(null===parent)return null;if(0==depth)return parent;var child;if("object"!=typeof parent)return parent;if(util.isArray(parent))child=[];else if(util.isRegExp(parent))child=RegExp(parent.source,util.getRegExpFlags(parent)),parent.lastIndex&&(child.lastIndex=parent.lastIndex);else if(util.isDate(parent))child=new Date(parent.getTime());else{if(useBuffer&&Buffer.isBuffer(parent))return child=new Buffer(parent.length),parent.copy(child),child;child=prototype===void 0?Object.create(Object.getPrototypeOf(parent)):Object.create(prototype)}if(circular){var index=allParents.indexOf(parent);if(-1!=index)return allChildren[index];allParents.push(parent),allChildren.push(child)}for(var i in parent)child[i]=_clone(parent[i],depth-1);return child}var allParents=[],allChildren=[],useBuffer="undefined"!=typeof Buffer;return circular===void 0&&(circular=!0),depth===void 0&&(depth=1/0),_clone(parent,depth)}function Reporter(lines,ruleset){this.messages=[],this.stats=[],this.lines=lines,this.ruleset=ruleset}var parserlib={};(function(){function EventTarget(){this._listeners={}}function StringReader(text){this._input=text.replace(/\\n\\r?/g,"\\n"),this._line=1,this._col=1,this._cursor=0}function SyntaxError(message,line,col){this.col=col,this.line=line,this.message=message}function SyntaxUnit(text,line,col,type){this.col=col,this.line=line,this.text=text,this.type=type}function TokenStreamBase(input,tokenData){this._reader=input?new StringReader(""+input):null,this._token=null,this._tokenData=tokenData,this._lt=[],this._ltIndex=0,this._ltIndexCache=[]}EventTarget.prototype={constructor:EventTarget,addListener:function(type,listener){this._listeners[type]||(this._listeners[type]=[]),this._listeners[type].push(listener)},fire:function(event){if("string"==typeof event&&(event={type:event}),event.target!==void 0&&(event.target=this),event.type===void 0)throw Error("Event object missing \'type\' property.");if(this._listeners[event.type])for(var listeners=this._listeners[event.type].concat(),i=0,len=listeners.length;len>i;i++)listeners[i].call(this,event)},removeListener:function(type,listener){if(this._listeners[type])for(var listeners=this._listeners[type],i=0,len=listeners.length;len>i;i++)if(listeners[i]===listener){listeners.splice(i,1);break}}},StringReader.prototype={constructor:StringReader,getCol:function(){return this._col},getLine:function(){return this._line},eof:function(){return this._cursor==this._input.length},peek:function(count){var c=null;return count=count===void 0?1:count,this._cursor<this._input.length&&(c=this._input.charAt(this._cursor+count-1)),c},read:function(){var c=null;return this._cursor<this._input.length&&("\\n"==this._input.charAt(this._cursor)?(this._line++,this._col=1):this._col++,c=this._input.charAt(this._cursor++)),c},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){this._bookmark&&(this._cursor=this._bookmark.cursor,this._line=this._bookmark.line,this._col=this._bookmark.col,delete this._bookmark)},readTo:function(pattern){for(var c,buffer="";buffer.length<pattern.length||buffer.lastIndexOf(pattern)!=buffer.length-pattern.length;){if(c=this.read(),!c)throw Error(\'Expected "\'+pattern+\'" at line \'+this._line+", col "+this._col+".");buffer+=c}return buffer},readWhile:function(filter){for(var buffer="",c=this.read();null!==c&&filter(c);)buffer+=c,c=this.read();return buffer},readMatch:function(matcher){var source=this._input.substring(this._cursor),value=null;return"string"==typeof matcher?0===source.indexOf(matcher)&&(value=this.readCount(matcher.length)):matcher instanceof RegExp&&matcher.test(source)&&(value=this.readCount(RegExp.lastMatch.length)),value},readCount:function(count){for(var buffer="";count--;)buffer+=this.read();return buffer}},SyntaxError.prototype=Error(),SyntaxUnit.fromToken=function(token){return new SyntaxUnit(token.value,token.startLine,token.startCol)},SyntaxUnit.prototype={constructor:SyntaxUnit,valueOf:function(){return this.text},toString:function(){return this.text}},TokenStreamBase.createTokenData=function(tokens){var nameMap=[],typeMap={},tokenData=tokens.concat([]),i=0,len=tokenData.length+1;for(tokenData.UNKNOWN=-1,tokenData.unshift({name:"EOF"});len>i;i++)nameMap.push(tokenData[i].name),tokenData[tokenData[i].name]=i,tokenData[i].text&&(typeMap[tokenData[i].text]=i);return tokenData.name=function(tt){return nameMap[tt]},tokenData.type=function(c){return typeMap[c]},tokenData},TokenStreamBase.prototype={constructor:TokenStreamBase,match:function(tokenTypes,channel){tokenTypes instanceof Array||(tokenTypes=[tokenTypes]);\nfor(var tt=this.get(channel),i=0,len=tokenTypes.length;len>i;)if(tt==tokenTypes[i++])return!0;return this.unget(),!1},mustMatch:function(tokenTypes){var token;if(tokenTypes instanceof Array||(tokenTypes=[tokenTypes]),!this.match.apply(this,arguments))throw token=this.LT(1),new SyntaxError("Expected "+this._tokenData[tokenTypes[0]].name+" at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},advance:function(tokenTypes,channel){for(;0!==this.LA(0)&&!this.match(tokenTypes,channel);)this.get();return this.LA(0)},get:function(channel){var token,info,tokenInfo=this._tokenData,i=(this._reader,0);if(tokenInfo.length,this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){for(i++,this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type];void 0!==info.channel&&channel!==info.channel&&this._ltIndex<this._lt.length;)this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type],i++;if((void 0===info.channel||channel===info.channel)&&this._ltIndex<=this._lt.length)return this._ltIndexCache.push(i),this._token.type}return token=this._getToken(),token.type>-1&&!tokenInfo[token.type].hide&&(token.channel=tokenInfo[token.type].channel,this._token=token,this._lt.push(token),this._ltIndexCache.push(this._lt.length-this._ltIndex+i),this._lt.length>5&&this._lt.shift(),this._ltIndexCache.length>5&&this._ltIndexCache.shift(),this._ltIndex=this._lt.length),info=tokenInfo[token.type],info&&(info.hide||void 0!==info.channel&&channel!==info.channel)?this.get(channel):token.type},LA:function(index){var tt,total=index;if(index>0){if(index>5)throw Error("Too much lookahead.");for(;total;)tt=this.get(),total--;for(;index>total;)this.unget(),total++}else if(0>index){if(!this._lt[this._ltIndex+index])throw Error("Too much lookbehind.");tt=this._lt[this._ltIndex+index].type}else tt=this._token.type;return tt},LT:function(index){return this.LA(index),this._lt[this._ltIndex+index-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(tokenType){return 0>tokenType||tokenType>this._tokenData.length?"UNKNOWN_TOKEN":this._tokenData[tokenType].name},tokenType:function(tokenName){return this._tokenData[tokenName]||-1},unget:function(){if(!this._ltIndexCache.length)throw Error("Too much lookahead.");this._ltIndex-=this._ltIndexCache.pop(),this._token=this._lt[this._ltIndex-1]}},parserlib.util={StringReader:StringReader,SyntaxError:SyntaxError,SyntaxUnit:SyntaxUnit,EventTarget:EventTarget,TokenStreamBase:TokenStreamBase}})(),function(){function Combinator(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.COMBINATOR_TYPE),this.type="unknown",/^\\s+$/.test(text)?this.type="descendant":">"==text?this.type="child":"+"==text?this.type="adjacent-sibling":"~"==text&&(this.type="sibling")}function MediaFeature(name,value){SyntaxUnit.call(this,"("+name+(null!==value?":"+value:"")+")",name.startLine,name.startCol,Parser.MEDIA_FEATURE_TYPE),this.name=name,this.value=value}function MediaQuery(modifier,mediaType,features,line,col){SyntaxUnit.call(this,(modifier?modifier+" ":"")+(mediaType?mediaType:"")+(mediaType&&features.length>0?" and ":"")+features.join(" and "),line,col,Parser.MEDIA_QUERY_TYPE),this.modifier=modifier,this.mediaType=mediaType,this.features=features}function Parser(options){EventTarget.call(this),this.options=options||{},this._tokenStream=null}function PropertyName(text,hack,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_NAME_TYPE),this.hack=hack}function PropertyValue(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.PROPERTY_VALUE_TYPE),this.parts=parts}function PropertyValueIterator(value){this._i=0,this._parts=value.parts,this._marks=[],this.value=value}function PropertyValuePart(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_VALUE_PART_TYPE),this.type="unknown";var temp;if(/^([+\\-]?[\\d\\.]+)([a-z]+)$/i.test(text))switch(this.type="dimension",this.value=+RegExp.$1,this.units=RegExp.$2,this.units.toLowerCase()){case"em":case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":case"ch":case"vh":case"vw":case"vmax":case"vmin":this.type="length";break;case"deg":case"rad":case"grad":this.type="angle";break;case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency";break;case"dpi":case"dpcm":this.type="resolution"}else/^([+\\-]?[\\d\\.]+)%$/i.test(text)?(this.type="percentage",this.value=+RegExp.$1):/^([+\\-]?\\d+)$/i.test(text)?(this.type="integer",this.value=+RegExp.$1):/^([+\\-]?[\\d\\.]+)$/i.test(text)?(this.type="number",this.value=+RegExp.$1):/^#([a-f0-9]{3,6})/i.test(text)?(this.type="color",temp=RegExp.$1,3==temp.length?(this.red=parseInt(temp.charAt(0)+temp.charAt(0),16),this.green=parseInt(temp.charAt(1)+temp.charAt(1),16),this.blue=parseInt(temp.charAt(2)+temp.charAt(2),16)):(this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16))):/^rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3):/^rgb\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100):/^rgba\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3,this.alpha=+RegExp.$4):/^rgba\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100,this.alpha=+RegExp.$4):/^hsl\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100):/^hsla\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100,this.alpha=+RegExp.$4):/^url\\(["\']?([^\\)"\']+)["\']?\\)/i.test(text)?(this.type="uri",this.uri=RegExp.$1):/^([^\\(]+)\\(/i.test(text)?(this.type="function",this.name=RegExp.$1,this.value=text):/^["\'][^"\']*["\']/.test(text)?(this.type="string",this.value=eval(text)):Colors[text.toLowerCase()]?(this.type="color",temp=Colors[text.toLowerCase()].substring(1),this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16)):/^[\\,\\/]$/.test(text)?(this.type="operator",this.value=text):/^[a-z\\-_\\u0080-\\uFFFF][a-z0-9\\-_\\u0080-\\uFFFF]*$/i.test(text)&&(this.type="identifier",this.value=text)}function Selector(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.SELECTOR_TYPE),this.parts=parts,this.specificity=Specificity.calculate(this)}function SelectorPart(elementName,modifiers,text,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_PART_TYPE),this.elementName=elementName,this.modifiers=modifiers}function SelectorSubPart(text,type,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_SUB_PART_TYPE),this.type=type,this.args=[]}function Specificity(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function isHexDigit(c){return null!==c&&h.test(c)}function isDigit(c){return null!==c&&/\\d/.test(c)}function isWhitespace(c){return null!==c&&/\\s/.test(c)}function isNewLine(c){return null!==c&&nl.test(c)}function isNameStart(c){return null!==c&&/[a-z_\\u0080-\\uFFFF\\\\]/i.test(c)}function isNameChar(c){return null!==c&&(isNameStart(c)||/[0-9\\-\\\\]/.test(c))}function isIdentStart(c){return null!==c&&(isNameStart(c)||/\\-\\\\/.test(c))}function mix(receiver,supplier){for(var prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return receiver}function TokenStream(input){TokenStreamBase.call(this,input,Tokens)}function ValidationError(message,line,col){this.col=col,this.line=line,this.message=message}var EventTarget=parserlib.util.EventTarget,TokenStreamBase=parserlib.util.TokenStreamBase,StringReader=parserlib.util.StringReader,SyntaxError=parserlib.util.SyntaxError,SyntaxUnit=parserlib.util.SyntaxUnit,Colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",activeBorder:"Active window border.",activecaption:"Active window caption.",appworkspace:"Background color of multiple document interface.",background:"Desktop background.",buttonface:"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonhighlight:"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonshadow:"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttontext:"Text on push buttons.",captiontext:"Text in caption, size box, and scrollbar arrow box.",graytext:"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color.",greytext:"Greyed (disabled) text. This color is set to #000 if the current display driver does not support a solid grey color.",highlight:"Item(s) selected in a control.",highlighttext:"Text of item(s) selected in a control.",inactiveborder:"Inactive window border.",inactivecaption:"Inactive window caption.",inactivecaptiontext:"Color of text in an inactive caption.",infobackground:"Background color for tooltip controls.",infotext:"Text color for tooltip controls.",menu:"Menu background.",menutext:"Text in menus.",scrollbar:"Scroll bar gray area.",threeddarkshadow:"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedface:"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedhighlight:"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedlightshadow:"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedshadow:"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",window:"Window background.",windowframe:"Window frame.",windowtext:"Text in windows."};Combinator.prototype=new SyntaxUnit,Combinator.prototype.constructor=Combinator,MediaFeature.prototype=new SyntaxUnit,MediaFeature.prototype.constructor=MediaFeature,MediaQuery.prototype=new SyntaxUnit,MediaQuery.prototype.constructor=MediaQuery,Parser.DEFAULT_TYPE=0,Parser.COMBINATOR_TYPE=1,Parser.MEDIA_FEATURE_TYPE=2,Parser.MEDIA_QUERY_TYPE=3,Parser.PROPERTY_NAME_TYPE=4,Parser.PROPERTY_VALUE_TYPE=5,Parser.PROPERTY_VALUE_PART_TYPE=6,Parser.SELECTOR_TYPE=7,Parser.SELECTOR_PART_TYPE=8,Parser.SELECTOR_SUB_PART_TYPE=9,Parser.prototype=function(){var prop,proto=new EventTarget,additions={constructor:Parser,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var count,token,tt,tokenStream=this._tokenStream;for(this.fire("startstylesheet"),this._charset(),this._skipCruft();tokenStream.peek()==Tokens.IMPORT_SYM;)this._import(),this._skipCruft();for(;tokenStream.peek()==Tokens.NAMESPACE_SYM;)this._namespace(),this._skipCruft();for(tt=tokenStream.peek();tt>Tokens.EOF;){try{switch(tt){case Tokens.MEDIA_SYM:this._media(),this._skipCruft();break;case Tokens.PAGE_SYM:this._page(),this._skipCruft();break;case Tokens.FONT_FACE_SYM:this._font_face(),this._skipCruft();break;case Tokens.KEYFRAMES_SYM:this._keyframes(),this._skipCruft();break;case Tokens.VIEWPORT_SYM:this._viewport(),this._skipCruft();break;case Tokens.UNKNOWN_SYM:if(tokenStream.get(),this.options.strict)throw new SyntaxError("Unknown @ rule.",tokenStream.LT(0).startLine,tokenStream.LT(0).startCol);for(this.fire({type:"error",error:null,message:"Unknown @ rule: "+tokenStream.LT(0).value+".",line:tokenStream.LT(0).startLine,col:tokenStream.LT(0).startCol}),count=0;tokenStream.advance([Tokens.LBRACE,Tokens.RBRACE])==Tokens.LBRACE;)count++;for(;count;)tokenStream.advance([Tokens.RBRACE]),count--;break;case Tokens.S:this._readWhitespace();break;default:if(!this._ruleset())switch(tt){case Tokens.CHARSET_SYM:throw token=tokenStream.LT(1),this._charset(!1),new SyntaxError("@charset not allowed here.",token.startLine,token.startCol);case Tokens.IMPORT_SYM:throw token=tokenStream.LT(1),this._import(!1),new SyntaxError("@import not allowed here.",token.startLine,token.startCol);case Tokens.NAMESPACE_SYM:throw token=tokenStream.LT(1),this._namespace(!1),new SyntaxError("@namespace not allowed here.",token.startLine,token.startCol);default:tokenStream.get(),this._unexpectedToken(tokenStream.token())}}}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col})}tt=tokenStream.peek()}tt!=Tokens.EOF&&this._unexpectedToken(tokenStream.token()),this.fire("endstylesheet")},_charset:function(emit){var charset,token,line,col,tokenStream=this._tokenStream;tokenStream.match(Tokens.CHARSET_SYM)&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.mustMatch(Tokens.STRING),token=tokenStream.token(),charset=token.value,this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),emit!==!1&&this.fire({type:"charset",charset:charset,line:line,col:col}))},_import:function(emit){var uri,importToken,tokenStream=this._tokenStream,mediaList=[];tokenStream.mustMatch(Tokens.IMPORT_SYM),importToken=tokenStream.token(),this._readWhitespace(),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/^(?:url\\()?["\']?([^"\']+?)["\']?\\)?$/,"$1"),this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:"import",uri:uri,media:mediaList,line:importToken.startLine,col:importToken.startCol})},_namespace:function(emit){var line,col,prefix,uri,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.NAMESPACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(prefix=tokenStream.token().value,this._readWhitespace()),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/(?:url\\()?["\']([^"\']+)["\']\\)?/,"$1"),this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:"namespace",prefix:prefix,uri:uri,line:line,col:col})},_media:function(){var line,col,mediaList,tokenStream=this._tokenStream;for(tokenStream.mustMatch(Tokens.MEDIA_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace(),this.fire({type:"startmedia",media:mediaList,line:line,col:col});;)if(tokenStream.peek()==Tokens.PAGE_SYM)this._page();else if(tokenStream.peek()==Tokens.FONT_FACE_SYM)this._font_face();else if(tokenStream.peek()==Tokens.VIEWPORT_SYM)this._viewport();else if(!this._ruleset())break;tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace(),this.fire({type:"endmedia",media:mediaList,line:line,col:col})},_media_query_list:function(){var tokenStream=this._tokenStream,mediaList=[];for(this._readWhitespace(),(tokenStream.peek()==Tokens.IDENT||tokenStream.peek()==Tokens.LPAREN)&&mediaList.push(this._media_query());tokenStream.match(Tokens.COMMA);)this._readWhitespace(),mediaList.push(this._media_query());return mediaList},_media_query:function(){var tokenStream=this._tokenStream,type=null,ident=null,token=null,expressions=[];if(tokenStream.match(Tokens.IDENT)&&(ident=tokenStream.token().value.toLowerCase(),"only"!=ident&&"not"!=ident?(tokenStream.unget(),ident=null):token=tokenStream.token()),this._readWhitespace(),tokenStream.peek()==Tokens.IDENT?(type=this._media_type(),null===token&&(token=tokenStream.token())):tokenStream.peek()==Tokens.LPAREN&&(null===token&&(token=tokenStream.LT(1)),expressions.push(this._media_expression())),null===type&&0===expressions.length)return null;for(this._readWhitespace();tokenStream.match(Tokens.IDENT);)"and"!=tokenStream.token().value.toLowerCase()&&this._unexpectedToken(tokenStream.token()),this._readWhitespace(),expressions.push(this._media_expression());return new MediaQuery(ident,type,expressions,token.startLine,token.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var token,tokenStream=this._tokenStream,feature=null,expression=null;return tokenStream.mustMatch(Tokens.LPAREN),feature=this._media_feature(),this._readWhitespace(),tokenStream.match(Tokens.COLON)&&(this._readWhitespace(),token=tokenStream.LT(1),expression=this._expression()),tokenStream.mustMatch(Tokens.RPAREN),this._readWhitespace(),new MediaFeature(feature,expression?new SyntaxUnit(expression,token.startLine,token.startCol):null)},_media_feature:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.IDENT),SyntaxUnit.fromToken(tokenStream.token())},_page:function(){var line,col,tokenStream=this._tokenStream,identifier=null,pseudoPage=null;tokenStream.mustMatch(Tokens.PAGE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(identifier=tokenStream.token().value,"auto"===identifier.toLowerCase()&&this._unexpectedToken(tokenStream.token())),tokenStream.peek()==Tokens.COLON&&(pseudoPage=this._pseudo_page()),this._readWhitespace(),this.fire({type:"startpage",id:identifier,pseudo:pseudoPage,line:line,col:col}),this._readDeclarations(!0,!0),this.fire({type:"endpage",id:identifier,pseudo:pseudoPage,line:line,col:col})},_margin:function(){var line,col,tokenStream=this._tokenStream,marginSym=this._margin_sym();return marginSym?(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this.fire({type:"startpagemargin",margin:marginSym,line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endpagemargin",margin:marginSym,line:line,col:col}),!0):!1},_margin_sym:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.TOPLEFTCORNER_SYM,Tokens.TOPLEFT_SYM,Tokens.TOPCENTER_SYM,Tokens.TOPRIGHT_SYM,Tokens.TOPRIGHTCORNER_SYM,Tokens.BOTTOMLEFTCORNER_SYM,Tokens.BOTTOMLEFT_SYM,Tokens.BOTTOMCENTER_SYM,Tokens.BOTTOMRIGHT_SYM,Tokens.BOTTOMRIGHTCORNER_SYM,Tokens.LEFTTOP_SYM,Tokens.LEFTMIDDLE_SYM,Tokens.LEFTBOTTOM_SYM,Tokens.RIGHTTOP_SYM,Tokens.RIGHTMIDDLE_SYM,Tokens.RIGHTBOTTOM_SYM])?SyntaxUnit.fromToken(tokenStream.token()):null},_pseudo_page:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.COLON),tokenStream.mustMatch(Tokens.IDENT),tokenStream.token().value},_font_face:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.FONT_FACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startfontface",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endfontface",line:line,col:col})},_viewport:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.VIEWPORT_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startviewport",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endviewport",line:line,col:col})},_operator:function(inFunction){var tokenStream=this._tokenStream,token=null;return(tokenStream.match([Tokens.SLASH,Tokens.COMMA])||inFunction&&tokenStream.match([Tokens.PLUS,Tokens.STAR,Tokens.MINUS]))&&(token=tokenStream.token(),this._readWhitespace()),token?PropertyValuePart.fromToken(token):null},_combinator:function(){var token,tokenStream=this._tokenStream,value=null;return tokenStream.match([Tokens.PLUS,Tokens.GREATER,Tokens.TILDE])&&(token=tokenStream.token(),value=new Combinator(token.value,token.startLine,token.startCol),this._readWhitespace()),value},_unary_operator:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.MINUS,Tokens.PLUS])?tokenStream.token().value:null},_property:function(){var tokenValue,token,line,col,tokenStream=this._tokenStream,value=null,hack=null;return tokenStream.peek()==Tokens.STAR&&this.options.starHack&&(tokenStream.get(),token=tokenStream.token(),hack=token.value,line=token.startLine,col=token.startCol),tokenStream.match(Tokens.IDENT)&&(token=tokenStream.token(),tokenValue=token.value,"_"==tokenValue.charAt(0)&&this.options.underscoreHack&&(hack="_",tokenValue=tokenValue.substring(1)),value=new PropertyName(tokenValue,hack,line||token.startLine,col||token.startCol),this._readWhitespace()),value},_ruleset:function(){var tt,selectors,tokenStream=this._tokenStream;try{selectors=this._selectors_group()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.RBRACE]),tt!=Tokens.RBRACE)throw ex;return!0}return selectors&&(this.fire({type:"startrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col}),this._readDeclarations(!0),this.fire({type:"endrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col})),selectors},_selectors_group:function(){var selector,tokenStream=this._tokenStream,selectors=[];if(selector=this._selector(),null!==selector)for(selectors.push(selector);tokenStream.match(Tokens.COMMA);)this._readWhitespace(),selector=this._selector(),null!==selector?selectors.push(selector):this._unexpectedToken(tokenStream.LT(1));return selectors.length?selectors:null},_selector:function(){var tokenStream=this._tokenStream,selector=[],nextSelector=null,combinator=null,ws=null;if(nextSelector=this._simple_selector_sequence(),null===nextSelector)return null;for(selector.push(nextSelector);;)if(combinator=this._combinator(),null!==combinator)selector.push(combinator),nextSelector=this._simple_selector_sequence(),null===nextSelector?this._unexpectedToken(tokenStream.LT(1)):selector.push(nextSelector);else{if(!this._readWhitespace())break;ws=new Combinator(tokenStream.token().value,tokenStream.token().startLine,tokenStream.token().startCol),combinator=this._combinator(),nextSelector=this._simple_selector_sequence(),null===nextSelector?null!==combinator&&this._unexpectedToken(tokenStream.LT(1)):(null!==combinator?selector.push(combinator):selector.push(ws),selector.push(nextSelector))}return new Selector(selector,selector[0].line,selector[0].col)},_simple_selector_sequence:function(){var line,col,tokenStream=this._tokenStream,elementName=null,modifiers=[],selectorText="",components=[function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],i=0,len=components.length,component=null;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol,elementName=this._type_selector(),elementName||(elementName=this._universal()),null!==elementName&&(selectorText+=elementName);;){if(tokenStream.peek()===Tokens.S)break;for(;len>i&&null===component;)component=components[i++].call(this);if(null===component){if(""===selectorText)return null;break}i=0,modifiers.push(component),selectorText+=""+component,component=null}return""!==selectorText?new SelectorPart(elementName,modifiers,selectorText,line,col):null},_type_selector:function(){var tokenStream=this._tokenStream,ns=this._namespace_prefix(),elementName=this._element_name();return elementName?(ns&&(elementName.text=ns+elementName.text,elementName.col-=ns.length),elementName):(ns&&(tokenStream.unget(),ns.length>1&&tokenStream.unget()),null)},_class:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.DOT)?(tokenStream.mustMatch(Tokens.IDENT),token=tokenStream.token(),new SelectorSubPart("."+token.value,"class",token.startLine,token.startCol-1)):null},_element_name:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.IDENT)?(token=tokenStream.token(),new SelectorSubPart(token.value,"elementName",token.startLine,token.startCol)):null},_namespace_prefix:function(){var tokenStream=this._tokenStream,value="";return(tokenStream.LA(1)===Tokens.PIPE||tokenStream.LA(2)===Tokens.PIPE)&&(tokenStream.match([Tokens.IDENT,Tokens.STAR])&&(value+=tokenStream.token().value),tokenStream.mustMatch(Tokens.PIPE),value+="|"),value.length?value:null},_universal:function(){var ns,tokenStream=this._tokenStream,value="";return ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.match(Tokens.STAR)&&(value+="*"),value.length?value:null},_attrib:function(){var ns,token,tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.LBRACKET)?(token=tokenStream.token(),value=token.value,value+=this._readWhitespace(),ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.mustMatch(Tokens.IDENT),value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.match([Tokens.PREFIXMATCH,Tokens.SUFFIXMATCH,Tokens.SUBSTRINGMATCH,Tokens.EQUALS,Tokens.INCLUDES,Tokens.DASHMATCH])&&(value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),value+=tokenStream.token().value,value+=this._readWhitespace()),tokenStream.mustMatch(Tokens.RBRACKET),new SelectorSubPart(value+"]","attribute",token.startLine,token.startCol)):null},_pseudo:function(){var line,col,tokenStream=this._tokenStream,pseudo=null,colons=":";return tokenStream.match(Tokens.COLON)&&(tokenStream.match(Tokens.COLON)&&(colons+=":"),tokenStream.match(Tokens.IDENT)?(pseudo=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol-colons.length):tokenStream.peek()==Tokens.FUNCTION&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol-colons.length,pseudo=this._functional_pseudo()),pseudo&&(pseudo=new SelectorSubPart(colons+pseudo,"pseudo",line,col))),pseudo},_functional_pseudo:function(){var tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.FUNCTION)&&(value=tokenStream.token().value,value+=this._readWhitespace(),value+=this._expression(),tokenStream.mustMatch(Tokens.RPAREN),value+=")"),value},_expression:function(){for(var tokenStream=this._tokenStream,value="";tokenStream.match([Tokens.PLUS,Tokens.MINUS,Tokens.DIMENSION,Tokens.NUMBER,Tokens.STRING,Tokens.IDENT,Tokens.LENGTH,Tokens.FREQ,Tokens.ANGLE,Tokens.TIME,Tokens.RESOLUTION,Tokens.SLASH]);)value+=tokenStream.token().value,value+=this._readWhitespace();return value.length?value:null},_negation:function(){var line,col,arg,tokenStream=this._tokenStream,value="",subpart=null;return tokenStream.match(Tokens.NOT)&&(value=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol,value+=this._readWhitespace(),arg=this._negation_arg(),value+=arg,value+=this._readWhitespace(),tokenStream.match(Tokens.RPAREN),value+=tokenStream.token().value,subpart=new SelectorSubPart(value,"not",line,col),subpart.args.push(arg)),subpart},_negation_arg:function(){var line,col,part,tokenStream=this._tokenStream,args=[this._type_selector,this._universal,function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo],arg=null,i=0,len=args.length;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol;len>i&&null===arg;)arg=args[i].call(this),i++;return null===arg&&this._unexpectedToken(tokenStream.LT(1)),part="elementName"==arg.type?new SelectorPart(arg,[],""+arg,line,col):new SelectorPart(null,[arg],""+arg,line,col)},_declaration:function(){var tokenStream=this._tokenStream,property=null,expr=null,prio=null,invalid=null,propertyName="";if(property=this._property(),null!==property){tokenStream.mustMatch(Tokens.COLON),this._readWhitespace(),expr=this._expr(),expr&&0!==expr.length||this._unexpectedToken(tokenStream.LT(1)),prio=this._prio(),propertyName=""+property,(this.options.starHack&&"*"==property.hack||this.options.underscoreHack&&"_"==property.hack)&&(propertyName=property.text);try{this._validateProperty(propertyName,expr)}catch(ex){invalid=ex}return this.fire({type:"property",property:property,value:expr,important:prio,line:property.line,col:property.col,invalid:invalid}),!0}return!1},_prio:function(){var tokenStream=this._tokenStream,result=tokenStream.match(Tokens.IMPORTANT_SYM);return this._readWhitespace(),result},_expr:function(inFunction){var values=(this._tokenStream,[]),value=null,operator=null;if(value=this._term(inFunction),null!==value)for(values.push(value);;){if(operator=this._operator(inFunction),operator&&values.push(operator),value=this._term(inFunction),null===value)break;\nvalues.push(value)}return values.length>0?new PropertyValue(values,values[0].line,values[0].col):null},_term:function(inFunction){var token,line,col,tokenStream=this._tokenStream,unary=null,value=null,endChar=null;return unary=this._unary_operator(),null!==unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.peek()==Tokens.IE_FUNCTION&&this.options.ieFilters?(value=this._ie_function(),null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol)):inFunction&&tokenStream.match([Tokens.LPAREN,Tokens.LBRACE,Tokens.LBRACKET])?(token=tokenStream.token(),endChar=token.endChar,value=token.value+this._expr(inFunction).text,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.mustMatch(Tokens.type(endChar)),value+=endChar,this._readWhitespace()):tokenStream.match([Tokens.NUMBER,Tokens.PERCENTAGE,Tokens.LENGTH,Tokens.ANGLE,Tokens.TIME,Tokens.FREQ,Tokens.STRING,Tokens.IDENT,Tokens.URI,Tokens.UNICODE_RANGE])?(value=tokenStream.token().value,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),this._readWhitespace()):(token=this._hexcolor(),null===token?(null===unary&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol),null===value&&(value=tokenStream.LA(3)==Tokens.EQUALS&&this.options.ieFilters?this._ie_function():this._function())):(value=token.value,null===unary&&(line=token.startLine,col=token.startCol))),null!==value?new PropertyValuePart(null!==unary?unary+value:value,line,col):null},_function:function(){var lt,tokenStream=this._tokenStream,functionText=null,expr=null;if(tokenStream.match(Tokens.FUNCTION)){if(functionText=tokenStream.token().value,this._readWhitespace(),expr=this._expr(!0),functionText+=expr,this.options.ieFilters&&tokenStream.peek()==Tokens.EQUALS)do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_ie_function:function(){var lt,tokenStream=this._tokenStream,functionText=null;if(tokenStream.match([Tokens.IE_FUNCTION,Tokens.FUNCTION])){functionText=tokenStream.token().value;do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_hexcolor:function(){var color,tokenStream=this._tokenStream,token=null;if(tokenStream.match(Tokens.HASH)){if(token=tokenStream.token(),color=token.value,!/#[a-f0-9]{3,6}/i.test(color))throw new SyntaxError("Expected a hex color but found \'"+color+"\' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol);this._readWhitespace()}return token},_keyframes:function(){var token,tt,name,tokenStream=this._tokenStream,prefix="";for(tokenStream.mustMatch(Tokens.KEYFRAMES_SYM),token=tokenStream.token(),/^@\\-([^\\-]+)\\-/.test(token.value)&&(prefix=RegExp.$1),this._readWhitespace(),name=this._keyframe_name(),this._readWhitespace(),tokenStream.mustMatch(Tokens.LBRACE),this.fire({type:"startkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tt=tokenStream.peek();tt==Tokens.IDENT||tt==Tokens.PERCENTAGE;)this._keyframe_rule(),this._readWhitespace(),tt=tokenStream.peek();this.fire({type:"endkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tokenStream.mustMatch(Tokens.RBRACE)},_keyframe_name:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),SyntaxUnit.fromToken(tokenStream.token())},_keyframe_rule:function(){var keyList=(this._tokenStream,this._key_list());this.fire({type:"startkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col}),this._readDeclarations(!0),this.fire({type:"endkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col})},_key_list:function(){var tokenStream=this._tokenStream,keyList=[];for(keyList.push(this._key()),this._readWhitespace();tokenStream.match(Tokens.COMMA);)this._readWhitespace(),keyList.push(this._key()),this._readWhitespace();return keyList},_key:function(){var token,tokenStream=this._tokenStream;if(tokenStream.match(Tokens.PERCENTAGE))return SyntaxUnit.fromToken(tokenStream.token());if(tokenStream.match(Tokens.IDENT)){if(token=tokenStream.token(),/from|to/i.test(token.value))return SyntaxUnit.fromToken(token);tokenStream.unget()}this._unexpectedToken(tokenStream.LT(1))},_skipCruft:function(){for(;this._tokenStream.match([Tokens.S,Tokens.CDO,Tokens.CDC]););},_readDeclarations:function(checkStart,readMargins){var tt,tokenStream=this._tokenStream;this._readWhitespace(),checkStart&&tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace();try{for(;;){if(tokenStream.match(Tokens.SEMICOLON)||readMargins&&this._margin());else{if(!this._declaration())break;if(!tokenStream.match(Tokens.SEMICOLON))break}this._readWhitespace()}tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.SEMICOLON,Tokens.RBRACE]),tt==Tokens.SEMICOLON)this._readDeclarations(!1,readMargins);else if(tt!=Tokens.RBRACE)throw ex}},_readWhitespace:function(){for(var tokenStream=this._tokenStream,ws="";tokenStream.match(Tokens.S);)ws+=tokenStream.token().value;return ws},_unexpectedToken:function(token){throw new SyntaxError("Unexpected token \'"+token.value+"\' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},_verifyEnd:function(){this._tokenStream.LA(1)!=Tokens.EOF&&this._unexpectedToken(this._tokenStream.LT(1))},_validateProperty:function(property,value){Validation.validate(property,value)},parse:function(input){this._tokenStream=new TokenStream(input,Tokens),this._stylesheet()},parseStyleSheet:function(input){return this.parse(input)},parseMediaQuery:function(input){this._tokenStream=new TokenStream(input,Tokens);var result=this._media_query();return this._verifyEnd(),result},parsePropertyValue:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._expr();return this._readWhitespace(),this._verifyEnd(),result},parseRule:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._ruleset();return this._readWhitespace(),this._verifyEnd(),result},parseSelector:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._selector();return this._readWhitespace(),this._verifyEnd(),result},parseStyleAttribute:function(input){input+="}",this._tokenStream=new TokenStream(input,Tokens),this._readDeclarations()}};for(prop in additions)additions.hasOwnProperty(prop)&&(proto[prop]=additions[prop]);return proto}();var Properties={"align-items":"flex-start | flex-end | center | baseline | stretch","align-content":"flex-start | flex-end | center | space-between | space-around | stretch","align-self":"auto | flex-start | flex-end | center | baseline | stretch","-webkit-align-items":"flex-start | flex-end | center | baseline | stretch","-webkit-align-content":"flex-start | flex-end | center | space-between | space-around | stretch","-webkit-align-self":"auto | flex-start | flex-end | center | baseline | stretch","alignment-adjust":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | <percentage> | <length>","alignment-baseline":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical",animation:1,"animation-delay":{multi:"<time>",comma:!0},"animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"animation-duration":{multi:"<time>",comma:!0},"animation-fill-mode":{multi:"none | forwards | backwards | both",comma:!0},"animation-iteration-count":{multi:"<number> | infinite",comma:!0},"animation-name":{multi:"none | <ident>",comma:!0},"animation-play-state":{multi:"running | paused",comma:!0},"animation-timing-function":1,"-moz-animation-delay":{multi:"<time>",comma:!0},"-moz-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-moz-animation-duration":{multi:"<time>",comma:!0},"-moz-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-moz-animation-name":{multi:"none | <ident>",comma:!0},"-moz-animation-play-state":{multi:"running | paused",comma:!0},"-ms-animation-delay":{multi:"<time>",comma:!0},"-ms-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-ms-animation-duration":{multi:"<time>",comma:!0},"-ms-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-ms-animation-name":{multi:"none | <ident>",comma:!0},"-ms-animation-play-state":{multi:"running | paused",comma:!0},"-webkit-animation-delay":{multi:"<time>",comma:!0},"-webkit-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-webkit-animation-duration":{multi:"<time>",comma:!0},"-webkit-animation-fill-mode":{multi:"none | forwards | backwards | both",comma:!0},"-webkit-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-webkit-animation-name":{multi:"none | <ident>",comma:!0},"-webkit-animation-play-state":{multi:"running | paused",comma:!0},"-o-animation-delay":{multi:"<time>",comma:!0},"-o-animation-direction":{multi:"normal | reverse | alternate | alternate-reverse",comma:!0},"-o-animation-duration":{multi:"<time>",comma:!0},"-o-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-o-animation-name":{multi:"none | <ident>",comma:!0},"-o-animation-play-state":{multi:"running | paused",comma:!0},appearance:"icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal | none | inherit",azimuth:function(expression){var part,simple="<angle> | leftwards | rightwards | inherit",direction="left-side | far-left | left | center-left | center | center-right | right | far-right | right-side",behind=!1,valid=!1;if(ValidationTypes.isAny(expression,simple)||(ValidationTypes.isAny(expression,"behind")&&(behind=!0,valid=!0),ValidationTypes.isAny(expression,direction)&&(valid=!0,behind||ValidationTypes.isAny(expression,"behind"))),expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected (<\'azimuth\'>) but found \'"+part+"\'.",part.line,part.col)},"backface-visibility":"visible | hidden",background:1,"background-attachment":{multi:"<attachment>",comma:!0},"background-clip":{multi:"<box>",comma:!0},"background-color":"<color> | inherit","background-image":{multi:"<bg-image>",comma:!0},"background-origin":{multi:"<box>",comma:!0},"background-position":{multi:"<bg-position>",comma:!0},"background-repeat":{multi:"<repeat-style>"},"background-size":{multi:"<bg-size>",comma:!0},"baseline-shift":"baseline | sub | super | <percentage> | <length>",behavior:1,binding:1,bleed:"<length>","bookmark-label":"<content> | <attr> | <string>","bookmark-level":"none | <integer>","bookmark-state":"open | closed","bookmark-target":"none | <uri> | <attr>",border:"<border-width> || <border-style> || <color>","border-bottom":"<border-width> || <border-style> || <color>","border-bottom-color":"<color> | inherit","border-bottom-left-radius":"<x-one-radius>","border-bottom-right-radius":"<x-one-radius>","border-bottom-style":"<border-style>","border-bottom-width":"<border-width>","border-collapse":"collapse | separate | inherit","border-color":{multi:"<color> | inherit",max:4},"border-image":1,"border-image-outset":{multi:"<length> | <number>",max:4},"border-image-repeat":{multi:"stretch | repeat | round",max:2},"border-image-slice":function(expression){var part,valid=!1,numeric="<number> | <percentage>",fill=!1,count=0,max=4;for(ValidationTypes.isAny(expression,"fill")&&(fill=!0,valid=!0);expression.hasNext()&&max>count&&(valid=ValidationTypes.isAny(expression,numeric));)count++;if(fill?valid=!0:ValidationTypes.isAny(expression,"fill"),expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected ([<number> | <percentage>]{1,4} && fill?) but found \'"+part+"\'.",part.line,part.col)},"border-image-source":"<image> | none","border-image-width":{multi:"<length> | <percentage> | <number> | auto",max:4},"border-left":"<border-width> || <border-style> || <color>","border-left-color":"<color> | inherit","border-left-style":"<border-style>","border-left-width":"<border-width>","border-radius":function(expression){for(var part,valid=!1,simple="<length> | <percentage> | inherit",slash=!1,count=0,max=8;expression.hasNext()&&max>count;){if(valid=ValidationTypes.isAny(expression,simple),!valid){if(!("/"==expression.peek()&&count>0)||slash)break;slash=!0,max=count+5,expression.next()}count++}if(expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected (<\'border-radius\'>) but found \'"+part+"\'.",part.line,part.col)},"border-right":"<border-width> || <border-style> || <color>","border-right-color":"<color> | inherit","border-right-style":"<border-style>","border-right-width":"<border-width>","border-spacing":{multi:"<length> | inherit",max:2},"border-style":{multi:"<border-style>",max:4},"border-top":"<border-width> || <border-style> || <color>","border-top-color":"<color> | inherit","border-top-left-radius":"<x-one-radius>","border-top-right-radius":"<x-one-radius>","border-top-style":"<border-style>","border-top-width":"<border-width>","border-width":{multi:"<border-width>",max:4},bottom:"<margin-width> | inherit","-moz-box-align":"start | end | center | baseline | stretch","-moz-box-decoration-break":"slice |clone","-moz-box-direction":"normal | reverse | inherit","-moz-box-flex":"<number>","-moz-box-flex-group":"<integer>","-moz-box-lines":"single | multiple","-moz-box-ordinal-group":"<integer>","-moz-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-moz-box-pack":"start | end | center | justify","-webkit-box-align":"start | end | center | baseline | stretch","-webkit-box-decoration-break":"slice |clone","-webkit-box-direction":"normal | reverse | inherit","-webkit-box-flex":"<number>","-webkit-box-flex-group":"<integer>","-webkit-box-lines":"single | multiple","-webkit-box-ordinal-group":"<integer>","-webkit-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-webkit-box-pack":"start | end | center | justify","box-shadow":function(expression){var part;if(ValidationTypes.isAny(expression,"none")){if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)}else Validation.multiProperty("<shadow>",expression,!0,1/0)},"box-sizing":"content-box | border-box | inherit","break-after":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-before":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-inside":"auto | avoid | avoid-page | avoid-column","caption-side":"top | bottom | inherit",clear:"none | right | left | both | inherit",clip:1,color:"<color> | inherit","color-profile":1,"column-count":"<integer> | auto","column-fill":"auto | balance","column-gap":"<length> | normal","column-rule":"<border-width> || <border-style> || <color>","column-rule-color":"<color>","column-rule-style":"<border-style>","column-rule-width":"<border-width>","column-span":"none | all","column-width":"<length> | auto",columns:1,content:1,"counter-increment":1,"counter-reset":1,crop:"<shape> | auto",cue:"cue-after | cue-before | inherit","cue-after":1,"cue-before":1,cursor:1,direction:"ltr | rtl | inherit",display:"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | grid | inline-grid | none | inherit | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box | -ms-flexbox | -ms-inline-flexbox | flex | -webkit-flex | inline-flex | -webkit-inline-flex","dominant-baseline":1,"drop-initial-after-adjust":"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | <percentage> | <length>","drop-initial-after-align":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-before-adjust":"before-edge | text-before-edge | central | middle | hanging | mathematical | <percentage> | <length>","drop-initial-before-align":"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-size":"auto | line | <length> | <percentage>","drop-initial-value":"initial | <integer>",elevation:"<angle> | below | level | above | higher | lower | inherit","empty-cells":"show | hide | inherit",filter:1,fit:"fill | hidden | meet | slice","fit-position":1,flex:"<flex>","flex-basis":"<width>","flex-direction":"row | row-reverse | column | column-reverse","flex-flow":"<flex-direction> || <flex-wrap>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap | wrap | wrap-reverse","-webkit-flex":"<flex>","-webkit-flex-basis":"<width>","-webkit-flex-direction":"row | row-reverse | column | column-reverse","-webkit-flex-flow":"<flex-direction> || <flex-wrap>","-webkit-flex-grow":"<number>","-webkit-flex-shrink":"<number>","-webkit-flex-wrap":"nowrap | wrap | wrap-reverse","-ms-flex":"<flex>","-ms-flex-align":"start | end | center | stretch | baseline","-ms-flex-direction":"row | row-reverse | column | column-reverse | inherit","-ms-flex-order":"<number>","-ms-flex-pack":"start | end | center | justify","-ms-flex-wrap":"nowrap | wrap | wrap-reverse","float":"left | right | none | inherit","float-offset":1,font:1,"font-family":1,"font-size":"<absolute-size> | <relative-size> | <length> | <percentage> | inherit","font-size-adjust":"<number> | none | inherit","font-stretch":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded | inherit","font-style":"normal | italic | oblique | inherit","font-variant":"normal | small-caps | inherit","font-weight":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit","grid-cell-stacking":"columns | rows | layer","grid-column":1,"grid-columns":1,"grid-column-align":"start | end | center | stretch","grid-column-sizing":1,"grid-column-span":"<integer>","grid-flow":"none | rows | columns","grid-layer":"<integer>","grid-row":1,"grid-rows":1,"grid-row-align":"start | end | center | stretch","grid-row-span":"<integer>","grid-row-sizing":1,"hanging-punctuation":1,height:"<margin-width> | <content-sizing> | inherit","hyphenate-after":"<integer> | auto","hyphenate-before":"<integer> | auto","hyphenate-character":"<string> | auto","hyphenate-lines":"no-limit | <integer>","hyphenate-resource":1,hyphens:"none | manual | auto",icon:1,"image-orientation":"angle | auto","image-rendering":1,"image-resolution":1,"inline-box-align":"initial | last | <integer>","justify-content":"flex-start | flex-end | center | space-between | space-around","-webkit-justify-content":"flex-start | flex-end | center | space-between | space-around",left:"<margin-width> | inherit","letter-spacing":"<length> | normal | inherit","line-height":"<number> | <length> | <percentage> | normal | inherit","line-break":"auto | loose | normal | strict","line-stacking":1,"line-stacking-ruby":"exclude-ruby | include-ruby","line-stacking-shift":"consider-shifts | disregard-shifts","line-stacking-strategy":"inline-line-height | block-line-height | max-height | grid-height","list-style":1,"list-style-image":"<uri> | none | inherit","list-style-position":"inside | outside | inherit","list-style-type":"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | inherit",margin:{multi:"<margin-width> | inherit",max:4},"margin-bottom":"<margin-width> | inherit","margin-left":"<margin-width> | inherit","margin-right":"<margin-width> | inherit","margin-top":"<margin-width> | inherit",mark:1,"mark-after":1,"mark-before":1,marks:1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,"max-height":"<length> | <percentage> | <content-sizing> | none | inherit","max-width":"<length> | <percentage> | <content-sizing> | none | inherit","min-height":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit","min-width":"<length> | <percentage> | <content-sizing> | contain-floats | -moz-contain-floats | -webkit-contain-floats | inherit","move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,opacity:"<number> | inherit",order:"<integer>","-webkit-order":"<integer>",orphans:"<integer> | inherit",outline:1,"outline-color":"<color> | invert | inherit","outline-offset":1,"outline-style":"<border-style> | inherit","outline-width":"<border-width> | inherit",overflow:"visible | hidden | scroll | auto | inherit","overflow-style":1,"overflow-wrap":"normal | break-word","overflow-x":1,"overflow-y":1,padding:{multi:"<padding-width> | inherit",max:4},"padding-bottom":"<padding-width> | inherit","padding-left":"<padding-width> | inherit","padding-right":"<padding-width> | inherit","padding-top":"<padding-width> | inherit",page:1,"page-break-after":"auto | always | avoid | left | right | inherit","page-break-before":"auto | always | avoid | left | right | inherit","page-break-inside":"auto | avoid | inherit","page-policy":1,pause:1,"pause-after":1,"pause-before":1,perspective:1,"perspective-origin":1,phonemes:1,pitch:1,"pitch-range":1,"play-during":1,"pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit",position:"static | relative | absolute | fixed | inherit","presentation-level":1,"punctuation-trim":1,quotes:1,"rendering-intent":1,resize:1,rest:1,"rest-after":1,"rest-before":1,richness:1,right:"<margin-width> | inherit",rotation:1,"rotation-point":1,"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,size:1,speak:"normal | none | spell-out | inherit","speak-header":"once | always | inherit","speak-numeral":"digits | continuous | inherit","speak-punctuation":"code | none | inherit","speech-rate":1,src:1,stress:1,"string-set":1,"table-layout":"auto | fixed | inherit","tab-size":"<integer> | <length>",target:1,"target-name":1,"target-new":1,"target-position":1,"text-align":"left | right | center | justify | inherit","text-align-last":1,"text-decoration":1,"text-emphasis":1,"text-height":1,"text-indent":"<length> | <percentage> | inherit","text-justify":"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida","text-outline":1,"text-overflow":1,"text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision | inherit","text-shadow":1,"text-transform":"capitalize | uppercase | lowercase | none | inherit","text-wrap":"normal | none | avoid",top:"<margin-width> | inherit","-ms-touch-action":"auto | none | pan-x | pan-y","touch-action":"auto | none | pan-x | pan-y",transform:1,"transform-origin":1,"transform-style":1,transition:1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":"normal | embed | isolate | bidi-override | isolate-override | plaintext | inherit","user-modify":"read-only | read-write | write-only | inherit","user-select":"none | text | toggle | element | elements | all | inherit","vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <percentage> | <length>",visibility:"visible | hidden | collapse | inherit","voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,volume:1,"white-space":"normal | pre | nowrap | pre-wrap | pre-line | inherit | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap","white-space-collapse":1,widows:"<integer> | inherit",width:"<length> | <percentage> | <content-sizing> | auto | inherit","word-break":"normal | keep-all | break-all","word-spacing":"<length> | normal | inherit","word-wrap":"normal | break-word","writing-mode":"horizontal-tb | vertical-rl | vertical-lr | lr-tb | rl-tb | tb-rl | bt-rl | tb-lr | bt-lr | lr-bt | rl-bt | lr | rl | tb | inherit","z-index":"<integer> | auto | inherit",zoom:"<number> | <percentage> | normal"};PropertyName.prototype=new SyntaxUnit,PropertyName.prototype.constructor=PropertyName,PropertyName.prototype.toString=function(){return(this.hack?this.hack:"")+this.text},PropertyValue.prototype=new SyntaxUnit,PropertyValue.prototype.constructor=PropertyValue,PropertyValueIterator.prototype.count=function(){return this._parts.length},PropertyValueIterator.prototype.isFirst=function(){return 0===this._i},PropertyValueIterator.prototype.hasNext=function(){return this._i<this._parts.length},PropertyValueIterator.prototype.mark=function(){this._marks.push(this._i)},PropertyValueIterator.prototype.peek=function(count){return this.hasNext()?this._parts[this._i+(count||0)]:null},PropertyValueIterator.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null},PropertyValueIterator.prototype.previous=function(){return this._i>0?this._parts[--this._i]:null},PropertyValueIterator.prototype.restore=function(){this._marks.length&&(this._i=this._marks.pop())},PropertyValuePart.prototype=new SyntaxUnit,PropertyValuePart.prototype.constructor=PropertyValuePart,PropertyValuePart.fromToken=function(token){return new PropertyValuePart(token.value,token.startLine,token.startCol)};var Pseudos={":first-letter":1,":first-line":1,":before":1,":after":1};Pseudos.ELEMENT=1,Pseudos.CLASS=2,Pseudos.isElement=function(pseudo){return 0===pseudo.indexOf("::")||Pseudos[pseudo.toLowerCase()]==Pseudos.ELEMENT},Selector.prototype=new SyntaxUnit,Selector.prototype.constructor=Selector,SelectorPart.prototype=new SyntaxUnit,SelectorPart.prototype.constructor=SelectorPart,SelectorSubPart.prototype=new SyntaxUnit,SelectorSubPart.prototype.constructor=SelectorSubPart,Specificity.prototype={constructor:Specificity,compare:function(other){var i,len,comps=["a","b","c","d"];for(i=0,len=comps.length;len>i;i++){if(this[comps[i]]<other[comps[i]])return-1;if(this[comps[i]]>other[comps[i]])return 1}return 0},valueOf:function(){return 1e3*this.a+100*this.b+10*this.c+this.d},toString:function(){return this.a+","+this.b+","+this.c+","+this.d}},Specificity.calculate=function(selector){function updateValues(part){var i,j,len,num,modifier,elementName=part.elementName?part.elementName.text:"";for(elementName&&"*"!=elementName.charAt(elementName.length-1)&&d++,i=0,len=part.modifiers.length;len>i;i++)switch(modifier=part.modifiers[i],modifier.type){case"class":case"attribute":c++;break;case"id":b++;break;case"pseudo":Pseudos.isElement(modifier.text)?d++:c++;break;case"not":for(j=0,num=modifier.args.length;num>j;j++)updateValues(modifier.args[j])}}var i,len,part,b=0,c=0,d=0;for(i=0,len=selector.parts.length;len>i;i++)part=selector.parts[i],part instanceof SelectorPart&&updateValues(part);return new Specificity(0,b,c,d)};var h=/^[0-9a-fA-F]$/,nonascii=/^[\\u0080-\\uFFFF]$/,nl=/\\n|\\r\\n|\\r|\\f/;TokenStream.prototype=mix(new TokenStreamBase,{_getToken:function(){var c,reader=this._reader,token=null,startLine=reader.getLine(),startCol=reader.getCol();for(c=reader.read();c;){switch(c){case"/":token="*"==reader.peek()?this.commentToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"|":case"~":case"^":case"$":case"*":token="="==reader.peek()?this.comparisonToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case\'"\':case"\'":token=this.stringToken(c,startLine,startCol);break;case"#":token=isNameChar(reader.peek())?this.hashToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case".":token=isDigit(reader.peek())?this.numberToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"-":token="-"==reader.peek()?this.htmlCommentEndToken(c,startLine,startCol):isNameStart(reader.peek())?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"!":token=this.importantToken(c,startLine,startCol);break;case"@":token=this.atRuleToken(c,startLine,startCol);break;case":":token=this.notToken(c,startLine,startCol);break;case"<":token=this.htmlCommentStartToken(c,startLine,startCol);break;case"U":case"u":if("+"==reader.peek()){token=this.unicodeRangeToken(c,startLine,startCol);break}default:token=isDigit(c)?this.numberToken(c,startLine,startCol):isWhitespace(c)?this.whitespaceToken(c,startLine,startCol):isIdentStart(c)?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol)}break}return token||null!==c||(token=this.createToken(Tokens.EOF,null,startLine,startCol)),token},createToken:function(tt,value,startLine,startCol,options){var reader=this._reader;return options=options||{},{value:value,type:tt,channel:options.channel,endChar:options.endChar,hide:options.hide||!1,startLine:startLine,startCol:startCol,endLine:reader.getLine(),endCol:reader.getCol()}},atRuleToken:function(first,startLine,startCol){var ident,rule=first,reader=this._reader,tt=Tokens.CHAR;return reader.mark(),ident=this.readName(),rule=first+ident,tt=Tokens.type(rule.toLowerCase()),(tt==Tokens.CHAR||tt==Tokens.UNKNOWN)&&(rule.length>1?tt=Tokens.UNKNOWN_SYM:(tt=Tokens.CHAR,rule=first,reader.reset())),this.createToken(tt,rule,startLine,startCol)},charToken:function(c,startLine,startCol){var tt=Tokens.type(c),opts={};return-1==tt?tt=Tokens.CHAR:opts.endChar=Tokens[tt].endChar,this.createToken(tt,c,startLine,startCol,opts)},commentToken:function(first,startLine,startCol){var comment=(this._reader,this.readComment(first));return this.createToken(Tokens.COMMENT,comment,startLine,startCol)},comparisonToken:function(c,startLine,startCol){var reader=this._reader,comparison=c+reader.read(),tt=Tokens.type(comparison)||Tokens.CHAR;return this.createToken(tt,comparison,startLine,startCol)\n},hashToken:function(first,startLine,startCol){var name=(this._reader,this.readName(first));return this.createToken(Tokens.HASH,name,startLine,startCol)},htmlCommentStartToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(3),"\x3c!--"==text?this.createToken(Tokens.CDO,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},htmlCommentEndToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(2),"--\x3e"==text?this.createToken(Tokens.CDC,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},identOrFunctionToken:function(first,startLine,startCol){var reader=this._reader,ident=this.readName(first),tt=Tokens.IDENT;return"("==reader.peek()?(ident+=reader.read(),"url("==ident.toLowerCase()?(tt=Tokens.URI,ident=this.readURI(ident),"url("==ident.toLowerCase()&&(tt=Tokens.FUNCTION)):tt=Tokens.FUNCTION):":"==reader.peek()&&"progid"==ident.toLowerCase()&&(ident+=reader.readTo("("),tt=Tokens.IE_FUNCTION),this.createToken(tt,ident,startLine,startCol)},importantToken:function(first,startLine,startCol){var temp,c,reader=this._reader,important=first,tt=Tokens.CHAR;for(reader.mark(),c=reader.read();c;){if("/"==c){if("*"!=reader.peek())break;if(temp=this.readComment(c),""===temp)break}else{if(!isWhitespace(c)){if(/i/i.test(c)){temp=reader.readCount(8),/mportant/i.test(temp)&&(important+=c+temp,tt=Tokens.IMPORTANT_SYM);break}break}important+=c+this.readWhitespace()}c=reader.read()}return tt==Tokens.CHAR?(reader.reset(),this.charToken(first,startLine,startCol)):this.createToken(tt,important,startLine,startCol)},notToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(4),":not("==text.toLowerCase()?this.createToken(Tokens.NOT,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},numberToken:function(first,startLine,startCol){var ident,reader=this._reader,value=this.readNumber(first),tt=Tokens.NUMBER,c=reader.peek();return isIdentStart(c)?(ident=this.readName(reader.read()),value+=ident,tt=/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vmax$|^vmin$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(ident)?Tokens.LENGTH:/^deg|^rad$|^grad$/i.test(ident)?Tokens.ANGLE:/^ms$|^s$/i.test(ident)?Tokens.TIME:/^hz$|^khz$/i.test(ident)?Tokens.FREQ:/^dpi$|^dpcm$/i.test(ident)?Tokens.RESOLUTION:Tokens.DIMENSION):"%"==c&&(value+=reader.read(),tt=Tokens.PERCENTAGE),this.createToken(tt,value,startLine,startCol)},stringToken:function(first,startLine,startCol){for(var delim=first,string=first,reader=this._reader,prev=first,tt=Tokens.STRING,c=reader.read();c&&(string+=c,c!=delim||"\\\\"==prev);){if(isNewLine(reader.peek())&&"\\\\"!=c){tt=Tokens.INVALID;break}prev=c,c=reader.read()}return null===c&&(tt=Tokens.INVALID),this.createToken(tt,string,startLine,startCol)},unicodeRangeToken:function(first,startLine,startCol){var temp,reader=this._reader,value=first,tt=Tokens.CHAR;return"+"==reader.peek()&&(reader.mark(),value+=reader.read(),value+=this.readUnicodeRangePart(!0),2==value.length?reader.reset():(tt=Tokens.UNICODE_RANGE,-1==value.indexOf("?")&&"-"==reader.peek()&&(reader.mark(),temp=reader.read(),temp+=this.readUnicodeRangePart(!1),1==temp.length?reader.reset():value+=temp))),this.createToken(tt,value,startLine,startCol)},whitespaceToken:function(first,startLine,startCol){var value=(this._reader,first+this.readWhitespace());return this.createToken(Tokens.S,value,startLine,startCol)},readUnicodeRangePart:function(allowQuestionMark){for(var reader=this._reader,part="",c=reader.peek();isHexDigit(c)&&6>part.length;)reader.read(),part+=c,c=reader.peek();if(allowQuestionMark)for(;"?"==c&&6>part.length;)reader.read(),part+=c,c=reader.peek();return part},readWhitespace:function(){for(var reader=this._reader,whitespace="",c=reader.peek();isWhitespace(c);)reader.read(),whitespace+=c,c=reader.peek();return whitespace},readNumber:function(first){for(var reader=this._reader,number=first,hasDot="."==first,c=reader.peek();c;){if(isDigit(c))number+=reader.read();else{if("."!=c)break;if(hasDot)break;hasDot=!0,number+=reader.read()}c=reader.peek()}return number},readString:function(){for(var reader=this._reader,delim=reader.read(),string=delim,prev=delim,c=reader.peek();c&&(c=reader.read(),string+=c,c!=delim||"\\\\"==prev);){if(isNewLine(reader.peek())&&"\\\\"!=c){string="";break}prev=c,c=reader.peek()}return null===c&&(string=""),string},readURI:function(first){var reader=this._reader,uri=first,inner="",c=reader.peek();for(reader.mark();c&&isWhitespace(c);)reader.read(),c=reader.peek();for(inner="\'"==c||\'"\'==c?this.readString():this.readURL(),c=reader.peek();c&&isWhitespace(c);)reader.read(),c=reader.peek();return""===inner||")"!=c?(uri=first,reader.reset()):uri+=inner+reader.read(),uri},readURL:function(){for(var reader=this._reader,url="",c=reader.peek();/^[!#$%&\\\\*-~]$/.test(c);)url+=reader.read(),c=reader.peek();return url},readName:function(first){for(var reader=this._reader,ident=first||"",c=reader.peek();;)if("\\\\"==c)ident+=this.readEscape(reader.read()),c=reader.peek();else{if(!c||!isNameChar(c))break;ident+=reader.read(),c=reader.peek()}return ident},readEscape:function(first){var reader=this._reader,cssEscape=first||"",i=0,c=reader.peek();if(isHexDigit(c))do cssEscape+=reader.read(),c=reader.peek();while(c&&isHexDigit(c)&&6>++i);return 3==cssEscape.length&&/\\s/.test(c)||7==cssEscape.length||1==cssEscape.length?reader.read():c="",cssEscape+c},readComment:function(first){var reader=this._reader,comment=first||"",c=reader.read();if("*"==c){for(;c;){if(comment+=c,comment.length>2&&"*"==c&&"/"==reader.peek()){comment+=reader.read();break}c=reader.read()}return comment}return""}});var Tokens=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:!0},{name:"COMMENT",comment:!0,hide:!0,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH",text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"VIEWPORT_SYM",text:["@viewport","@-ms-viewport"]},{name:"UNKNOWN_SYM"},{name:"KEYFRAMES_SYM",text:["@keyframes","@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},{name:"IMPORTANT_SYM"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",endChar:"}",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",endChar:"]",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",endChar:")",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];(function(){var nameMap=[],typeMap={};Tokens.UNKNOWN=-1,Tokens.unshift({name:"EOF"});for(var i=0,len=Tokens.length;len>i;i++)if(nameMap.push(Tokens[i].name),Tokens[Tokens[i].name]=i,Tokens[i].text)if(Tokens[i].text instanceof Array)for(var j=0;Tokens[i].text.length>j;j++)typeMap[Tokens[i].text[j]]=i;else typeMap[Tokens[i].text]=i;Tokens.name=function(tt){return nameMap[tt]},Tokens.type=function(c){return typeMap[c]||-1}})();var Validation={validate:function(property,value){var name=(""+property).toLowerCase(),expression=(value.parts,new PropertyValueIterator(value)),spec=Properties[name];if(spec)"number"!=typeof spec&&("string"==typeof spec?spec.indexOf("||")>-1?this.groupProperty(spec,expression):this.singleProperty(spec,expression,1):spec.multi?this.multiProperty(spec.multi,expression,spec.comma,spec.max||1/0):"function"==typeof spec&&spec(expression));else if(0!==name.indexOf("-"))throw new ValidationError("Unknown property \'"+property+"\'.",property.line,property.col)},singleProperty:function(types,expression,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&max>count&&(result=ValidationTypes.isAny(expression,types));)count++;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)},multiProperty:function(types,expression,comma,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&!result&&max>count&&ValidationTypes.isAny(expression,types);)if(count++,expression.hasNext()){if(comma){if(","!=expression.peek())break;part=expression.next()}}else result=!0;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):(part=expression.previous(),comma&&","==part?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col));if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)},groupProperty:function(types,expression){for(var name,part,result=!1,value=expression.value,typeCount=types.split("||").length,groups={count:0},partial=!1;expression.hasNext()&&!result&&(name=ValidationTypes.isAnyOfGroup(expression,types))&&!groups[name];)groups[name]=1,groups.count++,partial=!0,groups.count!=typeCount&&expression.hasNext()||(result=!0);if(!result)throw partial&&expression.hasNext()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)}};ValidationError.prototype=Error();var ValidationTypes={isLiteral:function(part,literals){var i,len,text=(""+part.text).toLowerCase(),args=literals.split(" | "),found=!1;for(i=0,len=args.length;len>i&&!found;i++)text==args[i].toLowerCase()&&(found=!0);return found},isSimple:function(type){return!!this.simple[type]},isComplex:function(type){return!!this.complex[type]},isAny:function(expression,types){var i,len,args=types.split(" | "),found=!1;for(i=0,len=args.length;len>i&&!found&&expression.hasNext();i++)found=this.isType(expression,args[i]);return found},isAnyOfGroup:function(expression,types){var i,len,args=types.split(" || "),found=!1;for(i=0,len=args.length;len>i&&!found;i++)found=this.isType(expression,args[i]);return found?args[i-1]:!1},isType:function(expression,type){var part=expression.peek(),result=!1;return"<"!=type.charAt(0)?(result=this.isLiteral(part,type),result&&expression.next()):this.simple[type]?(result=this.simple[type](part),result&&expression.next()):result=this.complex[type](expression),result},simple:{"<absolute-size>":function(part){return ValidationTypes.isLiteral(part,"xx-small | x-small | small | medium | large | x-large | xx-large")},"<attachment>":function(part){return ValidationTypes.isLiteral(part,"scroll | fixed | local")},"<attr>":function(part){return"function"==part.type&&"attr"==part.name},"<bg-image>":function(part){return this["<image>"](part)||this["<gradient>"](part)||"none"==part},"<gradient>":function(part){return"function"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?(?:repeating\\-)?(?:radial\\-|linear\\-)?gradient/i.test(part)},"<box>":function(part){return ValidationTypes.isLiteral(part,"padding-box | border-box | content-box")},"<content>":function(part){return"function"==part.type&&"content"==part.name},"<relative-size>":function(part){return ValidationTypes.isLiteral(part,"smaller | larger")},"<ident>":function(part){return"identifier"==part.type},"<length>":function(part){return"function"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?calc/i.test(part)?!0:"length"==part.type||"number"==part.type||"integer"==part.type||"0"==part},"<color>":function(part){return"color"==part.type||"transparent"==part},"<number>":function(part){return"number"==part.type||this["<integer>"](part)},"<integer>":function(part){return"integer"==part.type},"<line>":function(part){return"integer"==part.type},"<angle>":function(part){return"angle"==part.type},"<uri>":function(part){return"uri"==part.type},"<image>":function(part){return this["<uri>"](part)},"<percentage>":function(part){return"percentage"==part.type||"0"==part},"<border-width>":function(part){return this["<length>"](part)||ValidationTypes.isLiteral(part,"thin | medium | thick")},"<border-style>":function(part){return ValidationTypes.isLiteral(part,"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset")},"<content-sizing>":function(part){return ValidationTypes.isLiteral(part,"fill-available | -moz-available | -webkit-fill-available | max-content | -moz-max-content | -webkit-max-content | min-content | -moz-min-content | -webkit-min-content | fit-content | -moz-fit-content | -webkit-fit-content")},"<margin-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)||ValidationTypes.isLiteral(part,"auto")},"<padding-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)},"<shape>":function(part){return"function"==part.type&&("rect"==part.name||"inset-rect"==part.name)},"<time>":function(part){return"time"==part.type},"<flex-grow>":function(part){return this["<number>"](part)},"<flex-shrink>":function(part){return this["<number>"](part)},"<width>":function(part){return this["<margin-width>"](part)},"<flex-basis>":function(part){return this["<width>"](part)},"<flex-direction>":function(part){return ValidationTypes.isLiteral(part,"row | row-reverse | column | column-reverse")},"<flex-wrap>":function(part){return ValidationTypes.isLiteral(part,"nowrap | wrap | wrap-reverse")}},complex:{"<bg-position>":function(expression){for(var result=!1,numeric="<percentage> | <length>",xDir="left | right",yDir="top | bottom",count=0;expression.peek(count)&&","!=expression.peek(count);)count++;return 3>count?ValidationTypes.isAny(expression,xDir+" | center | "+numeric)?(result=!0,ValidationTypes.isAny(expression,yDir+" | center | "+numeric)):ValidationTypes.isAny(expression,yDir)&&(result=!0,ValidationTypes.isAny(expression,xDir+" | center")):ValidationTypes.isAny(expression,xDir)?ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,yDir)?ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,"center")&&ValidationTypes.isAny(expression,xDir+" | "+yDir)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<bg-size>":function(expression){var result=!1,numeric="<percentage> | <length> | auto";return ValidationTypes.isAny(expression,"cover | contain")?result=!0:ValidationTypes.isAny(expression,numeric)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<repeat-style>":function(expression){var part,result=!1,values="repeat | space | round | no-repeat";return expression.hasNext()&&(part=expression.next(),ValidationTypes.isLiteral(part,"repeat-x | repeat-y")?result=!0:ValidationTypes.isLiteral(part,values)&&(result=!0,expression.hasNext()&&ValidationTypes.isLiteral(expression.peek(),values)&&expression.next())),result},"<shadow>":function(expression){var result=!1,count=0,inset=!1,color=!1;if(expression.hasNext()){for(ValidationTypes.isAny(expression,"inset")&&(inset=!0),ValidationTypes.isAny(expression,"<color>")&&(color=!0);ValidationTypes.isAny(expression,"<length>")&&4>count;)count++;expression.hasNext()&&(color||ValidationTypes.isAny(expression,"<color>"),inset||ValidationTypes.isAny(expression,"inset")),result=count>=2&&4>=count}return result},"<x-one-radius>":function(expression){var result=!1,simple="<length> | <percentage> | inherit";return ValidationTypes.isAny(expression,simple)&&(result=!0,ValidationTypes.isAny(expression,simple)),result},"<flex>":function(expression){var part,result=!1;if(ValidationTypes.isAny(expression,"none | inherit")?result=!0:ValidationTypes.isType(expression,"<flex-grow>")?expression.peek()?ValidationTypes.isType(expression,"<flex-shrink>")?result=expression.peek()?ValidationTypes.isType(expression,"<flex-basis>"):!0:ValidationTypes.isType(expression,"<flex-basis>")&&(result=null===expression.peek()):result=!0:ValidationTypes.isType(expression,"<flex-basis>")&&(result=!0),!result)throw part=expression.peek(),new ValidationError("Expected (none | [ <flex-grow> <flex-shrink>? || <flex-basis> ]) but found \'"+expression.value.text+"\'.",part.line,part.col);return result}}};parserlib.css={Colors:Colors,Combinator:Combinator,Parser:Parser,PropertyName:PropertyName,PropertyValue:PropertyValue,PropertyValuePart:PropertyValuePart,MediaFeature:MediaFeature,MediaQuery:MediaQuery,Selector:Selector,SelectorPart:SelectorPart,SelectorSubPart:SelectorSubPart,Specificity:Specificity,TokenStream:TokenStream,Tokens:Tokens,ValidationError:ValidationError}}(),function(){for(var prop in parserlib)exports[prop]=parserlib[prop]}();var util={isArray:function(ar){return Array.isArray(ar)||"object"==typeof ar&&"[object Array]"===objectToString(ar)},isDate:function(d){return"object"==typeof d&&"[object Date]"===objectToString(d)},isRegExp:function(re){return"object"==typeof re&&"[object RegExp]"===objectToString(re)},getRegExpFlags:function(re){var flags="";return re.global&&(flags+="g"),re.ignoreCase&&(flags+="i"),re.multiline&&(flags+="m"),flags}};"object"==typeof module&&(module.exports=clone),clone.clonePrototype=function(parent){if(null===parent)return null;var c=function(){};return c.prototype=parent,new c};var CSSLint=function(){function applyEmbeddedRuleset(text,ruleset){var valueMap,embedded=text&&text.match(embeddedRuleset),rules=embedded&&embedded[1];return rules&&(valueMap={"true":2,"":1,"false":0,2:2,1:1,0:0},rules.toLowerCase().split(",").forEach(function(rule){var pair=rule.split(":"),property=pair[0]||"",value=pair[1]||"";ruleset[property.trim()]=valueMap[value.trim()]})),ruleset}var rules=[],formatters=[],embeddedRuleset=/\\/\\*csslint([^\\*]*)\\*\\//,api=new parserlib.util.EventTarget;return api.version="@VERSION@",api.addRule=function(rule){rules.push(rule),rules[rule.id]=rule},api.clearRules=function(){rules=[]},api.getRules=function(){return[].concat(rules).sort(function(a,b){return a.id>b.id?1:0})},api.getRuleset=function(){for(var ruleset={},i=0,len=rules.length;len>i;)ruleset[rules[i++].id]=1;return ruleset},api.addFormatter=function(formatter){formatters[formatter.id]=formatter},api.getFormatter=function(formatId){return formatters[formatId]},api.format=function(results,filename,formatId,options){var formatter=this.getFormatter(formatId),result=null;return formatter&&(result=formatter.startFormat(),result+=formatter.formatResults(results,filename,options||{}),result+=formatter.endFormat()),result},api.hasFormat=function(formatId){return formatters.hasOwnProperty(formatId)},api.verify=function(text,ruleset){var reporter,lines,report,i=0,parser=new parserlib.css.Parser({starHack:!0,ieFilters:!0,underscoreHack:!0,strict:!1});lines=text.replace(/\\n\\r?/g,"$split$").split("$split$"),ruleset||(ruleset=this.getRuleset()),embeddedRuleset.test(text)&&(ruleset=clone(ruleset),ruleset=applyEmbeddedRuleset(text,ruleset)),reporter=new Reporter(lines,ruleset),ruleset.errors=2;for(i in ruleset)ruleset.hasOwnProperty(i)&&ruleset[i]&&rules[i]&&rules[i].init(parser,reporter);try{parser.parse(text)}catch(ex){reporter.error("Fatal error, cannot continue: "+ex.message,ex.line,ex.col,{})}return report={messages:reporter.messages,stats:reporter.stats,ruleset:reporter.ruleset},report.messages.sort(function(a,b){return a.rollup&&!b.rollup?1:!a.rollup&&b.rollup?-1:a.line-b.line}),report},api}();Reporter.prototype={constructor:Reporter,error:function(message,line,col,rule){this.messages.push({type:"error",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule||{}})},warn:function(message,line,col,rule){this.report(message,line,col,rule)},report:function(message,line,col,rule){this.messages.push({type:2===this.ruleset[rule.id]?"error":"warning",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},info:function(message,line,col,rule){this.messages.push({type:"info",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},rollupError:function(message,rule){this.messages.push({type:"error",rollup:!0,message:message,rule:rule})},rollupWarn:function(message,rule){this.messages.push({type:"warning",rollup:!0,message:message,rule:rule})},stat:function(name,value){this.stats[name]=value}},CSSLint._Reporter=Reporter,CSSLint.Util={mix:function(receiver,supplier){var prop;for(prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return prop},indexOf:function(values,value){if(values.indexOf)return values.indexOf(value);for(var i=0,len=values.length;len>i;i++)if(values[i]===value)return i;return-1},forEach:function(values,func){if(values.forEach)return values.forEach(func);for(var i=0,len=values.length;len>i;i++)func(values[i],i,values)}},CSSLint.addRule({id:"adjoining-classes",name:"Disallow adjoining classes",desc:"Don\'t use adjoining classes.",browsers:"IE6",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,classCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(classCount=0,k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"class"===modifier.type&&classCount++,classCount>1&&reporter.report("Don\'t use adjoining classes.",part.line,part.col,rule)})}}),CSSLint.addRule({id:"box-model",name:"Beware of broken box size",desc:"Don\'t use width or height when using padding or border.",browsers:"All",init:function(parser,reporter){function startRule(){properties={},boxSizing=!1}function endRule(){var prop,value;if(!boxSizing){if(properties.height)for(prop in heightProperties)heightProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,("padding"!==prop||2!==value.parts.length||0!==value.parts[0].value)&&reporter.report("Using height with "+prop+" can sometimes make elements larger than you expect.",properties[prop].line,properties[prop].col,rule));if(properties.width)for(prop in widthProperties)widthProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,("padding"!==prop||2!==value.parts.length||0!==value.parts[1].value)&&reporter.report("Using width with "+prop+" can sometimes make elements larger than you expect.",properties[prop].line,properties[prop].col,rule))}}var properties,rule=this,widthProperties={border:1,"border-left":1,"border-right":1,padding:1,"padding-left":1,"padding-right":1},heightProperties={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom":1,"padding-top":1},boxSizing=!1;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();heightProperties[name]||widthProperties[name]?/^0\\S*$/.test(event.value)||"border"===name&&"none"==""+event.value||(properties[name]={line:event.property.line,col:event.property.col,value:event.value}):/^(width|height)/i.test(name)&&/^(length|percentage)/.test(event.value.parts[0].type)?properties[name]=1:"box-sizing"===name&&(boxSizing=!0)}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"box-sizing",name:"Disallow use of box-sizing",desc:"The box-sizing properties isn\'t supported in IE6 and IE7.",browsers:"IE6, IE7",tags:["Compatibility"],init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var name=event.property.text.toLowerCase();"box-sizing"===name&&reporter.report("The box-sizing property isn\'t supported in IE6 and IE7.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"bulletproof-font-face",name:"Use the bulletproof @font-face syntax",desc:"Use the bulletproof @font-face syntax to avoid 404\'s in old IE (http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax).",browsers:"All",init:function(parser,reporter){var line,col,rule=this,fontFaceRule=!1,firstSrc=!0,ruleFailed=!1;parser.addListener("startfontface",function(){fontFaceRule=!0}),parser.addListener("property",function(event){if(fontFaceRule){var propertyName=(""+event.property).toLowerCase(),value=""+event.value;if(line=event.line,col=event.col,"src"===propertyName){var regex=/^\\s?url\\([\'"].+\\.eot\\?.*[\'"]\\)\\s*format\\([\'"]embedded-opentype[\'"]\\).*$/i;!value.match(regex)&&firstSrc?(ruleFailed=!0,firstSrc=!1):value.match(regex)&&!firstSrc&&(ruleFailed=!1)}}}),parser.addListener("endfontface",function(){fontFaceRule=!1,ruleFailed&&reporter.report("@font-face declaration doesn\'t follow the fontspring bulletproof syntax.",line,col,rule)})}}),CSSLint.addRule({id:"compatible-vendor-prefixes",name:"Require compatible vendor prefixes",desc:"Include all compatible vendor prefixes to reach a wider range of users.",browsers:"All",init:function(parser,reporter){var compatiblePrefixes,properties,prop,variations,prefixed,i,len,rule=this,inKeyFrame=!1,arrayPush=Array.prototype.push,applyTo=[];compatiblePrefixes={animation:"webkit moz","animation-delay":"webkit moz","animation-direction":"webkit moz","animation-duration":"webkit moz","animation-fill-mode":"webkit moz","animation-iteration-count":"webkit moz","animation-name":"webkit moz","animation-play-state":"webkit moz","animation-timing-function":"webkit moz",appearance:"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz","border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o","border-radius":"webkit","border-start":"webkit moz","border-start-color":"webkit moz","border-start-style":"webkit moz","border-start-width":"webkit moz","box-align":"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines":"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack":"webkit moz ms","box-sizing":"webkit moz","box-shadow":"webkit moz","column-count":"webkit moz ms","column-gap":"webkit moz ms","column-rule":"webkit moz ms","column-rule-color":"webkit moz ms","column-rule-style":"webkit moz ms","column-rule-width":"webkit moz ms","column-width":"webkit moz ms",hyphens:"epub moz","line-break":"webkit ms","margin-end":"webkit moz","margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap","padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust":"webkit ms",transform:"webkit moz ms o","transform-origin":"webkit moz ms o",transition:"webkit moz o","transition-delay":"webkit moz o","transition-duration":"webkit moz o","transition-property":"webkit moz o","transition-timing-function":"webkit moz o","user-modify":"webkit moz","user-select":"webkit moz ms","word-break":"epub ms","writing-mode":"epub ms"};for(prop in compatiblePrefixes)if(compatiblePrefixes.hasOwnProperty(prop)){for(variations=[],prefixed=compatiblePrefixes[prop].split(" "),i=0,len=prefixed.length;len>i;i++)variations.push("-"+prefixed[i]+"-"+prop);compatiblePrefixes[prop]=variations,arrayPush.apply(applyTo,variations)}parser.addListener("startrule",function(){properties=[]}),parser.addListener("startkeyframes",function(event){inKeyFrame=event.prefix||!0}),parser.addListener("endkeyframes",function(){inKeyFrame=!1}),parser.addListener("property",function(event){var name=event.property;CSSLint.Util.indexOf(applyTo,name.text)>-1&&(inKeyFrame&&"string"==typeof inKeyFrame&&0===name.text.indexOf("-"+inKeyFrame+"-")||properties.push(name))}),parser.addListener("endrule",function(){if(properties.length){var i,len,name,prop,variations,value,full,actual,item,propertiesSpecified,propertyGroups={};for(i=0,len=properties.length;len>i;i++){name=properties[i];for(prop in compatiblePrefixes)compatiblePrefixes.hasOwnProperty(prop)&&(variations=compatiblePrefixes[prop],CSSLint.Util.indexOf(variations,name.text)>-1&&(propertyGroups[prop]||(propertyGroups[prop]={full:variations.slice(0),actual:[],actualNodes:[]}),-1===CSSLint.Util.indexOf(propertyGroups[prop].actual,name.text)&&(propertyGroups[prop].actual.push(name.text),propertyGroups[prop].actualNodes.push(name))))}for(prop in propertyGroups)if(propertyGroups.hasOwnProperty(prop)&&(value=propertyGroups[prop],full=value.full,actual=value.actual,full.length>actual.length))for(i=0,len=full.length;len>i;i++)item=full[i],-1===CSSLint.Util.indexOf(actual,item)&&(propertiesSpecified=1===actual.length?actual[0]:2===actual.length?actual.join(" and "):actual.join(", "),reporter.report("The property "+item+" is compatible with "+propertiesSpecified+" and should be included as well.",value.actualNodes[0].line,value.actualNodes[0].col,rule))}})}}),CSSLint.addRule({id:"display-property-grouping",name:"Require properties appropriate for display",desc:"Certain properties shouldn\'t be used with certain display property values.",browsers:"All",init:function(parser,reporter){function reportProperty(name,display,msg){properties[name]&&("string"!=typeof propertiesToCheck[name]||properties[name].value.toLowerCase()!==propertiesToCheck[name])&&reporter.report(msg||name+" can\'t be used with display: "+display+".",properties[name].line,properties[name].col,rule)}function startRule(){properties={}}function endRule(){var display=properties.display?properties.display.value:null;if(display)switch(display){case"inline":reportProperty("height",display),reportProperty("width",display),reportProperty("margin",display),reportProperty("margin-top",display),reportProperty("margin-bottom",display),reportProperty("float",display,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).");break;case"block":reportProperty("vertical-align",display);\nbreak;case"inline-block":reportProperty("float",display);break;default:0===display.indexOf("table-")&&(reportProperty("margin",display),reportProperty("margin-left",display),reportProperty("margin-right",display),reportProperty("margin-top",display),reportProperty("margin-bottom",display),reportProperty("float",display))}}var properties,rule=this,propertiesToCheck={display:1,"float":"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom":1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1,"padding-top":1,"vertical-align":1};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startpage",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();propertiesToCheck[name]&&(properties[name]={value:event.value.text,line:event.property.line,col:event.property.col})}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endkeyframerule",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endpage",endRule)}}),CSSLint.addRule({id:"duplicate-background-images",name:"Disallow duplicate background images",desc:"Every background-image should be unique. Use a common class for e.g. sprites.",browsers:"All",init:function(parser,reporter){var rule=this,stack={};parser.addListener("property",function(event){var i,len,name=event.property.text,value=event.value;if(name.match(/background/i))for(i=0,len=value.parts.length;len>i;i++)"uri"===value.parts[i].type&&(stack[value.parts[i].uri]===void 0?stack[value.parts[i].uri]=event:reporter.report("Background image \'"+value.parts[i].uri+"\' was used multiple times, first declared at line "+stack[value.parts[i].uri].line+", col "+stack[value.parts[i].uri].col+".",event.line,event.col,rule))})}}),CSSLint.addRule({id:"duplicate-properties",name:"Disallow duplicate properties",desc:"Duplicate properties must appear one after the other.",browsers:"All",init:function(parser,reporter){function startRule(){properties={}}var properties,lastProperty,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase();!properties[name]||lastProperty===name&&properties[name]!==event.value.text||reporter.report("Duplicate property \'"+event.property+"\' found.",event.line,event.col,rule),properties[name]=event.value.text,lastProperty=name})}}),CSSLint.addRule({id:"empty-rules",name:"Disallow empty rules",desc:"Rules without any properties specified should be removed.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(){count=0}),parser.addListener("property",function(){count++}),parser.addListener("endrule",function(event){var selectors=event.selectors;0===count&&reporter.report("Rule is empty.",selectors[0].line,selectors[0].col,rule)})}}),CSSLint.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("error",function(event){reporter.error(event.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:"fallback-colors",name:"Require fallback colors",desc:"For older browsers that don\'t support RGBA, HSL, or HSLA, provide a fallback color.",browsers:"IE6,IE7,IE8",init:function(parser,reporter){function startRule(){properties={},lastProperty=null}var lastProperty,properties,rule=this,propertiesToCheck={color:1,background:1,"border-color":1,"border-top-color":1,"border-right-color":1,"border-bottom-color":1,"border-left-color":1,border:1,"border-top":1,"border-right":1,"border-bottom":1,"border-left":1,"background-color":1};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase(),parts=event.value.parts,i=0,colorType="",len=parts.length;if(propertiesToCheck[name])for(;len>i;)"color"===parts[i].type&&("alpha"in parts[i]||"hue"in parts[i]?(/([^\\)]+)\\(/.test(parts[i])&&(colorType=RegExp.$1.toUpperCase()),lastProperty&&lastProperty.property.text.toLowerCase()===name&&"compat"===lastProperty.colorType||reporter.report("Fallback "+name+" (hex or RGB) should precede "+colorType+" "+name+".",event.line,event.col,rule)):event.colorType="compat"),i++;lastProperty=event})}}),CSSLint.addRule({id:"floats",name:"Disallow too many floats",desc:"This rule tests if the float property is used too many times",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){"float"===event.property.text.toLowerCase()&&"none"!==event.value.text.toLowerCase()&&count++}),parser.addListener("endstylesheet",function(){reporter.stat("floats",count),count>=10&&reporter.rollupWarn("Too many floats ("+count+"), you\'re probably using them for layout. Consider using a grid system instead.",rule)})}}),CSSLint.addRule({id:"font-faces",name:"Don\'t use too many web fonts",desc:"Too many different web fonts in the same stylesheet.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startfontface",function(){count++}),parser.addListener("endstylesheet",function(){count>5&&reporter.rollupWarn("Too many @font-face declarations ("+count+").",rule)})}}),CSSLint.addRule({id:"font-sizes",name:"Disallow too many font sizes",desc:"Checks the number of font-size declarations.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){"font-size"==""+event.property&&count++}),parser.addListener("endstylesheet",function(){reporter.stat("font-sizes",count),count>=10&&reporter.rollupWarn("Too many font-size declarations ("+count+"), abstraction needed.",rule)})}}),CSSLint.addRule({id:"gradients",name:"Require all gradient definitions",desc:"When using a vendor-prefixed gradient, make sure to use them all.",browsers:"All",init:function(parser,reporter){var gradients,rule=this;parser.addListener("startrule",function(){gradients={moz:0,webkit:0,oldWebkit:0,o:0}}),parser.addListener("property",function(event){/\\-(moz|o|webkit)(?:\\-(?:linear|radial))\\-gradient/i.test(event.value)?gradients[RegExp.$1]=1:/\\-webkit\\-gradient/i.test(event.value)&&(gradients.oldWebkit=1)}),parser.addListener("endrule",function(event){var missing=[];gradients.moz||missing.push("Firefox 3.6+"),gradients.webkit||missing.push("Webkit (Safari 5+, Chrome)"),gradients.oldWebkit||missing.push("Old Webkit (Safari 4+, Chrome)"),gradients.o||missing.push("Opera 11.1+"),missing.length&&4>missing.length&&reporter.report("Missing vendor-prefixed CSS gradients for "+missing.join(", ")+".",event.selectors[0].line,event.selectors[0].col,rule)})}}),CSSLint.addRule({id:"ids",name:"Disallow IDs in selectors",desc:"Selectors should not contain IDs.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,idCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++){for(selector=selectors[i],idCount=0,j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"id"===modifier.type&&idCount++;1===idCount?reporter.report("Don\'t use IDs in selectors.",selector.line,selector.col,rule):idCount>1&&reporter.report(idCount+" IDs in the selector, really?",selector.line,selector.col,rule)}})}}),CSSLint.addRule({id:"import",name:"Disallow @import",desc:"Don\'t use @import, use <link> instead.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("import",function(event){reporter.report("@import prevents parallel downloads, use <link> instead.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"important",name:"Disallow !important",desc:"Be careful when using !important declaration",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){event.important===!0&&(count++,reporter.report("Use of !important",event.line,event.col,rule))}),parser.addListener("endstylesheet",function(){reporter.stat("important",count),count>=10&&reporter.rollupWarn("Too many !important declarations ("+count+"), try to use less than 10 to avoid specificity issues.",rule)})}}),CSSLint.addRule({id:"known-properties",name:"Require use of known properties",desc:"Properties should be known (listed in CSS3 specification) or be a vendor-prefixed property.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){event.invalid&&reporter.report(event.invalid.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:"order-alphabetical",name:"Alphabetical order",desc:"Assure properties are in alphabetical order",browsers:"All",init:function(parser,reporter){var properties,rule=this,startRule=function(){properties=[]};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text,lowerCasePrefixLessName=name.toLowerCase().replace(/^-.*?-/,"");properties.push(lowerCasePrefixLessName)}),parser.addListener("endrule",function(event){var currentProperties=properties.join(","),expectedProperties=properties.sort().join(",");currentProperties!==expectedProperties&&reporter.report("Rule doesn\'t have all its properties in alphabetical ordered.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"outline-none",name:"Disallow outline: none",desc:"Use of outline: none or outline: 0 should be limited to :focus rules.",browsers:"All",tags:["Accessibility"],init:function(parser,reporter){function startRule(event){lastRule=event.selectors?{line:event.line,col:event.col,selectors:event.selectors,propCount:0,outline:!1}:null}function endRule(){lastRule&&lastRule.outline&&(-1===(""+lastRule.selectors).toLowerCase().indexOf(":focus")?reporter.report("Outlines should only be modified using :focus.",lastRule.line,lastRule.col,rule):1===lastRule.propCount&&reporter.report("Outlines shouldn\'t be hidden unless other visual changes are made.",lastRule.line,lastRule.col,rule))}var lastRule,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase(),value=event.value;lastRule&&(lastRule.propCount++,"outline"!==name||"none"!=""+value&&"0"!=""+value||(lastRule.outline=!0))}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"overqualified-elements",name:"Disallow overqualified elements",desc:"Don\'t use classes or IDs with elements (a.foo or a#foo).",browsers:"All",init:function(parser,reporter){var rule=this,classes={};parser.addListener("startrule",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],part.elementName&&"id"===modifier.type?reporter.report("Element ("+part+") is overqualified, just use "+modifier+" without element name.",part.line,part.col,rule):"class"===modifier.type&&(classes[modifier]||(classes[modifier]=[]),classes[modifier].push({modifier:modifier,part:part}))}),parser.addListener("endstylesheet",function(){var prop;for(prop in classes)classes.hasOwnProperty(prop)&&1===classes[prop].length&&classes[prop][0].part.elementName&&reporter.report("Element ("+classes[prop][0].part+") is overqualified, just use "+classes[prop][0].modifier+" without element name.",classes[prop][0].part.line,classes[prop][0].part.col,rule)})}}),CSSLint.addRule({id:"qualified-headings",name:"Disallow qualified headings",desc:"Headings should not be qualified (namespaced).",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE&&part.elementName&&/h[1-6]/.test(""+part.elementName)&&j>0&&reporter.report("Heading ("+part.elementName+") should not be qualified.",part.line,part.col,rule)})}}),CSSLint.addRule({id:"regex-selectors",name:"Disallow selectors that look like regexs",desc:"Selectors that look like regular expressions are slow and should be avoided.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"attribute"===modifier.type&&/([\\~\\|\\^\\$\\*]=)/.test(modifier)&&reporter.report("Attribute selectors with "+RegExp.$1+" are slow!",modifier.line,modifier.col,rule)})}}),CSSLint.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are.",browsers:"All",init:function(parser,reporter){var count=0;parser.addListener("startrule",function(){count++}),parser.addListener("endstylesheet",function(){reporter.stat("rule-count",count)})}}),CSSLint.addRule({id:"selector-max-approaching",name:"Warn when approaching the 4095 selector limit for IE",desc:"Will warn when selector count is >= 3800 selectors.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length}),parser.addListener("endstylesheet",function(){count>=3800&&reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)})}}),CSSLint.addRule({id:"selector-max",name:"Error when past the 4095 selector limit for IE",desc:"Will error when selector count is > 4095.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length}),parser.addListener("endstylesheet",function(){count>4095&&reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)})}}),CSSLint.addRule({id:"selector-newline",name:"Disallow new-line characters in selectors",desc:"New-line characters in selectors are usually a forgotten comma and not a descendant combinator.",browsers:"All",init:function(parser,reporter){function startRule(event){var i,len,selector,p,n,pLen,part,part2,type,currentLine,nextLine,selectors=event.selectors;for(i=0,len=selectors.length;len>i;i++)for(selector=selectors[i],p=0,pLen=selector.parts.length;pLen>p;p++)for(n=p+1;pLen>n;n++)part=selector.parts[p],part2=selector.parts[n],type=part.type,currentLine=part.line,nextLine=part2.line,"descendant"===type&&nextLine>currentLine&&reporter.report("newline character found in selector (forgot a comma?)",currentLine,selectors[i].parts[0].col,rule)}var rule=this;parser.addListener("startrule",startRule)}}),CSSLint.addRule({id:"shorthand",name:"Require shorthand properties",desc:"Use shorthand properties where possible.",browsers:"All",init:function(parser,reporter){function startRule(){properties={}}function endRule(event){var prop,i,len,total;for(prop in mapping)if(mapping.hasOwnProperty(prop)){for(total=0,i=0,len=mapping[prop].length;len>i;i++)total+=properties[mapping[prop][i]]?1:0;total===mapping[prop].length&&reporter.report("The properties "+mapping[prop].join(", ")+" can be replaced by "+prop+".",event.line,event.col,rule)}}var prop,i,len,properties,rule=this,propertiesToCheck={},mapping={margin:["margin-top","margin-bottom","margin-left","margin-right"],padding:["padding-top","padding-bottom","padding-left","padding-right"]};for(prop in mapping)if(mapping.hasOwnProperty(prop))for(i=0,len=mapping[prop].length;len>i;i++)propertiesToCheck[mapping[prop][i]]=prop;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("property",function(event){var name=(""+event.property).toLowerCase();propertiesToCheck[name]&&(properties[name]=1)}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule)}}),CSSLint.addRule({id:"star-property-hack",name:"Disallow properties with a star prefix",desc:"Checks for the star property hack (targets IE6/7)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;"*"===property.hack&&reporter.report("Property with star prefix found.",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:"text-indent",name:"Disallow negative text-indent",desc:"Checks for text indent less than -99px",browsers:"All",init:function(parser,reporter){function startRule(){textIndent=!1,direction="inherit"}function endRule(){textIndent&&"ltr"!==direction&&reporter.report("Negative text-indent doesn\'t work well with RTL. If you use text-indent for image replacement explicitly set direction for that item to ltr.",textIndent.line,textIndent.col,rule)}var textIndent,direction,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("property",function(event){var name=(""+event.property).toLowerCase(),value=event.value;"text-indent"===name&&-99>value.parts[0].value?textIndent=event.property:"direction"===name&&"ltr"==""+value&&(direction="ltr")}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule)}}),CSSLint.addRule({id:"underscore-property-hack",name:"Disallow properties with an underscore prefix",desc:"Checks for the underscore property hack (targets IE6)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;"_"===property.hack&&reporter.report("Property with underscore prefix found.",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:"unique-headings",name:"Headings should only be defined once",desc:"Headings should be defined only once.",browsers:"All",init:function(parser,reporter){var rule=this,headings={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};parser.addListener("startrule",function(event){var selector,part,pseudo,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.elementName&&/(h[1-6])/i.test(""+part.elementName)){for(j=0;part.modifiers.length>j;j++)if("pseudo"===part.modifiers[j].type){pseudo=!0;break}pseudo||(headings[RegExp.$1]++,headings[RegExp.$1]>1&&reporter.report("Heading ("+part.elementName+") has already been defined.",part.line,part.col,rule))}}),parser.addListener("endstylesheet",function(){var prop,messages=[];for(prop in headings)headings.hasOwnProperty(prop)&&headings[prop]>1&&messages.push(headings[prop]+" "+prop+"s");messages.length&&reporter.rollupWarn("You have "+messages.join(", ")+" defined in this stylesheet.",rule)})}}),CSSLint.addRule({id:"universal-selector",name:"Disallow universal selector",desc:"The universal selector (*) is known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,i,selectors=event.selectors;for(i=0;selectors.length>i;i++)selector=selectors[i],part=selector.parts[selector.parts.length-1],"*"===part.elementName&&reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:"unqualified-attributes",name:"Disallow unqualified attribute selectors",desc:"Unqualified attribute selectors are known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,i,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.type===parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"attribute"!==modifier.type||part.elementName&&"*"!==part.elementName||reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:"vendor-prefix",name:"Require standard property with vendor prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one.",browsers:"All",init:function(parser,reporter){function startRule(){properties={},num=1}function endRule(){var prop,i,len,needed,actual,needsStandard=[];for(prop in properties)propertiesToCheck[prop]&&needsStandard.push({actual:prop,needed:propertiesToCheck[prop]});for(i=0,len=needsStandard.length;len>i;i++)needed=needsStandard[i].needed,actual=needsStandard[i].actual,properties[needed]?properties[needed][0].pos<properties[actual][0].pos&&reporter.report("Standard property \'"+needed+"\' should come after vendor-prefixed property \'"+actual+"\'.",properties[actual][0].name.line,properties[actual][0].name.col,rule):reporter.report("Missing standard property \'"+needed+"\' to go along with \'"+actual+"\'.",properties[actual][0].name.line,properties[actual][0].name.col,rule)}var properties,num,rule=this,propertiesToCheck={"-webkit-border-radius":"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius":"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius","-webkit-border-bottom-right-radius":"border-bottom-right-radius","-o-border-radius":"border-radius","-o-border-top-left-radius":"border-top-left-radius","-o-border-top-right-radius":"border-top-right-radius","-o-border-bottom-left-radius":"border-bottom-left-radius","-o-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius":"border-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright":"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius","-moz-border-radius-bottomright":"border-bottom-right-radius","-moz-column-count":"column-count","-webkit-column-count":"column-count","-moz-column-gap":"column-gap","-webkit-column-gap":"column-gap","-moz-column-rule":"column-rule","-webkit-column-rule":"column-rule","-moz-column-rule-style":"column-rule-style","-webkit-column-rule-style":"column-rule-style","-moz-column-rule-color":"column-rule-color","-webkit-column-rule-color":"column-rule-color","-moz-column-rule-width":"column-rule-width","-webkit-column-rule-width":"column-rule-width","-moz-column-width":"column-width","-webkit-column-width":"column-width","-webkit-column-span":"column-span","-webkit-columns":"columns","-moz-box-shadow":"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform":"transform","-o-transform":"transform","-ms-transform":"transform","-moz-transform-origin":"transform-origin","-webkit-transform-origin":"transform-origin","-o-transform-origin":"transform-origin","-ms-transform-origin":"transform-origin","-moz-box-sizing":"box-sizing","-webkit-box-sizing":"box-sizing"};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();properties[name]||(properties[name]=[]),properties[name].push({name:event.property,value:event.value,pos:num++})}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"zero-units",name:"Disallow units for 0 values",desc:"You don\'t need to specify units when a value is 0.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){for(var parts=event.value.parts,i=0,len=parts.length;len>i;)!parts[i].units&&"percentage"!==parts[i].type||0!==parts[i].value||"time"===parts[i].type||reporter.report("Values of 0 shouldn\'t have units specified.",parts[i].line,parts[i].col,rule),i++})}}),function(){var xmlEscape=function(str){return str&&str.constructor===String?str.replace(/[\\"&><]/g,function(match){switch(match){case\'"\':return"&quot;";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;"}}):""};CSSLint.addFormatter({id:"checkstyle-xml",name:"Checkstyle XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><checkstyle>\'},endFormat:function(){return"</checkstyle>"},readError:function(filename,message){return\'<file name="\'+xmlEscape(filename)+\'"><error line="0" column="0" severty="error" message="\'+xmlEscape(message)+\'"></error></file>\'},formatResults:function(results,filename){var messages=results.messages,output=[],generateSource=function(rule){return rule&&"name"in rule?"net.csslint."+rule.name.replace(/\\s/g,""):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup||output.push(\'<error line="\'+message.line+\'" column="\'+message.col+\'" severity="\'+message.type+\'"\'+\' message="\'+xmlEscape(message.message)+\'" source="\'+generateSource(message.rule)+\'"/>\')}),output.push("</file>")),output.join("")}})}(),CSSLint.addFormatter({id:"compact",name:"Compact, \'porcelain\' format",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";options=options||{};var capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1)};return 0===messages.length?options.quiet?"":filename+": Lint Free!":(CSSLint.Util.forEach(messages,function(message){output+=message.rollup?filename+": "+capitalize(message.type)+" - "+message.message+"\\n":filename+": "+"line "+message.line+", col "+message.col+", "+capitalize(message.type)+" - "+message.message+" ("+message.rule.id+")\\n"}),output)}}),CSSLint.addFormatter({id:"csslint-xml",name:"CSSLint XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><csslint>\'},endFormat:function(){return"</csslint>"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push(\'<issue severity="\'+message.type+\'" reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\'):output.push(\'<issue line="\'+message.line+\'" char="\'+message.col+\'" severity="\'+message.type+\'"\'+\' reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\')}),output.push("</file>")),output.join("")}}),CSSLint.addFormatter({id:"junit-xml",name:"JUNIT XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><testsuites>\'},endFormat:function(){return"</testsuites>"},formatResults:function(results,filename){var messages=results.messages,output=[],tests={error:0,failure:0},generateSource=function(rule){return rule&&"name"in rule?"net.csslint."+rule.name.replace(/\\s/g,""):""},escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(messages.forEach(function(message){var type="warning"===message.type?"error":message.type;message.rollup||(output.push(\'<testcase time="0" name="\'+generateSource(message.rule)+\'">\'),output.push("<"+type+\' message="\'+escapeSpecialCharacters(message.message)+\'"><![CDATA[\'+message.line+":"+message.col+":"+escapeSpecialCharacters(message.evidence)+"]]></"+type+">"),output.push("</testcase>"),tests[type]+=1)}),output.unshift(\'<testsuite time="0" tests="\'+messages.length+\'" skipped="0" errors="\'+tests.error+\'" failures="\'+tests.failure+\'" package="net.csslint" name="\'+filename+\'">\'),output.push("</testsuite>")),output.join("")}}),CSSLint.addFormatter({id:"lint-xml",name:"Lint XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><lint>\'},endFormat:function(){return"</lint>"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push(\'<issue severity="\'+message.type+\'" reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\'):output.push(\'<issue line="\'+message.line+\'" char="\'+message.col+\'" severity="\'+message.type+\'"\'+\' reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\')}),output.push("</file>")),output.join("")}}),CSSLint.addFormatter({id:"text",name:"Plain Text",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";if(options=options||{},0===messages.length)return options.quiet?"":"\\n\\ncsslint: No errors in "+filename+".";output="\\n\\ncsslint: There ",output+=1===messages.length?"is 1 problem":"are "+messages.length+" problems",output+=" in "+filename+".";var pos=filename.lastIndexOf("/"),shortFilename=filename;return-1===pos&&(pos=filename.lastIndexOf("\\\\")),pos>-1&&(shortFilename=filename.substring(pos+1)),CSSLint.Util.forEach(messages,function(message,i){output=output+"\\n\\n"+shortFilename,message.rollup?(output+="\\n"+(i+1)+": "+message.type,output+="\\n"+message.message):(output+="\\n"+(i+1)+": "+message.type+" at line "+message.line+", col "+message.col,output+="\\n"+message.message,output+="\\n"+message.evidence)}),output}}),module.exports.CSSLint=CSSLint}),ace.define("ace/mode/css_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/css/csslint"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),lang=acequire("../lib/lang"),Mirror=acequire("../worker/mirror").Mirror,CSSLint=acequire("./css/csslint").CSSLint,Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.ruleset=null,this.setDisabledRules("ids|order-alphabetical"),this.setInfoRules("adjoining-classes|qualified-headings|zero-units|gradients|import|outline-none|vendor-prefix")};oop.inherits(Worker,Mirror),function(){this.setInfoRules=function(ruleNames){"string"==typeof ruleNames&&(ruleNames=ruleNames.split("|")),this.infoRules=lang.arrayToMap(ruleNames),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.setDisabledRules=function(ruleNames){if(ruleNames){"string"==typeof ruleNames&&(ruleNames=ruleNames.split("|"));\nvar all={};CSSLint.getRules().forEach(function(x){all[x.id]=!0}),ruleNames.forEach(function(x){delete all[x]}),this.ruleset=all}else this.ruleset=null;this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.onUpdate=function(){var value=this.doc.getValue();if(!value)return this.sender.emit("annotate",[]);var infoRules=this.infoRules,result=CSSLint.verify(value,this.ruleset);this.sender.emit("annotate",result.messages.map(function(msg){return{row:msg.line-1,column:msg.col-1,text:msg.message,type:infoRules[msg.rule.id]?"info":msg.type,rule:msg.rule.name}}))}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'
        },
        "4Xkp": function(e, t) {
            e.exports = function() {
                if (global.Blob) try {
                    return new Blob(["asdf"], {
                        type: "text/plain"
                    }), Blob
                } catch (e) {}
                var e = global.WebKitBlobBuilder || global.MozBlobBuilder || global.MSBlobBuilder;
                return function(t, n) {
                    var r = new e,
                        i = n.endings,
                        o = n.type;
                    if (i)
                        for (var a = 0, s = t.length; a < s; ++a) r.append(t[a], i);
                    else
                        for (a = 0, s = t.length; a < s; ++a) r.append(t[a]);
                    return o ? r.getBlob(o) : r.getBlob()
                }
            }()
        },
        "9uj+": function(e, t, n) {
            "use strict";
            var r = n("mrSG").__decorate,
                i = n("mrSG").__metadata;
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = n("CcnG"),
                a = n("TpJd");
            t.CKGroupDirective = function() {
                function e() {}
                return e.prototype.ngAfterContentInit = function() {
                    var e = this;
                    this.toolbarButtons.forEach(function(t) {
                        return t.toolbar = e.name
                    })
                }, e.prototype.initialize = function(e) {
                    e.instance.ui.addToolbarGroup(this.name, this.previous, this.subgroupOf), this.toolbarButtons.forEach(function(t) {
                        t.initialize(e)
                    })
                }, r([o.Input(), i("design:type", String)], e.prototype, "name", void 0), r([o.Input(), i("design:type", Object)], e.prototype, "previous", void 0), r([o.Input(), i("design:type", String)], e.prototype, "subgroupOf", void 0), r([o.ContentChildren(a.CKButtonDirective), i("design:type", o.QueryList)], e.prototype, "toolbarButtons", void 0), r([o.Directive({
                    selector: "ckgroup"
                })], e)
            }()
        },
        B9Yq: function(e, t) {
            e.exports = function() {
                throw new Error("define cannot be used indirect")
            }
        },
        Bhyg: function(e, t, n) {
            ! function() {
                var e = function() {
                    return this
                }();
                e || "undefined" == typeof window || (e = window);
                var t = function(e, n, r) {
                    "string" == typeof e ? (2 == arguments.length && (r = n), t.modules[e] || (t.payloads[e] = r, t.modules[e] = null)) : t.original ? t.original.apply(this, arguments) : (console.error("dropping module because define wasn't a string."), console.trace())
                };
                t.modules = {}, t.payloads = {};
                var n, r = function(e, t, n) {
                        if ("string" == typeof t) {
                            var r = a(e, t);
                            if (void 0 != r) return n && n(), r
                        } else if ("[object Array]" === Object.prototype.toString.call(t)) {
                            for (var o = [], s = 0, l = t.length; s < l; ++s) {
                                var c = a(e, t[s]);
                                if (void 0 == c && i.original) return;
                                o.push(c)
                            }
                            return n && n.apply(null, o) || !0
                        }
                    },
                    i = function(e, t) {
                        var n = r("", e, t);
                        return void 0 == n && i.original ? i.original.apply(this, arguments) : n
                    },
                    o = function(e, t) {
                        if (-1 !== t.indexOf("!")) {
                            var n = t.split("!");
                            return o(e, n[0]) + "!" + o(e, n[1])
                        }
                        if ("." == t.charAt(0))
                            for (t = e.split("/").slice(0, -1).join("/") + "/" + t; - 1 !== t.indexOf(".") && r != t;) {
                                var r = t;
                                t = t.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "")
                            }
                        return t
                    },
                    a = function(e, n) {
                        n = o(e, n);
                        var i = t.modules[n];
                        if (!i) {
                            if ("function" == typeof(i = t.payloads[n])) {
                                var a = {},
                                    s = {
                                        id: n,
                                        uri: "",
                                        exports: a,
                                        packaged: !0
                                    },
                                    l = i(function(e, t) {
                                        return r(n, e, t)
                                    }, a, s);
                                t.modules[n] = a = l || s.exports, delete t.payloads[n]
                            }
                            i = t.modules[n] = a || i
                        }
                        return i
                    };
                n = e, e.ace || (e.ace = {}), (n = e.ace).define && n.define.packaged || (t.original = n.define, n.define = t, n.define.packaged = !0), n.acequire && n.acequire.packaged || (i.original = n.acequire, n.acequire = i, n.acequire.packaged = !0)
            }(), ace.define("ace/lib/regexp", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                var r, i = {
                        exec: RegExp.prototype.exec,
                        test: RegExp.prototype.test,
                        match: String.prototype.match,
                        replace: String.prototype.replace,
                        split: String.prototype.split
                    },
                    o = void 0 === i.exec.call(/()??/, "")[1],
                    a = (i.test.call(r = /^/g, ""), !r.lastIndex);
                a && o || (RegExp.prototype.exec = function(e) {
                    var t, n, r, s = i.exec.apply(this, arguments);
                    if ("string" == typeof e && s) {
                        if (!o && s.length > 1 && function(e, t, n) {
                                if (Array.prototype.indexOf) return e.indexOf("", void 0);
                                for (var r = 0; r < e.length; r++)
                                    if ("" === e[r]) return r;
                                return -1
                            }(s) > -1 && (n = RegExp(this.source, i.replace.call(((r = this).global ? "g" : "") + (r.ignoreCase ? "i" : "") + (r.multiline ? "m" : "") + (r.extended ? "x" : "") + (r.sticky ? "y" : ""), "g", "")), i.replace.call(e.slice(s.index), n, function() {
                                for (var e = 1; e < arguments.length - 2; e++) void 0 === arguments[e] && (s[e] = void 0)
                            })), this._xregexp && this._xregexp.captureNames)
                            for (var l = 1; l < s.length; l++)(t = this._xregexp.captureNames[l - 1]) && (s[t] = s[l]);
                        !a && this.global && !s[0].length && this.lastIndex > s.index && this.lastIndex--
                    }
                    return s
                }, a || (RegExp.prototype.test = function(e) {
                    var t = i.exec.call(this, e);
                    return t && this.global && !t[0].length && this.lastIndex > t.index && this.lastIndex--, !!t
                }))
            }), ace.define("ace/lib/es5-shim", ["require", "exports", "module"], function(e, t, n) {
                function r() {}
                Function.prototype.bind || (Function.prototype.bind = function(e) {
                    var t = this;
                    if ("function" != typeof t) throw new TypeError("Function.prototype.bind called on incompatible " + t);
                    var n = h.call(arguments, 1),
                        i = function() {
                            if (this instanceof i) {
                                var r = t.apply(this, n.concat(h.call(arguments)));
                                return Object(r) === r ? r : this
                            }
                            return t.apply(e, n.concat(h.call(arguments)))
                        };
                    return t.prototype && (r.prototype = t.prototype, i.prototype = new r, r.prototype = null), i
                });
                var i, o, a, s, l, c = Function.prototype.call,
                    u = Array.prototype,
                    d = Object.prototype,
                    h = u.slice,
                    p = c.bind(d.toString),
                    f = c.bind(d.hasOwnProperty);
                if ((l = f(d, "__defineGetter__")) && (i = c.bind(d.__defineGetter__), o = c.bind(d.__defineSetter__), a = c.bind(d.__lookupGetter__), s = c.bind(d.__lookupSetter__)), 2 != [1, 2].splice(0).length)
                    if (function() {
                            function e(e) {
                                var t = new Array(e + 2);
                                return t[0] = t[1] = 0, t
                            }
                            var t, n = [];
                            if (n.splice.apply(n, e(20)), n.splice.apply(n, e(26)), t = n.length, n.splice(5, 0, "XXX"), t + 1 == n.length) return !0
                        }()) {
                        var m = Array.prototype.splice;
                        Array.prototype.splice = function(e, t) {
                            return arguments.length ? m.apply(this, [void 0 === e ? 0 : e, void 0 === t ? this.length - e : t].concat(h.call(arguments, 2))) : []
                        }
                    } else Array.prototype.splice = function(e, t) {
                        var n = this.length;
                        e > 0 ? e > n && (e = n) : void 0 == e ? e = 0 : e < 0 && (e = Math.max(n + e, 0)), e + t < n || (t = n - e);
                        var r = this.slice(e, e + t),
                            i = h.call(arguments, 2),
                            o = i.length;
                        if (e === n) o && this.push.apply(this, i);
                        else {
                            var a = Math.min(t, n - e),
                                s = e + a,
                                l = s + o - a,
                                c = n - s,
                                u = n - a;
                            if (l < s)
                                for (var d = 0; d < c; ++d) this[l + d] = this[s + d];
                            else if (l > s)
                                for (d = c; d--;) this[l + d] = this[s + d];
                            if (o && e === u) this.length = u, this.push.apply(this, i);
                            else
                                for (this.length = u + o, d = 0; d < o; ++d) this[e + d] = i[d]
                        }
                        return r
                    };
                Array.isArray || (Array.isArray = function(e) {
                    return "[object Array]" == p(e)
                });
                var g, E, b = Object("a"),
                    v = "a" != b[0] || !(0 in b);

                function T(e) {
                    try {
                        return Object.defineProperty(e, "sentinel", {}), "sentinel" in e
                    } catch (e) {}
                }
                if (Array.prototype.forEach || (Array.prototype.forEach = function(e) {
                        var t = A(this),
                            n = v && "[object String]" == p(this) ? this.split("") : t,
                            r = arguments[1],
                            i = -1,
                            o = n.length >>> 0;
                        if ("[object Function]" != p(e)) throw new TypeError;
                        for (; ++i < o;) i in n && e.call(r, n[i], i, t)
                    }), Array.prototype.map || (Array.prototype.map = function(e) {
                        var t = A(this),
                            n = v && "[object String]" == p(this) ? this.split("") : t,
                            r = n.length >>> 0,
                            i = Array(r),
                            o = arguments[1];
                        if ("[object Function]" != p(e)) throw new TypeError(e + " is not a function");
                        for (var a = 0; a < r; a++) a in n && (i[a] = e.call(o, n[a], a, t));
                        return i
                    }), Array.prototype.filter || (Array.prototype.filter = function(e) {
                        var t, n = A(this),
                            r = v && "[object String]" == p(this) ? this.split("") : n,
                            i = r.length >>> 0,
                            o = [],
                            a = arguments[1];
                        if ("[object Function]" != p(e)) throw new TypeError(e + " is not a function");
                        for (var s = 0; s < i; s++) s in r && e.call(a, t = r[s], s, n) && o.push(t);
                        return o
                    }), Array.prototype.every || (Array.prototype.every = function(e) {
                        var t = A(this),
                            n = v && "[object String]" == p(this) ? this.split("") : t,
                            r = n.length >>> 0,
                            i = arguments[1];
                        if ("[object Function]" != p(e)) throw new TypeError(e + " is not a function");
                        for (var o = 0; o < r; o++)
                            if (o in n && !e.call(i, n[o], o, t)) return !1;
                        return !0
                    }), Array.prototype.some || (Array.prototype.some = function(e) {
                        var t = A(this),
                            n = v && "[object String]" == p(this) ? this.split("") : t,
                            r = n.length >>> 0,
                            i = arguments[1];
                        if ("[object Function]" != p(e)) throw new TypeError(e + " is not a function");
                        for (var o = 0; o < r; o++)
                            if (o in n && e.call(i, n[o], o, t)) return !0;
                        return !1
                    }), Array.prototype.reduce || (Array.prototype.reduce = function(e) {
                        var t = A(this),
                            n = v && "[object String]" == p(this) ? this.split("") : t,
                            r = n.length >>> 0;
                        if ("[object Function]" != p(e)) throw new TypeError(e + " is not a function");
                        if (!r && 1 == arguments.length) throw new TypeError("reduce of empty array with no initial value");
                        var i, o = 0;
                        if (arguments.length >= 2) i = arguments[1];
                        else
                            for (;;) {
                                if (o in n) {
                                    i = n[o++];
                                    break
                                }
                                if (++o >= r) throw new TypeError("reduce of empty array with no initial value")
                            }
                        for (; o < r; o++) o in n && (i = e.call(void 0, i, n[o], o, t));
                        return i
                    }), Array.prototype.reduceRight || (Array.prototype.reduceRight = function(e) {
                        var t = A(this),
                            n = v && "[object String]" == p(this) ? this.split("") : t,
                            r = n.length >>> 0;
                        if ("[object Function]" != p(e)) throw new TypeError(e + " is not a function");
                        if (!r && 1 == arguments.length) throw new TypeError("reduceRight of empty array with no initial value");
                        var i, o = r - 1;
                        if (arguments.length >= 2) i = arguments[1];
                        else
                            for (;;) {
                                if (o in n) {
                                    i = n[o--];
                                    break
                                }
                                if (--o < 0) throw new TypeError("reduceRight of empty array with no initial value")
                            }
                        do {
                            o in this && (i = e.call(void 0, i, n[o], o, t))
                        } while (o--);
                        return i
                    }), Array.prototype.indexOf && -1 == [0, 1].indexOf(1, 2) || (Array.prototype.indexOf = function(e) {
                        var t = v && "[object String]" == p(this) ? this.split("") : A(this),
                            n = t.length >>> 0;
                        if (!n) return -1;
                        var r = 0;
                        for (arguments.length > 1 && (r = S(arguments[1])), r = r >= 0 ? r : Math.max(0, n + r); r < n; r++)
                            if (r in t && t[r] === e) return r;
                        return -1
                    }), Array.prototype.lastIndexOf && -1 == [0, 1].lastIndexOf(0, -3) || (Array.prototype.lastIndexOf = function(e) {
                        var t = v && "[object String]" == p(this) ? this.split("") : A(this),
                            n = t.length >>> 0;
                        if (!n) return -1;
                        var r = n - 1;
                        for (arguments.length > 1 && (r = Math.min(r, S(arguments[1]))), r = r >= 0 ? r : n - Math.abs(r); r >= 0; r--)
                            if (r in t && e === t[r]) return r;
                        return -1
                    }), Object.getPrototypeOf || (Object.getPrototypeOf = function(e) {
                        return e.__proto__ || (e.constructor ? e.constructor.prototype : d)
                    }), Object.getOwnPropertyDescriptor || (Object.getOwnPropertyDescriptor = function(e, t) {
                        if ("object" != typeof e && "function" != typeof e || null === e) throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: " + e);
                        if (f(e, t)) {
                            var n;
                            if (n = {
                                    enumerable: !0,
                                    configurable: !0
                                }, l) {
                                var r = e.__proto__;
                                e.__proto__ = d;
                                var i = a(e, t),
                                    o = s(e, t);
                                if (e.__proto__ = r, i || o) return i && (n.get = i), o && (n.set = o), n
                            }
                            return n.value = e[t], n
                        }
                    }), Object.getOwnPropertyNames || (Object.getOwnPropertyNames = function(e) {
                        return Object.keys(e)
                    }), Object.create || (g = null === Object.prototype.__proto__ ? function() {
                        return {
                            __proto__: null
                        }
                    } : function() {
                        var e = {};
                        for (var t in e) e[t] = null;
                        return e.constructor = e.hasOwnProperty = e.propertyIsEnumerable = e.isPrototypeOf = e.toLocaleString = e.toString = e.valueOf = e.__proto__ = null, e
                    }, Object.create = function(e, t) {
                        var n;
                        if (null === e) n = g();
                        else {
                            if ("object" != typeof e) throw new TypeError("typeof prototype[" + typeof e + "] != 'object'");
                            var r = function() {};
                            r.prototype = e, (n = new r).__proto__ = e
                        }
                        return void 0 !== t && Object.defineProperties(n, t), n
                    }), Object.defineProperty) {
                    var y = T({}),
                        C = "undefined" == typeof document || T(document.createElement("div"));
                    if (!y || !C) var k = Object.defineProperty
                }
                Object.defineProperty && !k || (Object.defineProperty = function(e, t, n) {
                    if ("object" != typeof e && "function" != typeof e || null === e) throw new TypeError("Object.defineProperty called on non-object: " + e);
                    if ("object" != typeof n && "function" != typeof n || null === n) throw new TypeError("Property description must be an object: " + n);
                    if (k) try {
                        return k.call(Object, e, t, n)
                    } catch (e) {}
                    if (f(n, "value"))
                        if (l && (a(e, t) || s(e, t))) {
                            var r = e.__proto__;
                            e.__proto__ = d, delete e[t], e[t] = n.value, e.__proto__ = r
                        } else e[t] = n.value;
                    else {
                        if (!l) throw new TypeError("getters & setters can not be defined on this javascript engine");
                        f(n, "get") && i(e, t, n.get), f(n, "set") && o(e, t, n.set)
                    }
                    return e
                }), Object.defineProperties || (Object.defineProperties = function(e, t) {
                    for (var n in t) f(t, n) && Object.defineProperty(e, n, t[n]);
                    return e
                }), Object.seal || (Object.seal = function(e) {
                    return e
                }), Object.freeze || (Object.freeze = function(e) {
                    return e
                });
                try {
                    Object.freeze(function() {})
                } catch (e) {
                    Object.freeze = (E = Object.freeze, function(e) {
                        return "function" == typeof e ? e : E(e)
                    })
                }
                if (Object.preventExtensions || (Object.preventExtensions = function(e) {
                        return e
                    }), Object.isSealed || (Object.isSealed = function(e) {
                        return !1
                    }), Object.isFrozen || (Object.isFrozen = function(e) {
                        return !1
                    }), Object.isExtensible || (Object.isExtensible = function(e) {
                        if (Object(e) === e) throw new TypeError;
                        for (var t = ""; f(e, t);) t += "?";
                        e[t] = !0;
                        var n = f(e, t);
                        return delete e[t], n
                    }), !Object.keys) {
                    var w = !0,
                        _ = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],
                        x = _.length;
                    for (var D in {
                            toString: null
                        }) w = !1;
                    Object.keys = function(e) {
                        if ("object" != typeof e && "function" != typeof e || null === e) throw new TypeError("Object.keys called on a non-object");
                        var t = [];
                        for (var n in e) f(e, n) && t.push(n);
                        if (w)
                            for (var r = 0, i = x; r < i; r++) {
                                var o = _[r];
                                f(e, o) && t.push(o)
                            }
                        return t
                    }
                }
                Date.now || (Date.now = function() {
                    return (new Date).getTime()
                });
                var O = "\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";
                if (!String.prototype.trim || O.trim()) {
                    O = "[" + O + "]";
                    var R = new RegExp("^" + O + O + "*"),
                        I = new RegExp(O + O + "*$");
                    String.prototype.trim = function() {
                        return String(this).replace(R, "").replace(I, "")
                    }
                }

                function S(e) {
                    return (e = +e) != e ? e = 0 : 0 !== e && e !== 1 / 0 && e !== -1 / 0 && (e = (e > 0 || -1) * Math.floor(Math.abs(e))), e
                }
                var A = function(e) {
                    if (null == e) throw new TypeError("can't convert " + e + " to object");
                    return Object(e)
                }
            }), ace.define("ace/lib/fixoldbrowsers", ["require", "exports", "module", "ace/lib/regexp", "ace/lib/es5-shim"], function(e, t, n) {
                "use strict";
                e("./regexp"), e("./es5-shim")
            }), ace.define("ace/lib/dom", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                t.getDocumentHead = function(e) {
                    return e || (e = document), e.head || e.getElementsByTagName("head")[0] || e.documentElement
                }, t.createElement = function(e, t) {
                    return document.createElementNS ? document.createElementNS(t || "http://www.w3.org/1999/xhtml", e) : document.createElement(e)
                }, t.hasCssClass = function(e, t) {
                    return -1 !== (e.className + "").split(/\s+/g).indexOf(t)
                }, t.addCssClass = function(e, n) {
                    t.hasCssClass(e, n) || (e.className += " " + n)
                }, t.removeCssClass = function(e, t) {
                    for (var n = e.className.split(/\s+/g);;) {
                        var r = n.indexOf(t);
                        if (-1 == r) break;
                        n.splice(r, 1)
                    }
                    e.className = n.join(" ")
                }, t.toggleCssClass = function(e, t) {
                    for (var n = e.className.split(/\s+/g), r = !0;;) {
                        var i = n.indexOf(t);
                        if (-1 == i) break;
                        r = !1, n.splice(i, 1)
                    }
                    return r && n.push(t), e.className = n.join(" "), r
                }, t.setCssClass = function(e, n, r) {
                    r ? t.addCssClass(e, n) : t.removeCssClass(e, n)
                }, t.hasCssString = function(e, t) {
                    var n, r = 0;
                    if ((t = t || document).createStyleSheet && (n = t.styleSheets)) {
                        for (; r < n.length;)
                            if (n[r++].owningElement.id === e) return !0
                    } else if (n = t.getElementsByTagName("style"))
                        for (; r < n.length;)
                            if (n[r++].id === e) return !0;
                    return !1
                }, t.importCssString = function(e, n, r) {
                    if (r = r || document, n && t.hasCssString(n, r)) return null;
                    var i;
                    n && (e += "\n/*# sourceURL=ace/css/" + n + " */"), r.createStyleSheet ? ((i = r.createStyleSheet()).cssText = e, n && (i.owningElement.id = n)) : ((i = t.createElement("style")).appendChild(r.createTextNode(e)), n && (i.id = n), t.getDocumentHead(r).appendChild(i))
                }, t.importCssStylsheet = function(e, n) {
                    if (n.createStyleSheet) n.createStyleSheet(e);
                    else {
                        var r = t.createElement("link");
                        r.rel = "stylesheet", r.href = e, t.getDocumentHead(n).appendChild(r)
                    }
                }, t.getInnerWidth = function(e) {
                    return parseInt(t.computedStyle(e, "paddingLeft"), 10) + parseInt(t.computedStyle(e, "paddingRight"), 10) + e.clientWidth
                }, t.getInnerHeight = function(e) {
                    return parseInt(t.computedStyle(e, "paddingTop"), 10) + parseInt(t.computedStyle(e, "paddingBottom"), 10) + e.clientHeight
                }, t.scrollbarWidth = function(e) {
                    var n = t.createElement("ace_inner");
                    n.style.width = "100%", n.style.minWidth = "0px", n.style.height = "200px", n.style.display = "block";
                    var r = t.createElement("ace_outer"),
                        i = r.style;
                    i.position = "absolute", i.left = "-10000px", i.overflow = "hidden", i.width = "200px", i.minWidth = "0px", i.height = "150px", i.display = "block", r.appendChild(n);
                    var o = e.documentElement;
                    o.appendChild(r);
                    var a = n.offsetWidth;
                    i.overflow = "scroll";
                    var s = n.offsetWidth;
                    return a == s && (s = r.clientWidth), o.removeChild(r), a - s
                }, "undefined" != typeof document ? (void 0 !== window.pageYOffset ? (t.getPageScrollTop = function() {
                    return window.pageYOffset
                }, t.getPageScrollLeft = function() {
                    return window.pageXOffset
                }) : (t.getPageScrollTop = function() {
                    return document.body.scrollTop
                }, t.getPageScrollLeft = function() {
                    return document.body.scrollLeft
                }), t.computedStyle = window.getComputedStyle ? function(e, t) {
                    return t ? (window.getComputedStyle(e, "") || {})[t] || "" : window.getComputedStyle(e, "") || {}
                } : function(e, t) {
                    return t ? e.currentStyle[t] : e.currentStyle
                }, t.setInnerHtml = function(e, t) {
                    var n = e.cloneNode(!1);
                    return n.innerHTML = t, e.parentNode.replaceChild(n, e), n
                }, "textContent" in document.documentElement ? (t.setInnerText = function(e, t) {
                    e.textContent = t
                }, t.getInnerText = function(e) {
                    return e.textContent
                }) : (t.setInnerText = function(e, t) {
                    e.innerText = t
                }, t.getInnerText = function(e) {
                    return e.innerText
                }), t.getParentWindow = function(e) {
                    return e.defaultView || e.parentWindow
                }) : t.importCssString = function() {}
            }), ace.define("ace/lib/oop", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                t.inherits = function(e, t) {
                    e.super_ = t, e.prototype = Object.create(t.prototype, {
                        constructor: {
                            value: e,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                        }
                    })
                }, t.mixin = function(e, t) {
                    for (var n in t) e[n] = t[n];
                    return e
                }, t.implement = function(e, n) {
                    t.mixin(e, n)
                }
            }), ace.define("ace/lib/keys", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop"], function(e, t, n) {
                "use strict";
                e("./fixoldbrowsers");
                var r = e("./oop"),
                    i = function() {
                        var e, t, n = {
                            MODIFIER_KEYS: {
                                16: "Shift",
                                17: "Ctrl",
                                18: "Alt",
                                224: "Meta"
                            },
                            KEY_MODS: {
                                ctrl: 1,
                                alt: 2,
                                option: 2,
                                shift: 4,
                                super: 8,
                                meta: 8,
                                command: 8,
                                cmd: 8
                            },
                            FUNCTION_KEYS: {
                                8: "Backspace",
                                9: "Tab",
                                13: "Return",
                                19: "Pause",
                                27: "Esc",
                                32: "Space",
                                33: "PageUp",
                                34: "PageDown",
                                35: "End",
                                36: "Home",
                                37: "Left",
                                38: "Up",
                                39: "Right",
                                40: "Down",
                                44: "Print",
                                45: "Insert",
                                46: "Delete",
                                96: "Numpad0",
                                97: "Numpad1",
                                98: "Numpad2",
                                99: "Numpad3",
                                100: "Numpad4",
                                101: "Numpad5",
                                102: "Numpad6",
                                103: "Numpad7",
                                104: "Numpad8",
                                105: "Numpad9",
                                "-13": "NumpadEnter",
                                112: "F1",
                                113: "F2",
                                114: "F3",
                                115: "F4",
                                116: "F5",
                                117: "F6",
                                118: "F7",
                                119: "F8",
                                120: "F9",
                                121: "F10",
                                122: "F11",
                                123: "F12",
                                144: "Numlock",
                                145: "Scrolllock"
                            },
                            PRINTABLE_KEYS: {
                                32: " ",
                                48: "0",
                                49: "1",
                                50: "2",
                                51: "3",
                                52: "4",
                                53: "5",
                                54: "6",
                                55: "7",
                                56: "8",
                                57: "9",
                                59: ";",
                                61: "=",
                                65: "a",
                                66: "b",
                                67: "c",
                                68: "d",
                                69: "e",
                                70: "f",
                                71: "g",
                                72: "h",
                                73: "i",
                                74: "j",
                                75: "k",
                                76: "l",
                                77: "m",
                                78: "n",
                                79: "o",
                                80: "p",
                                81: "q",
                                82: "r",
                                83: "s",
                                84: "t",
                                85: "u",
                                86: "v",
                                87: "w",
                                88: "x",
                                89: "y",
                                90: "z",
                                107: "+",
                                109: "-",
                                110: ".",
                                186: ";",
                                187: "=",
                                188: ",",
                                189: "-",
                                190: ".",
                                191: "/",
                                192: "`",
                                219: "[",
                                220: "\\",
                                221: "]",
                                222: "'",
                                111: "/",
                                106: "*"
                            }
                        };
                        for (t in n.FUNCTION_KEYS) e = n.FUNCTION_KEYS[t].toLowerCase(), n[e] = parseInt(t, 10);
                        for (t in n.PRINTABLE_KEYS) e = n.PRINTABLE_KEYS[t].toLowerCase(), n[e] = parseInt(t, 10);
                        return r.mixin(n, n.MODIFIER_KEYS), r.mixin(n, n.PRINTABLE_KEYS), r.mixin(n, n.FUNCTION_KEYS), n.enter = n.return, n.escape = n.esc, n.del = n.delete, n[173] = "-",
                            function() {
                                for (var e = ["cmd", "ctrl", "alt", "shift"], t = Math.pow(2, e.length); t--;) n.KEY_MODS[t] = e.filter(function(e) {
                                    return t & n.KEY_MODS[e]
                                }).join("-") + "-"
                            }(), n.KEY_MODS[0] = "", n.KEY_MODS[-1] = "input-", n
                    }();
                r.mixin(t, i), t.keyCodeToString = function(e) {
                    var t = i[e];
                    return "string" != typeof t && (t = String.fromCharCode(e)), t.toLowerCase()
                }
            }), ace.define("ace/lib/useragent", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                if (t.OS = {
                        LINUX: "LINUX",
                        MAC: "MAC",
                        WINDOWS: "WINDOWS"
                    }, t.getOS = function() {
                        return t.isMac ? t.OS.MAC : t.isLinux ? t.OS.LINUX : t.OS.WINDOWS
                    }, "object" == typeof navigator) {
                    var r = (navigator.platform.match(/mac|win|linux/i) || ["other"])[0].toLowerCase(),
                        i = navigator.userAgent;
                    t.isWin = "win" == r, t.isMac = "mac" == r, t.isLinux = "linux" == r, t.isIE = "Microsoft Internet Explorer" == navigator.appName || navigator.appName.indexOf("MSAppHost") >= 0 ? parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]) : parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]), t.isOldIE = t.isIE && t.isIE < 9, t.isGecko = t.isMozilla = (window.Controllers || window.controllers) && "Gecko" === window.navigator.product, t.isOldGecko = t.isGecko && parseInt((i.match(/rv:(\d+)/) || [])[1], 10) < 4, t.isOpera = window.opera && "[object Opera]" == Object.prototype.toString.call(window.opera), t.isWebKit = parseFloat(i.split("WebKit/")[1]) || void 0, t.isChrome = parseFloat(i.split(" Chrome/")[1]) || void 0, t.isAIR = i.indexOf("AdobeAIR") >= 0, t.isIPad = i.indexOf("iPad") >= 0, t.isTouchPad = i.indexOf("TouchPad") >= 0, t.isChromeOS = i.indexOf(" CrOS ") >= 0
                }
            }), ace.define("ace/lib/event", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(e, t, n) {
                "use strict";
                var r = e("./keys"),
                    i = e("./useragent"),
                    o = null,
                    a = 0;
                t.addListener = function(e, t, n) {
                    if (e.addEventListener) return e.addEventListener(t, n, !1);
                    if (e.attachEvent) {
                        var r = function() {
                            n.call(e, window.event)
                        };
                        n._wrapper = r, e.attachEvent("on" + t, r)
                    }
                }, t.removeListener = function(e, t, n) {
                    if (e.removeEventListener) return e.removeEventListener(t, n, !1);
                    e.detachEvent && e.detachEvent("on" + t, n._wrapper || n)
                }, t.stopEvent = function(e) {
                    return t.stopPropagation(e), t.preventDefault(e), !1
                }, t.stopPropagation = function(e) {
                    e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
                }, t.preventDefault = function(e) {
                    e.preventDefault ? e.preventDefault() : e.returnValue = !1
                }, t.getButton = function(e) {
                    return "dblclick" == e.type ? 0 : "contextmenu" == e.type || i.isMac && e.ctrlKey && !e.altKey && !e.shiftKey ? 2 : e.preventDefault ? e.button : {
                        1: 0,
                        2: 2,
                        4: 1
                    }[e.button]
                }, t.capture = function(e, n, r) {
                    function i(e) {
                        n && n(e), r && r(e), t.removeListener(document, "mousemove", n, !0), t.removeListener(document, "mouseup", i, !0), t.removeListener(document, "dragstart", i, !0)
                    }
                    return t.addListener(document, "mousemove", n, !0), t.addListener(document, "mouseup", i, !0), t.addListener(document, "dragstart", i, !0), i
                }, t.addTouchMoveListener = function(e, n) {
                    var r, i;
                    "ontouchmove" in e && (t.addListener(e, "touchstart", function(e) {
                        var t = e.changedTouches[0];
                        r = t.clientX, i = t.clientY
                    }), t.addListener(e, "touchmove", function(e) {
                        var t = e.changedTouches[0];
                        e.wheelX = -(t.clientX - r) / 1, e.wheelY = -(t.clientY - i) / 1, r = t.clientX, i = t.clientY, n(e)
                    }))
                }, t.addMouseWheelListener = function(e, n) {
                    "onmousewheel" in e ? t.addListener(e, "mousewheel", function(e) {
                        void 0 !== e.wheelDeltaX ? (e.wheelX = -e.wheelDeltaX / 8, e.wheelY = -e.wheelDeltaY / 8) : (e.wheelX = 0, e.wheelY = -e.wheelDelta / 8), n(e)
                    }) : "onwheel" in e ? t.addListener(e, "wheel", function(e) {
                        switch (e.deltaMode) {
                            case e.DOM_DELTA_PIXEL:
                                e.wheelX = .35 * e.deltaX || 0, e.wheelY = .35 * e.deltaY || 0;
                                break;
                            case e.DOM_DELTA_LINE:
                            case e.DOM_DELTA_PAGE:
                                e.wheelX = 5 * (e.deltaX || 0), e.wheelY = 5 * (e.deltaY || 0)
                        }
                        n(e)
                    }) : t.addListener(e, "DOMMouseScroll", function(e) {
                        e.axis && e.axis == e.HORIZONTAL_AXIS ? (e.wheelX = 5 * (e.detail || 0), e.wheelY = 0) : (e.wheelX = 0, e.wheelY = 5 * (e.detail || 0)), n(e)
                    })
                }, t.addMultiMouseDownListener = function(e, n, r, o) {
                    var a, s, l, c = 0,
                        u = {
                            2: "dblclick",
                            3: "tripleclick",
                            4: "quadclick"
                        };

                    function d(e) {
                        if (0 !== t.getButton(e) ? c = 0 : e.detail > 1 ? ++c > 4 && (c = 1) : c = 1, i.isIE) {
                            var d = Math.abs(e.clientX - a) > 5 || Math.abs(e.clientY - s) > 5;
                            l && !d || (c = 1), l && clearTimeout(l), l = setTimeout(function() {
                                l = null
                            }, n[c - 1] || 600), 1 == c && (a = e.clientX, s = e.clientY)
                        }
                        if (e._clicks = c, r[o]("mousedown", e), c > 4) c = 0;
                        else if (c > 1) return r[o](u[c], e)
                    }

                    function h(e) {
                        c = 2, l && clearTimeout(l), l = setTimeout(function() {
                            l = null
                        }, n[c - 1] || 600), r[o]("mousedown", e), r[o](u[c], e)
                    }
                    Array.isArray(e) || (e = [e]), e.forEach(function(e) {
                        t.addListener(e, "mousedown", d), i.isOldIE && t.addListener(e, "dblclick", h)
                    })
                };
                var s = !i.isMac || !i.isOpera || "KeyboardEvent" in window ? function(e) {
                    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0)
                } : function(e) {
                    return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0)
                };

                function l(e, t, n) {
                    var l = s(t);
                    if (!i.isMac && o) {
                        if (t.getModifierState && (t.getModifierState("OS") || t.getModifierState("Win")) && (l |= 8), o.altGr) {
                            if (3 == (3 & l)) return;
                            o.altGr = 0
                        }
                        if (18 === n || 17 === n) {
                            var c = "location" in t ? t.location : t.keyLocation;
                            17 === n && 1 === c ? 1 == o[n] && (a = t.timeStamp) : 18 === n && 3 === l && 2 === c && t.timeStamp - a < 50 && (o.altGr = !0)
                        }
                    }
                    if (n in r.MODIFIER_KEYS && (n = -1), 8 & l && n >= 91 && n <= 93 && (n = -1), l || 13 !== n || 3 !== (c = "location" in t ? t.location : t.keyLocation) || (e(t, l, -n), !t.defaultPrevented)) {
                        if (i.isChromeOS && 8 & l) {
                            if (e(t, l, n), t.defaultPrevented) return;
                            l &= -9
                        }
                        return !!(l || n in r.FUNCTION_KEYS || n in r.PRINTABLE_KEYS) && e(t, l, n)
                    }
                }

                function c() {
                    o = Object.create(null)
                }
                t.getModifierString = function(e) {
                    return r.KEY_MODS[s(e)]
                }, t.addCommandKeyListener = function(e, n) {
                    var r = t.addListener;
                    if (i.isOldGecko || i.isOpera && !("KeyboardEvent" in window)) {
                        var a = null;
                        r(e, "keydown", function(e) {
                            a = e.keyCode
                        }), r(e, "keypress", function(e) {
                            return l(n, e, a)
                        })
                    } else {
                        var s = null;
                        r(e, "keydown", function(e) {
                            o[e.keyCode] = (o[e.keyCode] || 0) + 1;
                            var t = l(n, e, e.keyCode);
                            return s = e.defaultPrevented, t
                        }), r(e, "keypress", function(e) {
                            s && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey) && (t.stopEvent(e), s = null)
                        }), r(e, "keyup", function(e) {
                            o[e.keyCode] = null
                        }), o || (c(), r(window, "focus", c))
                    }
                }, "object" == typeof window && window.postMessage && !i.isOldIE && (t.nextTick = function(e, n) {
                    n = n || window, t.addListener(n, "message", function r(i) {
                        "zero-timeout-message-1" == i.data && (t.stopPropagation(i), t.removeListener(n, "message", r), e())
                    }), n.postMessage("zero-timeout-message-1", "*")
                }), t.nextFrame = "object" == typeof window && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame), t.nextFrame = t.nextFrame ? t.nextFrame.bind(window) : function(e) {
                    setTimeout(e, 17)
                }
            }), ace.define("ace/lib/lang", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                t.last = function(e) {
                    return e[e.length - 1]
                }, t.stringReverse = function(e) {
                    return e.split("").reverse().join("")
                }, t.stringRepeat = function(e, t) {
                    for (var n = ""; t > 0;) 1 & t && (n += e), (t >>= 1) && (e += e);
                    return n
                };
                var r = /^\s\s*/,
                    i = /\s\s*$/;
                t.stringTrimLeft = function(e) {
                    return e.replace(r, "")
                }, t.stringTrimRight = function(e) {
                    return e.replace(i, "")
                }, t.copyObject = function(e) {
                    var t = {};
                    for (var n in e) t[n] = e[n];
                    return t
                }, t.copyArray = function(e) {
                    for (var t = [], n = 0, r = e.length; n < r; n++) t[n] = e[n] && "object" == typeof e[n] ? this.copyObject(e[n]) : e[n];
                    return t
                }, t.deepCopy = function e(t) {
                    if ("object" != typeof t || !t) return t;
                    var n;
                    if (Array.isArray(t)) {
                        n = [];
                        for (var r = 0; r < t.length; r++) n[r] = e(t[r]);
                        return n
                    }
                    if ("[object Object]" !== Object.prototype.toString.call(t)) return t;
                    for (var r in n = {}, t) n[r] = e(t[r]);
                    return n
                }, t.arrayToMap = function(e) {
                    for (var t = {}, n = 0; n < e.length; n++) t[e[n]] = 1;
                    return t
                }, t.createMap = function(e) {
                    var t = Object.create(null);
                    for (var n in e) t[n] = e[n];
                    return t
                }, t.arrayRemove = function(e, t) {
                    for (var n = 0; n <= e.length; n++) t === e[n] && e.splice(n, 1)
                }, t.escapeRegExp = function(e) {
                    return e.replace(/([.*+?^${}()|[\]\/\\])/g, "\\$1")
                }, t.escapeHTML = function(e) {
                    return e.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;")
                }, t.getMatchOffsets = function(e, t) {
                    var n = [];
                    return e.replace(t, function(e) {
                        n.push({
                            offset: arguments[arguments.length - 2],
                            length: e.length
                        })
                    }), n
                }, t.deferredCall = function(e) {
                    var t = null,
                        n = function() {
                            t = null, e()
                        },
                        r = function(e) {
                            return r.cancel(), t = setTimeout(n, e || 0), r
                        };
                    return r.schedule = r, r.call = function() {
                        return this.cancel(), e(), r
                    }, r.cancel = function() {
                        return clearTimeout(t), t = null, r
                    }, r.isPending = function() {
                        return t
                    }, r
                }, t.delayedCall = function(e, t) {
                    var n = null,
                        r = function() {
                            n = null, e()
                        },
                        i = function(e) {
                            null == n && (n = setTimeout(r, e || t))
                        };
                    return i.delay = function(e) {
                        n && clearTimeout(n), n = setTimeout(r, e || t)
                    }, i.schedule = i, i.call = function() {
                        this.cancel(), e()
                    }, i.cancel = function() {
                        n && clearTimeout(n), n = null
                    }, i.isPending = function() {
                        return n
                    }, i
                }
            }), ace.define("ace/keyboard/textinput", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang"], function(e, t, n) {
                "use strict";
                var r = e("../lib/event"),
                    i = e("../lib/useragent"),
                    o = e("../lib/dom"),
                    a = e("../lib/lang"),
                    s = i.isChrome < 18,
                    l = i.isIE;
                t.TextInput = function(e, t) {
                    var n = o.createElement("textarea");
                    n.className = "ace_text-input", i.isTouchPad && n.setAttribute("x-palm-disable-auto-cap", !0), n.setAttribute("wrap", "off"), n.setAttribute("autocorrect", "off"), n.setAttribute("autocapitalize", "off"), n.setAttribute("spellcheck", !1), n.style.opacity = "0", i.isOldIE && (n.style.top = "-1000px"), e.insertBefore(n, e.firstChild);
                    var c = "\x01\x01",
                        u = !1,
                        d = !1,
                        h = !1,
                        p = "",
                        f = !0;
                    try {
                        var m = document.activeElement === n
                    } catch (e) {}
                    r.addListener(n, "blur", function(e) {
                        t.onBlur(e), m = !1
                    }), r.addListener(n, "focus", function(e) {
                        m = !0, t.onFocus(e), b()
                    }), this.focus = function() {
                        if (p) return n.focus();
                        var e = n.style.top;
                        n.style.position = "fixed", n.style.top = "0px", n.focus(), setTimeout(function() {
                            n.style.position = "", "0px" == n.style.top && (n.style.top = e)
                        }, 0)
                    }, this.blur = function() {
                        n.blur()
                    }, this.isFocused = function() {
                        return m
                    };
                    var g = a.delayedCall(function() {
                            m && b(f)
                        }),
                        E = a.delayedCall(function() {
                            h || (n.value = c, m && b())
                        });

                    function b(e) {
                        if (!h) {
                            if (h = !0, _) t = 0, r = e ? 0 : n.value.length - 1;
                            else var t = e ? 2 : 1,
                                r = 2;
                            try {
                                n.setSelectionRange(t, r)
                            } catch (e) {}
                            h = !1
                        }
                    }

                    function v() {
                        h || (n.value = c, i.isWebKit && E.schedule())
                    }
                    i.isWebKit || t.addEventListener("changeSelection", function() {
                        t.selection.isEmpty() != f && (f = !f, g.schedule())
                    }), v(), m && t.onFocus();
                    var T = function(e) {
                        return 0 === e.selectionStart && e.selectionEnd === e.value.length
                    };
                    if (!n.setSelectionRange && n.createTextRange && (n.setSelectionRange = function(e, t) {
                            var n = this.createTextRange();
                            n.collapse(!0), n.moveStart("character", e), n.moveEnd("character", t), n.select()
                        }, T = function(e) {
                            try {
                                var t = e.ownerDocument.selection.createRange()
                            } catch (e) {}
                            return !(!t || t.parentElement() != e) && t.text == e.value
                        }), i.isOldIE) {
                        var y = !1,
                            C = function(e) {
                                if (!y) {
                                    var t = n.value;
                                    if (!h && t && t != c) {
                                        if (e && t == c[0]) return k.schedule();
                                        D(t), y = !0, v(), y = !1
                                    }
                                }
                            },
                            k = a.delayedCall(C);
                        r.addListener(n, "propertychange", C);
                        var w = {
                            13: 1,
                            27: 1
                        };
                        r.addListener(n, "keyup", function(e) {
                            if (!h || n.value && !w[e.keyCode] || setTimeout(B, 0), (n.value.charCodeAt(0) || 0) < 129) return k.call();
                            h ? K() : N()
                        }), r.addListener(n, "keydown", function(e) {
                            k.schedule(50)
                        })
                    }
                    var _ = null;
                    this.setInputHandler = function(e) {
                        _ = e
                    }, this.getInputHandler = function() {
                        return _
                    };
                    var x = !1,
                        D = function(e) {
                            _ && (e = _(e), _ = null), d ? (b(), e && t.onPaste(e), d = !1) : e == c.charAt(0) ? t.execCommand(x ? "del" : "backspace", {
                                source: "ace"
                            }) : (e.substring(0, 2) == c ? e = e.substr(2) : e.charAt(0) == c.charAt(0) ? e = e.substr(1) : e.charAt(e.length - 1) == c.charAt(0) && (e = e.slice(0, -1)), e.charAt(e.length - 1) == c.charAt(0) && (e = e.slice(0, -1)), e && t.onTextInput(e)), x && (x = !1)
                        },
                        O = function(e) {
                            h || (D(n.value), v())
                        },
                        R = function(e, t, n) {
                            var r = e.clipboardData || window.clipboardData;
                            if (r && !s) {
                                var i = l || n ? "Text" : "text/plain";
                                try {
                                    return t ? !1 !== r.setData(i, t) : r.getData(i)
                                } catch (e) {
                                    if (!n) return R(e, t, !0)
                                }
                            }
                        },
                        I = function(e, i) {
                            var o = t.getCopyText();
                            if (!o) return r.preventDefault(e);
                            R(e, o) ? (i ? t.onCut() : t.onCopy(), r.preventDefault(e)) : (u = !0, n.value = o, n.select(), setTimeout(function() {
                                u = !1, v(), b(), i ? t.onCut() : t.onCopy()
                            }))
                        },
                        S = function(e) {
                            I(e, !0)
                        },
                        A = function(e) {
                            I(e, !1)
                        },
                        F = function(e) {
                            var o = R(e);
                            "string" == typeof o ? (o && t.onPaste(o, e), i.isIE && setTimeout(b), r.preventDefault(e)) : (n.value = "", d = !0)
                        };
                    r.addCommandKeyListener(n, t.onCommandKey.bind(t)), r.addListener(n, "select", function(e) {
                        u ? u = !1 : T(n) ? (t.selectAll(), b()) : _ && b(t.selection.isEmpty())
                    }), r.addListener(n, "input", O), r.addListener(n, "cut", S), r.addListener(n, "copy", A), r.addListener(n, "paste", F), "oncut" in n && "oncopy" in n && "onpaste" in n || r.addListener(e, "keydown", function(e) {
                        if ((!i.isMac || e.metaKey) && e.ctrlKey) switch (e.keyCode) {
                            case 67:
                                A(e);
                                break;
                            case 86:
                                F(e);
                                break;
                            case 88:
                                S(e)
                        }
                    });
                    var L, N = function(e) {
                            h || !t.onCompositionStart || t.$readOnly || ((h = {}).canUndo = t.session.$undoManager, t.onCompositionStart(), setTimeout(K, 0), t.on("mousedown", B), h.canUndo && !t.selection.isEmpty() && (t.insert(""), t.session.markUndoGroup(), t.selection.clearSelection()), t.session.markUndoGroup())
                        },
                        K = function() {
                            if (h && t.onCompositionUpdate && !t.$readOnly) {
                                var e = n.value.replace(/\x01/g, "");
                                if (h.lastValue !== e && (t.onCompositionUpdate(e), h.lastValue && t.undo(), h.canUndo && (h.lastValue = e), h.lastValue)) {
                                    var r = t.selection.getRange();
                                    t.insert(h.lastValue), t.session.markUndoGroup(), h.range = t.selection.getRange(), t.selection.setRange(r), t.selection.clearSelection()
                                }
                            }
                        },
                        B = function(e) {
                            if (t.onCompositionEnd && !t.$readOnly) {
                                var r = h;
                                h = !1;
                                var o = setTimeout(function() {
                                    o = null;
                                    var e = n.value.replace(/\x01/g, "");
                                    h || (e == r.lastValue ? v() : !r.lastValue && e && (v(), D(e)))
                                });
                                _ = function(e) {
                                    return o && clearTimeout(o), (e = e.replace(/\x01/g, "")) == r.lastValue ? "" : (r.lastValue && o && t.undo(), e)
                                }, t.onCompositionEnd(), t.removeListener("mousedown", B), "compositionend" == e.type && r.range && t.selection.setRange(r.range), i.isChrome && i.isChrome >= 53 && O()
                            }
                        },
                        M = a.delayedCall(K, 50);

                    function P() {
                        clearTimeout(L), L = setTimeout(function() {
                            p && (n.style.cssText = p, p = ""), null == t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = !0, t.renderer.$moveTextAreaToCursor())
                        }, i.isOldIE ? 200 : 0)
                    }
                    r.addListener(n, "compositionstart", N), i.isGecko ? r.addListener(n, "text", function() {
                        M.schedule()
                    }) : (r.addListener(n, "keyup", function() {
                        M.schedule()
                    }), r.addListener(n, "keydown", function() {
                        M.schedule()
                    })), r.addListener(n, "compositionend", B), this.getElement = function() {
                        return n
                    }, this.setReadOnly = function(e) {
                        n.readOnly = e
                    }, this.onContextMenu = function(e) {
                        x = !0, b(t.selection.isEmpty()), t._emit("nativecontextmenu", {
                            target: t,
                            domEvent: e
                        }), this.moveToMouse(e, !0)
                    }, this.moveToMouse = function(e, a) {
                        if (a || !i.isOldIE) {
                            p || (p = n.style.cssText), n.style.cssText = (a ? "z-index:100000;" : "") + "height:" + n.style.height + ";" + (i.isIE ? "opacity:0.1;" : "");
                            var s = t.container.getBoundingClientRect(),
                                l = o.computedStyle(t.container),
                                c = s.top + (parseInt(l.borderTopWidth) || 0),
                                u = s.left + (parseInt(s.borderLeftWidth) || 0),
                                d = s.bottom - c - n.clientHeight - 2,
                                h = function(e) {
                                    n.style.left = e.clientX - u - 2 + "px", n.style.top = Math.min(e.clientY - c - 2, d) + "px"
                                };
                            h(e), "mousedown" == e.type && (t.renderer.$keepTextAreaAtCursor && (t.renderer.$keepTextAreaAtCursor = null), clearTimeout(L), i.isWin && !i.isOldIE && r.capture(t.container, h, P))
                        }
                    }, this.onContextMenuClose = P;
                    var $ = function(e) {
                        t.textInput.onContextMenu(e), P()
                    };
                    r.addListener(n, "mouseup", $), r.addListener(n, "mousedown", function(e) {
                        e.preventDefault(), P()
                    }), r.addListener(t.renderer.scroller, "contextmenu", $), r.addListener(n, "contextmenu", $)
                }
            }), ace.define("ace/mouse/default_handlers", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function(e, t, n) {
                "use strict";

                function r(e) {
                    e.$clickSelection = null;
                    var t = e.editor;
                    t.setDefaultHandler("mousedown", this.onMouseDown.bind(e)), t.setDefaultHandler("dblclick", this.onDoubleClick.bind(e)), t.setDefaultHandler("tripleclick", this.onTripleClick.bind(e)), t.setDefaultHandler("quadclick", this.onQuadClick.bind(e)), t.setDefaultHandler("mousewheel", this.onMouseWheel.bind(e)), t.setDefaultHandler("touchmove", this.onTouchMove.bind(e)), ["select", "startSelect", "selectEnd", "selectAllEnd", "selectByWordsEnd", "selectByLinesEnd", "dragWait", "dragWaitEnd", "focusWait"].forEach(function(t) {
                        e[t] = this[t]
                    }, this), e.selectByLines = this.extendSelectionBy.bind(e, "getLineRange"), e.selectByWords = this.extendSelectionBy.bind(e, "getWordRange")
                }

                function i(e, t) {
                    if (e.start.row == e.end.row) var n = 2 * t.column - e.start.column - e.end.column;
                    else n = e.start.row != e.end.row - 1 || e.start.column || e.end.column ? 2 * t.row - e.start.row - e.end.row : t.column - 4;
                    return n < 0 ? {
                        cursor: e.start,
                        anchor: e.end
                    } : {
                        cursor: e.end,
                        anchor: e.start
                    }
                }
                e("../lib/dom"), e("../lib/event"), e("../lib/useragent"), (function() {
                    this.onMouseDown = function(e) {
                        var t = e.inSelection(),
                            n = e.getDocumentPosition();
                        this.mousedownEvent = e;
                        var r = this.editor,
                            i = e.getButton();
                        if (0 !== i) {
                            var o = r.getSelectionRange().isEmpty();
                            return r.$blockScrolling++, (o || 1 == i) && r.selection.moveToPosition(n), r.$blockScrolling--, void(2 == i && r.textInput.onContextMenu(e.domEvent))
                        }
                        return this.mousedownEvent.time = Date.now(), !t || r.isFocused() || (r.focus(), !this.$focusTimout || this.$clickSelection || r.inMultiSelectMode) ? (this.captureMouse(e), this.startSelect(n, e.domEvent._clicks > 1), e.preventDefault()) : (this.setState("focusWait"), void this.captureMouse(e))
                    }, this.startSelect = function(e, t) {
                        e = e || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
                        var n = this.editor;
                        n.$blockScrolling++, this.mousedownEvent.getShiftKey() ? n.selection.selectToPosition(e) : t || n.selection.moveToPosition(e), t || this.select(), n.renderer.scroller.setCapture && n.renderer.scroller.setCapture(), n.setStyle("ace_selecting"), this.setState("select"), n.$blockScrolling--
                    }, this.select = function() {
                        var e, t = this.editor,
                            n = t.renderer.screenToTextCoordinates(this.x, this.y);
                        if (t.$blockScrolling++, this.$clickSelection) {
                            var r = this.$clickSelection.comparePoint(n);
                            if (-1 == r) e = this.$clickSelection.end;
                            else if (1 == r) e = this.$clickSelection.start;
                            else {
                                var o = i(this.$clickSelection, n);
                                n = o.cursor, e = o.anchor
                            }
                            t.selection.setSelectionAnchor(e.row, e.column)
                        }
                        t.selection.selectToPosition(n), t.$blockScrolling--, t.renderer.scrollCursorIntoView()
                    }, this.extendSelectionBy = function(e) {
                        var t, n = this.editor,
                            r = n.renderer.screenToTextCoordinates(this.x, this.y),
                            o = n.selection[e](r.row, r.column);
                        if (n.$blockScrolling++, this.$clickSelection) {
                            var a = this.$clickSelection.comparePoint(o.start),
                                s = this.$clickSelection.comparePoint(o.end);
                            if (-1 == a && s <= 0) t = this.$clickSelection.end, o.end.row == r.row && o.end.column == r.column || (r = o.start);
                            else if (1 == s && a >= 0) t = this.$clickSelection.start, o.start.row == r.row && o.start.column == r.column || (r = o.end);
                            else if (-1 == a && 1 == s) r = o.end, t = o.start;
                            else {
                                var l = i(this.$clickSelection, r);
                                r = l.cursor, t = l.anchor
                            }
                            n.selection.setSelectionAnchor(t.row, t.column)
                        }
                        n.selection.selectToPosition(r), n.$blockScrolling--, n.renderer.scrollCursorIntoView()
                    }, this.selectEnd = this.selectAllEnd = this.selectByWordsEnd = this.selectByLinesEnd = function() {
                        this.$clickSelection = null, this.editor.unsetStyle("ace_selecting"), this.editor.renderer.scroller.releaseCapture && this.editor.renderer.scroller.releaseCapture()
                    }, this.focusWait = function() {
                        var e, t, n = (e = this.mousedownEvent.y, t = this.y, Math.sqrt(Math.pow(this.x - this.mousedownEvent.x, 2) + Math.pow(t - e, 2))),
                            r = Date.now();
                        (n > 0 || r - this.mousedownEvent.time > this.$focusTimout) && this.startSelect(this.mousedownEvent.getDocumentPosition())
                    }, this.onDoubleClick = function(e) {
                        var t = e.getDocumentPosition(),
                            n = this.editor,
                            r = n.session.getBracketRange(t);
                        r ? (r.isEmpty() && (r.start.column--, r.end.column++), this.setState("select")) : (r = n.selection.getWordRange(t.row, t.column), this.setState("selectByWords")), this.$clickSelection = r, this.select()
                    }, this.onTripleClick = function(e) {
                        var t = e.getDocumentPosition(),
                            n = this.editor;
                        this.setState("selectByLines");
                        var r = n.getSelectionRange();
                        r.isMultiLine() && r.contains(t.row, t.column) ? (this.$clickSelection = n.selection.getLineRange(r.start.row), this.$clickSelection.end = n.selection.getLineRange(r.end.row).end) : this.$clickSelection = n.selection.getLineRange(t.row), this.select()
                    }, this.onQuadClick = function(e) {
                        var t = this.editor;
                        t.selectAll(), this.$clickSelection = t.getSelectionRange(), this.setState("selectAll")
                    }, this.onMouseWheel = function(e) {
                        if (!e.getAccelKey()) {
                            e.getShiftKey() && e.wheelY && !e.wheelX && (e.wheelX = e.wheelY, e.wheelY = 0);
                            var t = e.domEvent.timeStamp,
                                n = t - (this.$lastScrollTime || 0),
                                r = this.editor;
                            return r.renderer.isScrollableBy(e.wheelX * e.speed, e.wheelY * e.speed) || n < 200 ? (this.$lastScrollTime = t, r.renderer.scrollBy(e.wheelX * e.speed, e.wheelY * e.speed), e.stop()) : void 0
                        }
                    }, this.onTouchMove = function(e) {
                        var t = e.domEvent.timeStamp,
                            n = t - (this.$lastScrollTime || 0),
                            r = this.editor;
                        if (r.renderer.isScrollableBy(e.wheelX * e.speed, e.wheelY * e.speed) || n < 200) return this.$lastScrollTime = t, r.renderer.scrollBy(e.wheelX * e.speed, e.wheelY * e.speed), e.stop()
                    }
                }).call(r.prototype), t.DefaultHandlers = r
            }), ace.define("ace/tooltip", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom"], function(e, t, n) {
                "use strict";
                e("./lib/oop");
                var r = e("./lib/dom");

                function i(e) {
                    this.isOpen = !1, this.$element = null, this.$parentNode = e
                }(function() {
                    this.$init = function() {
                        return this.$element = r.createElement("div"), this.$element.className = "ace_tooltip", this.$element.style.display = "none", this.$parentNode.appendChild(this.$element), this.$element
                    }, this.getElement = function() {
                        return this.$element || this.$init()
                    }, this.setText = function(e) {
                        r.setInnerText(this.getElement(), e)
                    }, this.setHtml = function(e) {
                        this.getElement().innerHTML = e
                    }, this.setPosition = function(e, t) {
                        this.getElement().style.left = e + "px", this.getElement().style.top = t + "px"
                    }, this.setClassName = function(e) {
                        r.addCssClass(this.getElement(), e)
                    }, this.show = function(e, t, n) {
                        null != e && this.setText(e), null != t && null != n && this.setPosition(t, n), this.isOpen || (this.getElement().style.display = "block", this.isOpen = !0)
                    }, this.hide = function() {
                        this.isOpen && (this.getElement().style.display = "none", this.isOpen = !1)
                    }, this.getHeight = function() {
                        return this.getElement().offsetHeight
                    }, this.getWidth = function() {
                        return this.getElement().offsetWidth
                    }
                }).call(i.prototype), t.Tooltip = i
            }), ace.define("ace/mouse/default_gutter_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event", "ace/tooltip"], function(e, t, n) {
                "use strict";
                var r = e("../lib/dom"),
                    i = e("../lib/oop"),
                    o = e("../lib/event"),
                    a = e("../tooltip").Tooltip;

                function s(e) {
                    a.call(this, e)
                }
                i.inherits(s, a), (function() {
                    this.setPosition = function(e, t) {
                        var n = window.innerWidth || document.documentElement.clientWidth,
                            r = window.innerHeight || document.documentElement.clientHeight,
                            i = this.getWidth(),
                            o = this.getHeight();
                        t += 15, (e += 15) + i > n && (e -= e + i - n), t + o > r && (t -= 20 + o), a.prototype.setPosition.call(this, e, t)
                    }
                }).call(s.prototype), t.GutterHandler = function(e) {
                    var t, n, i, a = e.editor,
                        l = a.renderer.$gutterLayer,
                        c = new s(a.container);

                    function u() {
                        t && (t = clearTimeout(t)), i && (c.hide(), i = null, a._signal("hideGutterTooltip", c), a.removeEventListener("mousewheel", u))
                    }

                    function d(e) {
                        c.setPosition(e.x, e.y)
                    }
                    e.editor.setDefaultHandler("guttermousedown", function(t) {
                        if (a.isFocused() && 0 == t.getButton() && "foldWidgets" != l.getRegion(t)) {
                            var n = t.getDocumentPosition().row,
                                r = a.session.selection;
                            if (t.getShiftKey()) r.selectTo(n, 0);
                            else {
                                if (2 == t.domEvent.detail) return a.selectAll(), t.preventDefault();
                                e.$clickSelection = a.selection.getLineRange(n)
                            }
                            return e.setState("selectByLines"), e.captureMouse(t), t.preventDefault()
                        }
                    }), e.editor.setDefaultHandler("guttermousemove", function(o) {
                        if (r.hasCssClass(o.domEvent.target || o.domEvent.srcElement, "ace_fold-widget")) return u();
                        i && e.$tooltipFollowsMouse && d(o), n = o, t || (t = setTimeout(function() {
                            t = null, n && !e.isMousePressed ? function() {
                                var t = n.getDocumentPosition().row,
                                    r = l.$annotations[t];
                                if (!r) return u();
                                if (t == a.session.getLength()) {
                                    var o = a.renderer.pixelToScreenCoordinates(0, n.y).row,
                                        s = n.$pos;
                                    if (o > a.session.documentToScreenRow(s.row, s.column)) return u()
                                }
                                if (i != r)
                                    if (i = r.text.join("<br/>"), c.setHtml(i), c.show(), a._signal("showGutterTooltip", c), a.on("mousewheel", u), e.$tooltipFollowsMouse) d(n);
                                    else {
                                        var h = n.domEvent.target.getBoundingClientRect(),
                                            p = c.getElement().style;
                                        p.left = h.right + "px", p.top = h.bottom + "px"
                                    }
                            }() : u()
                        }, 50))
                    }), o.addListener(a.renderer.$gutter, "mouseout", function(e) {
                        n = null, i && !t && (t = setTimeout(function() {
                            t = null, u()
                        }, 50))
                    }), a.on("changeSession", u)
                }
            }), ace.define("ace/mouse/mouse_event", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(e, t, n) {
                "use strict";
                var r = e("../lib/event"),
                    i = e("../lib/useragent"),
                    o = t.MouseEvent = function(e, t) {
                        this.domEvent = e, this.editor = t, this.x = this.clientX = e.clientX, this.y = this.clientY = e.clientY, this.$pos = null, this.$inSelection = null, this.propagationStopped = !1, this.defaultPrevented = !1
                    };
                (function() {
                    this.stopPropagation = function() {
                        r.stopPropagation(this.domEvent), this.propagationStopped = !0
                    }, this.preventDefault = function() {
                        r.preventDefault(this.domEvent), this.defaultPrevented = !0
                    }, this.stop = function() {
                        this.stopPropagation(), this.preventDefault()
                    }, this.getDocumentPosition = function() {
                        return this.$pos ? this.$pos : (this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY), this.$pos)
                    }, this.inSelection = function() {
                        if (null !== this.$inSelection) return this.$inSelection;
                        var e = this.editor.getSelectionRange();
                        if (e.isEmpty()) this.$inSelection = !1;
                        else {
                            var t = this.getDocumentPosition();
                            this.$inSelection = e.contains(t.row, t.column)
                        }
                        return this.$inSelection
                    }, this.getButton = function() {
                        return r.getButton(this.domEvent)
                    }, this.getShiftKey = function() {
                        return this.domEvent.shiftKey
                    }, this.getAccelKey = i.isMac ? function() {
                        return this.domEvent.metaKey
                    } : function() {
                        return this.domEvent.ctrlKey
                    }
                }).call(o.prototype)
            }), ace.define("ace/mouse/dragdrop_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function(e, t, n) {
                "use strict";
                var r = e("../lib/dom"),
                    i = e("../lib/event"),
                    o = e("../lib/useragent"),
                    a = 200,
                    s = 200,
                    l = 5;

                function c(e) {
                    var t = e.editor,
                        n = r.createElement("img");
                    n.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", o.isOpera && (n.style.cssText = "width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"), ["dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag"].forEach(function(t) {
                        e[t] = this[t]
                    }, this), t.addEventListener("mousedown", this.onMouseDown.bind(e));
                    var c, d, h, p, f, m, g, E, b, v, T, y = t.container,
                        C = 0;

                    function k() {
                        var e = m;
                        (function(e, n) {
                            var r = Date.now();
                            v && n && e.row == n.row && n && e.column == n.column ? u(T.x, T.y, d, h) > l ? v = null : r - v >= s && (t.renderer.scrollCursorIntoView(), v = null) : (t.$blockScrolling += 1, t.moveCursorToPosition(e), t.$blockScrolling -= 1, v = r, T = {
                                x: d,
                                y: h
                            })
                        })(m = t.renderer.screenToTextCoordinates(d, h), e),
                        function(e, n) {
                            var r = Date.now(),
                                i = t.renderer.layerConfig.lineHeight,
                                o = t.renderer.layerConfig.characterWidth,
                                s = t.renderer.scroller.getBoundingClientRect(),
                                l = {
                                    x: {
                                        left: d - s.left,
                                        right: s.right - d
                                    },
                                    y: {
                                        top: h - s.top,
                                        bottom: s.bottom - h
                                    }
                                },
                                c = Math.min(l.x.left, l.x.right),
                                u = Math.min(l.y.top, l.y.bottom),
                                p = {
                                    row: e.row,
                                    column: e.column
                                };
                            c / o <= 2 && (p.column += l.x.left < l.x.right ? -3 : 2), u / i <= 1 && (p.row += l.y.top < l.y.bottom ? -1 : 1), e.row != p.row || e.column != p.column && n && e.row == n.row ? b ? r - b >= a && t.renderer.scrollCursorIntoView(p) : b = r : b = null
                        }(m, e)
                    }

                    function w() {
                        f = t.selection.toOrientedRange(), c = t.session.addMarker(f, "ace_selection", t.getSelectionStyle()), t.clearSelection(), t.isFocused() && t.renderer.$cursorLayer.setBlinking(!1), clearInterval(p), k(), p = setInterval(k, 20), C = 0, i.addListener(document, "mousemove", D)
                    }

                    function _() {
                        clearInterval(p), t.session.removeMarker(c), c = null, t.$blockScrolling += 1, t.selection.fromOrientedRange(f), t.$blockScrolling -= 1, t.isFocused() && !E && t.renderer.$cursorLayer.setBlinking(!t.getReadOnly()), f = null, m = null, C = 0, b = null, v = null, i.removeListener(document, "mousemove", D)
                    }
                    this.onDragStart = function(e) {
                        if (this.cancelDrag || !y.draggable) {
                            var r = this;
                            return setTimeout(function() {
                                r.startSelect(), r.captureMouse(e)
                            }, 0), e.preventDefault()
                        }
                        f = t.getSelectionRange();
                        var i = e.dataTransfer;
                        i.effectAllowed = t.getReadOnly() ? "copy" : "copyMove", o.isOpera && (t.container.appendChild(n), n.scrollTop = 0), i.setDragImage && i.setDragImage(n, 0, 0), o.isOpera && t.container.removeChild(n), i.clearData(), i.setData("Text", t.session.getTextRange()), E = !0, this.setState("drag")
                    }, this.onDragEnd = function(e) {
                        y.draggable = !1, E = !1, this.setState(null), t.getReadOnly() || (g || "move" != e.dataTransfer.dropEffect || t.session.remove(t.getSelectionRange()), t.renderer.$cursorLayer.setBlinking(!0)), this.editor.unsetStyle("ace_dragging"), this.editor.renderer.setCursorStyle("")
                    }, this.onDragEnter = function(e) {
                        if (!t.getReadOnly() && O(e.dataTransfer)) return d = e.clientX, h = e.clientY, c || w(), C++, e.dataTransfer.dropEffect = g = R(e), i.preventDefault(e)
                    }, this.onDragOver = function(e) {
                        if (!t.getReadOnly() && O(e.dataTransfer)) return d = e.clientX, h = e.clientY, c || (w(), C++), null !== x && (x = null), e.dataTransfer.dropEffect = g = R(e), i.preventDefault(e)
                    }, this.onDragLeave = function(e) {
                        if (--C <= 0 && c) return _(), g = null, i.preventDefault(e)
                    }, this.onDrop = function(e) {
                        if (m) {
                            var n = e.dataTransfer;
                            if (E) switch (g) {
                                case "move":
                                    f = f.contains(m.row, m.column) ? {
                                        start: m,
                                        end: m
                                    } : t.moveText(f, m);
                                    break;
                                case "copy":
                                    f = t.moveText(f, m, !0)
                            } else {
                                var r = n.getData("Text");
                                f = {
                                    start: m,
                                    end: t.session.insert(m, r)
                                }, t.focus(), g = null
                            }
                            return _(), i.preventDefault(e)
                        }
                    }, i.addListener(y, "dragstart", this.onDragStart.bind(e)), i.addListener(y, "dragend", this.onDragEnd.bind(e)), i.addListener(y, "dragenter", this.onDragEnter.bind(e)), i.addListener(y, "dragover", this.onDragOver.bind(e)), i.addListener(y, "dragleave", this.onDragLeave.bind(e)), i.addListener(y, "drop", this.onDrop.bind(e));
                    var x = null;

                    function D() {
                        null == x && (x = setTimeout(function() {
                            null != x && c && _()
                        }, 20))
                    }

                    function O(e) {
                        var t = e.types;
                        return !t || Array.prototype.some.call(t, function(e) {
                            return "text/plain" == e || "Text" == e
                        })
                    }

                    function R(e) {
                        var t = ["copy", "copymove", "all", "uninitialized"],
                            n = o.isMac ? e.altKey : e.ctrlKey,
                            r = "uninitialized";
                        try {
                            r = e.dataTransfer.effectAllowed.toLowerCase()
                        } catch (e) {}
                        var i = "none";
                        return n && t.indexOf(r) >= 0 ? i = "copy" : ["move", "copymove", "linkmove", "all", "uninitialized"].indexOf(r) >= 0 ? i = "move" : t.indexOf(r) >= 0 && (i = "copy"), i
                    }
                }

                function u(e, t, n, r) {
                    return Math.sqrt(Math.pow(n - e, 2) + Math.pow(r - t, 2))
                }(function() {
                    this.dragWait = function() {
                        Date.now() - this.mousedownEvent.time > this.editor.getDragDelay() && this.startDrag()
                    }, this.dragWaitEnd = function() {
                        this.editor.container.draggable = !1, this.startSelect(this.mousedownEvent.getDocumentPosition()), this.selectEnd()
                    }, this.dragReadyEnd = function(e) {
                        this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()), this.editor.unsetStyle("ace_dragging"), this.editor.renderer.setCursorStyle(""), this.dragWaitEnd()
                    }, this.startDrag = function() {
                        this.cancelDrag = !1;
                        var e = this.editor;
                        e.container.draggable = !0, e.renderer.$cursorLayer.setBlinking(!1), e.setStyle("ace_dragging"), e.renderer.setCursorStyle(o.isWin ? "default" : "move"), this.setState("dragReady")
                    }, this.onMouseDrag = function(e) {
                        var t = this.editor.container;
                        o.isIE && "dragReady" == this.state && u(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y) > 3 && t.dragDrop(), "dragWait" === this.state && u(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y) > 0 && (t.draggable = !1, this.startSelect(this.mousedownEvent.getDocumentPosition()))
                    }, this.onMouseDown = function(e) {
                        if (this.$dragEnabled) {
                            this.mousedownEvent = e;
                            var t = this.editor,
                                n = e.inSelection(),
                                r = e.getButton();
                            if (1 === (e.domEvent.detail || 1) && 0 === r && n) {
                                if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey())) return;
                                this.mousedownEvent.time = Date.now();
                                var i = e.domEvent.target || e.domEvent.srcElement;
                                "unselectable" in i && (i.unselectable = "on"), t.getDragDelay() ? (o.isWebKit && (this.cancelDrag = !0, t.container.draggable = !0), this.setState("dragWait")) : this.startDrag(), this.captureMouse(e, this.onMouseDrag.bind(this)), e.defaultPrevented = !0
                            }
                        }
                    }
                }).call(c.prototype), t.DragdropHandler = c
            }), ace.define("ace/lib/net", ["require", "exports", "module", "ace/lib/dom"], function(e, t, n) {
                "use strict";
                var r = e("./dom");
                t.get = function(e, t) {
                    var n = new XMLHttpRequest;
                    n.open("GET", e, !0), n.onreadystatechange = function() {
                        4 === n.readyState && t(n.responseText)
                    }, n.send(null)
                }, t.loadScript = function(e, t) {
                    var n = r.getDocumentHead(),
                        i = document.createElement("script");
                    i.src = e, n.appendChild(i), i.onload = i.onreadystatechange = function(e, n) {
                        !n && i.readyState && "loaded" != i.readyState && "complete" != i.readyState || (i = i.onload = i.onreadystatechange = null, n || t())
                    }
                }, t.qualifyURL = function(e) {
                    var t = document.createElement("a");
                    return t.href = e, t.href
                }
            }), ace.define("ace/lib/event_emitter", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                var r = {},
                    i = function() {
                        this.propagationStopped = !0
                    },
                    o = function() {
                        this.defaultPrevented = !0
                    };
                r._emit = r._dispatchEvent = function(e, t) {
                    this._eventRegistry || (this._eventRegistry = {}), this._defaultHandlers || (this._defaultHandlers = {});
                    var n = this._eventRegistry[e] || [],
                        r = this._defaultHandlers[e];
                    if (n.length || r) {
                        "object" == typeof t && t || (t = {}), t.type || (t.type = e), t.stopPropagation || (t.stopPropagation = i), t.preventDefault || (t.preventDefault = o), n = n.slice();
                        for (var a = 0; a < n.length && (n[a](t, this), !t.propagationStopped); a++);
                        return r && !t.defaultPrevented ? r(t, this) : void 0
                    }
                }, r._signal = function(e, t) {
                    var n = (this._eventRegistry || {})[e];
                    if (n) {
                        n = n.slice();
                        for (var r = 0; r < n.length; r++) n[r](t, this)
                    }
                }, r.once = function(e, t) {
                    var n = this;
                    t && this.addEventListener(e, function r() {
                        n.removeEventListener(e, r), t.apply(null, arguments)
                    })
                }, r.setDefaultHandler = function(e, t) {
                    var n = this._defaultHandlers;
                    if (n || (n = this._defaultHandlers = {
                            _disabled_: {}
                        }), n[e]) {
                        var r = n[e],
                            i = n._disabled_[e];
                        i || (n._disabled_[e] = i = []), i.push(r);
                        var o = i.indexOf(t); - 1 != o && i.splice(o, 1)
                    }
                    n[e] = t
                }, r.removeDefaultHandler = function(e, t) {
                    var n = this._defaultHandlers;
                    if (n) {
                        var r = n._disabled_[e];
                        if (n[e] == t) r && this.setDefaultHandler(e, r.pop());
                        else if (r) {
                            var i = r.indexOf(t); - 1 != i && r.splice(i, 1)
                        }
                    }
                }, r.on = r.addEventListener = function(e, t, n) {
                    this._eventRegistry = this._eventRegistry || {};
                    var r = this._eventRegistry[e];
                    return r || (r = this._eventRegistry[e] = []), -1 == r.indexOf(t) && r[n ? "unshift" : "push"](t), t
                }, r.off = r.removeListener = r.removeEventListener = function(e, t) {
                    this._eventRegistry = this._eventRegistry || {};
                    var n = this._eventRegistry[e];
                    if (n) {
                        var r = n.indexOf(t); - 1 !== r && n.splice(r, 1)
                    }
                }, r.removeAllListeners = function(e) {
                    this._eventRegistry && (this._eventRegistry[e] = [])
                }, t.EventEmitter = r
            }), ace.define("ace/lib/app_config", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(e, t, n) {
                "no use strict";
                var r = e("./oop"),
                    i = e("./event_emitter").EventEmitter,
                    o = {
                        setOptions: function(e) {
                            Object.keys(e).forEach(function(t) {
                                this.setOption(t, e[t])
                            }, this)
                        },
                        getOptions: function(e) {
                            var t = {};
                            return e ? Array.isArray(e) || (t = e, e = Object.keys(t)) : e = Object.keys(this.$options), e.forEach(function(e) {
                                t[e] = this.getOption(e)
                            }, this), t
                        },
                        setOption: function(e, t) {
                            if (this["$" + e] !== t) {
                                var n = this.$options[e];
                                if (!n) return a('misspelled option "' + e + '"');
                                if (n.forwardTo) return this[n.forwardTo] && this[n.forwardTo].setOption(e, t);
                                n.handlesSet || (this["$" + e] = t), n && n.set && n.set.call(this, t)
                            }
                        },
                        getOption: function(e) {
                            var t = this.$options[e];
                            return t ? t.forwardTo ? this[t.forwardTo] && this[t.forwardTo].getOption(e) : t && t.get ? t.get.call(this) : this["$" + e] : a('misspelled option "' + e + '"')
                        }
                    };

                function a(e) {
                    "undefined" != typeof console && console.warn && console.warn.apply(console, arguments)
                }

                function s(e, t) {
                    var n = new Error(e);
                    n.data = t, "object" == typeof console && console.error && console.error(n), setTimeout(function() {
                        throw n
                    })
                }
                var l = function() {
                    this.$defaultOptions = {}
                };
                (function() {
                    r.implement(this, i), this.defineOptions = function(e, t, n) {
                        return e.$options || (this.$defaultOptions[t] = e.$options = {}), Object.keys(n).forEach(function(t) {
                            var r = n[t];
                            "string" == typeof r && (r = {
                                forwardTo: r
                            }), r.name || (r.name = t), e.$options[r.name] = r, "initialValue" in r && (e["$" + r.name] = r.initialValue)
                        }), r.implement(e, o), this
                    }, this.resetOptions = function(e) {
                        Object.keys(e.$options).forEach(function(t) {
                            var n = e.$options[t];
                            "value" in n && e.setOption(t, n.value)
                        })
                    }, this.setDefaultValue = function(e, t, n) {
                        var r = this.$defaultOptions[e] || (this.$defaultOptions[e] = {});
                        r[t] && (r.forwardTo ? this.setDefaultValue(r.forwardTo, t, n) : r[t].value = n)
                    }, this.setDefaultValues = function(e, t) {
                        Object.keys(t).forEach(function(n) {
                            this.setDefaultValue(e, n, t[n])
                        }, this)
                    }, this.warn = a, this.reportError = s
                }).call(l.prototype), t.AppConfig = l
            }), ace.define("ace/config", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/lib/net", "ace/lib/app_config"], function(e, t, r) {
                "no use strict";
                var i = e("./lib/lang"),
                    o = (e("./lib/oop"), e("./lib/net")),
                    a = e("./lib/app_config").AppConfig;
                r.exports = t = new a;
                var s = function() {
                        return this || "undefined" != typeof window && window
                    }(),
                    l = {
                        packaged: !1,
                        workerPath: null,
                        modePath: null,
                        themePath: null,
                        basePath: "",
                        suffix: ".js",
                        $moduleUrls: {}
                    };

                function c(i) {
                    if (s && s.document) {
                        l.packaged = i || e.packaged || r.packaged || s.define && n("B9Yq").packaged;
                        for (var o, a = {}, c = "", u = document.currentScript || document._currentScript, d = (u && u.ownerDocument || document).getElementsByTagName("script"), h = 0; h < d.length; h++) {
                            var p = d[h],
                                f = p.src || p.getAttribute("src");
                            if (f) {
                                for (var m = p.attributes, g = 0, E = m.length; g < E; g++) {
                                    var b = m[g];
                                    0 === b.name.indexOf("data-ace-") && (a[(o = b.name.replace(/^data-ace-/, ""), o.replace(/-(.)/g, function(e, t) {
                                        return t.toUpperCase()
                                    }))] = b.value)
                                }
                                var v = f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);
                                v && (c = v[1])
                            }
                        }
                        for (var T in c && (a.base = a.base || c, a.packaged = !0), a.basePath = a.base, a.workerPath = a.workerPath || a.base, a.modePath = a.modePath || a.base, a.themePath = a.themePath || a.base, delete a.base, a) void 0 !== a[T] && t.set(T, a[T])
                    }
                }
                t.get = function(e) {
                    if (!l.hasOwnProperty(e)) throw new Error("Unknown config key: " + e);
                    return l[e]
                }, t.set = function(e, t) {
                    if (!l.hasOwnProperty(e)) throw new Error("Unknown config key: " + e);
                    l[e] = t
                }, t.all = function() {
                    return i.copyObject(l)
                }, t.moduleUrl = function(e, t) {
                    if (l.$moduleUrls[e]) return l.$moduleUrls[e];
                    var n = e.split("/"),
                        r = "snippets" == (t = t || n[n.length - 2] || "") ? "/" : "-",
                        i = n[n.length - 1];
                    if ("worker" == t && "-" == r) {
                        var o = new RegExp("^" + t + "[\\-_]|[\\-_]" + t + "$", "g");
                        i = i.replace(o, "")
                    }(!i || i == t) && n.length > 1 && (i = n[n.length - 2]);
                    var a = l[t + "Path"];
                    return null == a ? a = l.basePath : "/" == r && (t = r = ""), a && "/" != a.slice(-1) && (a += "/"), a + t + r + i + this.get("suffix")
                }, t.setModuleUrl = function(e, t) {
                    return l.$moduleUrls[e] = t
                }, t.$loading = {}, t.loadModule = function(n, r) {
                    var i, a;
                    Array.isArray(n) && (a = n[0], n = n[1]);
                    try {
                        i = e(n)
                    } catch (e) {}
                    if (i && !t.$loading[n]) return r && r(i);
                    if (t.$loading[n] || (t.$loading[n] = []), t.$loading[n].push(r), !(t.$loading[n].length > 1)) {
                        var s = function() {
                            e([n], function(e) {
                                t._emit("load.module", {
                                    name: n,
                                    module: e
                                });
                                var r = t.$loading[n];
                                t.$loading[n] = null, r.forEach(function(t) {
                                    t && t(e)
                                })
                            })
                        };
                        if (!t.get("packaged")) return s();
                        o.loadScript(t.moduleUrl(n, a), s)
                    }
                }, c(!0), t.init = c
            }), ace.define("ace/mouse/mouse_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/mouse/default_handlers", "ace/mouse/default_gutter_handler", "ace/mouse/mouse_event", "ace/mouse/dragdrop_handler", "ace/config"], function(e, t, n) {
                "use strict";
                var r = e("../lib/event"),
                    i = e("../lib/useragent"),
                    o = e("./default_handlers").DefaultHandlers,
                    a = e("./default_gutter_handler").GutterHandler,
                    s = e("./mouse_event").MouseEvent,
                    l = e("./dragdrop_handler").DragdropHandler,
                    c = e("../config"),
                    u = function(e) {
                        var t = this;
                        this.editor = e, new o(this), new a(this), new l(this);
                        var n = function(t) {
                                (!document.hasFocus || !document.hasFocus() || !e.isFocused() && document.activeElement == (e.textInput && e.textInput.getElement())) && window.focus(), e.focus()
                            },
                            s = e.renderer.getMouseEventTarget();
                        r.addListener(s, "click", this.onMouseEvent.bind(this, "click")), r.addListener(s, "mousemove", this.onMouseMove.bind(this, "mousemove")), r.addMultiMouseDownListener([s, e.renderer.scrollBarV && e.renderer.scrollBarV.inner, e.renderer.scrollBarH && e.renderer.scrollBarH.inner, e.textInput && e.textInput.getElement()].filter(Boolean), [400, 300, 250], this, "onMouseEvent"), r.addMouseWheelListener(e.container, this.onMouseWheel.bind(this, "mousewheel")), r.addTouchMoveListener(e.container, this.onTouchMove.bind(this, "touchmove"));
                        var c = e.renderer.$gutter;
                        r.addListener(c, "mousedown", this.onMouseEvent.bind(this, "guttermousedown")), r.addListener(c, "click", this.onMouseEvent.bind(this, "gutterclick")), r.addListener(c, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick")), r.addListener(c, "mousemove", this.onMouseEvent.bind(this, "guttermousemove")), r.addListener(s, "mousedown", n), r.addListener(c, "mousedown", n), i.isIE && e.renderer.scrollBarV && (r.addListener(e.renderer.scrollBarV.element, "mousedown", n), r.addListener(e.renderer.scrollBarH.element, "mousedown", n)), e.on("mousemove", function(n) {
                            if (!t.state && !t.$dragDelay && t.$dragEnabled) {
                                var r = e.renderer.screenToTextCoordinates(n.x, n.y),
                                    i = e.session.selection.getRange(),
                                    o = e.renderer;
                                !i.isEmpty() && i.insideStart(r.row, r.column) ? o.setCursorStyle("default") : o.setCursorStyle("")
                            }
                        })
                    };
                (function() {
                    this.onMouseEvent = function(e, t) {
                        this.editor._emit(e, new s(t, this.editor))
                    }, this.onMouseMove = function(e, t) {
                        var n = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
                        n && n.length && this.editor._emit(e, new s(t, this.editor))
                    }, this.onMouseWheel = function(e, t) {
                        var n = new s(t, this.editor);
                        n.speed = 2 * this.$scrollSpeed, n.wheelX = t.wheelX, n.wheelY = t.wheelY, this.editor._emit(e, n)
                    }, this.onTouchMove = function(e, t) {
                        var n = new s(t, this.editor);
                        n.speed = 1, n.wheelX = t.wheelX, n.wheelY = t.wheelY, this.editor._emit(e, n)
                    }, this.setState = function(e) {
                        this.state = e
                    }, this.captureMouse = function(e, t) {
                        this.x = e.x, this.y = e.y, this.isMousePressed = !0;
                        var n = this.editor.renderer;
                        n.$keepTextAreaAtCursor && (n.$keepTextAreaAtCursor = null);
                        var o = this,
                            a = function(e) {
                                if (e) {
                                    if (i.isWebKit && !e.which && o.releaseMouse) return o.releaseMouse();
                                    o.x = e.clientX, o.y = e.clientY, t && t(e), o.mouseEvent = new s(e, o.editor), o.$mouseMoved = !0
                                }
                            },
                            l = function(e) {
                                clearInterval(u), c(), o[o.state + "End"] && o[o.state + "End"](e), o.state = "", null == n.$keepTextAreaAtCursor && (n.$keepTextAreaAtCursor = !0, n.$moveTextAreaToCursor()), o.isMousePressed = !1, o.$onCaptureMouseMove = o.releaseMouse = null, e && o.onMouseEvent("mouseup", e)
                            },
                            c = function() {
                                o[o.state] && o[o.state](), o.$mouseMoved = !1
                            };
                        if (i.isOldIE && "dblclick" == e.domEvent.type) return setTimeout(function() {
                            l(e)
                        });
                        o.$onCaptureMouseMove = a, o.releaseMouse = r.capture(this.editor.container, a, l);
                        var u = setInterval(c, 20)
                    }, this.releaseMouse = null, this.cancelContextMenu = function() {
                        var e = (function(t) {
                            t && t.domEvent && "contextmenu" != t.domEvent.type || (this.editor.off("nativecontextmenu", e), t && t.domEvent && r.stopEvent(t.domEvent))
                        }).bind(this);
                        setTimeout(e, 10), this.editor.on("nativecontextmenu", e)
                    }
                }).call(u.prototype), c.defineOptions(u.prototype, "mouseHandler", {
                    scrollSpeed: {
                        initialValue: 2
                    },
                    dragDelay: {
                        initialValue: i.isMac ? 150 : 0
                    },
                    dragEnabled: {
                        initialValue: !0
                    },
                    focusTimout: {
                        initialValue: 0
                    },
                    tooltipFollowsMouse: {
                        initialValue: !0
                    }
                }), t.MouseHandler = u
            }), ace.define("ace/mouse/fold_handler", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                t.FoldHandler = function(e) {
                    e.on("click", function(t) {
                        var n = t.getDocumentPosition(),
                            r = e.session,
                            i = r.getFoldAt(n.row, n.column, 1);
                        i && (t.getAccelKey() ? r.removeFold(i) : r.expandFold(i), t.stop())
                    }), e.on("gutterclick", function(t) {
                        if ("foldWidgets" == e.renderer.$gutterLayer.getRegion(t)) {
                            var n = t.getDocumentPosition().row,
                                r = e.session;
                            r.foldWidgets && r.foldWidgets[n] && e.session.onFoldWidgetClick(n, t), e.isFocused() || e.focus(), t.stop()
                        }
                    }), e.on("gutterdblclick", function(t) {
                        if ("foldWidgets" == e.renderer.$gutterLayer.getRegion(t)) {
                            var n = t.getDocumentPosition().row,
                                r = e.session,
                                i = r.getParentFoldRangeData(n, !0),
                                o = i.range || i.firstRange;
                            if (o) {
                                var a = r.getFoldAt(n = o.start.row, r.getLine(n).length, 1);
                                a ? r.removeFold(a) : (r.addFold("...", o), e.renderer.scrollCursorIntoView({
                                    row: o.start.row,
                                    column: 0
                                }))
                            }
                            t.stop()
                        }
                    })
                }
            }), ace.define("ace/keyboard/keybinding", ["require", "exports", "module", "ace/lib/keys", "ace/lib/event"], function(e, t, n) {
                "use strict";
                var r = e("../lib/keys"),
                    i = e("../lib/event"),
                    o = function(e) {
                        this.$editor = e, this.$data = {
                            editor: e
                        }, this.$handlers = [], this.setDefaultHandler(e.commands)
                    };
                (function() {
                    this.setDefaultHandler = function(e) {
                        this.removeKeyboardHandler(this.$defaultHandler), this.$defaultHandler = e, this.addKeyboardHandler(e, 0)
                    }, this.setKeyboardHandler = function(e) {
                        var t = this.$handlers;
                        if (t[t.length - 1] != e) {
                            for (; t[t.length - 1] && t[t.length - 1] != this.$defaultHandler;) this.removeKeyboardHandler(t[t.length - 1]);
                            this.addKeyboardHandler(e, 1)
                        }
                    }, this.addKeyboardHandler = function(e, t) {
                        if (e) {
                            "function" != typeof e || e.handleKeyboard || (e.handleKeyboard = e);
                            var n = this.$handlers.indexOf(e); - 1 != n && this.$handlers.splice(n, 1), void 0 == t ? this.$handlers.push(e) : this.$handlers.splice(t, 0, e), -1 == n && e.attach && e.attach(this.$editor)
                        }
                    }, this.removeKeyboardHandler = function(e) {
                        var t = this.$handlers.indexOf(e);
                        return -1 != t && (this.$handlers.splice(t, 1), e.detach && e.detach(this.$editor), !0)
                    }, this.getKeyboardHandler = function() {
                        return this.$handlers[this.$handlers.length - 1]
                    }, this.getStatusText = function() {
                        var e = this.$data,
                            t = e.editor;
                        return this.$handlers.map(function(n) {
                            return n.getStatusText && n.getStatusText(t, e) || ""
                        }).filter(Boolean).join(" ")
                    }, this.$callKeyboardHandlers = function(e, t, n, r) {
                        for (var o, a = !1, s = this.$editor.commands, l = this.$handlers.length; l-- && !((o = this.$handlers[l].handleKeyboard(this.$data, e, t, n, r)) && o.command && ((a = "null" == o.command || s.exec(o.command, this.$editor, o.args, r)) && r && -1 != e && 1 != o.passEvent && 1 != o.command.passEvent && i.stopEvent(r), a)););
                        return a || -1 != e || (o = {
                            command: "insertstring"
                        }, a = s.exec("insertstring", this.$editor, t)), a && this.$editor._signal && this.$editor._signal("keyboardActivity", o), a
                    }, this.onCommandKey = function(e, t, n) {
                        var i = r.keyCodeToString(n);
                        this.$callKeyboardHandlers(t, i, n, e)
                    }, this.onTextInput = function(e) {
                        this.$callKeyboardHandlers(-1, e)
                    }
                }).call(o.prototype), t.KeyBinding = o
            }), ace.define("ace/range", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                var r = function(e, t, n, r) {
                    this.start = {
                        row: e,
                        column: t
                    }, this.end = {
                        row: n,
                        column: r
                    }
                };
                (function() {
                    this.isEqual = function(e) {
                        return this.start.row === e.start.row && this.end.row === e.end.row && this.start.column === e.start.column && this.end.column === e.end.column
                    }, this.toString = function() {
                        return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]"
                    }, this.contains = function(e, t) {
                        return 0 == this.compare(e, t)
                    }, this.compareRange = function(e) {
                        var t, n = e.end,
                            r = e.start;
                        return 1 == (t = this.compare(n.row, n.column)) ? 1 == (t = this.compare(r.row, r.column)) ? 2 : 0 == t ? 1 : 0 : -1 == t ? -2 : -1 == (t = this.compare(r.row, r.column)) ? -1 : 1 == t ? 42 : 0
                    }, this.comparePoint = function(e) {
                        return this.compare(e.row, e.column)
                    }, this.containsRange = function(e) {
                        return 0 == this.comparePoint(e.start) && 0 == this.comparePoint(e.end)
                    }, this.intersects = function(e) {
                        var t = this.compareRange(e);
                        return -1 == t || 0 == t || 1 == t
                    }, this.isEnd = function(e, t) {
                        return this.end.row == e && this.end.column == t
                    }, this.isStart = function(e, t) {
                        return this.start.row == e && this.start.column == t
                    }, this.setStart = function(e, t) {
                        "object" == typeof e ? (this.start.column = e.column, this.start.row = e.row) : (this.start.row = e, this.start.column = t)
                    }, this.setEnd = function(e, t) {
                        "object" == typeof e ? (this.end.column = e.column, this.end.row = e.row) : (this.end.row = e, this.end.column = t)
                    }, this.inside = function(e, t) {
                        return 0 == this.compare(e, t) && !this.isEnd(e, t) && !this.isStart(e, t)
                    }, this.insideStart = function(e, t) {
                        return 0 == this.compare(e, t) && !this.isEnd(e, t)
                    }, this.insideEnd = function(e, t) {
                        return 0 == this.compare(e, t) && !this.isStart(e, t)
                    }, this.compare = function(e, t) {
                        return this.isMultiLine() || e !== this.start.row ? e < this.start.row ? -1 : e > this.end.row ? 1 : this.start.row === e ? t >= this.start.column ? 0 : -1 : this.end.row === e ? t <= this.end.column ? 0 : 1 : 0 : t < this.start.column ? -1 : t > this.end.column ? 1 : 0
                    }, this.compareStart = function(e, t) {
                        return this.start.row == e && this.start.column == t ? -1 : this.compare(e, t)
                    }, this.compareEnd = function(e, t) {
                        return this.end.row == e && this.end.column == t ? 1 : this.compare(e, t)
                    }, this.compareInside = function(e, t) {
                        return this.end.row == e && this.end.column == t ? 1 : this.start.row == e && this.start.column == t ? -1 : this.compare(e, t)
                    }, this.clipRows = function(e, t) {
                        if (this.end.row > t) var n = {
                            row: t + 1,
                            column: 0
                        };
                        else this.end.row < e && (n = {
                            row: e,
                            column: 0
                        });
                        if (this.start.row > t) var i = {
                            row: t + 1,
                            column: 0
                        };
                        else this.start.row < e && (i = {
                            row: e,
                            column: 0
                        });
                        return r.fromPoints(i || this.start, n || this.end)
                    }, this.extend = function(e, t) {
                        var n = this.compare(e, t);
                        if (0 == n) return this;
                        if (-1 == n) var i = {
                            row: e,
                            column: t
                        };
                        else var o = {
                            row: e,
                            column: t
                        };
                        return r.fromPoints(i || this.start, o || this.end)
                    }, this.isEmpty = function() {
                        return this.start.row === this.end.row && this.start.column === this.end.column
                    }, this.isMultiLine = function() {
                        return this.start.row !== this.end.row
                    }, this.clone = function() {
                        return r.fromPoints(this.start, this.end)
                    }, this.collapseRows = function() {
                        return new r(this.start.row, 0, 0 == this.end.column ? Math.max(this.start.row, this.end.row - 1) : this.end.row, 0)
                    }, this.toScreenRange = function(e) {
                        var t = e.documentToScreenPosition(this.start),
                            n = e.documentToScreenPosition(this.end);
                        return new r(t.row, t.column, n.row, n.column)
                    }, this.moveBy = function(e, t) {
                        this.start.row += e, this.start.column += t, this.end.row += e, this.end.column += t
                    }
                }).call(r.prototype), r.fromPoints = function(e, t) {
                    return new r(e.row, e.column, t.row, t.column)
                }, r.comparePoints = function(e, t) {
                    return e.row - t.row || e.column - t.column
                }, r.comparePoints = function(e, t) {
                    return e.row - t.row || e.column - t.column
                }, t.Range = r
            }), ace.define("ace/selection", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/range"], function(e, t, n) {
                "use strict";
                var r = e("./lib/oop"),
                    i = e("./lib/lang"),
                    o = e("./lib/event_emitter").EventEmitter,
                    a = e("./range").Range,
                    s = function(e) {
                        this.session = e, this.doc = e.getDocument(), this.clearSelection(), this.lead = this.selectionLead = this.doc.createAnchor(0, 0), this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);
                        var t = this;
                        this.lead.on("change", function(e) {
                            t._emit("changeCursor"), t.$isEmpty || t._emit("changeSelection"), t.$keepDesiredColumnOnChange || e.old.column == e.value.column || (t.$desiredColumn = null)
                        }), this.selectionAnchor.on("change", function() {
                            t.$isEmpty || t._emit("changeSelection")
                        })
                    };
                (function() {
                    r.implement(this, o), this.isEmpty = function() {
                        return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column
                    }, this.isMultiLine = function() {
                        return !this.isEmpty() && this.getRange().isMultiLine()
                    }, this.getCursor = function() {
                        return this.lead.getPosition()
                    }, this.setSelectionAnchor = function(e, t) {
                        this.anchor.setPosition(e, t), this.$isEmpty && (this.$isEmpty = !1, this._emit("changeSelection"))
                    }, this.getSelectionAnchor = function() {
                        return this.$isEmpty ? this.getSelectionLead() : this.anchor.getPosition()
                    }, this.getSelectionLead = function() {
                        return this.lead.getPosition()
                    }, this.shiftSelection = function(e) {
                        if (this.$isEmpty) this.moveCursorTo(this.lead.row, this.lead.column + e);
                        else {
                            var t = this.getSelectionAnchor(),
                                n = this.getSelectionLead(),
                                r = this.isBackwards();
                            r && 0 === t.column || this.setSelectionAnchor(t.row, t.column + e), (r || 0 !== n.column) && this.$moveSelection(function() {
                                this.moveCursorTo(n.row, n.column + e)
                            })
                        }
                    }, this.isBackwards = function() {
                        var e = this.anchor,
                            t = this.lead;
                        return e.row > t.row || e.row == t.row && e.column > t.column
                    }, this.getRange = function() {
                        var e = this.anchor,
                            t = this.lead;
                        return this.isEmpty() ? a.fromPoints(t, t) : this.isBackwards() ? a.fromPoints(t, e) : a.fromPoints(e, t)
                    }, this.clearSelection = function() {
                        this.$isEmpty || (this.$isEmpty = !0, this._emit("changeSelection"))
                    }, this.selectAll = function() {
                        var e = this.doc.getLength() - 1;
                        this.setSelectionAnchor(0, 0), this.moveCursorTo(e, this.doc.getLine(e).length)
                    }, this.setRange = this.setSelectionRange = function(e, t) {
                        t ? (this.setSelectionAnchor(e.end.row, e.end.column), this.selectTo(e.start.row, e.start.column)) : (this.setSelectionAnchor(e.start.row, e.start.column), this.selectTo(e.end.row, e.end.column)), this.getRange().isEmpty() && (this.$isEmpty = !0), this.$desiredColumn = null
                    }, this.$moveSelection = function(e) {
                        var t = this.lead;
                        this.$isEmpty && this.setSelectionAnchor(t.row, t.column), e.call(this)
                    }, this.selectTo = function(e, t) {
                        this.$moveSelection(function() {
                            this.moveCursorTo(e, t)
                        })
                    }, this.selectToPosition = function(e) {
                        this.$moveSelection(function() {
                            this.moveCursorToPosition(e)
                        })
                    }, this.moveTo = function(e, t) {
                        this.clearSelection(), this.moveCursorTo(e, t)
                    }, this.moveToPosition = function(e) {
                        this.clearSelection(), this.moveCursorToPosition(e)
                    }, this.selectUp = function() {
                        this.$moveSelection(this.moveCursorUp)
                    }, this.selectDown = function() {
                        this.$moveSelection(this.moveCursorDown)
                    }, this.selectRight = function() {
                        this.$moveSelection(this.moveCursorRight)
                    }, this.selectLeft = function() {
                        this.$moveSelection(this.moveCursorLeft)
                    }, this.selectLineStart = function() {
                        this.$moveSelection(this.moveCursorLineStart)
                    }, this.selectLineEnd = function() {
                        this.$moveSelection(this.moveCursorLineEnd)
                    }, this.selectFileEnd = function() {
                        this.$moveSelection(this.moveCursorFileEnd)
                    }, this.selectFileStart = function() {
                        this.$moveSelection(this.moveCursorFileStart)
                    }, this.selectWordRight = function() {
                        this.$moveSelection(this.moveCursorWordRight)
                    }, this.selectWordLeft = function() {
                        this.$moveSelection(this.moveCursorWordLeft)
                    }, this.getWordRange = function(e, t) {
                        if (void 0 === t) {
                            var n = e || this.lead;
                            e = n.row, t = n.column
                        }
                        return this.session.getWordRange(e, t)
                    }, this.selectWord = function() {
                        this.setSelectionRange(this.getWordRange())
                    }, this.selectAWord = function() {
                        var e = this.getCursor(),
                            t = this.session.getAWordRange(e.row, e.column);
                        this.setSelectionRange(t)
                    }, this.getLineRange = function(e, t) {
                        var n, r = "number" == typeof e ? e : this.lead.row,
                            i = this.session.getFoldLine(r);
                        return i ? (r = i.start.row, n = i.end.row) : n = r, !0 === t ? new a(r, 0, n, this.session.getLine(n).length) : new a(r, 0, n + 1, 0)
                    }, this.selectLine = function() {
                        this.setSelectionRange(this.getLineRange())
                    }, this.moveCursorUp = function() {
                        this.moveCursorBy(-1, 0)
                    }, this.moveCursorDown = function() {
                        this.moveCursorBy(1, 0)
                    }, this.moveCursorLeft = function() {
                        var e, t = this.lead.getPosition();
                        if (e = this.session.getFoldAt(t.row, t.column, -1)) this.moveCursorTo(e.start.row, e.start.column);
                        else if (0 === t.column) t.row > 0 && this.moveCursorTo(t.row - 1, this.doc.getLine(t.row - 1).length);
                        else {
                            var n = this.session.getTabSize();
                            this.session.isTabStop(t) && this.doc.getLine(t.row).slice(t.column - n, t.column).split(" ").length - 1 == n ? this.moveCursorBy(0, -n) : this.moveCursorBy(0, -1)
                        }
                    }, this.moveCursorRight = function() {
                        var e, t = this.lead.getPosition();
                        if (e = this.session.getFoldAt(t.row, t.column, 1)) this.moveCursorTo(e.end.row, e.end.column);
                        else if (this.lead.column == this.doc.getLine(this.lead.row).length) this.lead.row < this.doc.getLength() - 1 && this.moveCursorTo(this.lead.row + 1, 0);
                        else {
                            var n = this.session.getTabSize();
                            this.session.isTabStop(t = this.lead) && this.doc.getLine(t.row).slice(t.column, t.column + n).split(" ").length - 1 == n ? this.moveCursorBy(0, n) : this.moveCursorBy(0, 1)
                        }
                    }, this.moveCursorLineStart = function() {
                        var e = this.lead.row,
                            t = this.lead.column,
                            n = this.session.documentToScreenRow(e, t),
                            r = this.session.screenToDocumentPosition(n, 0),
                            i = this.session.getDisplayLine(e, null, r.row, r.column).match(/^\s*/);
                        i[0].length == t || this.session.$useEmacsStyleLineStart || (r.column += i[0].length), this.moveCursorToPosition(r)
                    }, this.moveCursorLineEnd = function() {
                        var e = this.lead,
                            t = this.session.getDocumentLastRowColumnPosition(e.row, e.column);
                        if (this.lead.column == t.column) {
                            var n = this.session.getLine(t.row);
                            if (t.column == n.length) {
                                var r = n.search(/\s+$/);
                                r > 0 && (t.column = r)
                            }
                        }
                        this.moveCursorTo(t.row, t.column)
                    }, this.moveCursorFileEnd = function() {
                        var e = this.doc.getLength() - 1,
                            t = this.doc.getLine(e).length;
                        this.moveCursorTo(e, t)
                    }, this.moveCursorFileStart = function() {
                        this.moveCursorTo(0, 0)
                    }, this.moveCursorLongWordRight = function() {
                        var e = this.lead.row,
                            t = this.lead.column,
                            n = this.doc.getLine(e),
                            r = n.substring(t);
                        this.session.nonTokenRe.lastIndex = 0, this.session.tokenRe.lastIndex = 0;
                        var i = this.session.getFoldAt(e, t, 1);
                        if (i) this.moveCursorTo(i.end.row, i.end.column);
                        else {
                            if (this.session.nonTokenRe.exec(r) && (t += this.session.nonTokenRe.lastIndex, this.session.nonTokenRe.lastIndex = 0, r = n.substring(t)), t >= n.length) return this.moveCursorTo(e, n.length), this.moveCursorRight(), void(e < this.doc.getLength() - 1 && this.moveCursorWordRight());
                            this.session.tokenRe.exec(r) && (t += this.session.tokenRe.lastIndex, this.session.tokenRe.lastIndex = 0), this.moveCursorTo(e, t)
                        }
                    }, this.moveCursorLongWordLeft = function() {
                        var e, t = this.lead.row,
                            n = this.lead.column;
                        if (e = this.session.getFoldAt(t, n, -1)) this.moveCursorTo(e.start.row, e.start.column);
                        else {
                            var r = this.session.getFoldStringAt(t, n, -1);
                            null == r && (r = this.doc.getLine(t).substring(0, n));
                            var o = i.stringReverse(r);
                            if (this.session.nonTokenRe.lastIndex = 0, this.session.tokenRe.lastIndex = 0, this.session.nonTokenRe.exec(o) && (n -= this.session.nonTokenRe.lastIndex, o = o.slice(this.session.nonTokenRe.lastIndex), this.session.nonTokenRe.lastIndex = 0), n <= 0) return this.moveCursorTo(t, 0), this.moveCursorLeft(), void(t > 0 && this.moveCursorWordLeft());
                            this.session.tokenRe.exec(o) && (n -= this.session.tokenRe.lastIndex, this.session.tokenRe.lastIndex = 0), this.moveCursorTo(t, n)
                        }
                    }, this.$shortWordEndIndex = function(e) {
                        var t, n = 0,
                            r = /\s/,
                            i = this.session.tokenRe;
                        if (i.lastIndex = 0, this.session.tokenRe.exec(e)) n = this.session.tokenRe.lastIndex;
                        else {
                            for (;
                                (t = e[n]) && r.test(t);) n++;
                            if (n < 1)
                                for (i.lastIndex = 0;
                                    (t = e[n]) && !i.test(t);)
                                    if (i.lastIndex = 0, n++, r.test(t)) {
                                        if (n > 2) {
                                            n--;
                                            break
                                        }
                                        for (;
                                            (t = e[n]) && r.test(t);) n++;
                                        if (n > 2) break
                                    }
                        }
                        return i.lastIndex = 0, n
                    }, this.moveCursorShortWordRight = function() {
                        var e = this.lead.row,
                            t = this.lead.column,
                            n = this.doc.getLine(e),
                            r = n.substring(t),
                            i = this.session.getFoldAt(e, t, 1);
                        if (i) return this.moveCursorTo(i.end.row, i.end.column);
                        if (t == n.length) {
                            var o = this.doc.getLength();
                            do {
                                r = this.doc.getLine(++e)
                            } while (e < o && /^\s*$/.test(r));
                            /^\s+/.test(r) || (r = ""), t = 0
                        }
                        var a = this.$shortWordEndIndex(r);
                        this.moveCursorTo(e, t + a)
                    }, this.moveCursorShortWordLeft = function() {
                        var e, t = this.lead.row,
                            n = this.lead.column;
                        if (e = this.session.getFoldAt(t, n, -1)) return this.moveCursorTo(e.start.row, e.start.column);
                        var r = this.session.getLine(t).substring(0, n);
                        if (0 === n) {
                            do {
                                r = this.doc.getLine(--t)
                            } while (t > 0 && /^\s*$/.test(r));
                            n = r.length, /\s+$/.test(r) || (r = "")
                        }
                        var o = i.stringReverse(r),
                            a = this.$shortWordEndIndex(o);
                        return this.moveCursorTo(t, n - a)
                    }, this.moveCursorWordRight = function() {
                        this.session.$selectLongWords ? this.moveCursorLongWordRight() : this.moveCursorShortWordRight()
                    }, this.moveCursorWordLeft = function() {
                        this.session.$selectLongWords ? this.moveCursorLongWordLeft() : this.moveCursorShortWordLeft()
                    }, this.moveCursorBy = function(e, t) {
                        var n = this.session.documentToScreenPosition(this.lead.row, this.lead.column);
                        0 === t && (this.$desiredColumn ? n.column = this.$desiredColumn : this.$desiredColumn = n.column);
                        var r = this.session.screenToDocumentPosition(n.row + e, n.column);
                        0 !== e && 0 === t && r.row === this.lead.row && r.column === this.lead.column && this.session.lineWidgets && this.session.lineWidgets[r.row] && (r.row > 0 || e > 0) && r.row++, this.moveCursorTo(r.row, r.column + t, 0 === t)
                    }, this.moveCursorToPosition = function(e) {
                        this.moveCursorTo(e.row, e.column)
                    }, this.moveCursorTo = function(e, t, n) {
                        var r = this.session.getFoldAt(e, t, 1);
                        r && (e = r.start.row, t = r.start.column), this.$keepDesiredColumnOnChange = !0, this.lead.setPosition(e, t), this.$keepDesiredColumnOnChange = !1, n || (this.$desiredColumn = null)
                    }, this.moveCursorToScreen = function(e, t, n) {
                        var r = this.session.screenToDocumentPosition(e, t);
                        this.moveCursorTo(r.row, r.column, n)
                    }, this.detach = function() {
                        this.lead.detach(), this.anchor.detach(), this.session = this.doc = null
                    }, this.fromOrientedRange = function(e) {
                        this.setSelectionRange(e, e.cursor == e.start), this.$desiredColumn = e.desiredColumn || this.$desiredColumn
                    }, this.toOrientedRange = function(e) {
                        var t = this.getRange();
                        return e ? (e.start.column = t.start.column, e.start.row = t.start.row, e.end.column = t.end.column, e.end.row = t.end.row) : e = t, e.cursor = this.isBackwards() ? e.start : e.end, e.desiredColumn = this.$desiredColumn, e
                    }, this.getRangeOfMovements = function(e) {
                        var t = this.getCursor();
                        try {
                            e(this);
                            var n = this.getCursor();
                            return a.fromPoints(t, n)
                        } catch (e) {
                            return a.fromPoints(t, t)
                        } finally {
                            this.moveCursorToPosition(t)
                        }
                    }, this.toJSON = function() {
                        if (this.rangeCount) var e = this.ranges.map(function(e) {
                            var t = e.clone();
                            return t.isBackwards = e.cursor == e.start, t
                        });
                        else(e = this.getRange()).isBackwards = this.isBackwards();
                        return e
                    }, this.fromJSON = function(e) {
                        if (void 0 == e.start) {
                            if (this.rangeList) {
                                this.toSingleRange(e[0]);
                                for (var t = e.length; t--;) {
                                    var n = a.fromPoints(e[t].start, e[t].end);
                                    e[t].isBackwards && (n.cursor = n.start), this.addRange(n, !0)
                                }
                                return
                            }
                            e = e[0]
                        }
                        this.rangeList && this.toSingleRange(e), this.setSelectionRange(e, e.isBackwards)
                    }, this.isEqual = function(e) {
                        if ((e.length || this.rangeCount) && e.length != this.rangeCount) return !1;
                        if (!e.length || !this.ranges) return this.getRange().isEqual(e);
                        for (var t = this.ranges.length; t--;)
                            if (!this.ranges[t].isEqual(e[t])) return !1;
                        return !0
                    }
                }).call(s.prototype), t.Selection = s
            }), ace.define("ace/tokenizer", ["require", "exports", "module", "ace/config"], function(e, t, n) {
                "use strict";
                var r = e("./config"),
                    i = 2e3,
                    o = function(e) {
                        for (var t in this.states = e, this.regExps = {}, this.matchMappings = {}, this.states) {
                            for (var n = this.states[t], r = [], i = 0, o = this.matchMappings[t] = {
                                    defaultToken: "text"
                                }, a = "g", s = [], l = 0; l < n.length; l++) {
                                var c = n[l];
                                if (c.defaultToken && (o.defaultToken = c.defaultToken), c.caseInsensitive && (a = "gi"), null != c.regex) {
                                    c.regex instanceof RegExp && (c.regex = c.regex.toString().slice(1, -1));
                                    var u = c.regex,
                                        d = new RegExp("(?:(" + u + ")|(.))").exec("a").length - 2;
                                    Array.isArray(c.token) ? 1 == c.token.length || 1 == d ? c.token = c.token[0] : d - 1 != c.token.length ? (this.reportError("number of classes and regexp groups doesn't match", {
                                        rule: c,
                                        groupCount: d - 1
                                    }), c.token = c.token[0]) : (c.tokenArray = c.token, c.token = null, c.onMatch = this.$arrayTokens) : "function" != typeof c.token || c.onMatch || (c.onMatch = d > 1 ? this.$applyToken : c.token), d > 1 && (/\\\d/.test(c.regex) ? u = c.regex.replace(/\\([0-9]+)/g, function(e, t) {
                                        return "\\" + (parseInt(t, 10) + i + 1)
                                    }) : (d = 1, u = this.removeCapturingGroups(c.regex)), c.splitRegex || "string" == typeof c.token || s.push(c)), o[i] = l, i += d, r.push(u), c.onMatch || (c.onMatch = null)
                                }
                            }
                            r.length || (o[0] = 0, r.push("$")), s.forEach(function(e) {
                                e.splitRegex = this.createSplitterRegexp(e.regex, a)
                            }, this), this.regExps[t] = new RegExp("(" + r.join(")|(") + ")|($)", a)
                        }
                    };
                (function() {
                    this.$setMaxTokenCount = function(e) {
                        i = 0 | e
                    }, this.$applyToken = function(e) {
                        var t = this.splitRegex.exec(e).slice(1),
                            n = this.token.apply(this, t);
                        if ("string" == typeof n) return [{
                            type: n,
                            value: e
                        }];
                        for (var r = [], i = 0, o = n.length; i < o; i++) t[i] && (r[r.length] = {
                            type: n[i],
                            value: t[i]
                        });
                        return r
                    }, this.$arrayTokens = function(e) {
                        if (!e) return [];
                        var t = this.splitRegex.exec(e);
                        if (!t) return "text";
                        for (var n = [], r = this.tokenArray, i = 0, o = r.length; i < o; i++) t[i + 1] && (n[n.length] = {
                            type: r[i],
                            value: t[i + 1]
                        });
                        return n
                    }, this.removeCapturingGroups = function(e) {
                        return e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g, function(e, t) {
                            return t ? "(?:" : e
                        })
                    }, this.createSplitterRegexp = function(e, t) {
                        if (-1 != e.indexOf("(?=")) {
                            var n = 0,
                                r = !1,
                                i = {};
                            e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(e, t, o, a, s, l) {
                                return r ? r = "]" != s : s ? r = !0 : a ? (n == i.stack && (i.end = l + 1, i.stack = -1), n--) : o && (n++, 1 != o.length && (i.stack = n, i.start = l)), e
                            }), null != i.end && /^\)*$/.test(e.substr(i.end)) && (e = e.substring(0, i.start) + e.substr(i.end))
                        }
                        return "^" != e.charAt(0) && (e = "^" + e), "$" != e.charAt(e.length - 1) && (e += "$"), new RegExp(e, (t || "").replace("g", ""))
                    }, this.getLineTokens = function(e, t) {
                        if (t && "string" != typeof t) "#tmp" === (t = (n = t.slice(0))[0]) && (n.shift(), t = n.shift());
                        else var n = [];
                        var r = t || "start",
                            o = this.states[r];
                        o || (o = this.states[r = "start"]);
                        var a = this.matchMappings[r],
                            s = this.regExps[r];
                        s.lastIndex = 0;
                        for (var l, c = [], u = 0, d = 0, h = {
                                type: null,
                                value: ""
                            }; l = s.exec(e);) {
                            var p = a.defaultToken,
                                f = null,
                                m = l[0],
                                g = s.lastIndex;
                            if (g - m.length > u) {
                                var E = e.substring(u, g - m.length);
                                h.type == p ? h.value += E : (h.type && c.push(h), h = {
                                    type: p,
                                    value: E
                                })
                            }
                            for (var b = 0; b < l.length - 2; b++)
                                if (void 0 !== l[b + 1]) {
                                    p = (f = o[a[b]]).onMatch ? f.onMatch(m, r, n) : f.token, f.next && (r = "string" == typeof f.next ? f.next : f.next(r, n), (o = this.states[r]) || (this.reportError("state doesn't exist", r), o = this.states[r = "start"]), a = this.matchMappings[r], u = g, (s = this.regExps[r]).lastIndex = g);
                                    break
                                }
                            if (m)
                                if ("string" == typeof p) f && !1 === f.merge || h.type !== p ? (h.type && c.push(h), h = {
                                    type: p,
                                    value: m
                                }) : h.value += m;
                                else if (p)
                                for (h.type && c.push(h), h = {
                                        type: null,
                                        value: ""
                                    }, b = 0; b < p.length; b++) c.push(p[b]);
                            if (u == e.length) break;
                            if (u = g, d++ > i) {
                                for (d > 2 * e.length && this.reportError("infinite loop with in ace tokenizer", {
                                        startState: t,
                                        line: e
                                    }); u < e.length;) h.type && c.push(h), h = {
                                    value: e.substring(u, u += 2e3),
                                    type: "overflow"
                                };
                                r = "start", n = [];
                                break
                            }
                        }
                        return h.type && c.push(h), n.length > 1 && n[0] !== r && n.unshift("#tmp", r), {
                            tokens: c,
                            state: n.length ? n : r
                        }
                    }, this.reportError = r.reportError
                }).call(o.prototype), t.Tokenizer = o
            }), ace.define("ace/mode/text_highlight_rules", ["require", "exports", "module", "ace/lib/lang"], function(e, t, n) {
                "use strict";
                var r = e("../lib/lang"),
                    i = function() {
                        this.$rules = {
                            start: [{
                                token: "empty_line",
                                regex: "^$"
                            }, {
                                defaultToken: "text"
                            }]
                        }
                    };
                (function() {
                    this.addRules = function(e, t) {
                        if (t)
                            for (var n in e) {
                                for (var r = e[n], i = 0; i < r.length; i++) {
                                    var o = r[i];
                                    (o.next || o.onMatch) && ("string" == typeof o.next && 0 !== o.next.indexOf(t) && (o.next = t + o.next), o.nextState && 0 !== o.nextState.indexOf(t) && (o.nextState = t + o.nextState))
                                }
                                this.$rules[t + n] = r
                            } else
                                for (var n in e) this.$rules[n] = e[n]
                    }, this.getRules = function() {
                        return this.$rules
                    }, this.embedRules = function(e, t, n, i, o) {
                        var a = "function" == typeof e ? (new e).getRules() : e;
                        if (i)
                            for (var s = 0; s < i.length; s++) i[s] = t + i[s];
                        else
                            for (var l in i = [], a) i.push(t + l);
                        if (this.addRules(a, t), n) {
                            var c = Array.prototype[o ? "push" : "unshift"];
                            for (s = 0; s < i.length; s++) c.apply(this.$rules[i[s]], r.deepCopy(n))
                        }
                        this.$embeds || (this.$embeds = []), this.$embeds.push(t)
                    }, this.getEmbeds = function() {
                        return this.$embeds
                    };
                    var e = function(e, t) {
                            return ("start" != e || t.length) && t.unshift(this.nextState, e), this.nextState
                        },
                        t = function(e, t) {
                            return t.shift(), t.shift() || "start"
                        };
                    this.normalizeRules = function() {
                        var n = 0,
                            r = this.$rules;
                        Object.keys(r).forEach(function i(o) {
                            var a = r[o];
                            a.processed = !0;
                            for (var s = 0; s < a.length; s++) {
                                var l = a[s],
                                    c = null;
                                Array.isArray(l) && (c = l, l = {}), !l.regex && l.start && (l.regex = l.start, l.next || (l.next = []), l.next.push({
                                    defaultToken: l.token
                                }, {
                                    token: l.token + ".end",
                                    regex: l.end || l.start,
                                    next: "pop"
                                }), l.token = l.token + ".start", l.push = !0);
                                var u = l.next || l.push;
                                if (u && Array.isArray(u)) {
                                    var d = l.stateName;
                                    d || ("string" != typeof(d = l.token) && (d = d[0] || ""), r[d] && (d += n++)), r[d] = u, l.next = d, i(d)
                                } else "pop" == u && (l.next = t);
                                if (l.push && (l.nextState = l.next || l.push, l.next = e, delete l.push), l.rules)
                                    for (var h in l.rules) r[h] ? r[h].push && r[h].push.apply(r[h], l.rules[h]) : r[h] = l.rules[h];
                                var p = "string" == typeof l ? l : "string" == typeof l.include ? l.include : "";
                                if (p && (c = r[p]), c) {
                                    var f = [s, 1].concat(c);
                                    l.noEscape && (f = f.filter(function(e) {
                                        return !e.next
                                    })), a.splice.apply(a, f), s--
                                }
                                l.keywordMap && (l.token = this.createKeywordMapper(l.keywordMap, l.defaultToken || "text", l.caseInsensitive), delete l.defaultToken)
                            }
                        }, this)
                    }, this.createKeywordMapper = function(e, t, n, r) {
                        var i = Object.create(null);
                        return Object.keys(e).forEach(function(t) {
                            var o = e[t];
                            n && (o = o.toLowerCase());
                            for (var a = o.split(r || "|"), s = a.length; s--;) i[a[s]] = t
                        }), Object.getPrototypeOf(i) && (i.__proto__ = null), this.$keywordList = Object.keys(i), e = null, n ? function(e) {
                            return i[e.toLowerCase()] || t
                        } : function(e) {
                            return i[e] || t
                        }
                    }, this.getKeywords = function() {
                        return this.$keywords
                    }
                }).call(i.prototype), t.TextHighlightRules = i
            }), ace.define("ace/mode/behaviour", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                var r = function() {
                    this.$behaviours = {}
                };
                (function() {
                    this.add = function(e, t, n) {
                        switch (void 0) {
                            case this.$behaviours:
                                this.$behaviours = {};
                            case this.$behaviours[e]:
                                this.$behaviours[e] = {}
                        }
                        this.$behaviours[e][t] = n
                    }, this.addBehaviours = function(e) {
                        for (var t in e)
                            for (var n in e[t]) this.add(t, n, e[t][n])
                    }, this.remove = function(e) {
                        this.$behaviours && this.$behaviours[e] && delete this.$behaviours[e]
                    }, this.inherit = function(e, t) {
                        if ("function" == typeof e) var n = (new e).getBehaviours(t);
                        else n = e.getBehaviours(t);
                        this.addBehaviours(n)
                    }, this.getBehaviours = function(e) {
                        if (e) {
                            for (var t = {}, n = 0; n < e.length; n++) this.$behaviours[e[n]] && (t[e[n]] = this.$behaviours[e[n]]);
                            return t
                        }
                        return this.$behaviours
                    }
                }).call(r.prototype), t.Behaviour = r
            }), ace.define("ace/token_iterator", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                var r = function(e, t, n) {
                    this.$session = e, this.$row = t, this.$rowTokens = e.getTokens(t);
                    var r = e.getTokenAt(t, n);
                    this.$tokenIndex = r ? r.index : -1
                };
                (function() {
                    this.stepBackward = function() {
                        for (this.$tokenIndex -= 1; this.$tokenIndex < 0;) {
                            if (this.$row -= 1, this.$row < 0) return this.$row = 0, null;
                            this.$rowTokens = this.$session.getTokens(this.$row), this.$tokenIndex = this.$rowTokens.length - 1
                        }
                        return this.$rowTokens[this.$tokenIndex]
                    }, this.stepForward = function() {
                        var e;
                        for (this.$tokenIndex += 1; this.$tokenIndex >= this.$rowTokens.length;) {
                            if (this.$row += 1, e || (e = this.$session.getLength()), this.$row >= e) return this.$row = e - 1, null;
                            this.$rowTokens = this.$session.getTokens(this.$row), this.$tokenIndex = 0
                        }
                        return this.$rowTokens[this.$tokenIndex]
                    }, this.getCurrentToken = function() {
                        return this.$rowTokens[this.$tokenIndex]
                    }, this.getCurrentTokenRow = function() {
                        return this.$row
                    }, this.getCurrentTokenColumn = function() {
                        var e = this.$rowTokens,
                            t = this.$tokenIndex,
                            n = e[t].start;
                        if (void 0 !== n) return n;
                        for (n = 0; t > 0;) n += e[t -= 1].value.length;
                        return n
                    }, this.getCurrentTokenPosition = function() {
                        return {
                            row: this.$row,
                            column: this.getCurrentTokenColumn()
                        }
                    }
                }).call(r.prototype), t.TokenIterator = r
            }), ace.define("ace/mode/behaviour/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function(e, t, n) {
                "use strict";
                var r, i = e("../../lib/oop"),
                    o = e("../behaviour").Behaviour,
                    a = e("../../token_iterator").TokenIterator,
                    s = e("../../lib/lang"),
                    l = ["text", "paren.rparen", "punctuation.operator"],
                    c = ["text", "paren.rparen", "punctuation.operator", "comment"],
                    u = {},
                    d = function(e) {
                        var t = -1;
                        if (e.multiSelect && (t = e.selection.index, u.rangeCount != e.multiSelect.rangeCount && (u = {
                                rangeCount: e.multiSelect.rangeCount
                            })), u[t]) return r = u[t];
                        r = u[t] = {
                            autoInsertedBrackets: 0,
                            autoInsertedRow: -1,
                            autoInsertedLineEnd: "",
                            maybeInsertedBrackets: 0,
                            maybeInsertedRow: -1,
                            maybeInsertedLineStart: "",
                            maybeInsertedLineEnd: ""
                        }
                    },
                    h = function(e, t, n, r) {
                        var i = e.end.row - e.start.row;
                        return {
                            text: n + t + r,
                            selection: [0, e.start.column + 1, i, e.end.column + (i ? 0 : 1)]
                        }
                    },
                    p = function() {
                        this.add("braces", "insertion", function(e, t, n, i, o) {
                            var a = n.getCursorPosition(),
                                l = i.doc.getLine(a.row);
                            if ("{" == o) {
                                d(n);
                                var c = n.getSelectionRange(),
                                    u = i.doc.getTextRange(c);
                                if ("" !== u && "{" !== u && n.getWrapBehavioursEnabled()) return h(c, u, "{", "}");
                                if (p.isSaneInsertion(n, i)) return /[\]\}\)]/.test(l[a.column]) || n.inMultiSelectMode ? (p.recordAutoInsert(n, i, "}"), {
                                    text: "{}",
                                    selection: [1, 1]
                                }) : (p.recordMaybeInsert(n, i, "{"), {
                                    text: "{",
                                    selection: [1, 1]
                                })
                            } else if ("}" == o) {
                                if (d(n), "}" == l.substring(a.column, a.column + 1) && null !== i.$findOpeningBracket("}", {
                                        column: a.column + 1,
                                        row: a.row
                                    }) && p.isAutoInsertedClosing(a, l, o)) return p.popAutoInsertedClosing(), {
                                    text: "",
                                    selection: [1, 1]
                                }
                            } else {
                                if ("\n" == o || "\r\n" == o) {
                                    d(n);
                                    var f = "";
                                    if (p.isMaybeInsertedClosing(a, l) && (f = s.stringRepeat("}", r.maybeInsertedBrackets), p.clearMaybeInsertedClosing()), "}" === l.substring(a.column, a.column + 1)) {
                                        var m = i.findMatchingBracket({
                                            row: a.row,
                                            column: a.column + 1
                                        }, "}");
                                        if (!m) return null;
                                        var g = this.$getIndent(i.getLine(m.row))
                                    } else {
                                        if (!f) return void p.clearMaybeInsertedClosing();
                                        g = this.$getIndent(l)
                                    }
                                    var E = g + i.getTabString();
                                    return {
                                        text: "\n" + E + "\n" + g + f,
                                        selection: [1, E.length, 1, E.length]
                                    }
                                }
                                p.clearMaybeInsertedClosing()
                            }
                        }), this.add("braces", "deletion", function(e, t, n, i, o) {
                            var a = i.doc.getTextRange(o);
                            if (!o.isMultiLine() && "{" == a) {
                                if (d(n), "}" == i.doc.getLine(o.start.row).substring(o.end.column, o.end.column + 1)) return o.end.column++, o;
                                r.maybeInsertedBrackets--
                            }
                        }), this.add("parens", "insertion", function(e, t, n, r, i) {
                            if ("(" == i) {
                                d(n);
                                var o = n.getSelectionRange(),
                                    a = r.doc.getTextRange(o);
                                if ("" !== a && n.getWrapBehavioursEnabled()) return h(o, a, "(", ")");
                                if (p.isSaneInsertion(n, r)) return p.recordAutoInsert(n, r, ")"), {
                                    text: "()",
                                    selection: [1, 1]
                                }
                            } else if (")" == i) {
                                d(n);
                                var s = n.getCursorPosition(),
                                    l = r.doc.getLine(s.row);
                                if (")" == l.substring(s.column, s.column + 1) && null !== r.$findOpeningBracket(")", {
                                        column: s.column + 1,
                                        row: s.row
                                    }) && p.isAutoInsertedClosing(s, l, i)) return p.popAutoInsertedClosing(), {
                                    text: "",
                                    selection: [1, 1]
                                }
                            }
                        }), this.add("parens", "deletion", function(e, t, n, r, i) {
                            var o = r.doc.getTextRange(i);
                            if (!i.isMultiLine() && "(" == o && (d(n), ")" == r.doc.getLine(i.start.row).substring(i.start.column + 1, i.start.column + 2))) return i.end.column++, i
                        }), this.add("brackets", "insertion", function(e, t, n, r, i) {
                            if ("[" == i) {
                                d(n);
                                var o = n.getSelectionRange(),
                                    a = r.doc.getTextRange(o);
                                if ("" !== a && n.getWrapBehavioursEnabled()) return h(o, a, "[", "]");
                                if (p.isSaneInsertion(n, r)) return p.recordAutoInsert(n, r, "]"), {
                                    text: "[]",
                                    selection: [1, 1]
                                }
                            } else if ("]" == i) {
                                d(n);
                                var s = n.getCursorPosition(),
                                    l = r.doc.getLine(s.row);
                                if ("]" == l.substring(s.column, s.column + 1) && null !== r.$findOpeningBracket("]", {
                                        column: s.column + 1,
                                        row: s.row
                                    }) && p.isAutoInsertedClosing(s, l, i)) return p.popAutoInsertedClosing(), {
                                    text: "",
                                    selection: [1, 1]
                                }
                            }
                        }), this.add("brackets", "deletion", function(e, t, n, r, i) {
                            var o = r.doc.getTextRange(i);
                            if (!i.isMultiLine() && "[" == o && (d(n), "]" == r.doc.getLine(i.start.row).substring(i.start.column + 1, i.start.column + 2))) return i.end.column++, i
                        }), this.add("string_dquotes", "insertion", function(e, t, n, r, i) {
                            if ('"' == i || "'" == i) {
                                if (this.lineCommentStart && -1 != this.lineCommentStart.indexOf(i)) return;
                                d(n);
                                var o = i,
                                    a = n.getSelectionRange(),
                                    s = r.doc.getTextRange(a);
                                if ("" !== s && "'" !== s && '"' != s && n.getWrapBehavioursEnabled()) return h(a, s, o, o);
                                if (!s) {
                                    var l = n.getCursorPosition(),
                                        c = r.doc.getLine(l.row),
                                        u = c.substring(l.column - 1, l.column),
                                        p = c.substring(l.column, l.column + 1),
                                        f = r.getTokenAt(l.row, l.column),
                                        m = r.getTokenAt(l.row, l.column + 1);
                                    if ("\\" == u && f && /escape/.test(f.type)) return null;
                                    var g, E = f && /string|escape/.test(f.type),
                                        b = !m || /string|escape/.test(m.type);
                                    if (p == o)(g = E !== b) && /string\.end/.test(m.type) && (g = !1);
                                    else {
                                        if (E && !b) return null;
                                        if (E && b) return null;
                                        var v = r.$mode.tokenRe;
                                        v.lastIndex = 0;
                                        var T = v.test(u);
                                        v.lastIndex = 0;
                                        var y = v.test(u);
                                        if (T || y) return null;
                                        if (p && !/[\s;,.})\]\\]/.test(p)) return null;
                                        g = !0
                                    }
                                    return {
                                        text: g ? o + o : "",
                                        selection: [1, 1]
                                    }
                                }
                            }
                        }), this.add("string_dquotes", "deletion", function(e, t, n, r, i) {
                            var o = r.doc.getTextRange(i);
                            if (!i.isMultiLine() && ('"' == o || "'" == o) && (d(n), r.doc.getLine(i.start.row).substring(i.start.column + 1, i.start.column + 2) == o)) return i.end.column++, i
                        })
                    };
                p.isSaneInsertion = function(e, t) {
                    var n = e.getCursorPosition(),
                        r = new a(t, n.row, n.column);
                    if (!this.$matchTokenType(r.getCurrentToken() || "text", l)) {
                        var i = new a(t, n.row, n.column + 1);
                        if (!this.$matchTokenType(i.getCurrentToken() || "text", l)) return !1
                    }
                    return r.stepForward(), r.getCurrentTokenRow() !== n.row || this.$matchTokenType(r.getCurrentToken() || "text", c)
                }, p.$matchTokenType = function(e, t) {
                    return t.indexOf(e.type || e) > -1
                }, p.recordAutoInsert = function(e, t, n) {
                    var i = e.getCursorPosition(),
                        o = t.doc.getLine(i.row);
                    this.isAutoInsertedClosing(i, o, r.autoInsertedLineEnd[0]) || (r.autoInsertedBrackets = 0), r.autoInsertedRow = i.row, r.autoInsertedLineEnd = n + o.substr(i.column), r.autoInsertedBrackets++
                }, p.recordMaybeInsert = function(e, t, n) {
                    var i = e.getCursorPosition(),
                        o = t.doc.getLine(i.row);
                    this.isMaybeInsertedClosing(i, o) || (r.maybeInsertedBrackets = 0), r.maybeInsertedRow = i.row, r.maybeInsertedLineStart = o.substr(0, i.column) + n, r.maybeInsertedLineEnd = o.substr(i.column), r.maybeInsertedBrackets++
                }, p.isAutoInsertedClosing = function(e, t, n) {
                    return r.autoInsertedBrackets > 0 && e.row === r.autoInsertedRow && n === r.autoInsertedLineEnd[0] && t.substr(e.column) === r.autoInsertedLineEnd
                }, p.isMaybeInsertedClosing = function(e, t) {
                    return r.maybeInsertedBrackets > 0 && e.row === r.maybeInsertedRow && t.substr(e.column) === r.maybeInsertedLineEnd && t.substr(0, e.column) == r.maybeInsertedLineStart
                }, p.popAutoInsertedClosing = function() {
                    r.autoInsertedLineEnd = r.autoInsertedLineEnd.substr(1), r.autoInsertedBrackets--
                }, p.clearMaybeInsertedClosing = function() {
                    r && (r.maybeInsertedBrackets = 0, r.maybeInsertedRow = -1)
                }, i.inherits(p, o), t.CstyleBehaviour = p
            }), ace.define("ace/unicode", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                t.packages = {},
                    function(e) {
                        var n = /\w{4}/g;
                        for (var r in e) t.packages[r] = e[r].replace(n, "\\u$&")
                    }({
                        L: "0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
                        Ll: "0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
                        Lu: "0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
                        Lt: "01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",
                        Lm: "02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",
                        Lo: "01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
                        M: "0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
                        Mn: "0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
                        Mc: "0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
                        Me: "0488048906DE20DD-20E020E2-20E4A670-A672",
                        N: "0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
                        Nd: "0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
                        Nl: "16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",
                        No: "00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
                        P: "0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
                        Pd: "002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",
                        Ps: "0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",
                        Pe: "0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
                        Pi: "00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",
                        Pf: "00BB2019201D203A2E032E052E0A2E0D2E1D2E21",
                        Pc: "005F203F20402054FE33FE34FE4D-FE4FFF3F",
                        Po: "0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
                        S: "0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
                        Sm: "002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",
                        Sc: "002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",
                        Sk: "005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
                        So: "00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
                        Z: "002000A01680180E2000-200A20282029202F205F3000",
                        Zs: "002000A01680180E2000-200A202F205F3000",
                        Zl: "2028",
                        Zp: "2029",
                        C: "0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
                        Cc: "0000-001F007F-009F",
                        Cf: "00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",
                        Co: "E000-F8FF",
                        Cs: "D800-DFFF",
                        Cn: "03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"
                    })
            }), ace.define("ace/mode/text", ["require", "exports", "module", "ace/tokenizer", "ace/mode/text_highlight_rules", "ace/mode/behaviour/cstyle", "ace/unicode", "ace/lib/lang", "ace/token_iterator", "ace/range"], function(e, t, n) {
                "use strict";
                var r = e("../tokenizer").Tokenizer,
                    i = e("./text_highlight_rules").TextHighlightRules,
                    o = e("./behaviour/cstyle").CstyleBehaviour,
                    a = e("../unicode"),
                    s = e("../lib/lang"),
                    l = e("../token_iterator").TokenIterator,
                    c = e("../range").Range,
                    u = function() {
                        this.HighlightRules = i
                    };
                (function() {
                    this.$defaultBehaviour = new o, this.tokenRe = new RegExp("^[" + a.packages.L + a.packages.Mn + a.packages.Mc + a.packages.Nd + a.packages.Pc + "\\$_]+", "g"), this.nonTokenRe = new RegExp("^(?:[^" + a.packages.L + a.packages.Mn + a.packages.Mc + a.packages.Nd + a.packages.Pc + "\\$_]|\\s])+", "g"), this.getTokenizer = function() {
                        return this.$tokenizer || (this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig), this.$tokenizer = new r(this.$highlightRules.getRules())), this.$tokenizer
                    }, this.lineCommentStart = "", this.blockComment = "", this.toggleCommentLines = function(e, t, n, r) {
                        var i = t.doc,
                            o = !0,
                            a = !0,
                            l = 1 / 0,
                            c = t.getTabSize(),
                            u = !1;
                        if (this.lineCommentStart) {
                            Array.isArray(this.lineCommentStart) ? (m = this.lineCommentStart.map(s.escapeRegExp).join("|"), p = this.lineCommentStart[0]) : (m = s.escapeRegExp(this.lineCommentStart), p = this.lineCommentStart), m = new RegExp("^(\\s*)(?:" + m + ") ?"), u = t.getUseSoftTabs(), b = function(e, t) {
                                var n = e.match(m);
                                if (n) {
                                    var r = n[1].length,
                                        o = n[0].length;
                                    h(e, r, o) || " " != n[0][o - 1] || o--, i.removeInLine(t, r, o)
                                }
                            };
                            var d = p + " ",
                                h = (E = function(e, t) {
                                    o && !/\S/.test(e) || (h(e, l, l) ? i.insertInLine({
                                        row: t,
                                        column: l
                                    }, d) : i.insertInLine({
                                        row: t,
                                        column: l
                                    }, p))
                                }, v = function(e, t) {
                                    return m.test(e)
                                }, function(e, t, n) {
                                    for (var r = 0; t-- && " " == e.charAt(t);) r++;
                                    if (r % c != 0) return !1;
                                    for (r = 0;
                                        " " == e.charAt(n++);) r++;
                                    return c > 2 ? r % c != c - 1 : r % c == 0
                                })
                        } else {
                            if (!this.blockComment) return !1;
                            var p = this.blockComment.start,
                                f = this.blockComment.end,
                                m = new RegExp("^(\\s*)(?:" + s.escapeRegExp(p) + ")"),
                                g = new RegExp("(?:" + s.escapeRegExp(f) + ")\\s*$"),
                                E = function(e, t) {
                                    v(e, t) || o && !/\S/.test(e) || (i.insertInLine({
                                        row: t,
                                        column: e.length
                                    }, f), i.insertInLine({
                                        row: t,
                                        column: l
                                    }, p))
                                },
                                b = function(e, t) {
                                    var n;
                                    (n = e.match(g)) && i.removeInLine(t, e.length - n[0].length, e.length), (n = e.match(m)) && i.removeInLine(t, n[1].length, n[0].length)
                                },
                                v = function(e, n) {
                                    if (m.test(e)) return !0;
                                    for (var r = t.getTokens(n), i = 0; i < r.length; i++)
                                        if ("comment" === r[i].type) return !0
                                }
                        }

                        function T(e) {
                            for (var t = n; t <= r; t++) e(i.getLine(t), t)
                        }
                        var y = 1 / 0;
                        T(function(e, t) {
                            var n = e.search(/\S/); - 1 !== n ? (n < l && (l = n), a && !v(e, t) && (a = !1)) : y > e.length && (y = e.length)
                        }), l == 1 / 0 && (l = y, o = !1, a = !1), u && l % c != 0 && (l = Math.floor(l / c) * c), T(a ? b : E)
                    }, this.toggleBlockComment = function(e, t, n, r) {
                        var i = this.blockComment;
                        if (i) {
                            !i.start && i[0] && (i = i[0]);
                            var o, a, s = (m = new l(t, r.row, r.column)).getCurrentToken(),
                                u = t.selection.toOrientedRange();
                            if (s && /comment/.test(s.type)) {
                                for (var d, h; s && /comment/.test(s.type);) {
                                    if (-1 != (g = s.value.indexOf(i.start))) {
                                        var p = m.getCurrentTokenRow(),
                                            f = m.getCurrentTokenColumn() + g;
                                        d = new c(p, f, p, f + i.start.length);
                                        break
                                    }
                                    s = m.stepBackward()
                                }
                                var m;
                                for (s = (m = new l(t, r.row, r.column)).getCurrentToken(); s && /comment/.test(s.type);) {
                                    var g;
                                    if (-1 != (g = s.value.indexOf(i.end))) {
                                        p = m.getCurrentTokenRow(), f = m.getCurrentTokenColumn() + g, h = new c(p, f, p, f + i.end.length);
                                        break
                                    }
                                    s = m.stepForward()
                                }
                                h && t.remove(h), d && (t.remove(d), o = d.start.row, a = -i.start.length)
                            } else a = i.start.length, o = n.start.row, t.insert(n.end, i.end), t.insert(n.start, i.start);
                            u.start.row == o && (u.start.column += a), u.end.row == o && (u.end.column += a), t.selection.fromOrientedRange(u)
                        }
                    }, this.getNextLineIndent = function(e, t, n) {
                        return this.$getIndent(t)
                    }, this.checkOutdent = function(e, t, n) {
                        return !1
                    }, this.autoOutdent = function(e, t, n) {}, this.$getIndent = function(e) {
                        return e.match(/^\s*/)[0]
                    }, this.createWorker = function(e) {
                        return null
                    }, this.createModeDelegates = function(e) {
                        for (var t in this.$embeds = [], this.$modes = {}, e) e[t] && (this.$embeds.push(t), this.$modes[t] = new e[t]);
                        var n = ["toggleBlockComment", "toggleCommentLines", "getNextLineIndent", "checkOutdent", "autoOutdent", "transformAction", "getCompletions"];
                        for (t = 0; t < n.length; t++) ! function(e) {
                            var r = n[t],
                                i = e[r];
                            e[n[t]] = function() {
                                return this.$delegator(r, arguments, i)
                            }
                        }(this)
                    }, this.$delegator = function(e, t, n) {
                        var r = t[0];
                        "string" != typeof r && (r = r[0]);
                        for (var i = 0; i < this.$embeds.length; i++)
                            if (this.$modes[this.$embeds[i]]) {
                                var o = r.split(this.$embeds[i]);
                                if (!o[0] && o[1]) {
                                    t[0] = o[1];
                                    var a = this.$modes[this.$embeds[i]];
                                    return a[e].apply(a, t)
                                }
                            }
                        var s = n.apply(this, t);
                        return n ? s : void 0
                    }, this.transformAction = function(e, t, n, r, i) {
                        if (this.$behaviour) {
                            var o = this.$behaviour.getBehaviours();
                            for (var a in o)
                                if (o[a][t]) {
                                    var s = o[a][t].apply(this, arguments);
                                    if (s) return s
                                }
                        }
                    }, this.getKeywords = function(e) {
                        if (!this.completionKeywords) {
                            var t = this.$tokenizer.rules,
                                n = [];
                            for (var r in t)
                                for (var i = t[r], o = 0, a = i.length; o < a; o++)
                                    if ("string" == typeof i[o].token) /keyword|support|storage/.test(i[o].token) && n.push(i[o].regex);
                                    else if ("object" == typeof i[o].token)
                                for (var s = 0, l = i[o].token.length; s < l; s++) /keyword|support|storage/.test(i[o].token[s]) && (r = i[o].regex.match(/\(.+?\)/g)[s], n.push(r.substr(1, r.length - 2)));
                            this.completionKeywords = n
                        }
                        return e ? n.concat(this.$keywordList || []) : this.$keywordList
                    }, this.$createKeywordList = function() {
                        return this.$highlightRules || this.getTokenizer(), this.$keywordList = this.$highlightRules.$keywordList || []
                    }, this.getCompletions = function(e, t, n, r) {
                        return (this.$keywordList || this.$createKeywordList()).map(function(e) {
                            return {
                                name: e,
                                value: e,
                                score: 0,
                                meta: "keyword"
                            }
                        })
                    }, this.$id = "ace/mode/text"
                }).call(u.prototype), t.Mode = u
            }), ace.define("ace/apply_delta", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                t.applyDelta = function(e, t, n) {
                    var r = t.start.row,
                        i = t.start.column,
                        o = e[r] || "";
                    switch (t.action) {
                        case "insert":
                            if (1 === t.lines.length) e[r] = o.substring(0, i) + t.lines[0] + o.substring(i);
                            else {
                                var a = [r, 1].concat(t.lines);
                                e.splice.apply(e, a), e[r] = o.substring(0, i) + e[r], e[r + t.lines.length - 1] += o.substring(i)
                            }
                            break;
                        case "remove":
                            var s = t.end.column,
                                l = t.end.row;
                            r === l ? e[r] = o.substring(0, i) + o.substring(s) : e.splice(r, l - r + 1, o.substring(0, i) + e[l].substring(s))
                    }
                }
            }), ace.define("ace/anchor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(e, t, n) {
                "use strict";
                var r = e("./lib/oop"),
                    i = e("./lib/event_emitter").EventEmitter,
                    o = t.Anchor = function(e, t, n) {
                        this.$onChange = this.onChange.bind(this), this.attach(e), void 0 === n ? this.setPosition(t.row, t.column) : this.setPosition(t, n)
                    };
                (function() {
                    function e(e, t, n) {
                        return e.row < t.row || e.row == t.row && (n ? e.column <= t.column : e.column < t.column)
                    }
                    r.implement(this, i), this.getPosition = function() {
                        return this.$clipPositionToDocument(this.row, this.column)
                    }, this.getDocument = function() {
                        return this.document
                    }, this.$insertRight = !1, this.onChange = function(t) {
                        if (!(t.start.row == t.end.row && t.start.row != this.row || t.start.row > this.row)) {
                            var n = function(t, n, r) {
                                var i = "insert" == t.action,
                                    o = (i ? 1 : -1) * (t.end.row - t.start.row),
                                    a = (i ? 1 : -1) * (t.end.column - t.start.column),
                                    s = t.start,
                                    l = i ? s : t.end;
                                return e(n, s, r) ? {
                                    row: n.row,
                                    column: n.column
                                } : e(l, n, !r) ? {
                                    row: n.row + o,
                                    column: n.column + (n.row == l.row ? a : 0)
                                } : {
                                    row: s.row,
                                    column: s.column
                                }
                            }(t, {
                                row: this.row,
                                column: this.column
                            }, this.$insertRight);
                            this.setPosition(n.row, n.column, !0)
                        }
                    }, this.setPosition = function(e, t, n) {
                        var r;
                        if (r = n ? {
                                row: e,
                                column: t
                            } : this.$clipPositionToDocument(e, t), this.row != r.row || this.column != r.column) {
                            var i = {
                                row: this.row,
                                column: this.column
                            };
                            this.row = r.row, this.column = r.column, this._signal("change", {
                                old: i,
                                value: r
                            })
                        }
                    }, this.detach = function() {
                        this.document.removeEventListener("change", this.$onChange)
                    }, this.attach = function(e) {
                        this.document = e || this.document, this.document.on("change", this.$onChange)
                    }, this.$clipPositionToDocument = function(e, t) {
                        var n = {};
                        return e >= this.document.getLength() ? (n.row = Math.max(0, this.document.getLength() - 1), n.column = this.document.getLine(n.row).length) : e < 0 ? (n.row = 0, n.column = 0) : (n.row = e, n.column = Math.min(this.document.getLine(n.row).length, Math.max(0, t))), t < 0 && (n.column = 0), n
                    }
                }).call(o.prototype)
            }), ace.define("ace/document", ["require", "exports", "module", "ace/lib/oop", "ace/apply_delta", "ace/lib/event_emitter", "ace/range", "ace/anchor"], function(e, t, n) {
                "use strict";
                var r = e("./lib/oop"),
                    i = e("./apply_delta").applyDelta,
                    o = e("./lib/event_emitter").EventEmitter,
                    a = e("./range").Range,
                    s = e("./anchor").Anchor,
                    l = function(e) {
                        this.$lines = [""], 0 === e.length ? this.$lines = [""] : Array.isArray(e) ? this.insertMergedLines({
                            row: 0,
                            column: 0
                        }, e) : this.insert({
                            row: 0,
                            column: 0
                        }, e)
                    };
                (function() {
                    r.implement(this, o), this.setValue = function(e) {
                        var t = this.getLength() - 1;
                        this.remove(new a(0, 0, t, this.getLine(t).length)), this.insert({
                            row: 0,
                            column: 0
                        }, e)
                    }, this.getValue = function() {
                        return this.getAllLines().join(this.getNewLineCharacter())
                    }, this.createAnchor = function(e, t) {
                        return new s(this, e, t)
                    }, this.$split = 0 === "aaa".split(/a/).length ? function(e) {
                        return e.replace(/\r\n|\r/g, "\n").split("\n")
                    } : function(e) {
                        return e.split(/\r\n|\r|\n/)
                    }, this.$detectNewLine = function(e) {
                        var t = e.match(/^.*?(\r\n|\r|\n)/m);
                        this.$autoNewLine = t ? t[1] : "\n", this._signal("changeNewLineMode")
                    }, this.getNewLineCharacter = function() {
                        switch (this.$newLineMode) {
                            case "windows":
                                return "\r\n";
                            case "unix":
                                return "\n";
                            default:
                                return this.$autoNewLine || "\n"
                        }
                    }, this.$autoNewLine = "", this.$newLineMode = "auto", this.setNewLineMode = function(e) {
                        this.$newLineMode !== e && (this.$newLineMode = e, this._signal("changeNewLineMode"))
                    }, this.getNewLineMode = function() {
                        return this.$newLineMode
                    }, this.isNewLine = function(e) {
                        return "\r\n" == e || "\r" == e || "\n" == e
                    }, this.getLine = function(e) {
                        return this.$lines[e] || ""
                    }, this.getLines = function(e, t) {
                        return this.$lines.slice(e, t + 1)
                    }, this.getAllLines = function() {
                        return this.getLines(0, this.getLength())
                    }, this.getLength = function() {
                        return this.$lines.length
                    }, this.getTextRange = function(e) {
                        return this.getLinesForRange(e).join(this.getNewLineCharacter())
                    }, this.getLinesForRange = function(e) {
                        var t;
                        if (e.start.row === e.end.row) t = [this.getLine(e.start.row).substring(e.start.column, e.end.column)];
                        else {
                            (t = this.getLines(e.start.row, e.end.row))[0] = (t[0] || "").substring(e.start.column);
                            var n = t.length - 1;
                            e.end.row - e.start.row == n && (t[n] = t[n].substring(0, e.end.column))
                        }
                        return t
                    }, this.insertLines = function(e, t) {
                        return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."), this.insertFullLines(e, t)
                    }, this.removeLines = function(e, t) {
                        return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."), this.removeFullLines(e, t)
                    }, this.insertNewLine = function(e) {
                        return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."), this.insertMergedLines(e, ["", ""])
                    }, this.insert = function(e, t) {
                        return this.getLength() <= 1 && this.$detectNewLine(t), this.insertMergedLines(e, this.$split(t))
                    }, this.insertInLine = function(e, t) {
                        var n = this.clippedPos(e.row, e.column),
                            r = this.pos(e.row, e.column + t.length);
                        return this.applyDelta({
                            start: n,
                            end: r,
                            action: "insert",
                            lines: [t]
                        }, !0), this.clonePos(r)
                    }, this.clippedPos = function(e, t) {
                        var n = this.getLength();
                        void 0 === e ? e = n : e < 0 ? e = 0 : e >= n && (e = n - 1, t = void 0);
                        var r = this.getLine(e);
                        return void 0 == t && (t = r.length), {
                            row: e,
                            column: t = Math.min(Math.max(t, 0), r.length)
                        }
                    }, this.clonePos = function(e) {
                        return {
                            row: e.row,
                            column: e.column
                        }
                    }, this.pos = function(e, t) {
                        return {
                            row: e,
                            column: t
                        }
                    }, this.$clipPosition = function(e) {
                        var t = this.getLength();
                        return e.row >= t ? (e.row = Math.max(0, t - 1), e.column = this.getLine(t - 1).length) : (e.row = Math.max(0, e.row), e.column = Math.min(Math.max(e.column, 0), this.getLine(e.row).length)), e
                    }, this.insertFullLines = function(e, t) {
                        var n = 0;
                        (e = Math.min(Math.max(e, 0), this.getLength())) < this.getLength() ? (t = t.concat([""]), n = 0) : (t = [""].concat(t), n = this.$lines[--e].length), this.insertMergedLines({
                            row: e,
                            column: n
                        }, t)
                    }, this.insertMergedLines = function(e, t) {
                        var n = this.clippedPos(e.row, e.column),
                            r = {
                                row: n.row + t.length - 1,
                                column: (1 == t.length ? n.column : 0) + t[t.length - 1].length
                            };
                        return this.applyDelta({
                            start: n,
                            end: r,
                            action: "insert",
                            lines: t
                        }), this.clonePos(r)
                    }, this.remove = function(e) {
                        var t = this.clippedPos(e.start.row, e.start.column),
                            n = this.clippedPos(e.end.row, e.end.column);
                        return this.applyDelta({
                            start: t,
                            end: n,
                            action: "remove",
                            lines: this.getLinesForRange({
                                start: t,
                                end: n
                            })
                        }), this.clonePos(t)
                    }, this.removeInLine = function(e, t, n) {
                        var r = this.clippedPos(e, t),
                            i = this.clippedPos(e, n);
                        return this.applyDelta({
                            start: r,
                            end: i,
                            action: "remove",
                            lines: this.getLinesForRange({
                                start: r,
                                end: i
                            })
                        }, !0), this.clonePos(r)
                    }, this.removeFullLines = function(e, t) {
                        e = Math.min(Math.max(0, e), this.getLength() - 1);
                        var n = (t = Math.min(Math.max(0, t), this.getLength() - 1)) == this.getLength() - 1 && e > 0,
                            r = t < this.getLength() - 1,
                            i = n ? e - 1 : e,
                            o = n ? this.getLine(i).length : 0,
                            s = r ? t + 1 : t,
                            l = r ? 0 : this.getLine(s).length,
                            c = new a(i, o, s, l),
                            u = this.$lines.slice(e, t + 1);
                        return this.applyDelta({
                            start: c.start,
                            end: c.end,
                            action: "remove",
                            lines: this.getLinesForRange(c)
                        }), u
                    }, this.removeNewLine = function(e) {
                        e < this.getLength() - 1 && e >= 0 && this.applyDelta({
                            start: this.pos(e, this.getLine(e).length),
                            end: this.pos(e + 1, 0),
                            action: "remove",
                            lines: ["", ""]
                        })
                    }, this.replace = function(e, t) {
                        return e instanceof a || (e = a.fromPoints(e.start, e.end)), 0 === t.length && e.isEmpty() ? e.start : t == this.getTextRange(e) ? e.end : (this.remove(e), t ? this.insert(e.start, t) : e.start)
                    }, this.applyDeltas = function(e) {
                        for (var t = 0; t < e.length; t++) this.applyDelta(e[t])
                    }, this.revertDeltas = function(e) {
                        for (var t = e.length - 1; t >= 0; t--) this.revertDelta(e[t])
                    }, this.applyDelta = function(e, t) {
                        var n = "insert" == e.action;
                        (n ? e.lines.length <= 1 && !e.lines[0] : !a.comparePoints(e.start, e.end)) || (n && e.lines.length > 2e4 && this.$splitAndapplyLargeDelta(e, 2e4), i(this.$lines, e, t), this._signal("change", e))
                    }, this.$splitAndapplyLargeDelta = function(e, t) {
                        for (var n = e.lines, r = n.length, i = e.start.row, o = e.start.column, a = 0, s = 0;;) {
                            var l = n.slice(a = s, s += t - 1);
                            if (s > r) {
                                e.lines = l, e.start.row = i + a, e.start.column = o;
                                break
                            }
                            l.push(""), this.applyDelta({
                                start: this.pos(i + a, o),
                                end: this.pos(i + s, o = 0),
                                action: e.action,
                                lines: l
                            }, !0)
                        }
                    }, this.revertDelta = function(e) {
                        this.applyDelta({
                            start: this.clonePos(e.start),
                            end: this.clonePos(e.end),
                            action: "insert" == e.action ? "remove" : "insert",
                            lines: e.lines.slice()
                        })
                    }, this.indexToPosition = function(e, t) {
                        for (var n = this.$lines || this.getAllLines(), r = this.getNewLineCharacter().length, i = t || 0, o = n.length; i < o; i++)
                            if ((e -= n[i].length + r) < 0) return {
                                row: i,
                                column: e + n[i].length + r
                            };
                        return {
                            row: o - 1,
                            column: n[o - 1].length
                        }
                    }, this.positionToIndex = function(e, t) {
                        for (var n = this.$lines || this.getAllLines(), r = this.getNewLineCharacter().length, i = 0, o = Math.min(e.row, n.length), a = t || 0; a < o; ++a) i += n[a].length + r;
                        return i + e.column
                    }
                }).call(l.prototype), t.Document = l
            }), ace.define("ace/background_tokenizer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(e, t, n) {
                "use strict";
                var r = e("./lib/oop"),
                    i = e("./lib/event_emitter").EventEmitter,
                    o = function(e, t) {
                        this.running = !1, this.lines = [], this.states = [], this.currentLine = 0, this.tokenizer = e;
                        var n = this;
                        this.$worker = function() {
                            if (n.running) {
                                for (var e = new Date, t = n.currentLine, r = -1, i = n.doc, o = t; n.lines[t];) t++;
                                var a = i.getLength(),
                                    s = 0;
                                for (n.running = !1; t < a;) {
                                    n.$tokenizeRow(t), r = t;
                                    do {
                                        t++
                                    } while (n.lines[t]);
                                    if (++s % 5 == 0 && new Date - e > 20) {
                                        n.running = setTimeout(n.$worker, 20);
                                        break
                                    }
                                }
                                n.currentLine = t, o <= r && n.fireUpdateEvent(o, r)
                            }
                        }
                    };
                (function() {
                    r.implement(this, i), this.setTokenizer = function(e) {
                        this.tokenizer = e, this.lines = [], this.states = [], this.start(0)
                    }, this.setDocument = function(e) {
                        this.doc = e, this.lines = [], this.states = [], this.stop()
                    }, this.fireUpdateEvent = function(e, t) {
                        this._signal("update", {
                            data: {
                                first: e,
                                last: t
                            }
                        })
                    }, this.start = function(e) {
                        this.currentLine = Math.min(e || 0, this.currentLine, this.doc.getLength()), this.lines.splice(this.currentLine, this.lines.length), this.states.splice(this.currentLine, this.states.length), this.stop(), this.running = setTimeout(this.$worker, 700)
                    }, this.scheduleStart = function() {
                        this.running || (this.running = setTimeout(this.$worker, 700))
                    }, this.$updateOnChange = function(e) {
                        var t = e.start.row,
                            n = e.end.row - t;
                        if (0 === n) this.lines[t] = null;
                        else if ("remove" == e.action) this.lines.splice(t, n + 1, null), this.states.splice(t, n + 1, null);
                        else {
                            var r = Array(n + 1);
                            r.unshift(t, 1), this.lines.splice.apply(this.lines, r), this.states.splice.apply(this.states, r)
                        }
                        this.currentLine = Math.min(t, this.currentLine, this.doc.getLength()), this.stop()
                    }, this.stop = function() {
                        this.running && clearTimeout(this.running), this.running = !1
                    }, this.getTokens = function(e) {
                        return this.lines[e] || this.$tokenizeRow(e)
                    }, this.getState = function(e) {
                        return this.currentLine == e && this.$tokenizeRow(e), this.states[e] || "start"
                    }, this.$tokenizeRow = function(e) {
                        var t = this.doc.getLine(e),
                            n = this.tokenizer.getLineTokens(t, this.states[e - 1], e);
                        return this.states[e] + "" != n.state + "" ? (this.states[e] = n.state, this.lines[e + 1] = null, this.currentLine > e + 1 && (this.currentLine = e + 1)) : this.currentLine == e && (this.currentLine = e + 1), this.lines[e] = n.tokens
                    }
                }).call(o.prototype), t.BackgroundTokenizer = o
            }), ace.define("ace/search_highlight", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(e, t, n) {
                "use strict";
                var r = e("./lib/lang"),
                    i = (e("./lib/oop"), e("./range").Range),
                    o = function(e, t, n) {
                        this.setRegexp(e), this.clazz = t, this.type = n || "text"
                    };
                (function() {
                    this.MAX_RANGES = 500, this.setRegexp = function(e) {
                        this.regExp + "" != e + "" && (this.regExp = e, this.cache = [])
                    }, this.update = function(e, t, n, o) {
                        if (this.regExp)
                            for (var a = o.lastRow, s = o.firstRow; s <= a; s++) {
                                var l = this.cache[s];
                                null == l && ((l = r.getMatchOffsets(n.getLine(s), this.regExp)).length > this.MAX_RANGES && (l = l.slice(0, this.MAX_RANGES)), l = l.map(function(e) {
                                    return new i(s, e.offset, s, e.offset + e.length)
                                }), this.cache[s] = l.length ? l : "");
                                for (var c = l.length; c--;) t.drawSingleLineMarker(e, l[c].toScreenRange(n), this.clazz, o)
                            }
                    }
                }).call(o.prototype), t.SearchHighlight = o
            }), ace.define("ace/edit_session/fold_line", ["require", "exports", "module", "ace/range"], function(e, t, n) {
                "use strict";
                var r = e("../range").Range;

                function i(e, t) {
                    this.foldData = e, Array.isArray(t) ? this.folds = t : t = this.folds = [t];
                    var n = t[t.length - 1];
                    this.range = new r(t[0].start.row, t[0].start.column, n.end.row, n.end.column), this.start = this.range.start, this.end = this.range.end, this.folds.forEach(function(e) {
                        e.setFoldLine(this)
                    }, this)
                }(function() {
                    this.shiftRow = function(e) {
                        this.start.row += e, this.end.row += e, this.folds.forEach(function(t) {
                            t.start.row += e, t.end.row += e
                        })
                    }, this.addFold = function(e) {
                        if (e.sameRow) {
                            if (e.start.row < this.startRow || e.endRow > this.endRow) throw new Error("Can't add a fold to this FoldLine as it has no connection");
                            this.folds.push(e), this.folds.sort(function(e, t) {
                                return -e.range.compareEnd(t.start.row, t.start.column)
                            }), this.range.compareEnd(e.start.row, e.start.column) > 0 ? (this.end.row = e.end.row, this.end.column = e.end.column) : this.range.compareStart(e.end.row, e.end.column) < 0 && (this.start.row = e.start.row, this.start.column = e.start.column)
                        } else if (e.start.row == this.end.row) this.folds.push(e), this.end.row = e.end.row, this.end.column = e.end.column;
                        else {
                            if (e.end.row != this.start.row) throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");
                            this.folds.unshift(e), this.start.row = e.start.row, this.start.column = e.start.column
                        }
                        e.foldLine = this
                    }, this.containsRow = function(e) {
                        return e >= this.start.row && e <= this.end.row
                    }, this.walk = function(e, t, n) {
                        var r, i, o = 0,
                            a = this.folds,
                            s = !0;
                        null == t && (t = this.end.row, n = this.end.column);
                        for (var l = 0; l < a.length; l++) {
                            if (-1 == (i = (r = a[l]).range.compareStart(t, n))) return void e(null, t, n, o, s);
                            if (!e(null, r.start.row, r.start.column, o, s) && e(r.placeholder, r.start.row, r.start.column, o) || 0 === i) return;
                            s = !r.sameRow, o = r.end.column
                        }
                        e(null, t, n, o, s)
                    }, this.getNextFoldTo = function(e, t) {
                        for (var n, r, i = 0; i < this.folds.length; i++) {
                            if (-1 == (r = (n = this.folds[i]).range.compareEnd(e, t))) return {
                                fold: n,
                                kind: "after"
                            };
                            if (0 === r) return {
                                fold: n,
                                kind: "inside"
                            }
                        }
                        return null
                    }, this.addRemoveChars = function(e, t, n) {
                        var r, i, o = this.getNextFoldTo(e, t);
                        if (o)
                            if (r = o.fold, "inside" == o.kind && r.start.column != t && r.start.row != e) window.console && window.console.log(e, t, r);
                            else if (r.start.row == e) {
                            var a = (i = this.folds).indexOf(r);
                            for (0 === a && (this.start.column += n); a < i.length; a++) {
                                if ((r = i[a]).start.column += n, !r.sameRow) return;
                                r.end.column += n
                            }
                            this.end.column += n
                        }
                    }, this.split = function(e, t) {
                        var n = this.getNextFoldTo(e, t);
                        if (!n || "inside" == n.kind) return null;
                        var r = this.folds,
                            o = this.foldData,
                            a = r.indexOf(n.fold),
                            s = r[a - 1];
                        this.end.row = s.end.row, this.end.column = s.end.column;
                        var l = new i(o, r = r.splice(a, r.length - a));
                        return o.splice(o.indexOf(this) + 1, 0, l), l
                    }, this.merge = function(e) {
                        for (var t = e.folds, n = 0; n < t.length; n++) this.addFold(t[n]);
                        var r = this.foldData;
                        r.splice(r.indexOf(e), 1)
                    }, this.toString = function() {
                        var e = [this.range.toString() + ": ["];
                        return this.folds.forEach(function(t) {
                            e.push("  " + t.toString())
                        }), e.push("]"), e.join("\n")
                    }, this.idxToPosition = function(e) {
                        for (var t = 0, n = 0; n < this.folds.length; n++) {
                            var r = this.folds[n];
                            if ((e -= r.start.column - t) < 0) return {
                                row: r.start.row,
                                column: r.start.column + e
                            };
                            if ((e -= r.placeholder.length) < 0) return r.start;
                            t = r.end.column
                        }
                        return {
                            row: this.end.row,
                            column: this.end.column + e
                        }
                    }
                }).call(i.prototype), t.FoldLine = i
            }), ace.define("ace/range_list", ["require", "exports", "module", "ace/range"], function(e, t, n) {
                "use strict";
                var r = e("./range").Range.comparePoints,
                    i = function() {
                        this.ranges = []
                    };
                (function() {
                    this.comparePoints = r, this.pointIndex = function(e, t, n) {
                        for (var i = this.ranges, o = n || 0; o < i.length; o++) {
                            var a = i[o],
                                s = r(e, a.end);
                            if (!(s > 0)) {
                                var l = r(e, a.start);
                                return 0 === s ? t && 0 !== l ? -o - 2 : o : l > 0 || 0 === l && !t ? o : -o - 1
                            }
                        }
                        return -o - 1
                    }, this.add = function(e) {
                        var t = !e.isEmpty(),
                            n = this.pointIndex(e.start, t);
                        n < 0 && (n = -n - 1);
                        var r = this.pointIndex(e.end, t, n);
                        return r < 0 ? r = -r - 1 : r++, this.ranges.splice(n, r - n, e)
                    }, this.addList = function(e) {
                        for (var t = [], n = e.length; n--;) t.push.apply(t, this.add(e[n]));
                        return t
                    }, this.substractPoint = function(e) {
                        var t = this.pointIndex(e);
                        if (t >= 0) return this.ranges.splice(t, 1)
                    }, this.merge = function() {
                        for (var e, t = [], n = this.ranges, i = (n = n.sort(function(e, t) {
                                return r(e.start, t.start)
                            }))[0], o = 1; o < n.length; o++) {
                            var a = r((e = i).end, (i = n[o]).start);
                            a < 0 || (0 != a || e.isEmpty() || i.isEmpty()) && (r(e.end, i.end) < 0 && (e.end.row = i.end.row, e.end.column = i.end.column), n.splice(o, 1), t.push(i), i = e, o--)
                        }
                        return this.ranges = n, t
                    }, this.contains = function(e, t) {
                        return this.pointIndex({
                            row: e,
                            column: t
                        }) >= 0
                    }, this.containsPoint = function(e) {
                        return this.pointIndex(e) >= 0
                    }, this.rangeAtPoint = function(e) {
                        var t = this.pointIndex(e);
                        if (t >= 0) return this.ranges[t]
                    }, this.clipRows = function(e, t) {
                        var n = this.ranges;
                        if (n[0].start.row > t || n[n.length - 1].start.row < e) return [];
                        var r = this.pointIndex({
                            row: e,
                            column: 0
                        });
                        r < 0 && (r = -r - 1);
                        var i = this.pointIndex({
                            row: t,
                            column: 0
                        }, r);
                        i < 0 && (i = -i - 1);
                        for (var o = [], a = r; a < i; a++) o.push(n[a]);
                        return o
                    }, this.removeAll = function() {
                        return this.ranges.splice(0, this.ranges.length)
                    }, this.attach = function(e) {
                        this.session && this.detach(), this.session = e, this.onChange = this.$onChange.bind(this), this.session.on("change", this.onChange)
                    }, this.detach = function() {
                        this.session && (this.session.removeListener("change", this.onChange), this.session = null)
                    }, this.$onChange = function(e) {
                        if ("insert" == e.action) var t = e.start,
                            n = e.end;
                        else n = e.start, t = e.end;
                        for (var r = t.row, i = n.row - r, o = -t.column + n.column, a = this.ranges, s = 0, l = a.length; s < l; s++)
                            if (!((c = a[s]).end.row < r)) {
                                if (c.start.row > r) break;
                                if (c.start.row == r && c.start.column >= t.column && (c.start.column == t.column && this.$insertRight || (c.start.column += o, c.start.row += i)), c.end.row == r && c.end.column >= t.column) {
                                    if (c.end.column == t.column && this.$insertRight) continue;
                                    c.end.column == t.column && o > 0 && s < l - 1 && c.end.column > c.start.column && c.end.column == a[s + 1].start.column && (c.end.column -= o), c.end.column += o, c.end.row += i
                                }
                            }
                        if (0 != i && s < l)
                            for (; s < l; s++) {
                                var c;
                                (c = a[s]).start.row += i, c.end.row += i
                            }
                    }
                }).call(i.prototype), t.RangeList = i
            }), ace.define("ace/edit_session/fold", ["require", "exports", "module", "ace/range", "ace/range_list", "ace/lib/oop"], function(e, t, n) {
                "use strict";
                e("../range");
                var r = e("../range_list").RangeList,
                    i = e("../lib/oop"),
                    o = t.Fold = function(e, t) {
                        this.foldLine = null, this.placeholder = t, this.range = e, this.start = e.start, this.end = e.end, this.sameRow = e.start.row == e.end.row, this.subFolds = this.ranges = []
                    };

                function a(e, t) {
                    e.row -= t.row, 0 == e.row && (e.column -= t.column)
                }

                function s(e, t) {
                    0 == e.row && (e.column += t.column), e.row += t.row
                }
                i.inherits(o, r), (function() {
                    this.toString = function() {
                        return '"' + this.placeholder + '" ' + this.range.toString()
                    }, this.setFoldLine = function(e) {
                        this.foldLine = e, this.subFolds.forEach(function(t) {
                            t.setFoldLine(e)
                        })
                    }, this.clone = function() {
                        var e = this.range.clone(),
                            t = new o(e, this.placeholder);
                        return this.subFolds.forEach(function(e) {
                            t.subFolds.push(e.clone())
                        }), t.collapseChildren = this.collapseChildren, t
                    }, this.addSubFold = function(e) {
                        if (!this.range.isEqual(e)) {
                            if (!this.range.containsRange(e)) throw new Error("A fold can't intersect already existing fold" + e.range + this.range);
                            var t, n;
                            a((t = e).start, n = this.start), a(t.end, n);
                            for (var r = e.start.row, i = e.start.column, o = 0, s = -1; o < this.subFolds.length && 1 == (s = this.subFolds[o].range.compare(r, i)); o++);
                            if (0 == s) return this.subFolds[o].addSubFold(e);
                            r = e.range.end.row, i = e.range.end.column;
                            var l = o;
                            for (s = -1; l < this.subFolds.length && 1 == (s = this.subFolds[l].range.compare(r, i)); l++);
                            if (0 == s) throw new Error("A fold can't intersect already existing fold" + e.range + this.range);
                            return this.subFolds.splice(o, l - o, e), e.setFoldLine(this.foldLine), e
                        }
                    }, this.restoreRange = function(e) {
                        return function(e, t) {
                            s(e.start, t), s(e.end, t)
                        }(e, this.start)
                    }
                }).call(o.prototype)
            }), ace.define("ace/edit_session/folding", ["require", "exports", "module", "ace/range", "ace/edit_session/fold_line", "ace/edit_session/fold", "ace/token_iterator"], function(e, t, n) {
                "use strict";
                var r = e("../range").Range,
                    i = e("./fold_line").FoldLine,
                    o = e("./fold").Fold,
                    a = e("../token_iterator").TokenIterator;
                t.Folding = function() {
                    this.getFoldAt = function(e, t, n) {
                        var r = this.getFoldLine(e);
                        if (!r) return null;
                        for (var i = r.folds, o = 0; o < i.length; o++) {
                            var a = i[o];
                            if (a.range.contains(e, t)) {
                                if (1 == n && a.range.isEnd(e, t)) continue;
                                if (-1 == n && a.range.isStart(e, t)) continue;
                                return a
                            }
                        }
                    }, this.getFoldsInRange = function(e) {
                        var t = e.start,
                            n = e.end,
                            r = this.$foldData,
                            i = [];
                        t.column += 1, n.column -= 1;
                        for (var o = 0; o < r.length; o++) {
                            var a = r[o].range.compareRange(e);
                            if (2 != a) {
                                if (-2 == a) break;
                                for (var s = r[o].folds, l = 0; l < s.length; l++) {
                                    var c = s[l];
                                    if (-2 == (a = c.range.compareRange(e))) break;
                                    if (2 != a) {
                                        if (42 == a) break;
                                        i.push(c)
                                    }
                                }
                            }
                        }
                        return t.column -= 1, n.column += 1, i
                    }, this.getFoldsInRangeList = function(e) {
                        if (Array.isArray(e)) {
                            var t = [];
                            e.forEach(function(e) {
                                t = t.concat(this.getFoldsInRange(e))
                            }, this)
                        } else t = this.getFoldsInRange(e);
                        return t
                    }, this.getAllFolds = function() {
                        for (var e = [], t = this.$foldData, n = 0; n < t.length; n++)
                            for (var r = 0; r < t[n].folds.length; r++) e.push(t[n].folds[r]);
                        return e
                    }, this.getFoldStringAt = function(e, t, n, r) {
                        if (!(r = r || this.getFoldLine(e))) return null;
                        for (var i, o, a = {
                                end: {
                                    column: 0
                                }
                            }, s = 0; s < r.folds.length; s++) {
                            var l = (o = r.folds[s]).range.compareEnd(e, t);
                            if (-1 == l) {
                                i = this.getLine(o.start.row).substring(a.end.column, o.start.column);
                                break
                            }
                            if (0 === l) return null;
                            a = o
                        }
                        return i || (i = this.getLine(o.start.row).substring(a.end.column)), -1 == n ? i.substring(0, t - a.end.column) : 1 == n ? i.substring(t - a.end.column) : i
                    }, this.getFoldLine = function(e, t) {
                        var n = this.$foldData,
                            r = 0;
                        for (t && (r = n.indexOf(t)), -1 == r && (r = 0); r < n.length; r++) {
                            var i = n[r];
                            if (i.start.row <= e && i.end.row >= e) return i;
                            if (i.end.row > e) return null
                        }
                        return null
                    }, this.getNextFoldLine = function(e, t) {
                        var n = this.$foldData,
                            r = 0;
                        for (t && (r = n.indexOf(t)), -1 == r && (r = 0); r < n.length; r++) {
                            var i = n[r];
                            if (i.end.row >= e) return i
                        }
                        return null
                    }, this.getFoldedRowCount = function(e, t) {
                        for (var n = this.$foldData, r = t - e + 1, i = 0; i < n.length; i++) {
                            var o = n[i],
                                a = o.end.row,
                                s = o.start.row;
                            if (a >= t) {
                                s < t && (s >= e ? r -= t - s : r = 0);
                                break
                            }
                            a >= e && (r -= s >= e ? a - s : a - e + 1)
                        }
                        return r
                    }, this.$addFoldLine = function(e) {
                        return this.$foldData.push(e), this.$foldData.sort(function(e, t) {
                            return e.start.row - t.start.row
                        }), e
                    }, this.addFold = function(e, t) {
                        var n, r = this.$foldData,
                            a = !1;
                        e instanceof o ? n = e : (n = new o(t, e)).collapseChildren = t.collapseChildren, this.$clipRangeToDocument(n.range);
                        var s = n.start.row,
                            l = n.start.column,
                            c = n.end.row,
                            u = n.end.column;
                        if (!(s < c || s == c && l <= u - 2)) throw new Error("The range has to be at least 2 characters width");
                        var d = this.getFoldAt(s, l, 1),
                            h = this.getFoldAt(c, u, -1);
                        if (d && h == d) return d.addSubFold(n);
                        d && !d.range.isStart(s, l) && this.removeFold(d), h && !h.range.isEnd(c, u) && this.removeFold(h);
                        var p = this.getFoldsInRange(n.range);
                        p.length > 0 && (this.removeFolds(p), p.forEach(function(e) {
                            n.addSubFold(e)
                        }));
                        for (var f = 0; f < r.length; f++) {
                            var m = r[f];
                            if (c == m.start.row) {
                                m.addFold(n), a = !0;
                                break
                            }
                            if (s == m.end.row) {
                                if (m.addFold(n), a = !0, !n.sameRow) {
                                    var g = r[f + 1];
                                    if (g && g.start.row == c) {
                                        m.merge(g);
                                        break
                                    }
                                }
                                break
                            }
                            if (c <= m.start.row) break
                        }
                        return a || (m = this.$addFoldLine(new i(this.$foldData, n))), this.$useWrapMode ? this.$updateWrapData(m.start.row, m.start.row) : this.$updateRowLengthCache(m.start.row, m.start.row), this.$modified = !0, this._signal("changeFold", {
                            data: n,
                            action: "add"
                        }), n
                    }, this.addFolds = function(e) {
                        e.forEach(function(e) {
                            this.addFold(e)
                        }, this)
                    }, this.removeFold = function(e) {
                        var t = e.foldLine,
                            n = t.start.row,
                            r = t.end.row,
                            i = this.$foldData,
                            o = t.folds;
                        if (1 == o.length) i.splice(i.indexOf(t), 1);
                        else if (t.range.isEnd(e.end.row, e.end.column)) o.pop(), t.end.row = o[o.length - 1].end.row, t.end.column = o[o.length - 1].end.column;
                        else if (t.range.isStart(e.start.row, e.start.column)) o.shift(), t.start.row = o[0].start.row, t.start.column = o[0].start.column;
                        else if (e.sameRow) o.splice(o.indexOf(e), 1);
                        else {
                            var a = t.split(e.start.row, e.start.column);
                            (o = a.folds).shift(), a.start.row = o[0].start.row, a.start.column = o[0].start.column
                        }
                        this.$updating || (this.$useWrapMode ? this.$updateWrapData(n, r) : this.$updateRowLengthCache(n, r)), this.$modified = !0, this._signal("changeFold", {
                            data: e,
                            action: "remove"
                        })
                    }, this.removeFolds = function(e) {
                        for (var t = [], n = 0; n < e.length; n++) t.push(e[n]);
                        t.forEach(function(e) {
                            this.removeFold(e)
                        }, this), this.$modified = !0
                    }, this.expandFold = function(e) {
                        this.removeFold(e), e.subFolds.forEach(function(t) {
                            e.restoreRange(t), this.addFold(t)
                        }, this), e.collapseChildren > 0 && this.foldAll(e.start.row + 1, e.end.row, e.collapseChildren - 1), e.subFolds = []
                    }, this.expandFolds = function(e) {
                        e.forEach(function(e) {
                            this.expandFold(e)
                        }, this)
                    }, this.unfold = function(e, t) {
                        var n, i;
                        if (null == e ? (n = new r(0, 0, this.getLength(), 0), t = !0) : n = "number" == typeof e ? new r(e, 0, e, this.getLine(e).length) : "row" in e ? r.fromPoints(e, e) : e, i = this.getFoldsInRangeList(n), t) this.removeFolds(i);
                        else
                            for (var o = i; o.length;) this.expandFolds(o), o = this.getFoldsInRangeList(n);
                        if (i.length) return i
                    }, this.isRowFolded = function(e, t) {
                        return !!this.getFoldLine(e, t)
                    }, this.getRowFoldEnd = function(e, t) {
                        var n = this.getFoldLine(e, t);
                        return n ? n.end.row : e
                    }, this.getRowFoldStart = function(e, t) {
                        var n = this.getFoldLine(e, t);
                        return n ? n.start.row : e
                    }, this.getFoldDisplayLine = function(e, t, n, r, i) {
                        null == r && (r = e.start.row), null == i && (i = 0), null == t && (t = e.end.row), null == n && (n = this.getLine(t).length);
                        var o = this.doc,
                            a = "";
                        return e.walk(function(e, t, n, s) {
                            if (!(t < r)) {
                                if (t == r) {
                                    if (n < i) return;
                                    s = Math.max(i, s)
                                }
                                a += null != e ? e : o.getLine(t).substring(s, n)
                            }
                        }, t, n), a
                    }, this.getDisplayLine = function(e, t, n, r) {
                        var i, o = this.getFoldLine(e);
                        return o ? this.getFoldDisplayLine(o, e, t, n, r) : (i = this.doc.getLine(e)).substring(r || 0, t || i.length)
                    }, this.$cloneFoldData = function() {
                        var e = [];
                        return e = this.$foldData.map(function(t) {
                            var n = t.folds.map(function(e) {
                                return e.clone()
                            });
                            return new i(e, n)
                        })
                    }, this.toggleFold = function(e) {
                        var t, n, r = this.selection.getRange();
                        if (r.isEmpty()) {
                            var i = r.start;
                            if (t = this.getFoldAt(i.row, i.column)) return void this.expandFold(t);
                            (n = this.findMatchingBracket(i)) ? 1 == r.comparePoint(n) ? r.end = n : (r.start = n, r.start.column++, r.end.column--): (n = this.findMatchingBracket({
                                row: i.row,
                                column: i.column + 1
                            })) ? (1 == r.comparePoint(n) ? r.end = n : r.start = n, r.start.column++) : r = this.getCommentFoldRange(i.row, i.column) || r
                        } else {
                            var o = this.getFoldsInRange(r);
                            if (e && o.length) return void this.expandFolds(o);
                            1 == o.length && (t = o[0])
                        }
                        if (t || (t = this.getFoldAt(r.start.row, r.start.column)), t && t.range.toString() == r.toString()) this.expandFold(t);
                        else {
                            var a = "...";
                            if (!r.isMultiLine()) {
                                if ((a = this.getTextRange(r)).length < 4) return;
                                a = a.trim().substring(0, 2) + ".."
                            }
                            this.addFold(a, r)
                        }
                    }, this.getCommentFoldRange = function(e, t, n) {
                        var i = new a(this, e, t),
                            o = i.getCurrentToken();
                        if (o && /^comment|string/.test(o.type)) {
                            var s = new r,
                                l = new RegExp(o.type.replace(/\..*/, "\\."));
                            if (1 != n) {
                                do {
                                    o = i.stepBackward()
                                } while (o && l.test(o.type));
                                i.stepForward()
                            }
                            if (s.start.row = i.getCurrentTokenRow(), s.start.column = i.getCurrentTokenColumn() + 2, i = new a(this, e, t), -1 != n) {
                                do {
                                    o = i.stepForward()
                                } while (o && l.test(o.type));
                                o = i.stepBackward()
                            } else o = i.getCurrentToken();
                            return s.end.row = i.getCurrentTokenRow(), s.end.column = i.getCurrentTokenColumn() + o.value.length - 2, s
                        }
                    }, this.foldAll = function(e, t, n) {
                        void 0 == n && (n = 1e5);
                        var r = this.foldWidgets;
                        if (r) {
                            t = t || this.getLength();
                            for (var i = e = e || 0; i < t; i++)
                                if (null == r[i] && (r[i] = this.getFoldWidget(i)), "start" == r[i]) {
                                    var o = this.getFoldWidgetRange(i);
                                    if (o && o.isMultiLine() && o.end.row <= t && o.start.row >= e) {
                                        i = o.end.row;
                                        try {
                                            var a = this.addFold("...", o);
                                            a && (a.collapseChildren = n)
                                        } catch (e) {}
                                    }
                                }
                        }
                    }, this.$foldStyles = {
                        manual: 1,
                        markbegin: 1,
                        markbeginend: 1
                    }, this.$foldStyle = "markbegin", this.setFoldStyle = function(e) {
                        if (!this.$foldStyles[e]) throw new Error("invalid fold style: " + e + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
                        if (this.$foldStyle != e) {
                            this.$foldStyle = e, "manual" == e && this.unfold();
                            var t = this.$foldMode;
                            this.$setFolding(null), this.$setFolding(t)
                        }
                    }, this.$setFolding = function(e) {
                        this.$foldMode != e && (this.$foldMode = e, this.off("change", this.$updateFoldWidgets), this.off("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets), this._signal("changeAnnotation"), e && "manual" != this.$foldStyle ? (this.foldWidgets = [], this.getFoldWidget = e.getFoldWidget.bind(e, this, this.$foldStyle), this.getFoldWidgetRange = e.getFoldWidgetRange.bind(e, this, this.$foldStyle), this.$updateFoldWidgets = this.updateFoldWidgets.bind(this), this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this), this.on("change", this.$updateFoldWidgets), this.on("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets)) : this.foldWidgets = null)
                    }, this.getParentFoldRangeData = function(e, t) {
                        var n = this.foldWidgets;
                        if (!n || t && n[e]) return {};
                        for (var r, i = e - 1; i >= 0;) {
                            var o = n[i];
                            if (null == o && (o = n[i] = this.getFoldWidget(i)), "start" == o) {
                                var a = this.getFoldWidgetRange(i);
                                if (r || (r = a), a && a.end.row >= e) break
                            }
                            i--
                        }
                        return {
                            range: -1 !== i && a,
                            firstRange: r
                        }
                    }, this.onFoldWidgetClick = function(e, t) {
                        if (!this.$toggleFoldWidget(e, {
                                children: (t = t.domEvent).shiftKey,
                                all: t.ctrlKey || t.metaKey,
                                siblings: t.altKey
                            })) {
                            var n = t.target || t.srcElement;
                            n && /ace_fold-widget/.test(n.className) && (n.className += " ace_invalid")
                        }
                    }, this.$toggleFoldWidget = function(e, t) {
                        if (this.getFoldWidget) {
                            var n = this.getFoldWidget(e),
                                r = this.getLine(e),
                                i = "end" === n ? -1 : 1,
                                o = this.getFoldAt(e, -1 === i ? 0 : r.length, i);
                            if (o) return t.children || t.all ? this.removeFold(o) : this.expandFold(o), o;
                            var a = this.getFoldWidgetRange(e, !0);
                            if (a && !a.isMultiLine() && (o = this.getFoldAt(a.start.row, a.start.column, 1)) && a.isEqual(o.range)) return this.removeFold(o), o;
                            if (t.siblings) {
                                var s = this.getParentFoldRangeData(e);
                                if (s.range) var l = s.range.start.row + 1,
                                    c = s.range.end.row;
                                this.foldAll(l, c, t.all ? 1e4 : 0)
                            } else t.children ? (c = a ? a.end.row : this.getLength(), this.foldAll(e + 1, c, t.all ? 1e4 : 0)) : a && (t.all && (a.collapseChildren = 1e4), this.addFold("...", a));
                            return a
                        }
                    }, this.toggleFoldWidget = function(e) {
                        var t = this.selection.getCursor().row;
                        t = this.getRowFoldStart(t);
                        var n = this.$toggleFoldWidget(t, {});
                        if (!n) {
                            var r = this.getParentFoldRangeData(t, !0);
                            if (n = r.range || r.firstRange) {
                                var i = this.getFoldAt(t = n.start.row, this.getLine(t).length, 1);
                                i ? this.removeFold(i) : this.addFold("...", n)
                            }
                        }
                    }, this.updateFoldWidgets = function(e) {
                        var t = e.start.row,
                            n = e.end.row - t;
                        if (0 === n) this.foldWidgets[t] = null;
                        else if ("remove" == e.action) this.foldWidgets.splice(t, n + 1, null);
                        else {
                            var r = Array(n + 1);
                            r.unshift(t, 1), this.foldWidgets.splice.apply(this.foldWidgets, r)
                        }
                    }, this.tokenizerUpdateFoldWidgets = function(e) {
                        var t = e.data;
                        t.first != t.last && this.foldWidgets.length > t.first && this.foldWidgets.splice(t.first, this.foldWidgets.length)
                    }
                }
            }), ace.define("ace/edit_session/bracket_match", ["require", "exports", "module", "ace/token_iterator", "ace/range"], function(e, t, n) {
                "use strict";
                var r = e("../token_iterator").TokenIterator,
                    i = e("../range").Range;
                t.BracketMatch = function() {
                    this.findMatchingBracket = function(e, t) {
                        if (0 == e.column) return null;
                        var n = t || this.getLine(e.row).charAt(e.column - 1);
                        if ("" == n) return null;
                        var r = n.match(/([\(\[\{])|([\)\]\}])/);
                        return r ? r[1] ? this.$findClosingBracket(r[1], e) : this.$findOpeningBracket(r[2], e) : null
                    }, this.getBracketRange = function(e) {
                        var t, n = this.getLine(e.row),
                            r = !0,
                            o = n.charAt(e.column - 1),
                            a = o && o.match(/([\(\[\{])|([\)\]\}])/);
                        if (a || (o = n.charAt(e.column), e = {
                                row: e.row,
                                column: e.column + 1
                            }, a = o && o.match(/([\(\[\{])|([\)\]\}])/), r = !1), !a) return null;
                        if (a[1]) {
                            if (!(s = this.$findClosingBracket(a[1], e))) return null;
                            t = i.fromPoints(e, s), r || (t.end.column++, t.start.column--), t.cursor = t.end
                        } else {
                            var s;
                            if (!(s = this.$findOpeningBracket(a[2], e))) return null;
                            t = i.fromPoints(s, e), r || (t.start.column++, t.end.column--), t.cursor = t.start
                        }
                        return t
                    }, this.$brackets = {
                        ")": "(",
                        "(": ")",
                        "]": "[",
                        "[": "]",
                        "{": "}",
                        "}": "{"
                    }, this.$findOpeningBracket = function(e, t, n) {
                        var i = this.$brackets[e],
                            o = 1,
                            a = new r(this, t.row, t.column),
                            s = a.getCurrentToken();
                        if (s || (s = a.stepForward()), s) {
                            n || (n = new RegExp("(\\.?" + s.type.replace(".", "\\.").replace("rparen", ".paren").replace(/\b(?:end)\b/, "(?:start|begin|end)") + ")+"));
                            for (var l = t.column - a.getCurrentTokenColumn() - 2, c = s.value;;) {
                                for (; l >= 0;) {
                                    var u = c.charAt(l);
                                    if (u == i) {
                                        if (0 == (o -= 1)) return {
                                            row: a.getCurrentTokenRow(),
                                            column: l + a.getCurrentTokenColumn()
                                        }
                                    } else u == e && (o += 1);
                                    l -= 1
                                }
                                do {
                                    s = a.stepBackward()
                                } while (s && !n.test(s.type));
                                if (null == s) break;
                                l = (c = s.value).length - 1
                            }
                            return null
                        }
                    }, this.$findClosingBracket = function(e, t, n) {
                        var i = this.$brackets[e],
                            o = 1,
                            a = new r(this, t.row, t.column),
                            s = a.getCurrentToken();
                        if (s || (s = a.stepForward()), s) {
                            n || (n = new RegExp("(\\.?" + s.type.replace(".", "\\.").replace("lparen", ".paren").replace(/\b(?:start|begin)\b/, "(?:start|begin|end)") + ")+"));
                            for (var l = t.column - a.getCurrentTokenColumn();;) {
                                for (var c = s.value, u = c.length; l < u;) {
                                    var d = c.charAt(l);
                                    if (d == i) {
                                        if (0 == (o -= 1)) return {
                                            row: a.getCurrentTokenRow(),
                                            column: l + a.getCurrentTokenColumn()
                                        }
                                    } else d == e && (o += 1);
                                    l += 1
                                }
                                do {
                                    s = a.stepForward()
                                } while (s && !n.test(s.type));
                                if (null == s) break;
                                l = 0
                            }
                            return null
                        }
                    }
                }
            }), ace.define("ace/edit_session", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/config", "ace/lib/event_emitter", "ace/selection", "ace/mode/text", "ace/range", "ace/document", "ace/background_tokenizer", "ace/search_highlight", "ace/edit_session/folding", "ace/edit_session/bracket_match"], function(e, t, n) {
                "use strict";
                var r = e("./lib/oop"),
                    i = e("./lib/lang"),
                    o = e("./config"),
                    a = e("./lib/event_emitter").EventEmitter,
                    s = e("./selection").Selection,
                    l = e("./mode/text").Mode,
                    c = e("./range").Range,
                    u = e("./document").Document,
                    d = e("./background_tokenizer").BackgroundTokenizer,
                    h = e("./search_highlight").SearchHighlight,
                    p = function(e, t) {
                        this.$breakpoints = [], this.$decorations = [], this.$frontMarkers = {}, this.$backMarkers = {}, this.$markerId = 1, this.$undoSelect = !0, this.$foldData = [], this.id = "session" + ++p.$uid, this.$foldData.toString = function() {
                            return this.join("\n")
                        }, this.on("changeFold", this.onChangeFold.bind(this)), this.$onChange = this.onChange.bind(this), "object" == typeof e && e.getLine || (e = new u(e)), this.setDocument(e), this.selection = new s(this), o.resetOptions(this), this.setMode(t), o._signal("session", this)
                    };
                (function() {
                    r.implement(this, a), this.setDocument = function(e) {
                        this.doc && this.doc.removeListener("change", this.$onChange), this.doc = e, e.on("change", this.$onChange), this.bgTokenizer && this.bgTokenizer.setDocument(this.getDocument()), this.resetCaches()
                    }, this.getDocument = function() {
                        return this.doc
                    }, this.$resetRowCache = function(e) {
                        if (!e) return this.$docRowCache = [], void(this.$screenRowCache = []);
                        var t = this.$docRowCache.length,
                            n = this.$getRowCacheIndex(this.$docRowCache, e) + 1;
                        t > n && (this.$docRowCache.splice(n, t), this.$screenRowCache.splice(n, t))
                    }, this.$getRowCacheIndex = function(e, t) {
                        for (var n = 0, r = e.length - 1; n <= r;) {
                            var i = n + r >> 1,
                                o = e[i];
                            if (t > o) n = i + 1;
                            else {
                                if (!(t < o)) return i;
                                r = i - 1
                            }
                        }
                        return n - 1
                    }, this.resetCaches = function() {
                        this.$modified = !0, this.$wrapData = [], this.$rowLengthCache = [], this.$resetRowCache(0), this.bgTokenizer && this.bgTokenizer.start(0)
                    }, this.onChangeFold = function(e) {
                        this.$resetRowCache(e.data.start.row)
                    }, this.onChange = function(e) {
                        this.$modified = !0, this.$resetRowCache(e.start.row);
                        var t = this.$updateInternalDataOnChange(e);
                        this.$fromUndo || !this.$undoManager || e.ignore || (this.$deltasDoc.push(e), t && 0 != t.length && this.$deltasFold.push({
                            action: "removeFolds",
                            folds: t
                        }), this.$informUndoManager.schedule()), this.bgTokenizer && this.bgTokenizer.$updateOnChange(e), this._signal("change", e)
                    }, this.setValue = function(e) {
                        this.doc.setValue(e), this.selection.moveTo(0, 0), this.$resetRowCache(0), this.$deltas = [], this.$deltasDoc = [], this.$deltasFold = [], this.setUndoManager(this.$undoManager), this.getUndoManager().reset()
                    }, this.getValue = this.toString = function() {
                        return this.doc.getValue()
                    }, this.getSelection = function() {
                        return this.selection
                    }, this.getState = function(e) {
                        return this.bgTokenizer.getState(e)
                    }, this.getTokens = function(e) {
                        return this.bgTokenizer.getTokens(e)
                    }, this.getTokenAt = function(e, t) {
                        var n, r = this.bgTokenizer.getTokens(e),
                            i = 0;
                        if (null == t) o = r.length - 1, i = this.getLine(e).length;
                        else
                            for (var o = 0; o < r.length && !((i += r[o].value.length) >= t); o++);
                        return (n = r[o]) ? (n.index = o, n.start = i - n.value.length, n) : null
                    }, this.setUndoManager = function(e) {
                        if (this.$undoManager = e, this.$deltas = [], this.$deltasDoc = [], this.$deltasFold = [], this.$informUndoManager && this.$informUndoManager.cancel(), e) {
                            var t = this;
                            this.$syncInformUndoManager = function() {
                                t.$informUndoManager.cancel(), t.$deltasFold.length && (t.$deltas.push({
                                    group: "fold",
                                    deltas: t.$deltasFold
                                }), t.$deltasFold = []), t.$deltasDoc.length && (t.$deltas.push({
                                    group: "doc",
                                    deltas: t.$deltasDoc
                                }), t.$deltasDoc = []), t.$deltas.length > 0 && e.execute({
                                    action: "aceupdate",
                                    args: [t.$deltas, t],
                                    merge: t.mergeUndoDeltas
                                }), t.mergeUndoDeltas = !1, t.$deltas = []
                            }, this.$informUndoManager = i.delayedCall(this.$syncInformUndoManager)
                        }
                    }, this.markUndoGroup = function() {
                        this.$syncInformUndoManager && this.$syncInformUndoManager()
                    }, this.$defaultUndoManager = {
                        undo: function() {},
                        redo: function() {},
                        reset: function() {}
                    }, this.getUndoManager = function() {
                        return this.$undoManager || this.$defaultUndoManager
                    }, this.getTabString = function() {
                        return this.getUseSoftTabs() ? i.stringRepeat(" ", this.getTabSize()) : "\t"
                    }, this.setUseSoftTabs = function(e) {
                        this.setOption("useSoftTabs", e)
                    }, this.getUseSoftTabs = function() {
                        return this.$useSoftTabs && !this.$mode.$indentWithTabs
                    }, this.setTabSize = function(e) {
                        this.setOption("tabSize", e)
                    }, this.getTabSize = function() {
                        return this.$tabSize
                    }, this.isTabStop = function(e) {
                        return this.$useSoftTabs && e.column % this.$tabSize == 0
                    }, this.$overwrite = !1, this.setOverwrite = function(e) {
                        this.setOption("overwrite", e)
                    }, this.getOverwrite = function() {
                        return this.$overwrite
                    }, this.toggleOverwrite = function() {
                        this.setOverwrite(!this.$overwrite)
                    }, this.addGutterDecoration = function(e, t) {
                        this.$decorations[e] || (this.$decorations[e] = ""), this.$decorations[e] += " " + t, this._signal("changeBreakpoint", {})
                    }, this.removeGutterDecoration = function(e, t) {
                        this.$decorations[e] = (this.$decorations[e] || "").replace(" " + t, ""), this._signal("changeBreakpoint", {})
                    }, this.getBreakpoints = function() {
                        return this.$breakpoints
                    }, this.setBreakpoints = function(e) {
                        this.$breakpoints = [];
                        for (var t = 0; t < e.length; t++) this.$breakpoints[e[t]] = "ace_breakpoint";
                        this._signal("changeBreakpoint", {})
                    }, this.clearBreakpoints = function() {
                        this.$breakpoints = [], this._signal("changeBreakpoint", {})
                    }, this.setBreakpoint = function(e, t) {
                        void 0 === t && (t = "ace_breakpoint"), t ? this.$breakpoints[e] = t : delete this.$breakpoints[e], this._signal("changeBreakpoint", {})
                    }, this.clearBreakpoint = function(e) {
                        delete this.$breakpoints[e], this._signal("changeBreakpoint", {})
                    }, this.addMarker = function(e, t, n, r) {
                        var i = this.$markerId++,
                            o = {
                                range: e,
                                type: n || "line",
                                renderer: "function" == typeof n ? n : null,
                                clazz: t,
                                inFront: !!r,
                                id: i
                            };
                        return r ? (this.$frontMarkers[i] = o, this._signal("changeFrontMarker")) : (this.$backMarkers[i] = o, this._signal("changeBackMarker")), i
                    }, this.addDynamicMarker = function(e, t) {
                        if (e.update) {
                            var n = this.$markerId++;
                            return e.id = n, e.inFront = !!t, t ? (this.$frontMarkers[n] = e, this._signal("changeFrontMarker")) : (this.$backMarkers[n] = e, this._signal("changeBackMarker")), e
                        }
                    }, this.removeMarker = function(e) {
                        var t = this.$frontMarkers[e] || this.$backMarkers[e];
                        t && t && (delete(t.inFront ? this.$frontMarkers : this.$backMarkers)[e], this._signal(t.inFront ? "changeFrontMarker" : "changeBackMarker"))
                    }, this.getMarkers = function(e) {
                        return e ? this.$frontMarkers : this.$backMarkers
                    }, this.highlight = function(e) {
                        if (!this.$searchHighlight) {
                            var t = new h(null, "ace_selected-word", "text");
                            this.$searchHighlight = this.addDynamicMarker(t)
                        }
                        this.$searchHighlight.setRegexp(e)
                    }, this.highlightLines = function(e, t, n, r) {
                        "number" != typeof t && (n = t, t = e), n || (n = "ace_step");
                        var i = new c(e, 0, t, 1 / 0);
                        return i.id = this.addMarker(i, n, "fullLine", r), i
                    }, this.setAnnotations = function(e) {
                        this.$annotations = e, this._signal("changeAnnotation", {})
                    }, this.getAnnotations = function() {
                        return this.$annotations || []
                    }, this.clearAnnotations = function() {
                        this.setAnnotations([])
                    }, this.$detectNewLine = function(e) {
                        var t = e.match(/^.*?(\r?\n)/m);
                        this.$autoNewLine = t ? t[1] : "\n"
                    }, this.getWordRange = function(e, t) {
                        var n = this.getLine(e),
                            r = !1;
                        if (t > 0 && (r = !!n.charAt(t - 1).match(this.tokenRe)), r || (r = !!n.charAt(t).match(this.tokenRe)), r) var i = this.tokenRe;
                        else i = /^\s+$/.test(n.slice(t - 1, t + 1)) ? /\s/ : this.nonTokenRe;
                        var o = t;
                        if (o > 0) {
                            do {
                                o--
                            } while (o >= 0 && n.charAt(o).match(i));
                            o++
                        }
                        for (var a = t; a < n.length && n.charAt(a).match(i);) a++;
                        return new c(e, o, e, a)
                    }, this.getAWordRange = function(e, t) {
                        for (var n = this.getWordRange(e, t), r = this.getLine(n.end.row); r.charAt(n.end.column).match(/[ \t]/);) n.end.column += 1;
                        return n
                    }, this.setNewLineMode = function(e) {
                        this.doc.setNewLineMode(e)
                    }, this.getNewLineMode = function() {
                        return this.doc.getNewLineMode()
                    }, this.setUseWorker = function(e) {
                        this.setOption("useWorker", e)
                    }, this.getUseWorker = function() {
                        return this.$useWorker
                    }, this.onReloadTokenizer = function(e) {
                        this.bgTokenizer.start(e.data.first), this._signal("tokenizerUpdate", e)
                    }, this.$modes = {}, this.$mode = null, this.$modeId = null, this.setMode = function(e, t) {
                        if (e && "object" == typeof e) {
                            if (e.getTokenizer) return this.$onChangeMode(e);
                            var n = e,
                                r = e.path
                        } else r = e || "ace/mode/text";
                        if (this.$modes["ace/mode/text"] || (this.$modes["ace/mode/text"] = new l), this.$modes[r] && !n) return this.$onChangeMode(this.$modes[r]), void(t && t());
                        this.$modeId = r, o.loadModule(["mode", r], (function(e) {
                            if (this.$modeId !== r) return t && t();
                            this.$modes[r] && !n ? this.$onChangeMode(this.$modes[r]) : e && e.Mode && (e = new e.Mode(n), n || (this.$modes[r] = e, e.$id = r), this.$onChangeMode(e)), t && t()
                        }).bind(this)), this.$mode || this.$onChangeMode(this.$modes["ace/mode/text"], !0)
                    }, this.$onChangeMode = function(e, t) {
                        if (t || (this.$modeId = e.$id), this.$mode !== e) {
                            this.$mode = e, this.$stopWorker(), this.$useWorker && this.$startWorker();
                            var n = e.getTokenizer();
                            if (void 0 !== n.addEventListener) {
                                var r = this.onReloadTokenizer.bind(this);
                                n.addEventListener("update", r)
                            }
                            if (this.bgTokenizer) this.bgTokenizer.setTokenizer(n);
                            else {
                                this.bgTokenizer = new d(n);
                                var i = this;
                                this.bgTokenizer.addEventListener("update", function(e) {
                                    i._signal("tokenizerUpdate", e)
                                })
                            }
                            this.bgTokenizer.setDocument(this.getDocument()), this.tokenRe = e.tokenRe, this.nonTokenRe = e.nonTokenRe, t || (e.attachToSession && e.attachToSession(this), this.$options.wrapMethod.set.call(this, this.$wrapMethod), this.$setFolding(e.foldingRules), this.bgTokenizer.start(0), this._emit("changeMode"))
                        }
                    }, this.$stopWorker = function() {
                        this.$worker && (this.$worker.terminate(), this.$worker = null)
                    }, this.$startWorker = function() {
                        try {
                            this.$worker = this.$mode.createWorker(this)
                        } catch (e) {
                            o.warn("Could not load worker", e), this.$worker = null
                        }
                    }, this.getMode = function() {
                        return this.$mode
                    }, this.$scrollTop = 0, this.setScrollTop = function(e) {
                        this.$scrollTop === e || isNaN(e) || (this.$scrollTop = e, this._signal("changeScrollTop", e))
                    }, this.getScrollTop = function() {
                        return this.$scrollTop
                    }, this.$scrollLeft = 0, this.setScrollLeft = function(e) {
                        this.$scrollLeft === e || isNaN(e) || (this.$scrollLeft = e, this._signal("changeScrollLeft", e))
                    }, this.getScrollLeft = function() {
                        return this.$scrollLeft
                    }, this.getScreenWidth = function() {
                        return this.$computeWidth(), this.lineWidgets ? Math.max(this.getLineWidgetMaxWidth(), this.screenWidth) : this.screenWidth
                    }, this.getLineWidgetMaxWidth = function() {
                        if (null != this.lineWidgetsWidth) return this.lineWidgetsWidth;
                        var e = 0;
                        return this.lineWidgets.forEach(function(t) {
                            t && t.screenWidth > e && (e = t.screenWidth)
                        }), this.lineWidgetWidth = e
                    }, this.$computeWidth = function(e) {
                        if (this.$modified || e) {
                            if (this.$modified = !1, this.$useWrapMode) return this.screenWidth = this.$wrapLimit;
                            for (var t = this.doc.getAllLines(), n = this.$rowLengthCache, r = 0, i = 0, o = this.$foldData[i], a = o ? o.start.row : 1 / 0, s = t.length, l = 0; l < s; l++) {
                                if (l > a) {
                                    if ((l = o.end.row + 1) >= s) break;
                                    a = (o = this.$foldData[i++]) ? o.start.row : 1 / 0
                                }
                                null == n[l] && (n[l] = this.$getStringScreenWidth(t[l])[0]), n[l] > r && (r = n[l])
                            }
                            this.screenWidth = r
                        }
                    }, this.getLine = function(e) {
                        return this.doc.getLine(e)
                    }, this.getLines = function(e, t) {
                        return this.doc.getLines(e, t)
                    }, this.getLength = function() {
                        return this.doc.getLength()
                    }, this.getTextRange = function(e) {
                        return this.doc.getTextRange(e || this.selection.getRange())
                    }, this.insert = function(e, t) {
                        return this.doc.insert(e, t)
                    }, this.remove = function(e) {
                        return this.doc.remove(e)
                    }, this.removeFullLines = function(e, t) {
                        return this.doc.removeFullLines(e, t)
                    }, this.undoChanges = function(e, t) {
                        if (e.length) {
                            this.$fromUndo = !0;
                            for (var n = null, r = e.length - 1; - 1 != r; r--) {
                                var i = e[r];
                                "doc" == i.group ? (this.doc.revertDeltas(i.deltas), n = this.$getUndoSelection(i.deltas, !0, n)) : i.deltas.forEach(function(e) {
                                    this.addFolds(e.folds)
                                }, this)
                            }
                            return this.$fromUndo = !1, n && this.$undoSelect && !t && this.selection.setSelectionRange(n), n
                        }
                    }, this.redoChanges = function(e, t) {
                        if (e.length) {
                            this.$fromUndo = !0;
                            for (var n = null, r = 0; r < e.length; r++) {
                                var i = e[r];
                                "doc" == i.group && (this.doc.applyDeltas(i.deltas), n = this.$getUndoSelection(i.deltas, !1, n))
                            }
                            return this.$fromUndo = !1, n && this.$undoSelect && !t && this.selection.setSelectionRange(n), n
                        }
                    }, this.setUndoSelect = function(e) {
                        this.$undoSelect = e
                    }, this.$getUndoSelection = function(e, t, n) {
                        function r(e) {
                            return t ? "insert" !== e.action : "insert" === e.action
                        }
                        var i, o, a = e[0];
                        i = r(a) ? c.fromPoints(a.start, a.end) : c.fromPoints(a.start, a.start);
                        for (var s = 1; s < e.length; s++) r(a = e[s]) ? (-1 == i.compare((o = a.start).row, o.column) && i.setStart(o), 1 == i.compare((o = a.end).row, o.column) && i.setEnd(o)) : -1 == i.compare((o = a.start).row, o.column) && (i = c.fromPoints(a.start, a.start));
                        if (null != n) {
                            0 === c.comparePoints(n.start, i.start) && (n.start.column += i.end.column - i.start.column, n.end.column += i.end.column - i.start.column);
                            var l = n.compareRange(i);
                            1 == l ? i.setStart(n.start) : -1 == l && i.setEnd(n.end)
                        }
                        return i
                    }, this.replace = function(e, t) {
                        return this.doc.replace(e, t)
                    }, this.moveText = function(e, t, n) {
                        var r = this.getTextRange(e),
                            i = this.getFoldsInRange(e),
                            o = c.fromPoints(t, t);
                        if (n || (this.remove(e), (u = (l = e.start.row - e.end.row) ? -e.end.column : e.start.column - e.end.column) && (o.start.row == e.end.row && o.start.column > e.end.column && (o.start.column += u), o.end.row == e.end.row && o.end.column > e.end.column && (o.end.column += u)), l && o.start.row >= e.end.row && (o.start.row += l, o.end.row += l)), o.end = this.insert(o.start, r), i.length) {
                            var a = e.start,
                                s = o.start,
                                l = s.row - a.row,
                                u = s.column - a.column;
                            this.addFolds(i.map(function(e) {
                                return (e = e.clone()).start.row == a.row && (e.start.column += u), e.end.row == a.row && (e.end.column += u), e.start.row += l, e.end.row += l, e
                            }))
                        }
                        return o
                    }, this.indentRows = function(e, t, n) {
                        n = n.replace(/\t/g, this.getTabString());
                        for (var r = e; r <= t; r++) this.doc.insertInLine({
                            row: r,
                            column: 0
                        }, n)
                    }, this.outdentRows = function(e) {
                        for (var t = e.collapseRows(), n = new c(0, 0, 0, 0), r = this.getTabSize(), i = t.start.row; i <= t.end.row; ++i) {
                            var o = this.getLine(i);
                            n.start.row = i, n.end.row = i;
                            for (var a = 0; a < r && " " == o.charAt(a); ++a);
                            a < r && "\t" == o.charAt(a) ? (n.start.column = a, n.end.column = a + 1) : (n.start.column = 0, n.end.column = a), this.remove(n)
                        }
                    }, this.$moveLines = function(e, t, n) {
                        if (e = this.getRowFoldStart(e), t = this.getRowFoldEnd(t), n < 0) {
                            if ((i = this.getRowFoldStart(e + n)) < 0) return 0;
                            var r = i - e
                        } else if (n > 0) {
                            var i;
                            if ((i = this.getRowFoldEnd(t + n)) > this.doc.getLength() - 1) return 0;
                            r = i - t
                        } else e = this.$clipRowToDocument(e), r = (t = this.$clipRowToDocument(t)) - e + 1;
                        var o = new c(e, 0, t, Number.MAX_VALUE),
                            a = this.getFoldsInRange(o).map(function(e) {
                                return (e = e.clone()).start.row += r, e.end.row += r, e
                            }),
                            s = 0 == n ? this.doc.getLines(e, t) : this.doc.removeFullLines(e, t);
                        return this.doc.insertFullLines(e + r, s), a.length && this.addFolds(a), r
                    }, this.moveLinesUp = function(e, t) {
                        return this.$moveLines(e, t, -1)
                    }, this.moveLinesDown = function(e, t) {
                        return this.$moveLines(e, t, 1)
                    }, this.duplicateLines = function(e, t) {
                        return this.$moveLines(e, t, 0)
                    }, this.$clipRowToDocument = function(e) {
                        return Math.max(0, Math.min(e, this.doc.getLength() - 1))
                    }, this.$clipColumnToRow = function(e, t) {
                        return t < 0 ? 0 : Math.min(this.doc.getLine(e).length, t)
                    }, this.$clipPositionToDocument = function(e, t) {
                        if (t = Math.max(0, t), e < 0) e = 0, t = 0;
                        else {
                            var n = this.doc.getLength();
                            e >= n ? (e = n - 1, t = this.doc.getLine(n - 1).length) : t = Math.min(this.doc.getLine(e).length, t)
                        }
                        return {
                            row: e,
                            column: t
                        }
                    }, this.$clipRangeToDocument = function(e) {
                        e.start.row < 0 ? (e.start.row = 0, e.start.column = 0) : e.start.column = this.$clipColumnToRow(e.start.row, e.start.column);
                        var t = this.doc.getLength() - 1;
                        return e.end.row > t ? (e.end.row = t, e.end.column = this.doc.getLine(t).length) : e.end.column = this.$clipColumnToRow(e.end.row, e.end.column), e
                    }, this.$wrapLimit = 80, this.$useWrapMode = !1, this.$wrapLimitRange = {
                        min: null,
                        max: null
                    }, this.setUseWrapMode = function(e) {
                        if (e != this.$useWrapMode) {
                            if (this.$useWrapMode = e, this.$modified = !0, this.$resetRowCache(0), e) {
                                var t = this.getLength();
                                this.$wrapData = Array(t), this.$updateWrapData(0, t - 1)
                            }
                            this._signal("changeWrapMode")
                        }
                    }, this.getUseWrapMode = function() {
                        return this.$useWrapMode
                    }, this.setWrapLimitRange = function(e, t) {
                        this.$wrapLimitRange.min === e && this.$wrapLimitRange.max === t || (this.$wrapLimitRange = {
                            min: e,
                            max: t
                        }, this.$modified = !0, this.$useWrapMode && this._signal("changeWrapMode"))
                    }, this.adjustWrapLimit = function(e, t) {
                        var n = this.$wrapLimitRange;
                        n.max < 0 && (n = {
                            min: t,
                            max: t
                        });
                        var r = this.$constrainWrapLimit(e, n.min, n.max);
                        return r != this.$wrapLimit && r > 1 && (this.$wrapLimit = r, this.$modified = !0, this.$useWrapMode && (this.$updateWrapData(0, this.getLength() - 1), this.$resetRowCache(0), this._signal("changeWrapLimit")), !0)
                    }, this.$constrainWrapLimit = function(e, t, n) {
                        return t && (e = Math.max(t, e)), n && (e = Math.min(n, e)), e
                    }, this.getWrapLimit = function() {
                        return this.$wrapLimit
                    }, this.setWrapLimit = function(e) {
                        this.setWrapLimitRange(e, e)
                    }, this.getWrapLimitRange = function() {
                        return {
                            min: this.$wrapLimitRange.min,
                            max: this.$wrapLimitRange.max
                        }
                    }, this.$updateInternalDataOnChange = function(e) {
                        var t = this.$useWrapMode,
                            n = e.action,
                            r = e.start,
                            i = e.end,
                            o = r.row,
                            a = i.row,
                            s = a - o,
                            l = null;
                        if (this.$updating = !0, 0 != s)
                            if ("remove" === n) {
                                this[t ? "$wrapData" : "$rowLengthCache"].splice(o, s);
                                var c = this.$foldData;
                                l = this.getFoldsInRange(e), this.removeFolds(l);
                                var u = 0;
                                if (m = this.getFoldLine(i.row)) {
                                    m.addRemoveChars(i.row, i.column, r.column - i.column), m.shiftRow(-s);
                                    var d = this.getFoldLine(o);
                                    d && d !== m && (d.merge(m), m = d), u = c.indexOf(m) + 1
                                }
                                for (; u < c.length; u++)(m = c[u]).start.row >= i.row && m.shiftRow(-s);
                                a = o
                            } else {
                                var h = Array(s);
                                h.unshift(o, 0);
                                var p = t ? this.$wrapData : this.$rowLengthCache;
                                if (p.splice.apply(p, h), c = this.$foldData, u = 0, m = this.getFoldLine(o)) {
                                    var f = m.range.compareInside(r.row, r.column);
                                    0 == f ? (m = m.split(r.row, r.column)) && (m.shiftRow(s), m.addRemoveChars(a, 0, i.column - r.column)) : -1 == f && (m.addRemoveChars(o, 0, i.column - r.column), m.shiftRow(s)), u = c.indexOf(m) + 1
                                }
                                for (; u < c.length; u++) {
                                    var m;
                                    (m = c[u]).start.row >= o && m.shiftRow(s)
                                }
                            }
                        else s = Math.abs(e.start.column - e.end.column), "remove" === n && (l = this.getFoldsInRange(e), this.removeFolds(l), s = -s), (m = this.getFoldLine(o)) && m.addRemoveChars(o, r.column, s);
                        return t && this.$wrapData.length != this.doc.getLength() && console.error("doc.getLength() and $wrapData.length have to be the same!"), this.$updating = !1, t ? this.$updateWrapData(o, a) : this.$updateRowLengthCache(o, a), l
                    }, this.$updateRowLengthCache = function(e, t, n) {
                        this.$rowLengthCache[e] = null, this.$rowLengthCache[t] = null
                    }, this.$updateWrapData = function(n, r) {
                        var i, o, a = this.doc.getAllLines(),
                            s = this.getTabSize(),
                            l = this.$wrapData,
                            c = this.$wrapLimit,
                            u = n;
                        for (r = Math.min(r, a.length - 1); u <= r;)(o = this.getFoldLine(u, o)) ? (i = [], o.walk((function(n, r, o, s) {
                            var l;
                            if (null != n) {
                                (l = this.$getDisplayTokens(n, i.length))[0] = e;
                                for (var c = 1; c < l.length; c++) l[c] = t
                            } else l = this.$getDisplayTokens(a[r].substring(s, o), i.length);
                            i = i.concat(l)
                        }).bind(this), o.end.row, a[o.end.row].length + 1), l[o.start.row] = this.$computeWrapSplits(i, c, s), u = o.end.row + 1) : (i = this.$getDisplayTokens(a[u]), l[u] = this.$computeWrapSplits(i, c, s), u++)
                    };
                    var e = 3,
                        t = 4,
                        n = 10,
                        s = 11,
                        u = 12;

                    function p(e) {
                        return !(e < 4352) && (e >= 4352 && e <= 4447 || e >= 4515 && e <= 4519 || e >= 4602 && e <= 4607 || e >= 9001 && e <= 9002 || e >= 11904 && e <= 11929 || e >= 11931 && e <= 12019 || e >= 12032 && e <= 12245 || e >= 12272 && e <= 12283 || e >= 12288 && e <= 12350 || e >= 12353 && e <= 12438 || e >= 12441 && e <= 12543 || e >= 12549 && e <= 12589 || e >= 12593 && e <= 12686 || e >= 12688 && e <= 12730 || e >= 12736 && e <= 12771 || e >= 12784 && e <= 12830 || e >= 12832 && e <= 12871 || e >= 12880 && e <= 13054 || e >= 13056 && e <= 19903 || e >= 19968 && e <= 42124 || e >= 42128 && e <= 42182 || e >= 43360 && e <= 43388 || e >= 44032 && e <= 55203 || e >= 55216 && e <= 55238 || e >= 55243 && e <= 55291 || e >= 63744 && e <= 64255 || e >= 65040 && e <= 65049 || e >= 65072 && e <= 65106 || e >= 65108 && e <= 65126 || e >= 65128 && e <= 65131 || e >= 65281 && e <= 65376 || e >= 65504 && e <= 65510)
                    }
                    this.$computeWrapSplits = function(r, i, o) {
                        if (0 == r.length) return [];
                        var a = [],
                            l = r.length,
                            c = 0,
                            d = 0,
                            h = this.$wrapAsCode,
                            p = this.$indentedSoftWrap,
                            f = i <= Math.max(2 * o, 8) || !1 === p ? 0 : Math.floor(i / 2);

                        function m(e) {
                            var t = r.slice(c, e),
                                i = t.length;
                            t.join("").replace(/12/g, function() {
                                i -= 1
                            }).replace(/2/g, function() {
                                i -= 1
                            }), a.length || (g = function() {
                                var e = 0;
                                if (0 === f) return e;
                                if (p)
                                    for (var t = 0; t < r.length; t++) {
                                        var i = r[t];
                                        if (i == n) e += 1;
                                        else {
                                            if (i != s) {
                                                if (i == u) continue;
                                                break
                                            }
                                            e += o
                                        }
                                    }
                                return h && !1 !== p && (e += o), Math.min(e, f)
                            }(), a.indent = g), a.push(d += i), c = e
                        }
                        for (var g = 0; l - c > i - g;) {
                            var E = c + i - g;
                            if (r[E - 1] >= n && r[E] >= n) m(E);
                            else if (r[E] != e && r[E] != t) {
                                for (var b = Math.max(E - (i - (i >> 2)), c - 1); E > b && r[E] < e;) E--;
                                if (h) {
                                    for (; E > b && r[E] < e;) E--;
                                    for (; E > b && 9 == r[E];) E--
                                } else
                                    for (; E > b && r[E] < n;) E--;
                                E > b ? m(++E) : (2 == r[E = c + i] && E--, m(E - g))
                            } else {
                                for (; E != c - 1 && r[E] != e; E--);
                                if (E > c) {
                                    m(E);
                                    continue
                                }
                                for (E = c + i; E < r.length && r[E] == t; E++);
                                if (E == r.length) break;
                                m(E)
                            }
                        }
                        return a
                    }, this.$getDisplayTokens = function(e, t) {
                        var r, i = [];
                        t = t || 0;
                        for (var o = 0; o < e.length; o++) {
                            var a = e.charCodeAt(o);
                            if (9 == a) {
                                r = this.getScreenTabSize(i.length + t), i.push(s);
                                for (var l = 1; l < r; l++) i.push(u)
                            } else 32 == a ? i.push(n) : a > 39 && a < 48 || a > 57 && a < 64 ? i.push(9) : a >= 4352 && p(a) ? i.push(1, 2) : i.push(1)
                        }
                        return i
                    }, this.$getStringScreenWidth = function(e, t, n) {
                        if (0 == t) return [0, 0];
                        var r, i;
                        for (null == t && (t = 1 / 0), n = n || 0, i = 0; i < e.length && (9 == (r = e.charCodeAt(i)) ? n += this.getScreenTabSize(n) : r >= 4352 && p(r) ? n += 2 : n += 1, !(n > t)); i++);
                        return [n, i]
                    }, this.lineWidgets = null, this.getRowLength = function(e) {
                        if (this.lineWidgets) var t = this.lineWidgets[e] && this.lineWidgets[e].rowCount || 0;
                        else t = 0;
                        return this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 + t : 1 + t
                    }, this.getRowLineCount = function(e) {
                        return this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 : 1
                    }, this.getRowWrapIndent = function(e) {
                        if (this.$useWrapMode) {
                            var t = this.screenToDocumentPosition(e, Number.MAX_VALUE),
                                n = this.$wrapData[t.row];
                            return n.length && n[0] < t.column ? n.indent : 0
                        }
                        return 0
                    }, this.getScreenLastRowColumn = function(e) {
                        var t = this.screenToDocumentPosition(e, Number.MAX_VALUE);
                        return this.documentToScreenColumn(t.row, t.column)
                    }, this.getDocumentLastRowColumn = function(e, t) {
                        var n = this.documentToScreenRow(e, t);
                        return this.getScreenLastRowColumn(n)
                    }, this.getDocumentLastRowColumnPosition = function(e, t) {
                        var n = this.documentToScreenRow(e, t);
                        return this.screenToDocumentPosition(n, Number.MAX_VALUE / 10)
                    }, this.getRowSplitData = function(e) {
                        return this.$useWrapMode ? this.$wrapData[e] : void 0
                    }, this.getScreenTabSize = function(e) {
                        return this.$tabSize - e % this.$tabSize
                    }, this.screenToDocumentRow = function(e, t) {
                        return this.screenToDocumentPosition(e, t).row
                    }, this.screenToDocumentColumn = function(e, t) {
                        return this.screenToDocumentPosition(e, t).column
                    }, this.screenToDocumentPosition = function(e, t) {
                        if (e < 0) return {
                            row: 0,
                            column: 0
                        };
                        var n, r, i = 0,
                            o = 0,
                            a = 0,
                            s = 0,
                            l = this.$screenRowCache,
                            c = this.$getRowCacheIndex(l, e),
                            u = l.length;
                        if (u && c >= 0) {
                            a = l[c], i = this.$docRowCache[c];
                            var d = e > l[u - 1]
                        } else d = !u;
                        for (var h = this.getLength() - 1, p = this.getNextFoldLine(i), f = p ? p.start.row : 1 / 0; a <= e && !(a + (s = this.getRowLength(i)) > e || i >= h);) a += s, ++i > f && (f = (p = this.getNextFoldLine(i = p.end.row + 1, p)) ? p.start.row : 1 / 0), d && (this.$docRowCache.push(i), this.$screenRowCache.push(a));
                        if (p && p.start.row <= i) n = this.getFoldDisplayLine(p), i = p.start.row;
                        else {
                            if (a + s <= e || i > h) return {
                                row: h,
                                column: this.getLine(h).length
                            };
                            n = this.getLine(i), p = null
                        }
                        var m = 0;
                        if (this.$useWrapMode) {
                            var g = this.$wrapData[i];
                            if (g) {
                                var E = Math.floor(e - a);
                                r = g[E], E > 0 && g.length && (m = g.indent, n = n.substring(o = g[E - 1] || g[g.length - 1]))
                            }
                        }
                        return o += this.$getStringScreenWidth(n, t - m)[1], this.$useWrapMode && o >= r && (o = r - 1), p ? p.idxToPosition(o) : {
                            row: i,
                            column: o
                        }
                    }, this.documentToScreenPosition = function(e, t) {
                        if (void 0 === t) var n = this.$clipPositionToDocument(e.row, e.column);
                        else n = this.$clipPositionToDocument(e, t);
                        var r, i = 0,
                            o = null;
                        (r = this.getFoldAt(e = n.row, t = n.column, 1)) && (e = r.start.row, t = r.start.column);
                        var a, s = 0,
                            l = this.$docRowCache,
                            c = this.$getRowCacheIndex(l, e),
                            u = l.length;
                        if (u && c >= 0) {
                            s = l[c], i = this.$screenRowCache[c];
                            var d = e > l[u - 1]
                        } else d = !u;
                        for (var h = this.getNextFoldLine(s), p = h ? h.start.row : 1 / 0; s < e;) {
                            if (s >= p) {
                                if ((a = h.end.row + 1) > e) break;
                                p = (h = this.getNextFoldLine(a, h)) ? h.start.row : 1 / 0
                            } else a = s + 1;
                            i += this.getRowLength(s), s = a, d && (this.$docRowCache.push(s), this.$screenRowCache.push(i))
                        }
                        var f = "";
                        h && s >= p ? (f = this.getFoldDisplayLine(h, e, t), o = h.start.row) : (f = this.getLine(e).substring(0, t), o = e);
                        var m = 0;
                        if (this.$useWrapMode) {
                            var g = this.$wrapData[o];
                            if (g) {
                                for (var E = 0; f.length >= g[E];) i++, E++;
                                f = f.substring(g[E - 1] || 0, f.length), m = E > 0 ? g.indent : 0
                            }
                        }
                        return {
                            row: i,
                            column: m + this.$getStringScreenWidth(f)[0]
                        }
                    }, this.documentToScreenColumn = function(e, t) {
                        return this.documentToScreenPosition(e, t).column
                    }, this.documentToScreenRow = function(e, t) {
                        return this.documentToScreenPosition(e, t).row
                    }, this.getScreenLength = function() {
                        var e = 0,
                            t = null;
                        if (this.$useWrapMode)
                            for (var n = this.$wrapData.length, r = 0, i = (s = 0, (t = this.$foldData[s++]) ? t.start.row : 1 / 0); r < n;) {
                                var o = this.$wrapData[r];
                                e += o ? o.length + 1 : 1, ++r > i && (r = t.end.row + 1, i = (t = this.$foldData[s++]) ? t.start.row : 1 / 0)
                            } else {
                                e = this.getLength();
                                for (var a = this.$foldData, s = 0; s < a.length; s++) e -= (t = a[s]).end.row - t.start.row
                            }
                        return this.lineWidgets && (e += this.$getWidgetScreenLength()), e
                    }, this.$setFontMetrics = function(e) {
                        this.$enableVarChar && (this.$getStringScreenWidth = function(t, n, r) {
                            if (0 === n) return [0, 0];
                            var i, o;
                            for (n || (n = 1 / 0), r = r || 0, o = 0; o < t.length && !((r += "\t" === (i = t.charAt(o)) ? this.getScreenTabSize(r) : e.getCharacterWidth(i)) > n); o++);
                            return [r, o]
                        })
                    }, this.destroy = function() {
                        this.bgTokenizer && (this.bgTokenizer.setDocument(null), this.bgTokenizer = null), this.$stopWorker()
                    }
                }).call(p.prototype), e("./edit_session/folding").Folding.call(p.prototype), e("./edit_session/bracket_match").BracketMatch.call(p.prototype), o.defineOptions(p.prototype, "session", {
                    wrap: {
                        set: function(e) {
                            if (e && "off" != e ? "free" == e ? e = !0 : "printMargin" == e ? e = -1 : "string" == typeof e && (e = parseInt(e, 10) || !1) : e = !1, this.$wrap != e)
                                if (this.$wrap = e, e) {
                                    var t = "number" == typeof e ? e : null;
                                    this.setWrapLimitRange(t, t), this.setUseWrapMode(!0)
                                } else this.setUseWrapMode(!1)
                        },
                        get: function() {
                            return this.getUseWrapMode() ? -1 == this.$wrap ? "printMargin" : this.getWrapLimitRange().min ? this.$wrap : "free" : "off"
                        },
                        handlesSet: !0
                    },
                    wrapMethod: {
                        set: function(e) {
                            (e = "auto" == e ? "text" != this.$mode.type : "text" != e) != this.$wrapAsCode && (this.$wrapAsCode = e, this.$useWrapMode && (this.$modified = !0, this.$resetRowCache(0), this.$updateWrapData(0, this.getLength() - 1)))
                        },
                        initialValue: "auto"
                    },
                    indentedSoftWrap: {
                        initialValue: !0
                    },
                    firstLineNumber: {
                        set: function() {
                            this._signal("changeBreakpoint")
                        },
                        initialValue: 1
                    },
                    useWorker: {
                        set: function(e) {
                            this.$useWorker = e, this.$stopWorker(), e && this.$startWorker()
                        },
                        initialValue: !0
                    },
                    useSoftTabs: {
                        initialValue: !0
                    },
                    tabSize: {
                        set: function(e) {
                            isNaN(e) || this.$tabSize === e || (this.$modified = !0, this.$rowLengthCache = [], this.$tabSize = e, this._signal("changeTabSize"))
                        },
                        initialValue: 4,
                        handlesSet: !0
                    },
                    overwrite: {
                        set: function(e) {
                            this._signal("changeOverwrite")
                        },
                        initialValue: !1
                    },
                    newLineMode: {
                        set: function(e) {
                            this.doc.setNewLineMode(e)
                        },
                        get: function() {
                            return this.doc.getNewLineMode()
                        },
                        handlesSet: !0
                    },
                    mode: {
                        set: function(e) {
                            this.setMode(e)
                        },
                        get: function() {
                            return this.$modeId
                        }
                    }
                }), t.EditSession = p
            }), ace.define("ace/search", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(e, t, n) {
                "use strict";
                var r = e("./lib/lang"),
                    i = e("./lib/oop"),
                    o = e("./range").Range,
                    a = function() {
                        this.$options = {}
                    };
                (function() {
                    this.set = function(e) {
                        return i.mixin(this.$options, e), this
                    }, this.getOptions = function() {
                        return r.copyObject(this.$options)
                    }, this.setOptions = function(e) {
                        this.$options = e
                    }, this.find = function(e) {
                        var t = this.$options,
                            n = this.$matchIterator(e, t);
                        if (!n) return !1;
                        var r = null;
                        return n.forEach(function(e, n, i) {
                            if (e.start) r = e;
                            else {
                                var a = e.offset + (i || 0);
                                if (r = new o(n, a, n, a + e.length), !e.length && t.start && t.start.start && 0 != t.skipCurrent && r.isEqual(t.start)) return r = null, !1
                            }
                            return !0
                        }), r
                    }, this.findAll = function(e) {
                        var t = this.$options;
                        if (!t.needle) return [];
                        this.$assembleRegExp(t);
                        var n = t.range,
                            i = n ? e.getLines(n.start.row, n.end.row) : e.doc.getAllLines(),
                            a = [],
                            s = t.re;
                        if (t.$isMultiLine) {
                            var l, c = s.length,
                                u = i.length - c;
                            e: for (var d = s.offset || 0; d <= u; d++) {
                                for (var h = 0; h < c; h++)
                                    if (-1 == i[d + h].search(s[h])) continue e;
                                var p = i[d],
                                    f = i[d + c - 1],
                                    m = p.length - p.match(s[0])[0].length,
                                    g = f.match(s[c - 1])[0].length;
                                l && l.end.row === d && l.end.column > m || (a.push(l = new o(d, m, d + c - 1, g)), c > 2 && (d = d + c - 2))
                            }
                        } else
                            for (var E = 0; E < i.length; E++) {
                                var b = r.getMatchOffsets(i[E], s);
                                for (h = 0; h < b.length; h++) {
                                    var v = b[h];
                                    a.push(new o(E, v.offset, E, v.offset + v.length))
                                }
                            }
                        if (n) {
                            var T = n.start.column,
                                y = n.start.column;
                            for (E = 0, h = a.length - 1; E < h && a[E].start.column < T && a[E].start.row == n.start.row;) E++;
                            for (; E < h && a[h].end.column > y && a[h].end.row == n.end.row;) h--;
                            for (a = a.slice(E, h + 1), E = 0, h = a.length; E < h; E++) a[E].start.row += n.start.row, a[E].end.row += n.start.row
                        }
                        return a
                    }, this.replace = function(e, t) {
                        var n = this.$options,
                            r = this.$assembleRegExp(n);
                        if (n.$isMultiLine) return t;
                        if (r) {
                            var i = r.exec(e);
                            if (!i || i[0].length != e.length) return null;
                            if (t = e.replace(r, t), n.preserveCase) {
                                t = t.split("");
                                for (var o = Math.min(e.length, e.length); o--;) {
                                    var a = e[o];
                                    t[o] = a && a.toLowerCase() != a ? t[o].toUpperCase() : t[o].toLowerCase()
                                }
                                t = t.join("")
                            }
                            return t
                        }
                    }, this.$matchIterator = function(e, t) {
                        var n, i = this.$assembleRegExp(t);
                        if (!i) return !1;
                        if (t.$isMultiLine) var a = i.length,
                            s = function(t, r, s) {
                                var l = t.search(i[0]);
                                if (-1 != l) {
                                    for (var c = 1; c < a; c++)
                                        if (-1 == (t = e.getLine(r + c)).search(i[c])) return;
                                    var u = t.match(i[a - 1])[0].length,
                                        d = new o(r, l, r + a - 1, u);
                                    return 1 == i.offset ? (d.start.row--, d.start.column = Number.MAX_VALUE) : s && (d.start.column += s), !!n(d) || void 0
                                }
                            };
                        else s = t.backwards ? function(e, t, o) {
                            for (var a = r.getMatchOffsets(e, i), s = a.length - 1; s >= 0; s--)
                                if (n(a[s], t, o)) return !0
                        } : function(e, t, o) {
                            for (var a = r.getMatchOffsets(e, i), s = 0; s < a.length; s++)
                                if (n(a[s], t, o)) return !0
                        };
                        var l = this.$lineIterator(e, t);
                        return {
                            forEach: function(e) {
                                n = e, l.forEach(s)
                            }
                        }
                    }, this.$assembleRegExp = function(e, t) {
                        if (e.needle instanceof RegExp) return e.re = e.needle;
                        var n = e.needle;
                        if (!e.needle) return e.re = !1;
                        e.regExp || (n = r.escapeRegExp(n)), e.wholeWord && (n = function(e, t) {
                            function n(e) {
                                return /\w/.test(e) || t.regExp ? "\\b" : ""
                            }
                            return n(e[0]) + e + n(e[e.length - 1])
                        }(n, e));
                        var i = e.caseSensitive ? "gm" : "gmi";
                        if (e.$isMultiLine = !t && /[\n\r]/.test(n), e.$isMultiLine) return e.re = this.$assembleMultilineRegExp(n, i);
                        try {
                            var o = new RegExp(n, i)
                        } catch (e) {
                            o = !1
                        }
                        return e.re = o
                    }, this.$assembleMultilineRegExp = function(e, t) {
                        for (var n = e.replace(/\r\n|\r|\n/g, "$\n^").split("\n"), r = [], i = 0; i < n.length; i++) try {
                            r.push(new RegExp(n[i], t))
                        } catch (e) {
                            return !1
                        }
                        return "" == n[0] ? (r.shift(), r.offset = 1) : r.offset = 0, r
                    }, this.$lineIterator = function(e, t) {
                        var n = 1 == t.backwards,
                            r = 0 != t.skipCurrent,
                            i = t.range,
                            o = t.start;
                        o || (o = i ? i[n ? "end" : "start"] : e.selection.getRange()), o.start && (o = o[r != n ? "end" : "start"]);
                        var a = i ? i.start.row : 0,
                            s = i ? i.end.row : e.getLength() - 1;
                        return {
                            forEach: n ? function(n) {
                                var r = o.row;
                                if (!n(e.getLine(r).substring(0, o.column), r)) {
                                    for (r--; r >= a; r--)
                                        if (n(e.getLine(r), r)) return;
                                    if (0 != t.wrap)
                                        for (r = s, a = o.row; r >= a; r--)
                                            if (n(e.getLine(r), r)) return
                                }
                            } : function(n) {
                                var r = o.row;
                                if (!n(e.getLine(r).substr(o.column), r, o.column)) {
                                    for (r += 1; r <= s; r++)
                                        if (n(e.getLine(r), r)) return;
                                    if (0 != t.wrap)
                                        for (r = a, s = o.row; r <= s; r++)
                                            if (n(e.getLine(r), r)) return
                                }
                            }
                        }
                    }
                }).call(a.prototype), t.Search = a
            }), ace.define("ace/keyboard/hash_handler", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(e, t, n) {
                "use strict";
                var r = e("../lib/keys"),
                    i = e("../lib/useragent"),
                    o = r.KEY_MODS;

                function a(e, t) {
                    this.platform = t || (i.isMac ? "mac" : "win"), this.commands = {}, this.commandKeyBinding = {}, this.addCommands(e), this.$singleCommand = !0
                }

                function s(e, t) {
                    a.call(this, e, t), this.$singleCommand = !1
                }
                s.prototype = a.prototype, (function() {
                    function e(e) {
                        return "object" == typeof e && e.bindKey && e.bindKey.position || 0
                    }
                    this.addCommand = function(e) {
                        this.commands[e.name] && this.removeCommand(e), this.commands[e.name] = e, e.bindKey && this._buildKeyHash(e)
                    }, this.removeCommand = function(e, t) {
                        var n = e && ("string" == typeof e ? e : e.name);
                        e = this.commands[n], t || delete this.commands[n];
                        var r = this.commandKeyBinding;
                        for (var i in r) {
                            var o = r[i];
                            if (o == e) delete r[i];
                            else if (Array.isArray(o)) {
                                var a = o.indexOf(e); - 1 != a && (o.splice(a, 1), 1 == o.length && (r[i] = o[0]))
                            }
                        }
                    }, this.bindKey = function(e, t, n) {
                        if ("object" == typeof e && e && (void 0 == n && (n = e.position), e = e[this.platform]), e) return "function" == typeof t ? this.addCommand({
                            exec: t,
                            bindKey: e,
                            name: t.name || e
                        }) : void e.split("|").forEach(function(e) {
                            var r = "";
                            if (-1 != e.indexOf(" ")) {
                                var i = e.split(/\s+/);
                                e = i.pop(), i.forEach(function(e) {
                                    var t = this.parseKeys(e);
                                    this._addCommandToBinding(r += (r ? " " : "") + (o[t.hashId] + t.key), "chainKeys")
                                }, this), r += " "
                            }
                            var a = this.parseKeys(e);
                            this._addCommandToBinding(r + (o[a.hashId] + a.key), t, n)
                        }, this)
                    }, this._addCommandToBinding = function(t, n, r) {
                        var i, o = this.commandKeyBinding;
                        if (n)
                            if (!o[t] || this.$singleCommand) o[t] = n;
                            else {
                                Array.isArray(o[t]) ? -1 != (i = o[t].indexOf(n)) && o[t].splice(i, 1) : o[t] = [o[t]], "number" != typeof r && (r = r || n.isDefault ? -100 : e(n));
                                var a = o[t];
                                for (i = 0; i < a.length && !(e(a[i]) > r); i++);
                                a.splice(i, 0, n)
                            }
                        else delete o[t]
                    }, this.addCommands = function(e) {
                        e && Object.keys(e).forEach(function(t) {
                            var n = e[t];
                            if (n) {
                                if ("string" == typeof n) return this.bindKey(n, t);
                                "function" == typeof n && (n = {
                                    exec: n
                                }), "object" == typeof n && (n.name || (n.name = t), this.addCommand(n))
                            }
                        }, this)
                    }, this.removeCommands = function(e) {
                        Object.keys(e).forEach(function(t) {
                            this.removeCommand(e[t])
                        }, this)
                    }, this.bindKeys = function(e) {
                        Object.keys(e).forEach(function(t) {
                            this.bindKey(t, e[t])
                        }, this)
                    }, this._buildKeyHash = function(e) {
                        this.bindKey(e.bindKey, e)
                    }, this.parseKeys = function(e) {
                        var t = e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e) {
                                return e
                            }),
                            n = t.pop(),
                            i = r[n];
                        if (r.FUNCTION_KEYS[i]) n = r.FUNCTION_KEYS[i].toLowerCase();
                        else {
                            if (!t.length) return {
                                key: n,
                                hashId: -1
                            };
                            if (1 == t.length && "shift" == t[0]) return {
                                key: n.toUpperCase(),
                                hashId: -1
                            }
                        }
                        for (var o = 0, a = t.length; a--;) {
                            var s = r.KEY_MODS[t[a]];
                            if (null == s) return "undefined" != typeof console && console.error("invalid modifier " + t[a] + " in " + e), !1;
                            o |= s
                        }
                        return {
                            key: n,
                            hashId: o
                        }
                    }, this.findKeyCommand = function(e, t) {
                        return this.commandKeyBinding[o[e] + t]
                    }, this.handleKeyboard = function(e, t, n, r) {
                        if (!(r < 0)) {
                            var i = o[t] + n,
                                a = this.commandKeyBinding[i];
                            return e.$keyChain && (e.$keyChain += " " + i, a = this.commandKeyBinding[e.$keyChain] || a), !a || "chainKeys" != a && "chainKeys" != a[a.length - 1] ? (e.$keyChain && (t && 4 != t || 1 != n.length ? (-1 == t || r > 0) && (e.$keyChain = "") : e.$keyChain = e.$keyChain.slice(0, -i.length - 1)), {
                                command: a
                            }) : (e.$keyChain = e.$keyChain || i, {
                                command: "null"
                            })
                        }
                    }, this.getStatusText = function(e, t) {
                        return t.$keyChain || ""
                    }
                }).call(a.prototype), t.HashHandler = a, t.MultiHashHandler = s
            }), ace.define("ace/commands/command_manager", ["require", "exports", "module", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/lib/event_emitter"], function(e, t, n) {
                "use strict";
                var r = e("../lib/oop"),
                    i = e("../keyboard/hash_handler").MultiHashHandler,
                    o = e("../lib/event_emitter").EventEmitter,
                    a = function(e, t) {
                        i.call(this, t, e), this.byName = this.commands, this.setDefaultHandler("exec", function(e) {
                            return e.command.exec(e.editor, e.args || {})
                        })
                    };
                r.inherits(a, i), (function() {
                    r.implement(this, o), this.exec = function(e, t, n) {
                        if (Array.isArray(e)) {
                            for (var r = e.length; r--;)
                                if (this.exec(e[r], t, n)) return !0;
                            return !1
                        }
                        if ("string" == typeof e && (e = this.commands[e]), !e) return !1;
                        if (t && t.$readOnly && !e.readOnly) return !1;
                        var i = {
                            editor: t,
                            command: e,
                            args: n
                        };
                        return i.returnValue = this._emit("exec", i), this._signal("afterExec", i), !1 !== i.returnValue
                    }, this.toggleRecording = function(e) {
                        if (!this.$inReplay) return e && e._emit("changeStatus"), this.recording ? (this.macro.pop(), this.removeEventListener("exec", this.$addCommandToMacro), this.macro.length || (this.macro = this.oldMacro), this.recording = !1) : (this.$addCommandToMacro || (this.$addCommandToMacro = (function(e) {
                            this.macro.push([e.command, e.args])
                        }).bind(this)), this.oldMacro = this.macro, this.macro = [], this.on("exec", this.$addCommandToMacro), this.recording = !0)
                    }, this.replay = function(e) {
                        if (!this.$inReplay && this.macro) {
                            if (this.recording) return this.toggleRecording(e);
                            try {
                                this.$inReplay = !0, this.macro.forEach(function(t) {
                                    "string" == typeof t ? this.exec(t, e) : this.exec(t[0], e, t[1])
                                }, this)
                            } finally {
                                this.$inReplay = !1
                            }
                        }
                    }, this.trimMacro = function(e) {
                        return e.map(function(e) {
                            return "string" != typeof e[0] && (e[0] = e[0].name), e[1] || (e = e[0]), e
                        })
                    }
                }).call(a.prototype), t.CommandManager = a
            }), ace.define("ace/commands/default_commands", ["require", "exports", "module", "ace/lib/lang", "ace/config", "ace/range"], function(e, t, n) {
                "use strict";
                var r = e("../lib/lang"),
                    i = e("../config"),
                    o = e("../range").Range;

                function a(e, t) {
                    return {
                        win: e,
                        mac: t
                    }
                }
                t.commands = [{
                    name: "showSettingsMenu",
                    bindKey: a("Ctrl-,", "Command-,"),
                    exec: function(e) {
                        i.loadModule("ace/ext/settings_menu", function(t) {
                            t.init(e), e.showSettingsMenu()
                        })
                    },
                    readOnly: !0
                }, {
                    name: "goToNextError",
                    bindKey: a("Alt-E", "F4"),
                    exec: function(e) {
                        i.loadModule("ace/ext/error_marker", function(t) {
                            t.showErrorMarker(e, 1)
                        })
                    },
                    scrollIntoView: "animate",
                    readOnly: !0
                }, {
                    name: "goToPreviousError",
                    bindKey: a("Alt-Shift-E", "Shift-F4"),
                    exec: function(e) {
                        i.loadModule("ace/ext/error_marker", function(t) {
                            t.showErrorMarker(e, -1)
                        })
                    },
                    scrollIntoView: "animate",
                    readOnly: !0
                }, {
                    name: "selectall",
                    bindKey: a("Ctrl-A", "Command-A"),
                    exec: function(e) {
                        e.selectAll()
                    },
                    readOnly: !0
                }, {
                    name: "centerselection",
                    bindKey: a(null, "Ctrl-L"),
                    exec: function(e) {
                        e.centerSelection()
                    },
                    readOnly: !0
                }, {
                    name: "gotoline",
                    bindKey: a("Ctrl-L", "Command-L"),
                    exec: function(e) {
                        var t = parseInt(prompt("Enter line number:"), 10);
                        isNaN(t) || e.gotoLine(t)
                    },
                    readOnly: !0
                }, {
                    name: "fold",
                    bindKey: a("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
                    exec: function(e) {
                        e.session.toggleFold(!1)
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "center",
                    readOnly: !0
                }, {
                    name: "unfold",
                    bindKey: a("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
                    exec: function(e) {
                        e.session.toggleFold(!0)
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "center",
                    readOnly: !0
                }, {
                    name: "toggleFoldWidget",
                    bindKey: a("F2", "F2"),
                    exec: function(e) {
                        e.session.toggleFoldWidget()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "center",
                    readOnly: !0
                }, {
                    name: "toggleParentFoldWidget",
                    bindKey: a("Alt-F2", "Alt-F2"),
                    exec: function(e) {
                        e.session.toggleFoldWidget(!0)
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "center",
                    readOnly: !0
                }, {
                    name: "foldall",
                    bindKey: a(null, "Ctrl-Command-Option-0"),
                    exec: function(e) {
                        e.session.foldAll()
                    },
                    scrollIntoView: "center",
                    readOnly: !0
                }, {
                    name: "foldOther",
                    bindKey: a("Alt-0", "Command-Option-0"),
                    exec: function(e) {
                        e.session.foldAll(), e.session.unfold(e.selection.getAllRanges())
                    },
                    scrollIntoView: "center",
                    readOnly: !0
                }, {
                    name: "unfoldall",
                    bindKey: a("Alt-Shift-0", "Command-Option-Shift-0"),
                    exec: function(e) {
                        e.session.unfold()
                    },
                    scrollIntoView: "center",
                    readOnly: !0
                }, {
                    name: "findnext",
                    bindKey: a("Ctrl-K", "Command-G"),
                    exec: function(e) {
                        e.findNext()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "center",
                    readOnly: !0
                }, {
                    name: "findprevious",
                    bindKey: a("Ctrl-Shift-K", "Command-Shift-G"),
                    exec: function(e) {
                        e.findPrevious()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "center",
                    readOnly: !0
                }, {
                    name: "selectOrFindNext",
                    bindKey: a("Alt-K", "Ctrl-G"),
                    exec: function(e) {
                        e.selection.isEmpty() ? e.selection.selectWord() : e.findNext()
                    },
                    readOnly: !0
                }, {
                    name: "selectOrFindPrevious",
                    bindKey: a("Alt-Shift-K", "Ctrl-Shift-G"),
                    exec: function(e) {
                        e.selection.isEmpty() ? e.selection.selectWord() : e.findPrevious()
                    },
                    readOnly: !0
                }, {
                    name: "find",
                    bindKey: a("Ctrl-F", "Command-F"),
                    exec: function(e) {
                        i.loadModule("ace/ext/searchbox", function(t) {
                            t.Search(e)
                        })
                    },
                    readOnly: !0
                }, {
                    name: "overwrite",
                    bindKey: "Insert",
                    exec: function(e) {
                        e.toggleOverwrite()
                    },
                    readOnly: !0
                }, {
                    name: "selecttostart",
                    bindKey: a("Ctrl-Shift-Home", "Command-Shift-Home|Command-Shift-Up"),
                    exec: function(e) {
                        e.getSelection().selectFileStart()
                    },
                    multiSelectAction: "forEach",
                    readOnly: !0,
                    scrollIntoView: "animate",
                    aceCommandGroup: "fileJump"
                }, {
                    name: "gotostart",
                    bindKey: a("Ctrl-Home", "Command-Home|Command-Up"),
                    exec: function(e) {
                        e.navigateFileStart()
                    },
                    multiSelectAction: "forEach",
                    readOnly: !0,
                    scrollIntoView: "animate",
                    aceCommandGroup: "fileJump"
                }, {
                    name: "selectup",
                    bindKey: a("Shift-Up", "Shift-Up|Ctrl-Shift-P"),
                    exec: function(e) {
                        e.getSelection().selectUp()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "golineup",
                    bindKey: a("Up", "Up|Ctrl-P"),
                    exec: function(e, t) {
                        e.navigateUp(t.times)
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selecttoend",
                    bindKey: a("Ctrl-Shift-End", "Command-Shift-End|Command-Shift-Down"),
                    exec: function(e) {
                        e.getSelection().selectFileEnd()
                    },
                    multiSelectAction: "forEach",
                    readOnly: !0,
                    scrollIntoView: "animate",
                    aceCommandGroup: "fileJump"
                }, {
                    name: "gotoend",
                    bindKey: a("Ctrl-End", "Command-End|Command-Down"),
                    exec: function(e) {
                        e.navigateFileEnd()
                    },
                    multiSelectAction: "forEach",
                    readOnly: !0,
                    scrollIntoView: "animate",
                    aceCommandGroup: "fileJump"
                }, {
                    name: "selectdown",
                    bindKey: a("Shift-Down", "Shift-Down|Ctrl-Shift-N"),
                    exec: function(e) {
                        e.getSelection().selectDown()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "golinedown",
                    bindKey: a("Down", "Down|Ctrl-N"),
                    exec: function(e, t) {
                        e.navigateDown(t.times)
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selectwordleft",
                    bindKey: a("Ctrl-Shift-Left", "Option-Shift-Left"),
                    exec: function(e) {
                        e.getSelection().selectWordLeft()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "gotowordleft",
                    bindKey: a("Ctrl-Left", "Option-Left"),
                    exec: function(e) {
                        e.navigateWordLeft()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selecttolinestart",
                    bindKey: a("Alt-Shift-Left", "Command-Shift-Left|Ctrl-Shift-A"),
                    exec: function(e) {
                        e.getSelection().selectLineStart()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "gotolinestart",
                    bindKey: a("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
                    exec: function(e) {
                        e.navigateLineStart()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selectleft",
                    bindKey: a("Shift-Left", "Shift-Left|Ctrl-Shift-B"),
                    exec: function(e) {
                        e.getSelection().selectLeft()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "gotoleft",
                    bindKey: a("Left", "Left|Ctrl-B"),
                    exec: function(e, t) {
                        e.navigateLeft(t.times)
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selectwordright",
                    bindKey: a("Ctrl-Shift-Right", "Option-Shift-Right"),
                    exec: function(e) {
                        e.getSelection().selectWordRight()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "gotowordright",
                    bindKey: a("Ctrl-Right", "Option-Right"),
                    exec: function(e) {
                        e.navigateWordRight()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selecttolineend",
                    bindKey: a("Alt-Shift-Right", "Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
                    exec: function(e) {
                        e.getSelection().selectLineEnd()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "gotolineend",
                    bindKey: a("Alt-Right|End", "Command-Right|End|Ctrl-E"),
                    exec: function(e) {
                        e.navigateLineEnd()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selectright",
                    bindKey: a("Shift-Right", "Shift-Right"),
                    exec: function(e) {
                        e.getSelection().selectRight()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "gotoright",
                    bindKey: a("Right", "Right|Ctrl-F"),
                    exec: function(e, t) {
                        e.navigateRight(t.times)
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selectpagedown",
                    bindKey: "Shift-PageDown",
                    exec: function(e) {
                        e.selectPageDown()
                    },
                    readOnly: !0
                }, {
                    name: "pagedown",
                    bindKey: a(null, "Option-PageDown"),
                    exec: function(e) {
                        e.scrollPageDown()
                    },
                    readOnly: !0
                }, {
                    name: "gotopagedown",
                    bindKey: a("PageDown", "PageDown|Ctrl-V"),
                    exec: function(e) {
                        e.gotoPageDown()
                    },
                    readOnly: !0
                }, {
                    name: "selectpageup",
                    bindKey: "Shift-PageUp",
                    exec: function(e) {
                        e.selectPageUp()
                    },
                    readOnly: !0
                }, {
                    name: "pageup",
                    bindKey: a(null, "Option-PageUp"),
                    exec: function(e) {
                        e.scrollPageUp()
                    },
                    readOnly: !0
                }, {
                    name: "gotopageup",
                    bindKey: "PageUp",
                    exec: function(e) {
                        e.gotoPageUp()
                    },
                    readOnly: !0
                }, {
                    name: "scrollup",
                    bindKey: a("Ctrl-Up", null),
                    exec: function(e) {
                        e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight)
                    },
                    readOnly: !0
                }, {
                    name: "scrolldown",
                    bindKey: a("Ctrl-Down", null),
                    exec: function(e) {
                        e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight)
                    },
                    readOnly: !0
                }, {
                    name: "selectlinestart",
                    bindKey: "Shift-Home",
                    exec: function(e) {
                        e.getSelection().selectLineStart()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selectlineend",
                    bindKey: "Shift-End",
                    exec: function(e) {
                        e.getSelection().selectLineEnd()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "togglerecording",
                    bindKey: a("Ctrl-Alt-E", "Command-Option-E"),
                    exec: function(e) {
                        e.commands.toggleRecording(e)
                    },
                    readOnly: !0
                }, {
                    name: "replaymacro",
                    bindKey: a("Ctrl-Shift-E", "Command-Shift-E"),
                    exec: function(e) {
                        e.commands.replay(e)
                    },
                    readOnly: !0
                }, {
                    name: "jumptomatching",
                    bindKey: a("Ctrl-P", "Ctrl-P"),
                    exec: function(e) {
                        e.jumpToMatching()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "animate",
                    readOnly: !0
                }, {
                    name: "selecttomatching",
                    bindKey: a("Ctrl-Shift-P", "Ctrl-Shift-P"),
                    exec: function(e) {
                        e.jumpToMatching(!0)
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "animate",
                    readOnly: !0
                }, {
                    name: "expandToMatching",
                    bindKey: a("Ctrl-Shift-M", "Ctrl-Shift-M"),
                    exec: function(e) {
                        e.jumpToMatching(!0, !0)
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "animate",
                    readOnly: !0
                }, {
                    name: "passKeysToBrowser",
                    bindKey: a(null, null),
                    exec: function() {},
                    passEvent: !0,
                    readOnly: !0
                }, {
                    name: "copy",
                    exec: function(e) {},
                    readOnly: !0
                }, {
                    name: "cut",
                    exec: function(e) {
                        var t = e.getSelectionRange();
                        e._emit("cut", t), e.selection.isEmpty() || (e.session.remove(t), e.clearSelection())
                    },
                    scrollIntoView: "cursor",
                    multiSelectAction: "forEach"
                }, {
                    name: "paste",
                    exec: function(e, t) {
                        e.$handlePaste(t)
                    },
                    scrollIntoView: "cursor"
                }, {
                    name: "removeline",
                    bindKey: a("Ctrl-D", "Command-D"),
                    exec: function(e) {
                        e.removeLines()
                    },
                    scrollIntoView: "cursor",
                    multiSelectAction: "forEachLine"
                }, {
                    name: "duplicateSelection",
                    bindKey: a("Ctrl-Shift-D", "Command-Shift-D"),
                    exec: function(e) {
                        e.duplicateSelection()
                    },
                    scrollIntoView: "cursor",
                    multiSelectAction: "forEach"
                }, {
                    name: "sortlines",
                    bindKey: a("Ctrl-Alt-S", "Command-Alt-S"),
                    exec: function(e) {
                        e.sortLines()
                    },
                    scrollIntoView: "selection",
                    multiSelectAction: "forEachLine"
                }, {
                    name: "togglecomment",
                    bindKey: a("Ctrl-/", "Command-/"),
                    exec: function(e) {
                        e.toggleCommentLines()
                    },
                    multiSelectAction: "forEachLine",
                    scrollIntoView: "selectionPart"
                }, {
                    name: "toggleBlockComment",
                    bindKey: a("Ctrl-Shift-/", "Command-Shift-/"),
                    exec: function(e) {
                        e.toggleBlockComment()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "selectionPart"
                }, {
                    name: "modifyNumberUp",
                    bindKey: a("Ctrl-Shift-Up", "Alt-Shift-Up"),
                    exec: function(e) {
                        e.modifyNumber(1)
                    },
                    scrollIntoView: "cursor",
                    multiSelectAction: "forEach"
                }, {
                    name: "modifyNumberDown",
                    bindKey: a("Ctrl-Shift-Down", "Alt-Shift-Down"),
                    exec: function(e) {
                        e.modifyNumber(-1)
                    },
                    scrollIntoView: "cursor",
                    multiSelectAction: "forEach"
                }, {
                    name: "replace",
                    bindKey: a("Ctrl-H", "Command-Option-F"),
                    exec: function(e) {
                        i.loadModule("ace/ext/searchbox", function(t) {
                            t.Search(e, !0)
                        })
                    }
                }, {
                    name: "undo",
                    bindKey: a("Ctrl-Z", "Command-Z"),
                    exec: function(e) {
                        e.undo()
                    }
                }, {
                    name: "redo",
                    bindKey: a("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
                    exec: function(e) {
                        e.redo()
                    }
                }, {
                    name: "copylinesup",
                    bindKey: a("Alt-Shift-Up", "Command-Option-Up"),
                    exec: function(e) {
                        e.copyLinesUp()
                    },
                    scrollIntoView: "cursor"
                }, {
                    name: "movelinesup",
                    bindKey: a("Alt-Up", "Option-Up"),
                    exec: function(e) {
                        e.moveLinesUp()
                    },
                    scrollIntoView: "cursor"
                }, {
                    name: "copylinesdown",
                    bindKey: a("Alt-Shift-Down", "Command-Option-Down"),
                    exec: function(e) {
                        e.copyLinesDown()
                    },
                    scrollIntoView: "cursor"
                }, {
                    name: "movelinesdown",
                    bindKey: a("Alt-Down", "Option-Down"),
                    exec: function(e) {
                        e.moveLinesDown()
                    },
                    scrollIntoView: "cursor"
                }, {
                    name: "del",
                    bindKey: a("Delete", "Delete|Ctrl-D|Shift-Delete"),
                    exec: function(e) {
                        e.remove("right")
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor"
                }, {
                    name: "backspace",
                    bindKey: a("Shift-Backspace|Backspace", "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
                    exec: function(e) {
                        e.remove("left")
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor"
                }, {
                    name: "cut_or_delete",
                    bindKey: a("Shift-Delete", null),
                    exec: function(e) {
                        if (!e.selection.isEmpty()) return !1;
                        e.remove("left")
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor"
                }, {
                    name: "removetolinestart",
                    bindKey: a("Alt-Backspace", "Command-Backspace"),
                    exec: function(e) {
                        e.removeToLineStart()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor"
                }, {
                    name: "removetolineend",
                    bindKey: a("Alt-Delete", "Ctrl-K"),
                    exec: function(e) {
                        e.removeToLineEnd()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor"
                }, {
                    name: "removewordleft",
                    bindKey: a("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
                    exec: function(e) {
                        e.removeWordLeft()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor"
                }, {
                    name: "removewordright",
                    bindKey: a("Ctrl-Delete", "Alt-Delete"),
                    exec: function(e) {
                        e.removeWordRight()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor"
                }, {
                    name: "outdent",
                    bindKey: a("Shift-Tab", "Shift-Tab"),
                    exec: function(e) {
                        e.blockOutdent()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "selectionPart"
                }, {
                    name: "indent",
                    bindKey: a("Tab", "Tab"),
                    exec: function(e) {
                        e.indent()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "selectionPart"
                }, {
                    name: "blockoutdent",
                    bindKey: a("Ctrl-[", "Ctrl-["),
                    exec: function(e) {
                        e.blockOutdent()
                    },
                    multiSelectAction: "forEachLine",
                    scrollIntoView: "selectionPart"
                }, {
                    name: "blockindent",
                    bindKey: a("Ctrl-]", "Ctrl-]"),
                    exec: function(e) {
                        e.blockIndent()
                    },
                    multiSelectAction: "forEachLine",
                    scrollIntoView: "selectionPart"
                }, {
                    name: "insertstring",
                    exec: function(e, t) {
                        e.insert(t)
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor"
                }, {
                    name: "inserttext",
                    exec: function(e, t) {
                        e.insert(r.stringRepeat(t.text || "", t.times || 1))
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor"
                }, {
                    name: "splitline",
                    bindKey: a(null, "Ctrl-O"),
                    exec: function(e) {
                        e.splitLine()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor"
                }, {
                    name: "transposeletters",
                    bindKey: a("Ctrl-T", "Ctrl-T"),
                    exec: function(e) {
                        e.transposeLetters()
                    },
                    multiSelectAction: function(e) {
                        e.transposeSelections(1)
                    },
                    scrollIntoView: "cursor"
                }, {
                    name: "touppercase",
                    bindKey: a("Ctrl-U", "Ctrl-U"),
                    exec: function(e) {
                        e.toUpperCase()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor"
                }, {
                    name: "tolowercase",
                    bindKey: a("Ctrl-Shift-U", "Ctrl-Shift-U"),
                    exec: function(e) {
                        e.toLowerCase()
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor"
                }, {
                    name: "expandtoline",
                    bindKey: a("Ctrl-Shift-L", "Command-Shift-L"),
                    exec: function(e) {
                        var t = e.selection.getRange();
                        t.start.column = t.end.column = 0, t.end.row++, e.selection.setRange(t, !1)
                    },
                    multiSelectAction: "forEach",
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "joinlines",
                    bindKey: a(null, null),
                    exec: function(e) {
                        for (var t = e.selection.isBackwards(), n = t ? e.selection.getSelectionLead() : e.selection.getSelectionAnchor(), i = t ? e.selection.getSelectionAnchor() : e.selection.getSelectionLead(), a = e.session.doc.getLine(n.row).length, s = e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/, " ").length, l = e.session.doc.getLine(n.row), c = n.row + 1; c <= i.row + 1; c++) {
                            var u = r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(c)));
                            0 !== u.length && (u = " " + u), l += u
                        }
                        i.row + 1 < e.session.doc.getLength() - 1 && (l += e.session.doc.getNewLineCharacter()), e.clearSelection(), e.session.doc.replace(new o(n.row, 0, i.row + 2, 0), l), s > 0 ? (e.selection.moveCursorTo(n.row, n.column), e.selection.selectTo(n.row, n.column + s)) : (a = e.session.doc.getLine(n.row).length > a ? a + 1 : a, e.selection.moveCursorTo(n.row, a))
                    },
                    multiSelectAction: "forEach",
                    readOnly: !0
                }, {
                    name: "invertSelection",
                    bindKey: a(null, null),
                    exec: function(e) {
                        var t = e.session.doc.getLength() - 1,
                            n = e.session.doc.getLine(t).length,
                            r = e.selection.rangeList.ranges,
                            i = [];
                        r.length < 1 && (r = [e.selection.getRange()]);
                        for (var a = 0; a < r.length; a++) a == r.length - 1 && (r[a].end.row === t && r[a].end.column === n || i.push(new o(r[a].end.row, r[a].end.column, t, n))), 0 === a ? 0 === r[a].start.row && 0 === r[a].start.column || i.push(new o(0, 0, r[a].start.row, r[a].start.column)) : i.push(new o(r[a - 1].end.row, r[a - 1].end.column, r[a].start.row, r[a].start.column));
                        for (e.exitMultiSelectMode(), e.clearSelection(), a = 0; a < i.length; a++) e.selection.addRange(i[a], !1)
                    },
                    readOnly: !0,
                    scrollIntoView: "none"
                }]
            }), ace.define("ace/editor", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/keyboard/textinput", "ace/mouse/mouse_handler", "ace/mouse/fold_handler", "ace/keyboard/keybinding", "ace/edit_session", "ace/search", "ace/range", "ace/lib/event_emitter", "ace/commands/command_manager", "ace/commands/default_commands", "ace/config", "ace/token_iterator"], function(e, t, n) {
                "use strict";
                e("./lib/fixoldbrowsers");
                var r = e("./lib/oop"),
                    i = e("./lib/dom"),
                    o = e("./lib/lang"),
                    a = e("./lib/useragent"),
                    s = e("./keyboard/textinput").TextInput,
                    l = e("./mouse/mouse_handler").MouseHandler,
                    c = e("./mouse/fold_handler").FoldHandler,
                    u = e("./keyboard/keybinding").KeyBinding,
                    d = e("./edit_session").EditSession,
                    h = e("./search").Search,
                    p = e("./range").Range,
                    f = e("./lib/event_emitter").EventEmitter,
                    m = e("./commands/command_manager").CommandManager,
                    g = e("./commands/default_commands").commands,
                    E = e("./config"),
                    b = e("./token_iterator").TokenIterator,
                    v = function(e, t) {
                        var n = e.getContainerElement();
                        this.container = n, this.renderer = e, this.commands = new m(a.isMac ? "mac" : "win", g), this.textInput = new s(e.getTextAreaContainer(), this), this.renderer.textarea = this.textInput.getElement(), this.keyBinding = new u(this), this.$mouseHandler = new l(this), new c(this), this.$blockScrolling = 0, this.$search = (new h).set({
                            wrap: !0
                        }), this.$historyTracker = this.$historyTracker.bind(this), this.commands.on("exec", this.$historyTracker), this.$initOperationListeners(), this._$emitInputEvent = o.delayedCall((function() {
                            this._signal("input", {}), this.session && this.session.bgTokenizer && this.session.bgTokenizer.scheduleStart()
                        }).bind(this)), this.on("change", function(e, t) {
                            t._$emitInputEvent.schedule(31)
                        }), this.setSession(t || new d("")), E.resetOptions(this), E._signal("editor", this)
                    };
                (function() {
                    r.implement(this, f), this.$initOperationListeners = function() {
                        this.selections = [], this.commands.on("exec", this.startOperation.bind(this), !0), this.commands.on("afterExec", this.endOperation.bind(this), !0), this.$opResetTimer = o.delayedCall(this.endOperation.bind(this)), this.on("change", (function() {
                            this.curOp || this.startOperation(), this.curOp.docChanged = !0
                        }).bind(this), !0), this.on("changeSelection", (function() {
                            this.curOp || this.startOperation(), this.curOp.selectionChanged = !0
                        }).bind(this), !0)
                    }, this.curOp = null, this.prevOp = {}, this.startOperation = function(e) {
                        if (this.curOp) {
                            if (!e || this.curOp.command) return;
                            this.prevOp = this.curOp
                        }
                        e || (this.previousCommand = null, e = {}), this.$opResetTimer.schedule(), this.curOp = {
                            command: e.command || {},
                            args: e.args,
                            scrollTop: this.renderer.scrollTop
                        }, this.curOp.command.name && void 0 !== this.curOp.command.scrollIntoView && this.$blockScrolling++
                    }, this.endOperation = function(e) {
                        if (this.curOp) {
                            if (e && !1 === e.returnValue) return this.curOp = null;
                            this._signal("beforeEndOperation");
                            var t = this.curOp.command;
                            t.name && this.$blockScrolling > 0 && this.$blockScrolling--;
                            var n = t && t.scrollIntoView;
                            if (n) {
                                switch (n) {
                                    case "center-animate":
                                        n = "animate";
                                    case "center":
                                        this.renderer.scrollCursorIntoView(null, .5);
                                        break;
                                    case "animate":
                                    case "cursor":
                                        this.renderer.scrollCursorIntoView();
                                        break;
                                    case "selectionPart":
                                        var r = this.selection.getRange(),
                                            i = this.renderer.layerConfig;
                                        (r.start.row >= i.lastRow || r.end.row <= i.firstRow) && this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead)
                                }
                                "animate" == n && this.renderer.animateScrolling(this.curOp.scrollTop)
                            }
                            this.prevOp = this.curOp, this.curOp = null
                        }
                    }, this.$mergeableCommands = ["backspace", "del", "insertstring"], this.$historyTracker = function(e) {
                        if (this.$mergeUndoDeltas) {
                            var t = this.prevOp,
                                n = this.$mergeableCommands,
                                r = t.command && e.command.name == t.command.name;
                            if ("insertstring" == e.command.name) {
                                var i = e.args;
                                void 0 === this.mergeNextCommand && (this.mergeNextCommand = !0), r = r && this.mergeNextCommand && (!/\s/.test(i) || /\s/.test(t.args)), this.mergeNextCommand = !0
                            } else r = r && -1 !== n.indexOf(e.command.name);
                            "always" != this.$mergeUndoDeltas && Date.now() - this.sequenceStartTime > 2e3 && (r = !1), r ? this.session.mergeUndoDeltas = !0 : -1 !== n.indexOf(e.command.name) && (this.sequenceStartTime = Date.now())
                        }
                    }, this.setKeyboardHandler = function(e, t) {
                        if (e && "string" == typeof e) {
                            this.$keybindingId = e;
                            var n = this;
                            E.loadModule(["keybinding", e], function(r) {
                                n.$keybindingId == e && n.keyBinding.setKeyboardHandler(r && r.handler), t && t()
                            })
                        } else this.$keybindingId = null, this.keyBinding.setKeyboardHandler(e), t && t()
                    }, this.getKeyboardHandler = function() {
                        return this.keyBinding.getKeyboardHandler()
                    }, this.setSession = function(e) {
                        if (this.session != e) {
                            this.curOp && this.endOperation(), this.curOp = {};
                            var t = this.session;
                            if (t) {
                                this.session.off("change", this.$onDocumentChange), this.session.off("changeMode", this.$onChangeMode), this.session.off("tokenizerUpdate", this.$onTokenizerUpdate), this.session.off("changeTabSize", this.$onChangeTabSize), this.session.off("changeWrapLimit", this.$onChangeWrapLimit), this.session.off("changeWrapMode", this.$onChangeWrapMode), this.session.off("changeFold", this.$onChangeFold), this.session.off("changeFrontMarker", this.$onChangeFrontMarker), this.session.off("changeBackMarker", this.$onChangeBackMarker), this.session.off("changeBreakpoint", this.$onChangeBreakpoint), this.session.off("changeAnnotation", this.$onChangeAnnotation), this.session.off("changeOverwrite", this.$onCursorChange), this.session.off("changeScrollTop", this.$onScrollTopChange), this.session.off("changeScrollLeft", this.$onScrollLeftChange);
                                var n = this.session.getSelection();
                                n.off("changeCursor", this.$onCursorChange), n.off("changeSelection", this.$onSelectionChange)
                            }
                            this.session = e, e ? (this.$onDocumentChange = this.onDocumentChange.bind(this), e.on("change", this.$onDocumentChange), this.renderer.setSession(e), this.$onChangeMode = this.onChangeMode.bind(this), e.on("changeMode", this.$onChangeMode), this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this), e.on("tokenizerUpdate", this.$onTokenizerUpdate), this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer), e.on("changeTabSize", this.$onChangeTabSize), this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this), e.on("changeWrapLimit", this.$onChangeWrapLimit), this.$onChangeWrapMode = this.onChangeWrapMode.bind(this), e.on("changeWrapMode", this.$onChangeWrapMode), this.$onChangeFold = this.onChangeFold.bind(this), e.on("changeFold", this.$onChangeFold), this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this), this.session.on("changeFrontMarker", this.$onChangeFrontMarker), this.$onChangeBackMarker = this.onChangeBackMarker.bind(this), this.session.on("changeBackMarker", this.$onChangeBackMarker), this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this), this.session.on("changeBreakpoint", this.$onChangeBreakpoint), this.$onChangeAnnotation = this.onChangeAnnotation.bind(this), this.session.on("changeAnnotation", this.$onChangeAnnotation), this.$onCursorChange = this.onCursorChange.bind(this), this.session.on("changeOverwrite", this.$onCursorChange), this.$onScrollTopChange = this.onScrollTopChange.bind(this), this.session.on("changeScrollTop", this.$onScrollTopChange), this.$onScrollLeftChange = this.onScrollLeftChange.bind(this), this.session.on("changeScrollLeft", this.$onScrollLeftChange), this.selection = e.getSelection(), this.selection.on("changeCursor", this.$onCursorChange), this.$onSelectionChange = this.onSelectionChange.bind(this), this.selection.on("changeSelection", this.$onSelectionChange), this.onChangeMode(), this.$blockScrolling += 1, this.onCursorChange(), this.$blockScrolling -= 1, this.onScrollTopChange(), this.onScrollLeftChange(), this.onSelectionChange(), this.onChangeFrontMarker(), this.onChangeBackMarker(), this.onChangeBreakpoint(), this.onChangeAnnotation(), this.session.getUseWrapMode() && this.renderer.adjustWrapLimit(), this.renderer.updateFull()) : (this.selection = null, this.renderer.setSession(e)), this._signal("changeSession", {
                                session: e,
                                oldSession: t
                            }), this.curOp = null, t && t._signal("changeEditor", {
                                oldEditor: this
                            }), e && e._signal("changeEditor", {
                                editor: this
                            })
                        }
                    }, this.getSession = function() {
                        return this.session
                    }, this.setValue = function(e, t) {
                        return this.session.doc.setValue(e), t ? 1 == t ? this.navigateFileEnd() : -1 == t && this.navigateFileStart() : this.selectAll(), e
                    }, this.getValue = function() {
                        return this.session.getValue()
                    }, this.getSelection = function() {
                        return this.selection
                    }, this.resize = function(e) {
                        this.renderer.onResize(e)
                    }, this.setTheme = function(e, t) {
                        this.renderer.setTheme(e, t)
                    }, this.getTheme = function() {
                        return this.renderer.getTheme()
                    }, this.setStyle = function(e) {
                        this.renderer.setStyle(e)
                    }, this.unsetStyle = function(e) {
                        this.renderer.unsetStyle(e)
                    }, this.getFontSize = function() {
                        return this.getOption("fontSize") || i.computedStyle(this.container, "fontSize")
                    }, this.setFontSize = function(e) {
                        this.setOption("fontSize", e)
                    }, this.$highlightBrackets = function() {
                        if (this.session.$bracketHighlight && (this.session.removeMarker(this.session.$bracketHighlight), this.session.$bracketHighlight = null), !this.$highlightPending) {
                            var e = this;
                            this.$highlightPending = !0, setTimeout(function() {
                                e.$highlightPending = !1;
                                var t = e.session;
                                if (t && t.bgTokenizer) {
                                    var n = t.findMatchingBracket(e.getCursorPosition());
                                    if (n) var r = new p(n.row, n.column, n.row, n.column + 1);
                                    else t.$mode.getMatching && (r = t.$mode.getMatching(e.session));
                                    r && (t.$bracketHighlight = t.addMarker(r, "ace_bracket", "text"))
                                }
                            }, 50)
                        }
                    }, this.$highlightTags = function() {
                        if (!this.$highlightTagPending) {
                            var e = this;
                            this.$highlightTagPending = !0, setTimeout(function() {
                                e.$highlightTagPending = !1;
                                var t = e.session;
                                if (t && t.bgTokenizer) {
                                    var n = e.getCursorPosition(),
                                        r = new b(e.session, n.row, n.column),
                                        i = r.getCurrentToken();
                                    if (!i || !/\b(?:tag-open|tag-name)/.test(i.type)) return t.removeMarker(t.$tagHighlight), void(t.$tagHighlight = null);
                                    if (-1 == i.type.indexOf("tag-open") || (i = r.stepForward())) {
                                        var o = i.value,
                                            a = 0,
                                            s = r.stepBackward();
                                        if ("<" == s.value)
                                            do {
                                                s = i, (i = r.stepForward()) && i.value === o && -1 !== i.type.indexOf("tag-name") && ("<" === s.value ? a++ : "</" === s.value && a--)
                                            } while (i && a >= 0);
                                        else {
                                            do {
                                                i = s, s = r.stepBackward(), i && i.value === o && -1 !== i.type.indexOf("tag-name") && ("<" === s.value ? a++ : "</" === s.value && a--)
                                            } while (s && a <= 0);
                                            r.stepForward()
                                        }
                                        if (!i) return t.removeMarker(t.$tagHighlight), void(t.$tagHighlight = null);
                                        var l = r.getCurrentTokenRow(),
                                            c = r.getCurrentTokenColumn(),
                                            u = new p(l, c, l, c + i.value.length),
                                            d = t.$backMarkers[t.$tagHighlight];
                                        t.$tagHighlight && void 0 != d && 0 !== u.compareRange(d.range) && (t.removeMarker(t.$tagHighlight), t.$tagHighlight = null), u && !t.$tagHighlight && (t.$tagHighlight = t.addMarker(u, "ace_bracket", "text"))
                                    }
                                }
                            }, 50)
                        }
                    }, this.focus = function() {
                        var e = this;
                        setTimeout(function() {
                            e.textInput.focus()
                        }), this.textInput.focus()
                    }, this.isFocused = function() {
                        return this.textInput.isFocused()
                    }, this.blur = function() {
                        this.textInput.blur()
                    }, this.onFocus = function(e) {
                        this.$isFocused || (this.$isFocused = !0, this.renderer.showCursor(), this.renderer.visualizeFocus(), this._emit("focus", e))
                    }, this.onBlur = function(e) {
                        this.$isFocused && (this.$isFocused = !1, this.renderer.hideCursor(), this.renderer.visualizeBlur(), this._emit("blur", e))
                    }, this.$cursorChange = function() {
                        this.renderer.updateCursor()
                    }, this.onDocumentChange = function(e) {
                        this.renderer.updateLines(e.start.row, e.start.row == e.end.row ? e.end.row : 1 / 0, this.session.$useWrapMode), this._signal("change", e), this.$cursorChange(), this.$updateHighlightActiveLine()
                    }, this.onTokenizerUpdate = function(e) {
                        var t = e.data;
                        this.renderer.updateLines(t.first, t.last)
                    }, this.onScrollTopChange = function() {
                        this.renderer.scrollToY(this.session.getScrollTop())
                    }, this.onScrollLeftChange = function() {
                        this.renderer.scrollToX(this.session.getScrollLeft())
                    }, this.onCursorChange = function() {
                        this.$cursorChange(), this.$blockScrolling || (E.warn("Automatically scrolling cursor into view after selection change", "this will be disabled in the next version", "set editor.$blockScrolling = Infinity to disable this message"), this.renderer.scrollCursorIntoView()), this.$highlightBrackets(), this.$highlightTags(), this.$updateHighlightActiveLine(), this._signal("changeSelection")
                    }, this.$updateHighlightActiveLine = function() {
                        var e, t = this.getSession();
                        if (this.$highlightActiveLine && ("line" == this.$selectionStyle && this.selection.isMultiLine() || (e = this.getCursorPosition()), !this.renderer.$maxLines || 1 !== this.session.getLength() || this.renderer.$minLines > 1 || (e = !1)), t.$highlightLineMarker && !e) t.removeMarker(t.$highlightLineMarker.id), t.$highlightLineMarker = null;
                        else if (!t.$highlightLineMarker && e) {
                            var n = new p(e.row, e.column, e.row, 1 / 0);
                            n.id = t.addMarker(n, "ace_active-line", "screenLine"), t.$highlightLineMarker = n
                        } else e && (t.$highlightLineMarker.start.row = e.row, t.$highlightLineMarker.end.row = e.row, t.$highlightLineMarker.start.column = e.column, t._signal("changeBackMarker"))
                    }, this.onSelectionChange = function(e) {
                        var t = this.session;
                        if (t.$selectionMarker && t.removeMarker(t.$selectionMarker), t.$selectionMarker = null, this.selection.isEmpty()) this.$updateHighlightActiveLine();
                        else {
                            var n = this.selection.getRange(),
                                r = this.getSelectionStyle();
                            t.$selectionMarker = t.addMarker(n, "ace_selection", r)
                        }
                        var i = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();
                        this.session.highlight(i), this._signal("changeSelection")
                    }, this.$getSelectionHighLightRegexp = function() {
                        var e = this.session,
                            t = this.getSelectionRange();
                        if (!t.isEmpty() && !t.isMultiLine()) {
                            var n = t.start.column - 1,
                                r = t.end.column + 1,
                                i = e.getLine(t.start.row),
                                o = i.length,
                                a = i.substring(Math.max(n, 0), Math.min(r, o));
                            if (!(n >= 0 && /^[\w\d]/.test(a) || r <= o && /[\w\d]$/.test(a)) && (a = i.substring(t.start.column, t.end.column), /^[\w\d]+$/.test(a))) return this.$search.$assembleRegExp({
                                wholeWord: !0,
                                caseSensitive: !0,
                                needle: a
                            })
                        }
                    }, this.onChangeFrontMarker = function() {
                        this.renderer.updateFrontMarkers()
                    }, this.onChangeBackMarker = function() {
                        this.renderer.updateBackMarkers()
                    }, this.onChangeBreakpoint = function() {
                        this.renderer.updateBreakpoints()
                    }, this.onChangeAnnotation = function() {
                        this.renderer.setAnnotations(this.session.getAnnotations())
                    }, this.onChangeMode = function(e) {
                        this.renderer.updateText(), this._emit("changeMode", e)
                    }, this.onChangeWrapLimit = function() {
                        this.renderer.updateFull()
                    }, this.onChangeWrapMode = function() {
                        this.renderer.onResize(!0)
                    }, this.onChangeFold = function() {
                        this.$updateHighlightActiveLine(), this.renderer.updateFull()
                    }, this.getSelectedText = function() {
                        return this.session.getTextRange(this.getSelectionRange())
                    }, this.getCopyText = function() {
                        var e = this.getSelectedText();
                        return this._signal("copy", e), e
                    }, this.onCopy = function() {
                        this.commands.exec("copy", this)
                    }, this.onCut = function() {
                        this.commands.exec("cut", this)
                    }, this.onPaste = function(e, t) {
                        this.commands.exec("paste", this, {
                            text: e,
                            event: t
                        })
                    }, this.$handlePaste = function(e) {
                        "string" == typeof e && (e = {
                            text: e
                        }), this._signal("paste", e);
                        var t = e.text;
                        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) this.insert(t);
                        else {
                            var n = t.split(/\r\n|\r|\n/),
                                r = this.selection.rangeList.ranges;
                            if (n.length > r.length || n.length < 2 || !n[1]) return this.commands.exec("insertstring", this, t);
                            for (var i = r.length; i--;) {
                                var o = r[i];
                                o.isEmpty() || this.session.remove(o), this.session.insert(o.start, n[i])
                            }
                        }
                    }, this.execCommand = function(e, t) {
                        return this.commands.exec(e, this, t)
                    }, this.insert = function(e, t) {
                        var n = this.session,
                            r = n.getMode(),
                            i = this.getCursorPosition();
                        if (this.getBehavioursEnabled() && !t) {
                            var o = r.transformAction(n.getState(i.row), "insertion", this, n, e);
                            o && (e !== o.text && (this.session.mergeUndoDeltas = !1, this.$mergeNextCommand = !1), e = o.text)
                        }
                        if ("\t" == e && (e = this.session.getTabString()), this.selection.isEmpty()) this.session.getOverwrite() && ((a = new p.fromPoints(i, i)).end.column += e.length, this.session.remove(a));
                        else {
                            var a = this.getSelectionRange();
                            i = this.session.remove(a), this.clearSelection()
                        }
                        if ("\n" == e || "\r\n" == e) {
                            var s = n.getLine(i.row);
                            if (i.column > s.search(/\S|$/)) {
                                var l = s.substr(i.column).search(/\S|$/);
                                n.doc.removeInLine(i.row, i.column, i.column + l)
                            }
                        }
                        this.clearSelection();
                        var c = i.column,
                            u = n.getState(i.row),
                            d = (s = n.getLine(i.row), r.checkOutdent(u, s, e));
                        if (n.insert(i, e), o && o.selection && this.selection.setSelectionRange(2 == o.selection.length ? new p(i.row, c + o.selection[0], i.row, c + o.selection[1]) : new p(i.row + o.selection[0], o.selection[1], i.row + o.selection[2], o.selection[3])), n.getDocument().isNewLine(e)) {
                            var h = r.getNextLineIndent(u, s.slice(0, i.column), n.getTabString());
                            n.insert({
                                row: i.row + 1,
                                column: 0
                            }, h)
                        }
                        d && r.autoOutdent(u, n, i.row)
                    }, this.onTextInput = function(e) {
                        this.keyBinding.onTextInput(e)
                    }, this.onCommandKey = function(e, t, n) {
                        this.keyBinding.onCommandKey(e, t, n)
                    }, this.setOverwrite = function(e) {
                        this.session.setOverwrite(e)
                    }, this.getOverwrite = function() {
                        return this.session.getOverwrite()
                    }, this.toggleOverwrite = function() {
                        this.session.toggleOverwrite()
                    }, this.setScrollSpeed = function(e) {
                        this.setOption("scrollSpeed", e)
                    }, this.getScrollSpeed = function() {
                        return this.getOption("scrollSpeed")
                    }, this.setDragDelay = function(e) {
                        this.setOption("dragDelay", e)
                    }, this.getDragDelay = function() {
                        return this.getOption("dragDelay")
                    }, this.setSelectionStyle = function(e) {
                        this.setOption("selectionStyle", e)
                    }, this.getSelectionStyle = function() {
                        return this.getOption("selectionStyle")
                    }, this.setHighlightActiveLine = function(e) {
                        this.setOption("highlightActiveLine", e)
                    }, this.getHighlightActiveLine = function() {
                        return this.getOption("highlightActiveLine")
                    }, this.setHighlightGutterLine = function(e) {
                        this.setOption("highlightGutterLine", e)
                    }, this.getHighlightGutterLine = function() {
                        return this.getOption("highlightGutterLine")
                    }, this.setHighlightSelectedWord = function(e) {
                        this.setOption("highlightSelectedWord", e)
                    }, this.getHighlightSelectedWord = function() {
                        return this.$highlightSelectedWord
                    }, this.setAnimatedScroll = function(e) {
                        this.renderer.setAnimatedScroll(e)
                    }, this.getAnimatedScroll = function() {
                        return this.renderer.getAnimatedScroll()
                    }, this.setShowInvisibles = function(e) {
                        this.renderer.setShowInvisibles(e)
                    }, this.getShowInvisibles = function() {
                        return this.renderer.getShowInvisibles()
                    }, this.setDisplayIndentGuides = function(e) {
                        this.renderer.setDisplayIndentGuides(e)
                    }, this.getDisplayIndentGuides = function() {
                        return this.renderer.getDisplayIndentGuides()
                    }, this.setShowPrintMargin = function(e) {
                        this.renderer.setShowPrintMargin(e)
                    }, this.getShowPrintMargin = function() {
                        return this.renderer.getShowPrintMargin()
                    }, this.setPrintMarginColumn = function(e) {
                        this.renderer.setPrintMarginColumn(e)
                    }, this.getPrintMarginColumn = function() {
                        return this.renderer.getPrintMarginColumn()
                    }, this.setReadOnly = function(e) {
                        this.setOption("readOnly", e)
                    }, this.getReadOnly = function() {
                        return this.getOption("readOnly")
                    }, this.setBehavioursEnabled = function(e) {
                        this.setOption("behavioursEnabled", e)
                    }, this.getBehavioursEnabled = function() {
                        return this.getOption("behavioursEnabled")
                    }, this.setWrapBehavioursEnabled = function(e) {
                        this.setOption("wrapBehavioursEnabled", e)
                    }, this.getWrapBehavioursEnabled = function() {
                        return this.getOption("wrapBehavioursEnabled")
                    }, this.setShowFoldWidgets = function(e) {
                        this.setOption("showFoldWidgets", e)
                    }, this.getShowFoldWidgets = function() {
                        return this.getOption("showFoldWidgets")
                    }, this.setFadeFoldWidgets = function(e) {
                        this.setOption("fadeFoldWidgets", e)
                    }, this.getFadeFoldWidgets = function() {
                        return this.getOption("fadeFoldWidgets")
                    }, this.remove = function(e) {
                        this.selection.isEmpty() && ("left" == e ? this.selection.selectLeft() : this.selection.selectRight());
                        var t = this.getSelectionRange();
                        if (this.getBehavioursEnabled()) {
                            var n = this.session,
                                r = n.getState(t.start.row),
                                i = n.getMode().transformAction(r, "deletion", this, n, t);
                            if (0 === t.end.column) {
                                var o = n.getTextRange(t);
                                if ("\n" == o[o.length - 1]) {
                                    var a = n.getLine(t.end.row);
                                    /^\s+$/.test(a) && (t.end.column = a.length)
                                }
                            }
                            i && (t = i)
                        }
                        this.session.remove(t), this.clearSelection()
                    }, this.removeWordRight = function() {
                        this.selection.isEmpty() && this.selection.selectWordRight(), this.session.remove(this.getSelectionRange()), this.clearSelection()
                    }, this.removeWordLeft = function() {
                        this.selection.isEmpty() && this.selection.selectWordLeft(), this.session.remove(this.getSelectionRange()), this.clearSelection()
                    }, this.removeToLineStart = function() {
                        this.selection.isEmpty() && this.selection.selectLineStart(), this.session.remove(this.getSelectionRange()), this.clearSelection()
                    }, this.removeToLineEnd = function() {
                        this.selection.isEmpty() && this.selection.selectLineEnd();
                        var e = this.getSelectionRange();
                        e.start.column == e.end.column && e.start.row == e.end.row && (e.end.column = 0, e.end.row++), this.session.remove(e), this.clearSelection()
                    }, this.splitLine = function() {
                        this.selection.isEmpty() || (this.session.remove(this.getSelectionRange()), this.clearSelection());
                        var e = this.getCursorPosition();
                        this.insert("\n"), this.moveCursorToPosition(e)
                    }, this.transposeLetters = function() {
                        if (this.selection.isEmpty()) {
                            var e = this.getCursorPosition(),
                                t = e.column;
                            if (0 !== t) {
                                var n, r, i = this.session.getLine(e.row);
                                t < i.length ? (n = i.charAt(t) + i.charAt(t - 1), r = new p(e.row, t - 1, e.row, t + 1)) : (n = i.charAt(t - 1) + i.charAt(t - 2), r = new p(e.row, t - 2, e.row, t)), this.session.replace(r, n)
                            }
                        }
                    }, this.toLowerCase = function() {
                        var e = this.getSelectionRange();
                        this.selection.isEmpty() && this.selection.selectWord();
                        var t = this.getSelectionRange(),
                            n = this.session.getTextRange(t);
                        this.session.replace(t, n.toLowerCase()), this.selection.setSelectionRange(e)
                    }, this.toUpperCase = function() {
                        var e = this.getSelectionRange();
                        this.selection.isEmpty() && this.selection.selectWord();
                        var t = this.getSelectionRange(),
                            n = this.session.getTextRange(t);
                        this.session.replace(t, n.toUpperCase()), this.selection.setSelectionRange(e)
                    }, this.indent = function() {
                        var e = this.session,
                            t = this.getSelectionRange();
                        if (!(t.start.row < t.end.row)) {
                            if (t.start.column < t.end.column) {
                                var n = e.getTextRange(t);
                                if (!/^\s+$/.test(n)) return u = this.$getSelectedRows(), void e.indentRows(u.first, u.last, "\t")
                            }
                            var r = e.getLine(t.start.row),
                                i = t.start,
                                a = e.getTabSize(),
                                s = e.documentToScreenColumn(i.row, i.column);
                            if (this.session.getUseSoftTabs()) var l = o.stringRepeat(" ", c = a - s % a);
                            else {
                                for (var c = s % a;
                                    " " == r[t.start.column - 1] && c;) t.start.column--, c--;
                                this.selection.setSelectionRange(t), l = "\t"
                            }
                            return this.insert(l)
                        }
                        var u = this.$getSelectedRows();
                        e.indentRows(u.first, u.last, "\t")
                    }, this.blockIndent = function() {
                        var e = this.$getSelectedRows();
                        this.session.indentRows(e.first, e.last, "\t")
                    }, this.blockOutdent = function() {
                        var e = this.session.getSelection();
                        this.session.outdentRows(e.getRange())
                    }, this.sortLines = function() {
                        var e = this.$getSelectedRows(),
                            t = this.session,
                            n = [];
                        for (i = e.first; i <= e.last; i++) n.push(t.getLine(i));
                        n.sort(function(e, t) {
                            return e.toLowerCase() < t.toLowerCase() ? -1 : e.toLowerCase() > t.toLowerCase() ? 1 : 0
                        });
                        for (var r = new p(0, 0, 0, 0), i = e.first; i <= e.last; i++) {
                            var o = t.getLine(i);
                            r.start.row = i, r.end.row = i, r.end.column = o.length, t.replace(r, n[i - e.first])
                        }
                    }, this.toggleCommentLines = function() {
                        var e = this.session.getState(this.getCursorPosition().row),
                            t = this.$getSelectedRows();
                        this.session.getMode().toggleCommentLines(e, this.session, t.first, t.last)
                    }, this.toggleBlockComment = function() {
                        var e = this.getCursorPosition(),
                            t = this.session.getState(e.row),
                            n = this.getSelectionRange();
                        this.session.getMode().toggleBlockComment(t, this.session, n, e)
                    }, this.getNumberAt = function(e, t) {
                        var n = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
                        n.lastIndex = 0;
                        for (var r = this.session.getLine(e); n.lastIndex < t;) {
                            var i = n.exec(r);
                            if (i.index <= t && i.index + i[0].length >= t) return {
                                value: i[0],
                                start: i.index,
                                end: i.index + i[0].length
                            }
                        }
                        return null
                    }, this.modifyNumber = function(e) {
                        var t = this.selection.getCursor().row,
                            n = this.selection.getCursor().column,
                            r = new p(t, n - 1, t, n),
                            i = this.session.getTextRange(r);
                        if (!isNaN(parseFloat(i)) && isFinite(i)) {
                            var o = this.getNumberAt(t, n);
                            if (o) {
                                var a = o.value.indexOf(".") >= 0 ? o.start + o.value.indexOf(".") + 1 : o.end,
                                    s = o.start + o.value.length - a,
                                    l = parseFloat(o.value);
                                l *= Math.pow(10, s), l += e *= a !== o.end && n < a ? Math.pow(10, o.end - n - 1) : Math.pow(10, o.end - n);
                                var c = (l /= Math.pow(10, s)).toFixed(s),
                                    u = new p(t, o.start, t, o.end);
                                this.session.replace(u, c), this.moveCursorTo(t, Math.max(o.start + 1, n + c.length - o.value.length))
                            }
                        }
                    }, this.removeLines = function() {
                        var e = this.$getSelectedRows();
                        this.session.removeFullLines(e.first, e.last), this.clearSelection()
                    }, this.duplicateSelection = function() {
                        var e = this.selection,
                            t = this.session,
                            n = e.getRange(),
                            r = e.isBackwards();
                        if (n.isEmpty()) {
                            var i = n.start.row;
                            t.duplicateLines(i, i)
                        } else {
                            var o = r ? n.start : n.end,
                                a = t.insert(o, t.getTextRange(n), !1);
                            n.start = o, n.end = a, e.setSelectionRange(n, r)
                        }
                    }, this.moveLinesDown = function() {
                        this.$moveLines(1, !1)
                    }, this.moveLinesUp = function() {
                        this.$moveLines(-1, !1)
                    }, this.moveText = function(e, t, n) {
                        return this.session.moveText(e, t, n)
                    }, this.copyLinesUp = function() {
                        this.$moveLines(-1, !0)
                    }, this.copyLinesDown = function() {
                        this.$moveLines(1, !0)
                    }, this.$moveLines = function(e, t) {
                        var n, r, i = this.selection;
                        if (!i.inMultiSelectMode || this.inVirtualSelectionMode) {
                            var o = i.toOrientedRange();
                            n = this.$getSelectedRows(o), r = this.session.$moveLines(n.first, n.last, t ? 0 : e), t && -1 == e && (r = 0), o.moveBy(r, 0), i.fromOrientedRange(o)
                        } else {
                            var a = i.rangeList.ranges;
                            i.rangeList.detach(this.session), this.inVirtualSelectionMode = !0;
                            for (var s = 0, l = 0, c = a.length, u = 0; u < c; u++) {
                                var d = u;
                                a[u].moveBy(s, 0);
                                for (var h = (n = this.$getSelectedRows(a[u])).first, p = n.last; ++u < c;) {
                                    l && a[u].moveBy(l, 0);
                                    var f = this.$getSelectedRows(a[u]);
                                    if (t && f.first != p) break;
                                    if (!t && f.first > p + 1) break;
                                    p = f.last
                                }
                                for (u--, s = this.session.$moveLines(h, p, t ? 0 : e), t && -1 == e && (d = u + 1); d <= u;) a[d].moveBy(s, 0), d++;
                                t || (s = 0), l += s
                            }
                            i.fromOrientedRange(i.ranges[0]), i.rangeList.attach(this.session), this.inVirtualSelectionMode = !1
                        }
                    }, this.$getSelectedRows = function(e) {
                        return e = (e || this.getSelectionRange()).collapseRows(), {
                            first: this.session.getRowFoldStart(e.start.row),
                            last: this.session.getRowFoldEnd(e.end.row)
                        }
                    }, this.onCompositionStart = function(e) {
                        this.renderer.showComposition(this.getCursorPosition())
                    }, this.onCompositionUpdate = function(e) {
                        this.renderer.setCompositionText(e)
                    }, this.onCompositionEnd = function() {
                        this.renderer.hideComposition()
                    }, this.getFirstVisibleRow = function() {
                        return this.renderer.getFirstVisibleRow()
                    }, this.getLastVisibleRow = function() {
                        return this.renderer.getLastVisibleRow()
                    }, this.isRowVisible = function(e) {
                        return e >= this.getFirstVisibleRow() && e <= this.getLastVisibleRow()
                    }, this.isRowFullyVisible = function(e) {
                        return e >= this.renderer.getFirstFullyVisibleRow() && e <= this.renderer.getLastFullyVisibleRow()
                    }, this.$getVisibleRowCount = function() {
                        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1
                    }, this.$moveByPage = function(e, t) {
                        var n = this.renderer,
                            r = this.renderer.layerConfig,
                            i = e * Math.floor(r.height / r.lineHeight);
                        this.$blockScrolling++, !0 === t ? this.selection.$moveSelection(function() {
                            this.moveCursorBy(i, 0)
                        }) : !1 === t && (this.selection.moveCursorBy(i, 0), this.selection.clearSelection()), this.$blockScrolling--;
                        var o = n.scrollTop;
                        n.scrollBy(0, i * r.lineHeight), null != t && n.scrollCursorIntoView(null, .5), n.animateScrolling(o)
                    }, this.selectPageDown = function() {
                        this.$moveByPage(1, !0)
                    }, this.selectPageUp = function() {
                        this.$moveByPage(-1, !0)
                    }, this.gotoPageDown = function() {
                        this.$moveByPage(1, !1)
                    }, this.gotoPageUp = function() {
                        this.$moveByPage(-1, !1)
                    }, this.scrollPageDown = function() {
                        this.$moveByPage(1)
                    }, this.scrollPageUp = function() {
                        this.$moveByPage(-1)
                    }, this.scrollToRow = function(e) {
                        this.renderer.scrollToRow(e)
                    }, this.scrollToLine = function(e, t, n, r) {
                        this.renderer.scrollToLine(e, t, n, r)
                    }, this.centerSelection = function() {
                        var e = this.getSelectionRange(),
                            t = {
                                row: Math.floor(e.start.row + (e.end.row - e.start.row) / 2),
                                column: Math.floor(e.start.column + (e.end.column - e.start.column) / 2)
                            };
                        this.renderer.alignCursor(t, .5)
                    }, this.getCursorPosition = function() {
                        return this.selection.getCursor()
                    }, this.getCursorPositionScreen = function() {
                        return this.session.documentToScreenPosition(this.getCursorPosition())
                    }, this.getSelectionRange = function() {
                        return this.selection.getRange()
                    }, this.selectAll = function() {
                        this.$blockScrolling += 1, this.selection.selectAll(), this.$blockScrolling -= 1
                    }, this.clearSelection = function() {
                        this.selection.clearSelection()
                    }, this.moveCursorTo = function(e, t) {
                        this.selection.moveCursorTo(e, t)
                    }, this.moveCursorToPosition = function(e) {
                        this.selection.moveCursorToPosition(e)
                    }, this.jumpToMatching = function(e, t) {
                        var n = this.getCursorPosition(),
                            r = new b(this.session, n.row, n.column),
                            i = r.getCurrentToken(),
                            o = i || r.stepForward();
                        if (o) {
                            var a, s, l = !1,
                                c = {},
                                u = n.column - o.start,
                                d = {
                                    ")": "(",
                                    "(": "(",
                                    "]": "[",
                                    "[": "[",
                                    "{": "{",
                                    "}": "{"
                                };
                            do {
                                if (o.value.match(/[{}()\[\]]/g)) {
                                    for (; u < o.value.length && !l; u++)
                                        if (d[o.value[u]]) switch (s = d[o.value[u]] + "." + o.type.replace("rparen", "lparen"), isNaN(c[s]) && (c[s] = 0), o.value[u]) {
                                            case "(":
                                            case "[":
                                            case "{":
                                                c[s]++;
                                                break;
                                            case ")":
                                            case "]":
                                            case "}":
                                                c[s]--, -1 === c[s] && (a = "bracket", l = !0)
                                        }
                                } else o && -1 !== o.type.indexOf("tag-name") && (isNaN(c[o.value]) && (c[o.value] = 0), "<" === i.value ? c[o.value]++ : "</" === i.value && c[o.value]--, -1 === c[o.value] && (a = "tag", l = !0));
                                l || (i = o, o = r.stepForward(), u = 0)
                            } while (o && !l);
                            if (a) {
                                var h, f;
                                if ("bracket" === a)(h = this.session.getBracketRange(n)) || (f = (h = new p(r.getCurrentTokenRow(), r.getCurrentTokenColumn() + u - 1, r.getCurrentTokenRow(), r.getCurrentTokenColumn() + u - 1)).start, (t || f.row === n.row && Math.abs(f.column - n.column) < 2) && (h = this.session.getBracketRange(f)));
                                else if ("tag" === a) {
                                    if (!o || -1 === o.type.indexOf("tag-name")) return;
                                    var m = o.value;
                                    if (0 === (h = new p(r.getCurrentTokenRow(), r.getCurrentTokenColumn() - 2, r.getCurrentTokenRow(), r.getCurrentTokenColumn() - 2)).compare(n.row, n.column)) {
                                        l = !1;
                                        do {
                                            o = i, (i = r.stepBackward()) && (-1 !== i.type.indexOf("tag-close") && h.setEnd(r.getCurrentTokenRow(), r.getCurrentTokenColumn() + 1), o.value === m && -1 !== o.type.indexOf("tag-name") && ("<" === i.value ? c[m]++ : "</" === i.value && c[m]--, 0 === c[m] && (l = !0)))
                                        } while (i && !l)
                                    }
                                    o && o.type.indexOf("tag-name") && (f = h.start).row == n.row && Math.abs(f.column - n.column) < 2 && (f = h.end)
                                }(f = h && h.cursor || f) && (e ? h && t ? this.selection.setRange(h) : h && h.isEqual(this.getSelectionRange()) ? this.clearSelection() : this.selection.selectTo(f.row, f.column) : this.selection.moveTo(f.row, f.column))
                            }
                        }
                    }, this.gotoLine = function(e, t, n) {
                        this.selection.clearSelection(), this.session.unfold({
                            row: e - 1,
                            column: t || 0
                        }), this.$blockScrolling += 1, this.exitMultiSelectMode && this.exitMultiSelectMode(), this.moveCursorTo(e - 1, t || 0), this.$blockScrolling -= 1, this.isRowFullyVisible(e - 1) || this.scrollToLine(e - 1, !0, n)
                    }, this.navigateTo = function(e, t) {
                        this.selection.moveTo(e, t)
                    }, this.navigateUp = function(e) {
                        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
                            var t = this.selection.anchor.getPosition();
                            return this.moveCursorToPosition(t)
                        }
                        this.selection.clearSelection(), this.selection.moveCursorBy(-e || -1, 0)
                    }, this.navigateDown = function(e) {
                        if (this.selection.isMultiLine() && this.selection.isBackwards()) {
                            var t = this.selection.anchor.getPosition();
                            return this.moveCursorToPosition(t)
                        }
                        this.selection.clearSelection(), this.selection.moveCursorBy(e || 1, 0)
                    }, this.navigateLeft = function(e) {
                        if (this.selection.isEmpty())
                            for (e = e || 1; e--;) this.selection.moveCursorLeft();
                        else {
                            var t = this.getSelectionRange().start;
                            this.moveCursorToPosition(t)
                        }
                        this.clearSelection()
                    }, this.navigateRight = function(e) {
                        if (this.selection.isEmpty())
                            for (e = e || 1; e--;) this.selection.moveCursorRight();
                        else {
                            var t = this.getSelectionRange().end;
                            this.moveCursorToPosition(t)
                        }
                        this.clearSelection()
                    }, this.navigateLineStart = function() {
                        this.selection.moveCursorLineStart(), this.clearSelection()
                    }, this.navigateLineEnd = function() {
                        this.selection.moveCursorLineEnd(), this.clearSelection()
                    }, this.navigateFileEnd = function() {
                        this.selection.moveCursorFileEnd(), this.clearSelection()
                    }, this.navigateFileStart = function() {
                        this.selection.moveCursorFileStart(), this.clearSelection()
                    }, this.navigateWordRight = function() {
                        this.selection.moveCursorWordRight(), this.clearSelection()
                    }, this.navigateWordLeft = function() {
                        this.selection.moveCursorWordLeft(), this.clearSelection()
                    }, this.replace = function(e, t) {
                        t && this.$search.set(t);
                        var n = this.$search.find(this.session),
                            r = 0;
                        return n ? (this.$tryReplace(n, e) && (r = 1), null !== n && (this.selection.setSelectionRange(n), this.renderer.scrollSelectionIntoView(n.start, n.end)), r) : r
                    }, this.replaceAll = function(e, t) {
                        t && this.$search.set(t);
                        var n = this.$search.findAll(this.session),
                            r = 0;
                        if (!n.length) return r;
                        this.$blockScrolling += 1;
                        var i = this.getSelectionRange();
                        this.selection.moveTo(0, 0);
                        for (var o = n.length - 1; o >= 0; --o) this.$tryReplace(n[o], e) && r++;
                        return this.selection.setSelectionRange(i), this.$blockScrolling -= 1, r
                    }, this.$tryReplace = function(e, t) {
                        var n = this.session.getTextRange(e);
                        return null !== (t = this.$search.replace(n, t)) ? (e.end = this.session.replace(e, t), e) : null
                    }, this.getLastSearchOptions = function() {
                        return this.$search.getOptions()
                    }, this.find = function(e, t, n) {
                        t || (t = {}), "string" == typeof e || e instanceof RegExp ? t.needle = e : "object" == typeof e && r.mixin(t, e);
                        var i = this.selection.getRange();
                        null == t.needle && ((e = this.session.getTextRange(i) || this.$search.$options.needle) || (i = this.session.getWordRange(i.start.row, i.start.column), e = this.session.getTextRange(i)), this.$search.set({
                            needle: e
                        })), this.$search.set(t), t.start || this.$search.set({
                            start: i
                        });
                        var o = this.$search.find(this.session);
                        return t.preventScroll ? o : o ? (this.revealRange(o, n), o) : (t.backwards ? i.start = i.end : i.end = i.start, void this.selection.setRange(i))
                    }, this.findNext = function(e, t) {
                        this.find({
                            skipCurrent: !0,
                            backwards: !1
                        }, e, t)
                    }, this.findPrevious = function(e, t) {
                        this.find(e, {
                            skipCurrent: !0,
                            backwards: !0
                        }, t)
                    }, this.revealRange = function(e, t) {
                        this.$blockScrolling += 1, this.session.unfold(e), this.selection.setSelectionRange(e), this.$blockScrolling -= 1;
                        var n = this.renderer.scrollTop;
                        this.renderer.scrollSelectionIntoView(e.start, e.end, .5), !1 !== t && this.renderer.animateScrolling(n)
                    }, this.undo = function() {
                        this.$blockScrolling++, this.session.getUndoManager().undo(), this.$blockScrolling--, this.renderer.scrollCursorIntoView(null, .5)
                    }, this.redo = function() {
                        this.$blockScrolling++, this.session.getUndoManager().redo(), this.$blockScrolling--, this.renderer.scrollCursorIntoView(null, .5)
                    }, this.destroy = function() {
                        this.renderer.destroy(), this._signal("destroy", this), this.session && this.session.destroy()
                    }, this.setAutoScrollEditorIntoView = function(e) {
                        if (e) {
                            var t, n = this,
                                r = !1;
                            this.$scrollAnchor || (this.$scrollAnchor = document.createElement("div"));
                            var i = this.$scrollAnchor;
                            i.style.cssText = "position:absolute", this.container.insertBefore(i, this.container.firstChild);
                            var o = this.on("changeSelection", function() {
                                    r = !0
                                }),
                                a = this.renderer.on("beforeRender", function() {
                                    r && (t = n.renderer.container.getBoundingClientRect())
                                }),
                                s = this.renderer.on("afterRender", function() {
                                    if (r && t && (n.isFocused() || n.searchBox && n.searchBox.isFocused())) {
                                        var e = n.renderer,
                                            o = e.$cursorLayer.$pixelPos,
                                            a = e.layerConfig,
                                            s = o.top - a.offset;
                                        null != (r = o.top >= 0 && s + t.top < 0 || !(o.top < a.height && o.top + t.top + a.lineHeight > window.innerHeight) && null) && (i.style.top = s + "px", i.style.left = o.left + "px", i.style.height = a.lineHeight + "px", i.scrollIntoView(r)), r = t = null
                                    }
                                });
                            this.setAutoScrollEditorIntoView = function(e) {
                                e || (delete this.setAutoScrollEditorIntoView, this.off("changeSelection", o), this.renderer.off("afterRender", s), this.renderer.off("beforeRender", a))
                            }
                        }
                    }, this.$resetCursorStyle = function() {
                        var e = this.$cursorStyle || "ace",
                            t = this.renderer.$cursorLayer;
                        t && (t.setSmoothBlinking(/smooth/.test(e)), t.isBlinking = !this.$readOnly && "wide" != e, i.setCssClass(t.element, "ace_slim-cursors", /slim/.test(e)))
                    }
                }).call(v.prototype), E.defineOptions(v.prototype, "editor", {
                    selectionStyle: {
                        set: function(e) {
                            this.onSelectionChange(), this._signal("changeSelectionStyle", {
                                data: e
                            })
                        },
                        initialValue: "line"
                    },
                    highlightActiveLine: {
                        set: function() {
                            this.$updateHighlightActiveLine()
                        },
                        initialValue: !0
                    },
                    highlightSelectedWord: {
                        set: function(e) {
                            this.$onSelectionChange()
                        },
                        initialValue: !0
                    },
                    readOnly: {
                        set: function(e) {
                            this.$resetCursorStyle()
                        },
                        initialValue: !1
                    },
                    cursorStyle: {
                        set: function(e) {
                            this.$resetCursorStyle()
                        },
                        values: ["ace", "slim", "smooth", "wide"],
                        initialValue: "ace"
                    },
                    mergeUndoDeltas: {
                        values: [!1, !0, "always"],
                        initialValue: !0
                    },
                    behavioursEnabled: {
                        initialValue: !0
                    },
                    wrapBehavioursEnabled: {
                        initialValue: !0
                    },
                    autoScrollEditorIntoView: {
                        set: function(e) {
                            this.setAutoScrollEditorIntoView(e)
                        }
                    },
                    keyboardHandler: {
                        set: function(e) {
                            this.setKeyboardHandler(e)
                        },
                        get: function() {
                            return this.keybindingId
                        },
                        handlesSet: !0
                    },
                    hScrollBarAlwaysVisible: "renderer",
                    vScrollBarAlwaysVisible: "renderer",
                    highlightGutterLine: "renderer",
                    animatedScroll: "renderer",
                    showInvisibles: "renderer",
                    showPrintMargin: "renderer",
                    printMarginColumn: "renderer",
                    printMargin: "renderer",
                    fadeFoldWidgets: "renderer",
                    showFoldWidgets: "renderer",
                    showLineNumbers: "renderer",
                    showGutter: "renderer",
                    displayIndentGuides: "renderer",
                    fontSize: "renderer",
                    fontFamily: "renderer",
                    maxLines: "renderer",
                    minLines: "renderer",
                    scrollPastEnd: "renderer",
                    fixedWidthGutter: "renderer",
                    theme: "renderer",
                    scrollSpeed: "$mouseHandler",
                    dragDelay: "$mouseHandler",
                    dragEnabled: "$mouseHandler",
                    focusTimout: "$mouseHandler",
                    tooltipFollowsMouse: "$mouseHandler",
                    firstLineNumber: "session",
                    overwrite: "session",
                    newLineMode: "session",
                    useWorker: "session",
                    useSoftTabs: "session",
                    tabSize: "session",
                    wrap: "session",
                    indentedSoftWrap: "session",
                    foldStyle: "session",
                    mode: "session"
                }), t.Editor = v
            }), ace.define("ace/undomanager", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                var r = function() {
                    this.reset()
                };
                (function() {
                    function e(e) {
                        return {
                            action: e.action,
                            start: e.start,
                            end: e.end,
                            lines: 1 == e.lines.length ? null : e.lines,
                            text: 1 == e.lines.length ? e.lines[0] : null
                        }
                    }

                    function t(e) {
                        return {
                            action: e.action,
                            start: e.start,
                            end: e.end,
                            lines: e.lines || [e.text]
                        }
                    }

                    function n(e, t) {
                        for (var n = new Array(e.length), r = 0; r < e.length; r++) {
                            for (var i = e[r], o = {
                                    group: i.group,
                                    deltas: new Array(i.length)
                                }, a = 0; a < i.deltas.length; a++) o.deltas[a] = t(i.deltas[a]);
                            n[r] = o
                        }
                        return n
                    }
                    this.execute = function(e) {
                        var t = e.args[0];
                        this.$doc = e.args[1], e.merge && this.hasUndo() && (this.dirtyCounter--, t = this.$undoStack.pop().concat(t)), this.$undoStack.push(t), this.$redoStack = [], this.dirtyCounter < 0 && (this.dirtyCounter = NaN), this.dirtyCounter++
                    }, this.undo = function(e) {
                        var t = this.$undoStack.pop(),
                            n = null;
                        return t && (n = this.$doc.undoChanges(t, e), this.$redoStack.push(t), this.dirtyCounter--), n
                    }, this.redo = function(e) {
                        var t = this.$redoStack.pop(),
                            n = null;
                        return t && (n = this.$doc.redoChanges(this.$deserializeDeltas(t), e), this.$undoStack.push(t), this.dirtyCounter++), n
                    }, this.reset = function() {
                        this.$undoStack = [], this.$redoStack = [], this.dirtyCounter = 0
                    }, this.hasUndo = function() {
                        return this.$undoStack.length > 0
                    }, this.hasRedo = function() {
                        return this.$redoStack.length > 0
                    }, this.markClean = function() {
                        this.dirtyCounter = 0
                    }, this.isClean = function() {
                        return 0 === this.dirtyCounter
                    }, this.$serializeDeltas = function(t) {
                        return n(t, e)
                    }, this.$deserializeDeltas = function(e) {
                        return n(e, t)
                    }
                }).call(r.prototype), t.UndoManager = r
            }), ace.define("ace/layer/gutter", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter"], function(e, t, n) {
                "use strict";
                var r = e("../lib/dom"),
                    i = e("../lib/oop"),
                    o = e("../lib/lang"),
                    a = e("../lib/event_emitter").EventEmitter,
                    s = function(e) {
                        this.element = r.createElement("div"), this.element.className = "ace_layer ace_gutter-layer", e.appendChild(this.element), this.setShowFoldWidgets(this.$showFoldWidgets), this.gutterWidth = 0, this.$annotations = [], this.$updateAnnotations = this.$updateAnnotations.bind(this), this.$cells = []
                    };
                (function() {
                    i.implement(this, a), this.setSession = function(e) {
                        this.session && this.session.removeEventListener("change", this.$updateAnnotations), this.session = e, e && e.on("change", this.$updateAnnotations)
                    }, this.addGutterDecoration = function(e, t) {
                        window.console && console.warn && console.warn("deprecated use session.addGutterDecoration"), this.session.addGutterDecoration(e, t)
                    }, this.removeGutterDecoration = function(e, t) {
                        window.console && console.warn && console.warn("deprecated use session.removeGutterDecoration"), this.session.removeGutterDecoration(e, t)
                    }, this.setAnnotations = function(e) {
                        this.$annotations = [];
                        for (var t = 0; t < e.length; t++) {
                            var n = e[t],
                                r = n.row,
                                i = this.$annotations[r];
                            i || (i = this.$annotations[r] = {
                                text: []
                            });
                            var a = n.text;
                            a = a ? o.escapeHTML(a) : n.html || "", -1 === i.text.indexOf(a) && i.text.push(a);
                            var s = n.type;
                            "error" == s ? i.className = " ace_error" : "warning" == s && " ace_error" != i.className ? i.className = " ace_warning" : "info" != s || i.className || (i.className = " ace_info")
                        }
                    }, this.$updateAnnotations = function(e) {
                        if (this.$annotations.length) {
                            var t = e.start.row,
                                n = e.end.row - t;
                            if (0 === n);
                            else if ("remove" == e.action) this.$annotations.splice(t, n + 1, null);
                            else {
                                var r = new Array(n + 1);
                                r.unshift(t, 1), this.$annotations.splice.apply(this.$annotations, r)
                            }
                        }
                    }, this.update = function(e) {
                        for (var t = this.session, n = e.firstRow, i = Math.min(e.lastRow + e.gutterOffset, t.getLength() - 1), o = t.getNextFoldLine(n), a = o ? o.start.row : 1 / 0, s = this.$showFoldWidgets && t.foldWidgets, l = t.$breakpoints, c = t.$decorations, u = t.$firstLineNumber, d = 0, h = t.gutterRenderer || this.$renderer, p = null, f = -1, m = n;;) {
                            if (m > a && (a = (o = t.getNextFoldLine(m = o.end.row + 1, o)) ? o.start.row : 1 / 0), m > i) {
                                for (; this.$cells.length > f + 1;) p = this.$cells.pop(), this.element.removeChild(p.element);
                                break
                            }(p = this.$cells[++f]) || ((p = {
                                element: null,
                                textNode: null,
                                foldWidget: null
                            }).element = r.createElement("div"), p.textNode = document.createTextNode(""), p.element.appendChild(p.textNode), this.element.appendChild(p.element), this.$cells[f] = p);
                            var g, E = "ace_gutter-cell ";
                            if (l[m] && (E += l[m]), c[m] && (E += c[m]), this.$annotations[m] && (E += this.$annotations[m].className), p.element.className != E && (p.element.className = E), (g = t.getRowLength(m) * e.lineHeight + "px") != p.element.style.height && (p.element.style.height = g), s) {
                                var b = s[m];
                                null == b && (b = s[m] = t.getFoldWidget(m))
                            }
                            b ? (p.foldWidget || (p.foldWidget = r.createElement("span"), p.element.appendChild(p.foldWidget)), E = "ace_fold-widget ace_" + b, p.foldWidget.className != (E += "start" == b && m == a && m < o.end.row ? " ace_closed" : " ace_open") && (p.foldWidget.className = E), p.foldWidget.style.height != (g = e.lineHeight + "px") && (p.foldWidget.style.height = g)) : p.foldWidget && (p.element.removeChild(p.foldWidget), p.foldWidget = null);
                            var v = d = h ? h.getText(t, m) : m + u;
                            v != p.textNode.data && (p.textNode.data = v), m++
                        }
                        this.element.style.height = e.minHeight + "px", (this.$fixedWidth || t.$useWrapMode) && (d = t.getLength() + u);
                        var T = h ? h.getWidth(t, d, e) : d.toString().length * e.characterWidth,
                            y = this.$padding || this.$computePadding();
                        (T += y.left + y.right) === this.gutterWidth || isNaN(T) || (this.gutterWidth = T, this.element.style.width = Math.ceil(this.gutterWidth) + "px", this._emit("changeGutterWidth", T))
                    }, this.$fixedWidth = !1, this.$showLineNumbers = !0, this.$renderer = "", this.setShowLineNumbers = function(e) {
                        this.$renderer = !e && {
                            getWidth: function() {
                                return ""
                            },
                            getText: function() {
                                return ""
                            }
                        }
                    }, this.getShowLineNumbers = function() {
                        return this.$showLineNumbers
                    }, this.$showFoldWidgets = !0, this.setShowFoldWidgets = function(e) {
                        e ? r.addCssClass(this.element, "ace_folding-enabled") : r.removeCssClass(this.element, "ace_folding-enabled"), this.$showFoldWidgets = e, this.$padding = null
                    }, this.getShowFoldWidgets = function() {
                        return this.$showFoldWidgets
                    }, this.$computePadding = function() {
                        if (!this.element.firstChild) return {
                            left: 0,
                            right: 0
                        };
                        var e = r.computedStyle(this.element.firstChild);
                        return this.$padding = {}, this.$padding.left = parseInt(e.paddingLeft) + 1 || 0, this.$padding.right = parseInt(e.paddingRight) || 0, this.$padding
                    }, this.getRegion = function(e) {
                        var t = this.$padding || this.$computePadding(),
                            n = this.element.getBoundingClientRect();
                        return e.x < t.left + n.left ? "markers" : this.$showFoldWidgets && e.x > n.right - t.right ? "foldWidgets" : void 0
                    }
                }).call(s.prototype), t.Gutter = s
            }), ace.define("ace/layer/marker", ["require", "exports", "module", "ace/range", "ace/lib/dom"], function(e, t, n) {
                "use strict";
                var r = e("../range").Range,
                    i = e("../lib/dom"),
                    o = function(e) {
                        this.element = i.createElement("div"), this.element.className = "ace_layer ace_marker-layer", e.appendChild(this.element)
                    };
                (function() {
                    this.$padding = 0, this.setPadding = function(e) {
                        this.$padding = e
                    }, this.setSession = function(e) {
                        this.session = e
                    }, this.setMarkers = function(e) {
                        this.markers = e
                    }, this.update = function(e) {
                        if (e = e || this.config) {
                            this.config = e;
                            var t = [];
                            for (var n in this.markers) {
                                var r = this.markers[n];
                                if (r.range) {
                                    var i = r.range.clipRows(e.firstRow, e.lastRow);
                                    if (!i.isEmpty())
                                        if (i = i.toScreenRange(this.session), r.renderer) {
                                            var o = this.$getTop(i.start.row, e);
                                            r.renderer(t, i, this.$padding + i.start.column * e.characterWidth, o, e)
                                        } else "fullLine" == r.type ? this.drawFullLineMarker(t, i, r.clazz, e) : "screenLine" == r.type ? this.drawScreenLineMarker(t, i, r.clazz, e) : i.isMultiLine() ? "text" == r.type ? this.drawTextMarker(t, i, r.clazz, e) : this.drawMultiLineMarker(t, i, r.clazz, e) : this.drawSingleLineMarker(t, i, r.clazz + " ace_start ace_br15", e)
                                } else r.update(t, this, this.session, e)
                            }
                            this.element.innerHTML = t.join("")
                        }
                    }, this.$getTop = function(e, t) {
                        return (e - t.firstRowScreen) * t.lineHeight
                    }, this.drawTextMarker = function(e, t, n, i, o) {
                        for (var a = this.session, s = t.start.row, l = t.end.row, c = s, u = 0, d = 0, h = a.getScreenLastRowColumn(c), p = new r(c, t.start.column, c, d); c <= l; c++) p.start.row = p.end.row = c, p.start.column = c == s ? t.start.column : a.getRowWrapIndent(c), p.end.column = h, u = d, d = h, h = c + 1 < l ? a.getScreenLastRowColumn(c + 1) : c == l ? 0 : t.end.column, this.drawSingleLineMarker(e, p, n + (c == s ? " ace_start" : "") + " ace_br" + ((c == s || c == s + 1 && t.start.column ? 1 : 0) | (u < d ? 2 : 0) | (d > h ? 4 : 0) | (c == l ? 8 : 0)), i, c == l ? 0 : 1, o)
                    }, this.drawMultiLineMarker = function(e, t, n, r, i) {
                        var o = this.$padding,
                            a = r.lineHeight,
                            s = this.$getTop(t.start.row, r);
                        if (e.push("<div class='", n, " ace_br1 ace_start' style='", "height:", a, "px;", "right:0;", "top:", s, "px;", "left:", o + t.start.column * r.characterWidth, "px;", i = i || "", "'></div>"), s = this.$getTop(t.end.row, r), e.push("<div class='", n, " ace_br12' style='", "height:", a, "px;", "width:", t.end.column * r.characterWidth, "px;", "top:", s, "px;", "left:", o, "px;", i, "'></div>"), !((a = (t.end.row - t.start.row - 1) * r.lineHeight) <= 0)) {
                            s = this.$getTop(t.start.row + 1, r);
                            var l = (t.start.column ? 1 : 0) | (t.end.column ? 0 : 8);
                            e.push("<div class='", n, l ? " ace_br" + l : "", "' style='", "height:", a, "px;", "right:0;", "top:", s, "px;", "left:", o, "px;", i, "'></div>")
                        }
                    }, this.drawSingleLineMarker = function(e, t, n, r, i, o) {
                        var a = r.lineHeight,
                            s = (t.end.column + (i || 0) - t.start.column) * r.characterWidth,
                            l = this.$getTop(t.start.row, r);
                        e.push("<div class='", n, "' style='", "height:", a, "px;", "width:", s, "px;", "top:", l, "px;", "left:", this.$padding + t.start.column * r.characterWidth, "px;", o || "", "'></div>")
                    }, this.drawFullLineMarker = function(e, t, n, r, i) {
                        var o = this.$getTop(t.start.row, r),
                            a = r.lineHeight;
                        t.start.row != t.end.row && (a += this.$getTop(t.end.row, r) - o), e.push("<div class='", n, "' style='", "height:", a, "px;", "top:", o, "px;", "left:0;right:0;", i || "", "'></div>")
                    }, this.drawScreenLineMarker = function(e, t, n, r, i) {
                        var o = this.$getTop(t.start.row, r);
                        e.push("<div class='", n, "' style='", "height:", r.lineHeight, "px;", "top:", o, "px;", "left:0;right:0;", i || "", "'></div>")
                    }
                }).call(o.prototype), t.Marker = o
            }), ace.define("ace/layer/text", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/lib/event_emitter"], function(e, t, n) {
                "use strict";
                var r = e("../lib/oop"),
                    i = e("../lib/dom"),
                    o = e("../lib/lang"),
                    a = (e("../lib/useragent"), e("../lib/event_emitter").EventEmitter),
                    s = function(e) {
                        this.element = i.createElement("div"), this.element.className = "ace_layer ace_text-layer", e.appendChild(this.element), this.$updateEolChar = this.$updateEolChar.bind(this)
                    };
                (function() {
                    r.implement(this, a), this.EOF_CHAR = "\xb6", this.EOL_CHAR_LF = "\xac", this.EOL_CHAR_CRLF = "\xa4", this.EOL_CHAR = this.EOL_CHAR_LF, this.TAB_CHAR = "\u2014", this.SPACE_CHAR = "\xb7", this.$padding = 0, this.$updateEolChar = function() {
                        var e = "\n" == this.session.doc.getNewLineCharacter() ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;
                        if (this.EOL_CHAR != e) return this.EOL_CHAR = e, !0
                    }, this.setPadding = function(e) {
                        this.$padding = e, this.element.style.padding = "0 " + e + "px"
                    }, this.getLineHeight = function() {
                        return this.$fontMetrics.$characterSize.height || 0
                    }, this.getCharacterWidth = function() {
                        return this.$fontMetrics.$characterSize.width || 0
                    }, this.$setFontMetrics = function(e) {
                        this.$fontMetrics = e, this.$fontMetrics.on("changeCharacterSize", (function(e) {
                            this._signal("changeCharacterSize", e)
                        }).bind(this)), this.$pollSizeChanges()
                    }, this.checkForSizeChanges = function() {
                        this.$fontMetrics.checkForSizeChanges()
                    }, this.$pollSizeChanges = function() {
                        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges()
                    }, this.setSession = function(e) {
                        this.session = e, e && this.$computeTabString()
                    }, this.showInvisibles = !1, this.setShowInvisibles = function(e) {
                        return this.showInvisibles != e && (this.showInvisibles = e, this.$computeTabString(), !0)
                    }, this.displayIndentGuides = !0, this.setDisplayIndentGuides = function(e) {
                        return this.displayIndentGuides != e && (this.displayIndentGuides = e, this.$computeTabString(), !0)
                    }, this.$tabStrings = [], this.onChangeTabSize = this.$computeTabString = function() {
                        var e = this.session.getTabSize();
                        this.tabSize = e;
                        for (var t = this.$tabStrings = [0], n = 1; n < e + 1; n++) t.push(this.showInvisibles ? "<span class='ace_invisible ace_invisible_tab'>" + o.stringRepeat(this.TAB_CHAR, n) + "</span>" : o.stringRepeat(" ", n));
                        if (this.displayIndentGuides) {
                            this.$indentGuideRe = /\s\S| \t|\t |\s$/;
                            var r = "ace_indent-guide",
                                i = "",
                                a = "";
                            if (this.showInvisibles) {
                                r += " ace_invisible", i = " ace_invisible_space", a = " ace_invisible_tab";
                                var s = o.stringRepeat(this.SPACE_CHAR, this.tabSize),
                                    l = o.stringRepeat(this.TAB_CHAR, this.tabSize)
                            } else l = s = o.stringRepeat(" ", this.tabSize);
                            this.$tabStrings[" "] = "<span class='" + r + i + "'>" + s + "</span>", this.$tabStrings["\t"] = "<span class='" + r + a + "'>" + l + "</span>"
                        }
                    }, this.updateLines = function(e, t, n) {
                        this.config.lastRow == e.lastRow && this.config.firstRow == e.firstRow || this.scrollLines(e), this.config = e;
                        for (var r = Math.max(t, e.firstRow), i = Math.min(n, e.lastRow), o = this.element.childNodes, a = 0, s = e.firstRow; s < r; s++) {
                            if (l = this.session.getFoldLine(s)) {
                                if (l.containsRow(r)) {
                                    r = l.start.row;
                                    break
                                }
                                s = l.end.row
                            }
                            a++
                        }
                        for (var l, c = (l = this.session.getNextFoldLine(s = r)) ? l.start.row : 1 / 0; s > c && (c = (l = this.session.getNextFoldLine(s = l.end.row + 1, l)) ? l.start.row : 1 / 0), !(s > i);) {
                            var u = o[a++];
                            if (u) {
                                var d = [];
                                this.$renderLine(d, s, !this.$useLineGroups(), s == c && l), u.style.height = e.lineHeight * this.session.getRowLength(s) + "px", u.innerHTML = d.join("")
                            }
                            s++
                        }
                    }, this.scrollLines = function(e) {
                        var t = this.config;
                        if (this.config = e, !t || t.lastRow < e.firstRow) return this.update(e);
                        if (e.lastRow < t.firstRow) return this.update(e);
                        var n = this.element;
                        if (t.firstRow < e.firstRow)
                            for (var r = this.session.getFoldedRowCount(t.firstRow, e.firstRow - 1); r > 0; r--) n.removeChild(n.firstChild);
                        if (t.lastRow > e.lastRow)
                            for (r = this.session.getFoldedRowCount(e.lastRow + 1, t.lastRow); r > 0; r--) n.removeChild(n.lastChild);
                        if (e.firstRow < t.firstRow) {
                            var i = this.$renderLinesFragment(e, e.firstRow, t.firstRow - 1);
                            n.firstChild ? n.insertBefore(i, n.firstChild) : n.appendChild(i)
                        }
                        e.lastRow > t.lastRow && (i = this.$renderLinesFragment(e, t.lastRow + 1, e.lastRow), n.appendChild(i))
                    }, this.$renderLinesFragment = function(e, t, n) {
                        for (var r = this.element.ownerDocument.createDocumentFragment(), o = t, a = this.session.getNextFoldLine(o), s = a ? a.start.row : 1 / 0; o > s && (s = (a = this.session.getNextFoldLine(o = a.end.row + 1, a)) ? a.start.row : 1 / 0), !(o > n);) {
                            var l = i.createElement("div"),
                                c = [];
                            if (this.$renderLine(c, o, !1, o == s && a), l.innerHTML = c.join(""), this.$useLineGroups()) l.className = "ace_line_group", r.appendChild(l), l.style.height = e.lineHeight * this.session.getRowLength(o) + "px";
                            else
                                for (; l.firstChild;) r.appendChild(l.firstChild);
                            o++
                        }
                        return r
                    }, this.update = function(e) {
                        this.config = e;
                        for (var t = [], n = e.lastRow, r = e.firstRow, i = this.session.getNextFoldLine(r), o = i ? i.start.row : 1 / 0; r > o && (o = (i = this.session.getNextFoldLine(r = i.end.row + 1, i)) ? i.start.row : 1 / 0), !(r > n);) this.$useLineGroups() && t.push("<div class='ace_line_group' style='height:", e.lineHeight * this.session.getRowLength(r), "px'>"), this.$renderLine(t, r, !1, r == o && i), this.$useLineGroups() && t.push("</div>"), r++;
                        this.element.innerHTML = t.join("")
                    }, this.$textToken = {
                        text: !0,
                        rparen: !0,
                        lparen: !0
                    }, this.$renderToken = function(e, t, n, r) {
                        var i = this,
                            a = r.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g, function(e, n, r, a, s) {
                                if (n) return i.showInvisibles ? "<span class='ace_invisible ace_invisible_space'>" + o.stringRepeat(i.SPACE_CHAR, e.length) + "</span>" : e;
                                if ("&" == e) return "&#38;";
                                if ("<" == e) return "&#60;";
                                if (">" == e) return "&#62;";
                                if ("\t" == e) {
                                    var l = i.session.getScreenTabSize(t + a);
                                    return t += l - 1, i.$tabStrings[l]
                                }
                                return "\u3000" == e ? (t += 1, "<span class='" + (i.showInvisibles ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk") + "' style='width:" + 2 * i.config.characterWidth + "px'>" + (i.showInvisibles ? i.SPACE_CHAR : "") + "</span>") : r ? "<span class='ace_invisible ace_invisible_space ace_invalid'>" + i.SPACE_CHAR + "</span>" : (t += 1, "<span class='ace_cjk' style='width:" + 2 * i.config.characterWidth + "px'>" + e + "</span>")
                            });
                        if (this.$textToken[n.type]) e.push(a);
                        else {
                            var s = "ace_" + n.type.replace(/\./g, " ace_"),
                                l = "";
                            "fold" == n.type && (l = " style='width:" + n.value.length * this.config.characterWidth + "px;' "), e.push("<span class='", s, "'", l, ">", a, "</span>")
                        }
                        return t + r.length
                    }, this.renderIndentGuide = function(e, t, n) {
                        var r = t.search(this.$indentGuideRe);
                        return r <= 0 || r >= n ? t : " " == t[0] ? (e.push(o.stringRepeat(this.$tabStrings[" "], (r -= r % this.tabSize) / this.tabSize)), t.substr(r)) : "\t" == t[0] ? (e.push(o.stringRepeat(this.$tabStrings["\t"], r)), t.substr(r)) : t
                    }, this.$renderWrappedLine = function(e, t, n, r) {
                        for (var i = 0, a = 0, s = n[0], l = 0, c = 0; c < t.length; c++) {
                            var u = t[c],
                                d = u.value;
                            if (0 == c && this.displayIndentGuides) {
                                if (i = d.length, !(d = this.renderIndentGuide(e, d, s))) continue;
                                i -= d.length
                            }
                            if (i + d.length < s) l = this.$renderToken(e, l, u, d), i += d.length;
                            else {
                                for (; i + d.length >= s;) l = this.$renderToken(e, l, u, d.substring(0, s - i)), d = d.substring(s - i), i = s, r || e.push("</div>", "<div class='ace_line' style='height:", this.config.lineHeight, "px'>"), e.push(o.stringRepeat("\xa0", n.indent)), l = 0, s = n[++a] || Number.MAX_VALUE;
                                0 != d.length && (i += d.length, l = this.$renderToken(e, l, u, d))
                            }
                        }
                    }, this.$renderSimpleLine = function(e, t) {
                        var n = 0,
                            r = t[0],
                            i = r.value;
                        this.displayIndentGuides && (i = this.renderIndentGuide(e, i)), i && (n = this.$renderToken(e, n, r, i));
                        for (var o = 1; o < t.length; o++) n = this.$renderToken(e, n, r = t[o], i = r.value)
                    }, this.$renderLine = function(e, t, n, r) {
                        if (r || 0 == r || (r = this.session.getFoldLine(t)), r) var i = this.$getFoldLineTokens(t, r);
                        else i = this.session.getTokens(t);
                        if (n || e.push("<div class='ace_line' style='height:", this.config.lineHeight * (this.$useLineGroups() ? 1 : this.session.getRowLength(t)), "px'>"), i.length) {
                            var o = this.session.getRowSplitData(t);
                            o && o.length ? this.$renderWrappedLine(e, i, o, n) : this.$renderSimpleLine(e, i)
                        }
                        this.showInvisibles && (r && (t = r.end.row), e.push("<span class='ace_invisible ace_invisible_eol'>", t == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR, "</span>")), n || e.push("</div>")
                    }, this.$getFoldLineTokens = function(e, t) {
                        var n = this.session,
                            r = [],
                            i = n.getTokens(e);
                        return t.walk(function(e, t, o, a, s) {
                            null != e ? r.push({
                                type: "fold",
                                value: e
                            }) : (s && (i = n.getTokens(t)), i.length && function(e, t, n) {
                                for (var i = 0, o = 0; o + e[i].value.length < t;)
                                    if (o += e[i].value.length, ++i == e.length) return;
                                for (o != t && ((a = e[i].value.substring(t - o)).length > n - t && (a = a.substring(0, n - t)), r.push({
                                        type: e[i].type,
                                        value: a
                                    }), o = t + a.length, i += 1); o < n && i < e.length;) {
                                    var a;
                                    r.push((a = e[i].value).length + o > n ? {
                                        type: e[i].type,
                                        value: a.substring(0, n - o)
                                    } : e[i]), o += a.length, i += 1
                                }
                            }(i, a, o))
                        }, t.end.row, this.session.getLine(t.end.row).length), r
                    }, this.$useLineGroups = function() {
                        return this.session.getUseWrapMode()
                    }, this.destroy = function() {
                        clearInterval(this.$pollSizeChangesTimer), this.$measureNode && this.$measureNode.parentNode.removeChild(this.$measureNode), delete this.$measureNode
                    }
                }).call(s.prototype), t.Text = s
            }), ace.define("ace/layer/cursor", ["require", "exports", "module", "ace/lib/dom"], function(e, t, n) {
                "use strict";
                var r, i = e("../lib/dom"),
                    o = function(e) {
                        this.element = i.createElement("div"), this.element.className = "ace_layer ace_cursor-layer", e.appendChild(this.element), void 0 === r && (r = !("opacity" in this.element.style)), this.isVisible = !1, this.isBlinking = !0, this.blinkInterval = 1e3, this.smoothBlinking = !1, this.cursors = [], this.cursor = this.addCursor(), i.addCssClass(this.element, "ace_hidden-cursors"), this.$updateCursors = (r ? this.$updateVisibility : this.$updateOpacity).bind(this)
                    };
                (function() {
                    this.$updateVisibility = function(e) {
                        for (var t = this.cursors, n = t.length; n--;) t[n].style.visibility = e ? "" : "hidden"
                    }, this.$updateOpacity = function(e) {
                        for (var t = this.cursors, n = t.length; n--;) t[n].style.opacity = e ? "" : "0"
                    }, this.$padding = 0, this.setPadding = function(e) {
                        this.$padding = e
                    }, this.setSession = function(e) {
                        this.session = e
                    }, this.setBlinking = function(e) {
                        e != this.isBlinking && (this.isBlinking = e, this.restartTimer())
                    }, this.setBlinkInterval = function(e) {
                        e != this.blinkInterval && (this.blinkInterval = e, this.restartTimer())
                    }, this.setSmoothBlinking = function(e) {
                        e == this.smoothBlinking || r || (this.smoothBlinking = e, i.setCssClass(this.element, "ace_smooth-blinking", e), this.$updateCursors(!0), this.$updateCursors = this.$updateOpacity.bind(this), this.restartTimer())
                    }, this.addCursor = function() {
                        var e = i.createElement("div");
                        return e.className = "ace_cursor", this.element.appendChild(e), this.cursors.push(e), e
                    }, this.removeCursor = function() {
                        if (this.cursors.length > 1) {
                            var e = this.cursors.pop();
                            return e.parentNode.removeChild(e), e
                        }
                    }, this.hideCursor = function() {
                        this.isVisible = !1, i.addCssClass(this.element, "ace_hidden-cursors"), this.restartTimer()
                    }, this.showCursor = function() {
                        this.isVisible = !0, i.removeCssClass(this.element, "ace_hidden-cursors"), this.restartTimer()
                    }, this.restartTimer = function() {
                        var e = this.$updateCursors;
                        if (clearInterval(this.intervalId), clearTimeout(this.timeoutId), this.smoothBlinking && i.removeCssClass(this.element, "ace_smooth-blinking"), e(!0), this.isBlinking && this.blinkInterval && this.isVisible) {
                            this.smoothBlinking && setTimeout((function() {
                                i.addCssClass(this.element, "ace_smooth-blinking")
                            }).bind(this));
                            var t = (function() {
                                this.timeoutId = setTimeout(function() {
                                    e(!1)
                                }, .6 * this.blinkInterval)
                            }).bind(this);
                            this.intervalId = setInterval(function() {
                                e(!0), t()
                            }, this.blinkInterval), t()
                        }
                    }, this.getPixelPosition = function(e, t) {
                        if (!this.config || !this.session) return {
                            left: 0,
                            top: 0
                        };
                        e || (e = this.session.selection.getCursor());
                        var n = this.session.documentToScreenPosition(e);
                        return {
                            left: this.$padding + n.column * this.config.characterWidth,
                            top: (n.row - (t ? this.config.firstRowScreen : 0)) * this.config.lineHeight
                        }
                    }, this.update = function(e) {
                        this.config = e;
                        var t = this.session.$selectionMarkers,
                            n = 0,
                            r = 0;
                        void 0 !== t && 0 !== t.length || (t = [{
                            cursor: null
                        }]), n = 0;
                        for (var i = t.length; n < i; n++) {
                            var o = this.getPixelPosition(t[n].cursor, !0);
                            if (!((o.top > e.height + e.offset || o.top < 0) && n > 1)) {
                                var a = (this.cursors[r++] || this.addCursor()).style;
                                this.drawCursor ? this.drawCursor(a, o, e, t[n], this.session) : (a.left = o.left + "px", a.top = o.top + "px", a.width = e.characterWidth + "px", a.height = e.lineHeight + "px")
                            }
                        }
                        for (; this.cursors.length > r;) this.removeCursor();
                        var s = this.session.getOverwrite();
                        this.$setOverwrite(s), this.$pixelPos = o, this.restartTimer()
                    }, this.drawCursor = null, this.$setOverwrite = function(e) {
                        e != this.overwrite && (this.overwrite = e, e ? i.addCssClass(this.element, "ace_overwrite-cursors") : i.removeCssClass(this.element, "ace_overwrite-cursors"))
                    }, this.destroy = function() {
                        clearInterval(this.intervalId), clearTimeout(this.timeoutId)
                    }
                }).call(o.prototype), t.Cursor = o
            }), ace.define("ace/scrollbar", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter"], function(e, t, n) {
                "use strict";
                var r = e("./lib/oop"),
                    i = e("./lib/dom"),
                    o = e("./lib/event"),
                    a = e("./lib/event_emitter").EventEmitter,
                    s = function(e) {
                        this.element = i.createElement("div"), this.element.className = "ace_scrollbar ace_scrollbar" + this.classSuffix, this.inner = i.createElement("div"), this.inner.className = "ace_scrollbar-inner", this.element.appendChild(this.inner), e.appendChild(this.element), this.setVisible(!1), this.skipEvent = !1, o.addListener(this.element, "scroll", this.onScroll.bind(this)), o.addListener(this.element, "mousedown", o.preventDefault)
                    };
                (function() {
                    r.implement(this, a), this.setVisible = function(e) {
                        this.element.style.display = e ? "" : "none", this.isVisible = e, this.coeff = 1
                    }
                }).call(s.prototype);
                var l = function(e, t) {
                    s.call(this, e), this.scrollTop = 0, this.scrollHeight = 0, t.$scrollbarWidth = this.width = i.scrollbarWidth(e.ownerDocument), this.inner.style.width = this.element.style.width = (this.width || 15) + 5 + "px"
                };
                r.inherits(l, s), (function() {
                    this.classSuffix = "-v", this.onScroll = function() {
                        if (!this.skipEvent) {
                            if (this.scrollTop = this.element.scrollTop, 1 != this.coeff) {
                                var e = this.element.clientHeight / this.scrollHeight;
                                this.scrollTop = this.scrollTop * (1 - e) / (this.coeff - e)
                            }
                            this._emit("scroll", {
                                data: this.scrollTop
                            })
                        }
                        this.skipEvent = !1
                    }, this.getWidth = function() {
                        return this.isVisible ? this.width : 0
                    }, this.setHeight = function(e) {
                        this.element.style.height = e + "px"
                    }, this.setInnerHeight = this.setScrollHeight = function(e) {
                        this.scrollHeight = e, e > 32768 ? (this.coeff = 32768 / e, e = 32768) : 1 != this.coeff && (this.coeff = 1), this.inner.style.height = e + "px"
                    }, this.setScrollTop = function(e) {
                        this.scrollTop != e && (this.skipEvent = !0, this.scrollTop = e, this.element.scrollTop = e * this.coeff)
                    }
                }).call(l.prototype);
                var c = function(e, t) {
                    s.call(this, e), this.scrollLeft = 0, this.height = t.$scrollbarWidth, this.inner.style.height = this.element.style.height = (this.height || 15) + 5 + "px"
                };
                r.inherits(c, s), (function() {
                    this.classSuffix = "-h", this.onScroll = function() {
                        this.skipEvent || (this.scrollLeft = this.element.scrollLeft, this._emit("scroll", {
                            data: this.scrollLeft
                        })), this.skipEvent = !1
                    }, this.getHeight = function() {
                        return this.isVisible ? this.height : 0
                    }, this.setWidth = function(e) {
                        this.element.style.width = e + "px"
                    }, this.setInnerWidth = function(e) {
                        this.inner.style.width = e + "px"
                    }, this.setScrollWidth = function(e) {
                        this.inner.style.width = e + "px"
                    }, this.setScrollLeft = function(e) {
                        this.scrollLeft != e && (this.skipEvent = !0, this.scrollLeft = this.element.scrollLeft = e)
                    }
                }).call(c.prototype), t.ScrollBar = l, t.ScrollBarV = l, t.ScrollBarH = c, t.VScrollBar = l, t.HScrollBar = c
            }), ace.define("ace/renderloop", ["require", "exports", "module", "ace/lib/event"], function(e, t, n) {
                "use strict";
                var r = e("./lib/event"),
                    i = function(e, t) {
                        this.onRender = e, this.pending = !1, this.changes = 0, this.window = t || window
                    };
                (function() {
                    this.schedule = function(e) {
                        if (this.changes = this.changes | e, !this.pending && this.changes) {
                            this.pending = !0;
                            var t = this;
                            r.nextFrame(function() {
                                var e;
                                for (t.pending = !1; e = t.changes;) t.changes = 0, t.onRender(e)
                            }, this.window)
                        }
                    }
                }).call(i.prototype), t.RenderLoop = i
            }), ace.define("ace/layer/font_metrics", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/lib/event_emitter"], function(e, t, n) {
                var r = e("../lib/oop"),
                    i = e("../lib/dom"),
                    o = e("../lib/lang"),
                    a = e("../lib/useragent"),
                    s = e("../lib/event_emitter").EventEmitter,
                    l = 0,
                    c = t.FontMetrics = function(e) {
                        this.el = i.createElement("div"), this.$setMeasureNodeStyles(this.el.style, !0), this.$main = i.createElement("div"), this.$setMeasureNodeStyles(this.$main.style), this.$measureNode = i.createElement("div"), this.$setMeasureNodeStyles(this.$measureNode.style), this.el.appendChild(this.$main), this.el.appendChild(this.$measureNode), e.appendChild(this.el), l || this.$testFractionalRect(), this.$measureNode.innerHTML = o.stringRepeat("X", l), this.$characterSize = {
                            width: 0,
                            height: 0
                        }, this.checkForSizeChanges()
                    };
                (function() {
                    r.implement(this, s), this.$characterSize = {
                        width: 0,
                        height: 0
                    }, this.$testFractionalRect = function() {
                        var e = i.createElement("div");
                        this.$setMeasureNodeStyles(e.style), e.style.width = "0.2px", document.documentElement.appendChild(e);
                        var t = e.getBoundingClientRect().width;
                        l = t > 0 && t < 1 ? 50 : 100, e.parentNode.removeChild(e)
                    }, this.$setMeasureNodeStyles = function(e, t) {
                        e.width = e.height = "auto", e.left = e.top = "0px", e.visibility = "hidden", e.position = "absolute", e.whiteSpace = "pre", a.isIE < 8 ? e["font-family"] = "inherit" : e.font = "inherit", e.overflow = t ? "hidden" : "visible"
                    }, this.checkForSizeChanges = function() {
                        var e = this.$measureSizes();
                        if (e && (this.$characterSize.width !== e.width || this.$characterSize.height !== e.height)) {
                            this.$measureNode.style.fontWeight = "bold";
                            var t = this.$measureSizes();
                            this.$measureNode.style.fontWeight = "", this.$characterSize = e, this.charSizes = Object.create(null), this.allowBoldFonts = t && t.width === e.width && t.height === e.height, this._emit("changeCharacterSize", {
                                data: e
                            })
                        }
                    }, this.$pollSizeChanges = function() {
                        if (this.$pollSizeChangesTimer) return this.$pollSizeChangesTimer;
                        var e = this;
                        return this.$pollSizeChangesTimer = setInterval(function() {
                            e.checkForSizeChanges()
                        }, 500)
                    }, this.setPolling = function(e) {
                        e ? this.$pollSizeChanges() : this.$pollSizeChangesTimer && (clearInterval(this.$pollSizeChangesTimer), this.$pollSizeChangesTimer = 0)
                    }, this.$measureSizes = function() {
                        if (50 === l) {
                            var e = null;
                            try {
                                e = this.$measureNode.getBoundingClientRect()
                            } catch (t) {
                                e = {
                                    width: 0,
                                    height: 0
                                }
                            }
                            var t = {
                                height: e.height,
                                width: e.width / l
                            }
                        } else t = {
                            height: this.$measureNode.clientHeight,
                            width: this.$measureNode.clientWidth / l
                        };
                        return 0 === t.width || 0 === t.height ? null : t
                    }, this.$measureCharWidth = function(e) {
                        return this.$main.innerHTML = o.stringRepeat(e, l), this.$main.getBoundingClientRect().width / l
                    }, this.getCharacterWidth = function(e) {
                        var t = this.charSizes[e];
                        return void 0 === t && (t = this.charSizes[e] = this.$measureCharWidth(e) / this.$characterSize.width), t
                    }, this.destroy = function() {
                        clearInterval(this.$pollSizeChangesTimer), this.el && this.el.parentNode && this.el.parentNode.removeChild(this.el)
                    }
                }).call(c.prototype)
            }), ace.define("ace/virtual_renderer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/config", "ace/lib/useragent", "ace/layer/gutter", "ace/layer/marker", "ace/layer/text", "ace/layer/cursor", "ace/scrollbar", "ace/scrollbar", "ace/renderloop", "ace/layer/font_metrics", "ace/lib/event_emitter"], function(e, t, n) {
                "use strict";
                var r = e("./lib/oop"),
                    i = e("./lib/dom"),
                    o = e("./config"),
                    a = e("./lib/useragent"),
                    s = e("./layer/gutter").Gutter,
                    l = e("./layer/marker").Marker,
                    c = e("./layer/text").Text,
                    u = e("./layer/cursor").Cursor,
                    d = e("./scrollbar").HScrollBar,
                    h = e("./scrollbar").VScrollBar,
                    p = e("./renderloop").RenderLoop,
                    f = e("./layer/font_metrics").FontMetrics,
                    m = e("./lib/event_emitter").EventEmitter;
                i.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}', "ace_editor.css");
                var g = function(e, t) {
                    var n = this;
                    this.container = e || i.createElement("div"), this.$keepTextAreaAtCursor = !a.isOldIE, i.addCssClass(this.container, "ace_editor"), this.setTheme(t), this.$gutter = i.createElement("div"), this.$gutter.className = "ace_gutter", this.container.appendChild(this.$gutter), this.scroller = i.createElement("div"), this.scroller.className = "ace_scroller", this.container.appendChild(this.scroller), this.content = i.createElement("div"), this.content.className = "ace_content", this.scroller.appendChild(this.content), this.$gutterLayer = new s(this.$gutter), this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this)), this.$markerBack = new l(this.content);
                    var r = this.$textLayer = new c(this.content);
                    this.canvas = r.element, this.$markerFront = new l(this.content), this.$cursorLayer = new u(this.content), this.$horizScroll = !1, this.$vScroll = !1, this.scrollBar = this.scrollBarV = new h(this.container, this), this.scrollBarH = new d(this.container, this), this.scrollBarV.addEventListener("scroll", function(e) {
                        n.$scrollAnimation || n.session.setScrollTop(e.data - n.scrollMargin.top)
                    }), this.scrollBarH.addEventListener("scroll", function(e) {
                        n.$scrollAnimation || n.session.setScrollLeft(e.data - n.scrollMargin.left)
                    }), this.scrollTop = 0, this.scrollLeft = 0, this.cursorPos = {
                        row: 0,
                        column: 0
                    }, this.$fontMetrics = new f(this.container), this.$textLayer.$setFontMetrics(this.$fontMetrics), this.$textLayer.addEventListener("changeCharacterSize", function(e) {
                        n.updateCharacterSize(), n.onResize(!0, n.gutterWidth, n.$size.width, n.$size.height), n._signal("changeCharacterSize", e)
                    }), this.$size = {
                        width: 0,
                        height: 0,
                        scrollerHeight: 0,
                        scrollerWidth: 0,
                        $dirty: !0
                    }, this.layerConfig = {
                        width: 1,
                        padding: 0,
                        firstRow: 0,
                        firstRowScreen: 0,
                        lastRow: 0,
                        lineHeight: 0,
                        characterWidth: 0,
                        minHeight: 1,
                        maxHeight: 1,
                        offset: 0,
                        height: 1,
                        gutterOffset: 1
                    }, this.scrollMargin = {
                        left: 0,
                        right: 0,
                        top: 0,
                        bottom: 0,
                        v: 0,
                        h: 0
                    }, this.$loop = new p(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView), this.$loop.schedule(this.CHANGE_FULL), this.updateCharacterSize(), this.setPadding(4), o.resetOptions(this), o._emit("renderer", this)
                };
                (function() {
                    this.CHANGE_CURSOR = 1, this.CHANGE_MARKER = 2, this.CHANGE_GUTTER = 4, this.CHANGE_SCROLL = 8, this.CHANGE_LINES = 16, this.CHANGE_TEXT = 32, this.CHANGE_SIZE = 64, this.CHANGE_MARKER_BACK = 128, this.CHANGE_MARKER_FRONT = 256, this.CHANGE_FULL = 512, this.CHANGE_H_SCROLL = 1024, r.implement(this, m), this.updateCharacterSize = function() {
                        this.$textLayer.allowBoldFonts != this.$allowBoldFonts && (this.$allowBoldFonts = this.$textLayer.allowBoldFonts, this.setStyle("ace_nobold", !this.$allowBoldFonts)), this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth(), this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight(), this.$updatePrintMargin()
                    }, this.setSession = function(e) {
                        this.session && this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode), this.session = e, e && this.scrollMargin.top && e.getScrollTop() <= 0 && e.setScrollTop(-this.scrollMargin.top), this.$cursorLayer.setSession(e), this.$markerBack.setSession(e), this.$markerFront.setSession(e), this.$gutterLayer.setSession(e), this.$textLayer.setSession(e), e && (this.$loop.schedule(this.CHANGE_FULL), this.session.$setFontMetrics(this.$fontMetrics), this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null, this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this), this.onChangeNewLineMode(), this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode))
                    }, this.updateLines = function(e, t, n) {
                        if (void 0 === t && (t = 1 / 0), this.$changedLines ? (this.$changedLines.firstRow > e && (this.$changedLines.firstRow = e), this.$changedLines.lastRow < t && (this.$changedLines.lastRow = t)) : this.$changedLines = {
                                firstRow: e,
                                lastRow: t
                            }, this.$changedLines.lastRow < this.layerConfig.firstRow) {
                            if (!n) return;
                            this.$changedLines.lastRow = this.layerConfig.lastRow
                        }
                        this.$changedLines.firstRow > this.layerConfig.lastRow || this.$loop.schedule(this.CHANGE_LINES)
                    }, this.onChangeNewLineMode = function() {
                        this.$loop.schedule(this.CHANGE_TEXT), this.$textLayer.$updateEolChar()
                    }, this.onChangeTabSize = function() {
                        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER), this.$textLayer.onChangeTabSize()
                    }, this.updateText = function() {
                        this.$loop.schedule(this.CHANGE_TEXT)
                    }, this.updateFull = function(e) {
                        e ? this.$renderChanges(this.CHANGE_FULL, !0) : this.$loop.schedule(this.CHANGE_FULL)
                    }, this.updateFontSize = function() {
                        this.$textLayer.checkForSizeChanges()
                    }, this.$changes = 0, this.$updateSizeAsync = function() {
                        this.$loop.pending ? this.$size.$dirty = !0 : this.onResize()
                    }, this.onResize = function(e, t, n, r) {
                        if (!(this.resizing > 2)) {
                            this.resizing > 0 ? this.resizing++ : this.resizing = e ? 1 : 0;
                            var i = this.container;
                            r || (r = i.clientHeight || i.scrollHeight), n || (n = i.clientWidth || i.scrollWidth);
                            var o = this.$updateCachedSize(e, t, n, r);
                            if (!this.$size.scrollerHeight || !n && !r) return this.resizing = 0;
                            e && (this.$gutterLayer.$padding = null), e ? this.$renderChanges(o | this.$changes, !0) : this.$loop.schedule(o | this.$changes), this.resizing && (this.resizing = 0), this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null
                        }
                    }, this.$updateCachedSize = function(e, t, n, r) {
                        var i = 0,
                            o = this.$size,
                            a = {
                                width: o.width,
                                height: o.height,
                                scrollerHeight: o.scrollerHeight,
                                scrollerWidth: o.scrollerWidth
                            };
                        return (r -= this.$extraHeight || 0) && (e || o.height != r) && (o.height = r, i |= this.CHANGE_SIZE, o.scrollerHeight = o.height, this.$horizScroll && (o.scrollerHeight -= this.scrollBarH.getHeight()), this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px", i |= this.CHANGE_SCROLL), n && (e || o.width != n) && (i |= this.CHANGE_SIZE, o.width = n, null == t && (t = this.$showGutter ? this.$gutter.offsetWidth : 0), this.gutterWidth = t, this.scrollBarH.element.style.left = this.scroller.style.left = t + "px", o.scrollerWidth = Math.max(0, n - t - this.scrollBarV.getWidth()), this.scrollBarH.element.style.right = this.scroller.style.right = this.scrollBarV.getWidth() + "px", this.scroller.style.bottom = this.scrollBarH.getHeight() + "px", (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || e) && (i |= this.CHANGE_FULL)), o.$dirty = !n || !r, i && this._signal("resize", a), i
                    }, this.onGutterResize = function() {
                        var e = this.$showGutter ? this.$gutter.offsetWidth : 0;
                        e != this.gutterWidth && (this.$changes |= this.$updateCachedSize(!0, e, this.$size.width, this.$size.height)), this.session.getUseWrapMode() && this.adjustWrapLimit() ? this.$loop.schedule(this.CHANGE_FULL) : this.$size.$dirty ? this.$loop.schedule(this.CHANGE_FULL) : (this.$computeLayerConfig(), this.$loop.schedule(this.CHANGE_MARKER))
                    }, this.adjustWrapLimit = function() {
                        var e = Math.floor((this.$size.scrollerWidth - 2 * this.$padding) / this.characterWidth);
                        return this.session.adjustWrapLimit(e, this.$showPrintMargin && this.$printMarginColumn)
                    }, this.setAnimatedScroll = function(e) {
                        this.setOption("animatedScroll", e)
                    }, this.getAnimatedScroll = function() {
                        return this.$animatedScroll
                    }, this.setShowInvisibles = function(e) {
                        this.setOption("showInvisibles", e)
                    }, this.getShowInvisibles = function() {
                        return this.getOption("showInvisibles")
                    }, this.getDisplayIndentGuides = function() {
                        return this.getOption("displayIndentGuides")
                    }, this.setDisplayIndentGuides = function(e) {
                        this.setOption("displayIndentGuides", e)
                    }, this.setShowPrintMargin = function(e) {
                        this.setOption("showPrintMargin", e)
                    }, this.getShowPrintMargin = function() {
                        return this.getOption("showPrintMargin")
                    }, this.setPrintMarginColumn = function(e) {
                        this.setOption("printMarginColumn", e)
                    }, this.getPrintMarginColumn = function() {
                        return this.getOption("printMarginColumn")
                    }, this.getShowGutter = function() {
                        return this.getOption("showGutter")
                    }, this.setShowGutter = function(e) {
                        return this.setOption("showGutter", e)
                    }, this.getFadeFoldWidgets = function() {
                        return this.getOption("fadeFoldWidgets")
                    }, this.setFadeFoldWidgets = function(e) {
                        this.setOption("fadeFoldWidgets", e)
                    }, this.setHighlightGutterLine = function(e) {
                        this.setOption("highlightGutterLine", e)
                    }, this.getHighlightGutterLine = function() {
                        return this.getOption("highlightGutterLine")
                    }, this.$updateGutterLineHighlight = function() {
                        var e = this.$cursorLayer.$pixelPos,
                            t = this.layerConfig.lineHeight;
                        if (this.session.getUseWrapMode()) {
                            var n = this.session.selection.getCursor();
                            n.column = 0, e = this.$cursorLayer.getPixelPosition(n, !0), t *= this.session.getRowLength(n.row)
                        }
                        this.$gutterLineHighlight.style.top = e.top - this.layerConfig.offset + "px", this.$gutterLineHighlight.style.height = t + "px"
                    }, this.$updatePrintMargin = function() {
                        if (this.$showPrintMargin || this.$printMarginEl) {
                            if (!this.$printMarginEl) {
                                var e = i.createElement("div");
                                e.className = "ace_layer ace_print-margin-layer", this.$printMarginEl = i.createElement("div"), this.$printMarginEl.className = "ace_print-margin", e.appendChild(this.$printMarginEl), this.content.insertBefore(e, this.content.firstChild)
                            }
                            var t = this.$printMarginEl.style;
                            t.left = this.characterWidth * this.$printMarginColumn + this.$padding + "px", t.visibility = this.$showPrintMargin ? "visible" : "hidden", this.session && -1 == this.session.$wrap && this.adjustWrapLimit()
                        }
                    }, this.getContainerElement = function() {
                        return this.container
                    }, this.getMouseEventTarget = function() {
                        return this.scroller
                    }, this.getTextAreaContainer = function() {
                        return this.container
                    }, this.$moveTextAreaToCursor = function() {
                        if (this.$keepTextAreaAtCursor) {
                            var e = this.layerConfig,
                                t = this.$cursorLayer.$pixelPos.top,
                                n = this.$cursorLayer.$pixelPos.left,
                                r = this.textarea.style,
                                i = this.lineHeight;
                            if ((t -= e.offset) < 0 || t > e.height - i) r.top = r.left = "0";
                            else {
                                var o = this.characterWidth;
                                if (this.$composition) {
                                    var a = this.textarea.value.replace(/^\x01+/, "");
                                    o *= this.session.$getStringScreenWidth(a)[0] + 2, i += 2
                                }(n -= this.scrollLeft) > this.$size.scrollerWidth - o && (n = this.$size.scrollerWidth - o), n += this.gutterWidth, r.height = i + "px", r.width = o + "px", r.left = Math.min(n, this.$size.scrollerWidth - o) + "px", r.top = Math.min(t, this.$size.height - i) + "px"
                            }
                        }
                    }, this.getFirstVisibleRow = function() {
                        return this.layerConfig.firstRow
                    }, this.getFirstFullyVisibleRow = function() {
                        return this.layerConfig.firstRow + (0 === this.layerConfig.offset ? 0 : 1)
                    }, this.getLastFullyVisibleRow = function() {
                        var e = this.layerConfig,
                            t = e.lastRow;
                        return this.session.documentToScreenRow(t, 0) * e.lineHeight - this.session.getScrollTop() > e.height - e.lineHeight ? t - 1 : t
                    }, this.getLastVisibleRow = function() {
                        return this.layerConfig.lastRow
                    }, this.$padding = null, this.setPadding = function(e) {
                        this.$padding = e, this.$textLayer.setPadding(e), this.$cursorLayer.setPadding(e), this.$markerFront.setPadding(e), this.$markerBack.setPadding(e), this.$loop.schedule(this.CHANGE_FULL), this.$updatePrintMargin()
                    }, this.setScrollMargin = function(e, t, n, r) {
                        var i = this.scrollMargin;
                        i.top = 0 | e, i.bottom = 0 | t, i.right = 0 | r, i.left = 0 | n, i.v = i.top + i.bottom, i.h = i.left + i.right, i.top && this.scrollTop <= 0 && this.session && this.session.setScrollTop(-i.top), this.updateFull()
                    }, this.getHScrollBarAlwaysVisible = function() {
                        return this.$hScrollBarAlwaysVisible
                    }, this.setHScrollBarAlwaysVisible = function(e) {
                        this.setOption("hScrollBarAlwaysVisible", e)
                    }, this.getVScrollBarAlwaysVisible = function() {
                        return this.$vScrollBarAlwaysVisible
                    }, this.setVScrollBarAlwaysVisible = function(e) {
                        this.setOption("vScrollBarAlwaysVisible", e)
                    }, this.$updateScrollBarV = function() {
                        var e = this.layerConfig.maxHeight,
                            t = this.$size.scrollerHeight;
                        !this.$maxLines && this.$scrollPastEnd && this.scrollTop > (e -= (t - this.lineHeight) * this.$scrollPastEnd) - t && (e = this.scrollTop + t, this.scrollBarV.scrollTop = null), this.scrollBarV.setScrollHeight(e + this.scrollMargin.v), this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top)
                    }, this.$updateScrollBarH = function() {
                        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h), this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left)
                    }, this.$frozen = !1, this.freeze = function() {
                        this.$frozen = !0
                    }, this.unfreeze = function() {
                        this.$frozen = !1
                    }, this.$renderChanges = function(e, t) {
                        if (this.$changes && (e |= this.$changes, this.$changes = 0), this.session && this.container.offsetWidth && !this.$frozen && (e || t)) {
                            if (this.$size.$dirty) return this.$changes |= e, this.onResize(!0);
                            this.lineHeight || this.$textLayer.checkForSizeChanges(), this._signal("beforeRender");
                            var n = this.layerConfig;
                            if (e & this.CHANGE_FULL || e & this.CHANGE_SIZE || e & this.CHANGE_TEXT || e & this.CHANGE_LINES || e & this.CHANGE_SCROLL || e & this.CHANGE_H_SCROLL) {
                                if (e |= this.$computeLayerConfig(), n.firstRow != this.layerConfig.firstRow && n.firstRowScreen == this.layerConfig.firstRowScreen) {
                                    var r = this.scrollTop + (n.firstRow - this.layerConfig.firstRow) * this.lineHeight;
                                    r > 0 && (this.scrollTop = r, e |= this.CHANGE_SCROLL, e |= this.$computeLayerConfig())
                                }
                                n = this.layerConfig, this.$updateScrollBarV(), e & this.CHANGE_H_SCROLL && this.$updateScrollBarH(), this.$gutterLayer.element.style.marginTop = -n.offset + "px", this.content.style.marginTop = -n.offset + "px", this.content.style.width = n.width + 2 * this.$padding + "px", this.content.style.height = n.minHeight + "px"
                            }
                            if (e & this.CHANGE_H_SCROLL && (this.content.style.marginLeft = -this.scrollLeft + "px", this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller" : "ace_scroller ace_scroll-left"), e & this.CHANGE_FULL) return this.$textLayer.update(n), this.$showGutter && this.$gutterLayer.update(n), this.$markerBack.update(n), this.$markerFront.update(n), this.$cursorLayer.update(n), this.$moveTextAreaToCursor(), this.$highlightGutterLine && this.$updateGutterLineHighlight(), void this._signal("afterRender");
                            if (e & this.CHANGE_SCROLL) return e & this.CHANGE_TEXT || e & this.CHANGE_LINES ? this.$textLayer.update(n) : this.$textLayer.scrollLines(n), this.$showGutter && this.$gutterLayer.update(n), this.$markerBack.update(n), this.$markerFront.update(n), this.$cursorLayer.update(n), this.$highlightGutterLine && this.$updateGutterLineHighlight(), this.$moveTextAreaToCursor(), void this._signal("afterRender");
                            e & this.CHANGE_TEXT ? (this.$textLayer.update(n), this.$showGutter && this.$gutterLayer.update(n)) : e & this.CHANGE_LINES ? (this.$updateLines() || e & this.CHANGE_GUTTER && this.$showGutter) && this.$gutterLayer.update(n) : (e & this.CHANGE_TEXT || e & this.CHANGE_GUTTER) && this.$showGutter && this.$gutterLayer.update(n), e & this.CHANGE_CURSOR && (this.$cursorLayer.update(n), this.$moveTextAreaToCursor(), this.$highlightGutterLine && this.$updateGutterLineHighlight()), e & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT) && this.$markerFront.update(n), e & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK) && this.$markerBack.update(n), this._signal("afterRender")
                        } else this.$changes |= e
                    }, this.$autosize = function() {
                        var e = this.session.getScreenLength() * this.lineHeight,
                            t = this.$maxLines * this.lineHeight,
                            n = Math.min(t, Math.max((this.$minLines || 1) * this.lineHeight, e)) + this.scrollMargin.v + (this.$extraHeight || 0);
                        this.$horizScroll && (n += this.scrollBarH.getHeight()), this.$maxPixelHeight && n > this.$maxPixelHeight && (n = this.$maxPixelHeight);
                        var r = e > t;
                        if (n != this.desiredHeight || this.$size.height != this.desiredHeight || r != this.$vScroll) {
                            r != this.$vScroll && (this.$vScroll = r, this.scrollBarV.setVisible(r));
                            var i = this.container.clientWidth;
                            this.container.style.height = n + "px", this.$updateCachedSize(!0, this.$gutterWidth, i, n), this.desiredHeight = n, this._signal("autosize")
                        }
                    }, this.$computeLayerConfig = function() {
                        var e = this.session,
                            t = this.$size,
                            n = t.height <= 2 * this.lineHeight,
                            r = this.session.getScreenLength() * this.lineHeight,
                            i = this.$getLongestLine(),
                            o = !n && (this.$hScrollBarAlwaysVisible || t.scrollerWidth - i - 2 * this.$padding < 0),
                            a = this.$horizScroll !== o;
                        a && (this.$horizScroll = o, this.scrollBarH.setVisible(o));
                        var s = this.$vScroll;
                        this.$maxLines && this.lineHeight > 1 && this.$autosize();
                        var l = this.scrollTop % this.lineHeight,
                            c = t.scrollerHeight + this.lineHeight,
                            u = !this.$maxLines && this.$scrollPastEnd ? (t.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;
                        r += u;
                        var d = this.scrollMargin;
                        this.session.setScrollTop(Math.max(-d.top, Math.min(this.scrollTop, r - t.scrollerHeight + d.bottom))), this.session.setScrollLeft(Math.max(-d.left, Math.min(this.scrollLeft, i + 2 * this.$padding - t.scrollerWidth + d.right)));
                        var h = !n && (this.$vScrollBarAlwaysVisible || t.scrollerHeight - r + u < 0 || this.scrollTop > d.top),
                            p = s !== h;
                        p && (this.$vScroll = h, this.scrollBarV.setVisible(h));
                        var f, m, g = Math.ceil(c / this.lineHeight) - 1,
                            E = Math.max(0, Math.round((this.scrollTop - l) / this.lineHeight)),
                            b = E + g,
                            v = this.lineHeight;
                        E = e.screenToDocumentRow(E, 0);
                        var T = e.getFoldLine(E);
                        T && (E = T.start.row), f = e.documentToScreenRow(E, 0), m = e.getRowLength(E) * v, b = Math.min(e.screenToDocumentRow(b, 0), e.getLength() - 1), c = t.scrollerHeight + e.getRowLength(b) * v + m, l = this.scrollTop - f * v;
                        var y = 0;
                        return this.layerConfig.width != i && (y = this.CHANGE_H_SCROLL), (a || p) && (y = this.$updateCachedSize(!0, this.gutterWidth, t.width, t.height), this._signal("scrollbarVisibilityChanged"), p && (i = this.$getLongestLine())), this.layerConfig = {
                            width: i,
                            padding: this.$padding,
                            firstRow: E,
                            firstRowScreen: f,
                            lastRow: b,
                            lineHeight: v,
                            characterWidth: this.characterWidth,
                            minHeight: c,
                            maxHeight: r,
                            offset: l,
                            gutterOffset: v ? Math.max(0, Math.ceil((l + t.height - t.scrollerHeight) / v)) : 0,
                            height: this.$size.scrollerHeight
                        }, y
                    }, this.$updateLines = function() {
                        var e = this.$changedLines.firstRow,
                            t = this.$changedLines.lastRow;
                        this.$changedLines = null;
                        var n = this.layerConfig;
                        if (!(e > n.lastRow + 1 || t < n.firstRow)) return t === 1 / 0 ? (this.$showGutter && this.$gutterLayer.update(n), void this.$textLayer.update(n)) : (this.$textLayer.updateLines(n, e, t), !0)
                    }, this.$getLongestLine = function() {
                        var e = this.session.getScreenWidth();
                        return this.showInvisibles && !this.session.$useWrapMode && (e += 1), Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(e * this.characterWidth))
                    }, this.updateFrontMarkers = function() {
                        this.$markerFront.setMarkers(this.session.getMarkers(!0)), this.$loop.schedule(this.CHANGE_MARKER_FRONT)
                    }, this.updateBackMarkers = function() {
                        this.$markerBack.setMarkers(this.session.getMarkers()), this.$loop.schedule(this.CHANGE_MARKER_BACK)
                    }, this.addGutterDecoration = function(e, t) {
                        this.$gutterLayer.addGutterDecoration(e, t)
                    }, this.removeGutterDecoration = function(e, t) {
                        this.$gutterLayer.removeGutterDecoration(e, t)
                    }, this.updateBreakpoints = function(e) {
                        this.$loop.schedule(this.CHANGE_GUTTER)
                    }, this.setAnnotations = function(e) {
                        this.$gutterLayer.setAnnotations(e), this.$loop.schedule(this.CHANGE_GUTTER)
                    }, this.updateCursor = function() {
                        this.$loop.schedule(this.CHANGE_CURSOR)
                    }, this.hideCursor = function() {
                        this.$cursorLayer.hideCursor()
                    }, this.showCursor = function() {
                        this.$cursorLayer.showCursor()
                    }, this.scrollSelectionIntoView = function(e, t, n) {
                        this.scrollCursorIntoView(e, n), this.scrollCursorIntoView(t, n)
                    }, this.scrollCursorIntoView = function(e, t, n) {
                        if (0 !== this.$size.scrollerHeight) {
                            var r = this.$cursorLayer.getPixelPosition(e),
                                i = r.left,
                                o = r.top,
                                a = n && n.top || 0,
                                s = n && n.bottom || 0,
                                l = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;
                            l + a > o ? (t && l + a > o + this.lineHeight && (o -= t * this.$size.scrollerHeight), 0 === o && (o = -this.scrollMargin.top), this.session.setScrollTop(o)) : l + this.$size.scrollerHeight - s < o + this.lineHeight && (t && l + this.$size.scrollerHeight - s < o - this.lineHeight && (o += t * this.$size.scrollerHeight), this.session.setScrollTop(o + this.lineHeight - this.$size.scrollerHeight));
                            var c = this.scrollLeft;
                            c > i ? (i < this.$padding + 2 * this.layerConfig.characterWidth && (i = -this.scrollMargin.left), this.session.setScrollLeft(i)) : c + this.$size.scrollerWidth < i + this.characterWidth ? this.session.setScrollLeft(Math.round(i + this.characterWidth - this.$size.scrollerWidth)) : c <= this.$padding && i - c < this.characterWidth && this.session.setScrollLeft(0)
                        }
                    }, this.getScrollTop = function() {
                        return this.session.getScrollTop()
                    }, this.getScrollLeft = function() {
                        return this.session.getScrollLeft()
                    }, this.getScrollTopRow = function() {
                        return this.scrollTop / this.lineHeight
                    }, this.getScrollBottomRow = function() {
                        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1)
                    }, this.scrollToRow = function(e) {
                        this.session.setScrollTop(e * this.lineHeight)
                    }, this.alignCursor = function(e, t) {
                        "number" == typeof e && (e = {
                            row: e,
                            column: 0
                        });
                        var n = this.$cursorLayer.getPixelPosition(e).top - (this.$size.scrollerHeight - this.lineHeight) * (t || 0);
                        return this.session.setScrollTop(n), n
                    }, this.STEPS = 8, this.$calcSteps = function(e, t) {
                        var n, r = 0,
                            i = this.STEPS,
                            o = [];
                        for (r = 0; r < i; ++r) o.push((n = e, (t - e) * (Math.pow(r / this.STEPS - 1, 3) + 1) + n));
                        return o
                    }, this.scrollToLine = function(e, t, n, r) {
                        var i = this.$cursorLayer.getPixelPosition({
                            row: e,
                            column: 0
                        }).top;
                        t && (i -= this.$size.scrollerHeight / 2);
                        var o = this.scrollTop;
                        this.session.setScrollTop(i), !1 !== n && this.animateScrolling(o, r)
                    }, this.animateScrolling = function(e, t) {
                        var n = this.scrollTop;
                        if (this.$animatedScroll) {
                            var r = this;
                            if (e != n) {
                                if (this.$scrollAnimation) {
                                    var i = this.$scrollAnimation.steps;
                                    if (i.length && (e = i[0]) == n) return
                                }
                                var o = r.$calcSteps(e, n);
                                this.$scrollAnimation = {
                                    from: e,
                                    to: n,
                                    steps: o
                                }, clearInterval(this.$timer), r.session.setScrollTop(o.shift()), r.session.$scrollTop = n, this.$timer = setInterval(function() {
                                    o.length ? (r.session.setScrollTop(o.shift()), r.session.$scrollTop = n) : null != n ? (r.session.$scrollTop = -1, r.session.setScrollTop(n), n = null) : (r.$timer = clearInterval(r.$timer), r.$scrollAnimation = null, t && t())
                                }, 10)
                            }
                        }
                    }, this.scrollToY = function(e) {
                        this.scrollTop !== e && (this.$loop.schedule(this.CHANGE_SCROLL), this.scrollTop = e)
                    }, this.scrollToX = function(e) {
                        this.scrollLeft !== e && (this.scrollLeft = e), this.$loop.schedule(this.CHANGE_H_SCROLL)
                    }, this.scrollTo = function(e, t) {
                        this.session.setScrollTop(t), this.session.setScrollLeft(t)
                    }, this.scrollBy = function(e, t) {
                        t && this.session.setScrollTop(this.session.getScrollTop() + t), e && this.session.setScrollLeft(this.session.getScrollLeft() + e)
                    }, this.isScrollableBy = function(e, t) {
                        return t < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top || t > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom || e < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left || e > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right || void 0
                    }, this.pixelToScreenCoordinates = function(e, t) {
                        var n = this.scroller.getBoundingClientRect(),
                            r = (e + this.scrollLeft - n.left - this.$padding) / this.characterWidth,
                            i = Math.floor((t + this.scrollTop - n.top) / this.lineHeight),
                            o = Math.round(r);
                        return {
                            row: i,
                            column: o,
                            side: r - o > 0 ? 1 : -1
                        }
                    }, this.screenToTextCoordinates = function(e, t) {
                        var n = this.scroller.getBoundingClientRect(),
                            r = Math.round((e + this.scrollLeft - n.left - this.$padding) / this.characterWidth);
                        return this.session.screenToDocumentPosition((t + this.scrollTop - n.top) / this.lineHeight, Math.max(r, 0))
                    }, this.textToScreenCoordinates = function(e, t) {
                        var n = this.scroller.getBoundingClientRect(),
                            r = this.session.documentToScreenPosition(e, t),
                            i = this.$padding + Math.round(r.column * this.characterWidth);
                        return {
                            pageX: n.left + i - this.scrollLeft,
                            pageY: n.top + r.row * this.lineHeight - this.scrollTop
                        }
                    }, this.visualizeFocus = function() {
                        i.addCssClass(this.container, "ace_focus")
                    }, this.visualizeBlur = function() {
                        i.removeCssClass(this.container, "ace_focus")
                    }, this.showComposition = function(e) {
                        this.$composition || (this.$composition = {
                            keepTextAreaAtCursor: this.$keepTextAreaAtCursor,
                            cssText: this.textarea.style.cssText
                        }), this.$keepTextAreaAtCursor = !0, i.addCssClass(this.textarea, "ace_composition"), this.textarea.style.cssText = "", this.$moveTextAreaToCursor()
                    }, this.setCompositionText = function(e) {
                        this.$moveTextAreaToCursor()
                    }, this.hideComposition = function() {
                        this.$composition && (i.removeCssClass(this.textarea, "ace_composition"), this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor, this.textarea.style.cssText = this.$composition.cssText, this.$composition = null)
                    }, this.setTheme = function(e, t) {
                        var n = this;

                        function r(r) {
                            if (n.$themeId != e) return t && t();
                            if (!r || !r.cssClass) throw new Error("couldn't load module " + e + " or it didn't call define");
                            i.importCssString(r.cssText, r.cssClass, n.container.ownerDocument), n.theme && i.removeCssClass(n.container, n.theme.cssClass);
                            var o = "padding" in r ? r.padding : "padding" in (n.theme || {}) ? 4 : n.$padding;
                            n.$padding && o != n.$padding && n.setPadding(o), n.$theme = r.cssClass, n.theme = r, i.addCssClass(n.container, r.cssClass), i.setCssClass(n.container, "ace_dark", r.isDark), n.$size && (n.$size.width = 0, n.$updateSizeAsync()), n._dispatchEvent("themeLoaded", {
                                theme: r
                            }), t && t()
                        }
                        this.$themeId = e, n._dispatchEvent("themeChange", {
                            theme: e
                        }), e && "string" != typeof e ? r(e) : o.loadModule(["theme", e || this.$options.theme.initialValue], r)
                    }, this.getTheme = function() {
                        return this.$themeId
                    }, this.setStyle = function(e, t) {
                        i.setCssClass(this.container, e, !1 !== t)
                    }, this.unsetStyle = function(e) {
                        i.removeCssClass(this.container, e)
                    }, this.setCursorStyle = function(e) {
                        this.scroller.style.cursor != e && (this.scroller.style.cursor = e)
                    }, this.setMouseCursor = function(e) {
                        this.scroller.style.cursor = e
                    }, this.destroy = function() {
                        this.$textLayer.destroy(), this.$cursorLayer.destroy()
                    }
                }).call(g.prototype), o.defineOptions(g.prototype, "renderer", {
                    animatedScroll: {
                        initialValue: !1
                    },
                    showInvisibles: {
                        set: function(e) {
                            this.$textLayer.setShowInvisibles(e) && this.$loop.schedule(this.CHANGE_TEXT)
                        },
                        initialValue: !1
                    },
                    showPrintMargin: {
                        set: function() {
                            this.$updatePrintMargin()
                        },
                        initialValue: !0
                    },
                    printMarginColumn: {
                        set: function() {
                            this.$updatePrintMargin()
                        },
                        initialValue: 80
                    },
                    printMargin: {
                        set: function(e) {
                            "number" == typeof e && (this.$printMarginColumn = e), this.$showPrintMargin = !!e, this.$updatePrintMargin()
                        },
                        get: function() {
                            return this.$showPrintMargin && this.$printMarginColumn
                        }
                    },
                    showGutter: {
                        set: function(e) {
                            this.$gutter.style.display = e ? "block" : "none", this.$loop.schedule(this.CHANGE_FULL), this.onGutterResize()
                        },
                        initialValue: !0
                    },
                    fadeFoldWidgets: {
                        set: function(e) {
                            i.setCssClass(this.$gutter, "ace_fade-fold-widgets", e)
                        },
                        initialValue: !1
                    },
                    showFoldWidgets: {
                        set: function(e) {
                            this.$gutterLayer.setShowFoldWidgets(e)
                        },
                        initialValue: !0
                    },
                    showLineNumbers: {
                        set: function(e) {
                            this.$gutterLayer.setShowLineNumbers(e), this.$loop.schedule(this.CHANGE_GUTTER)
                        },
                        initialValue: !0
                    },
                    displayIndentGuides: {
                        set: function(e) {
                            this.$textLayer.setDisplayIndentGuides(e) && this.$loop.schedule(this.CHANGE_TEXT)
                        },
                        initialValue: !0
                    },
                    highlightGutterLine: {
                        set: function(e) {
                            if (!this.$gutterLineHighlight) return this.$gutterLineHighlight = i.createElement("div"), this.$gutterLineHighlight.className = "ace_gutter-active-line", void this.$gutter.appendChild(this.$gutterLineHighlight);
                            this.$gutterLineHighlight.style.display = e ? "" : "none", this.$cursorLayer.$pixelPos && this.$updateGutterLineHighlight()
                        },
                        initialValue: !1,
                        value: !0
                    },
                    hScrollBarAlwaysVisible: {
                        set: function(e) {
                            this.$hScrollBarAlwaysVisible && this.$horizScroll || this.$loop.schedule(this.CHANGE_SCROLL)
                        },
                        initialValue: !1
                    },
                    vScrollBarAlwaysVisible: {
                        set: function(e) {
                            this.$vScrollBarAlwaysVisible && this.$vScroll || this.$loop.schedule(this.CHANGE_SCROLL)
                        },
                        initialValue: !1
                    },
                    fontSize: {
                        set: function(e) {
                            "number" == typeof e && (e += "px"), this.container.style.fontSize = e, this.updateFontSize()
                        },
                        initialValue: 12
                    },
                    fontFamily: {
                        set: function(e) {
                            this.container.style.fontFamily = e, this.updateFontSize()
                        }
                    },
                    maxLines: {
                        set: function(e) {
                            this.updateFull()
                        }
                    },
                    minLines: {
                        set: function(e) {
                            this.updateFull()
                        }
                    },
                    maxPixelHeight: {
                        set: function(e) {
                            this.updateFull()
                        },
                        initialValue: 0
                    },
                    scrollPastEnd: {
                        set: function(e) {
                            this.$scrollPastEnd != (e = +e || 0) && (this.$scrollPastEnd = e, this.$loop.schedule(this.CHANGE_SCROLL))
                        },
                        initialValue: 0,
                        handlesSet: !0
                    },
                    fixedWidthGutter: {
                        set: function(e) {
                            this.$gutterLayer.$fixedWidth = !!e, this.$loop.schedule(this.CHANGE_GUTTER)
                        }
                    },
                    theme: {
                        set: function(e) {
                            this.setTheme(e)
                        },
                        get: function() {
                            return this.$themeId || this.theme
                        },
                        initialValue: "./theme/textmate",
                        handlesSet: !0
                    }
                }), t.VirtualRenderer = g
            }), ace.define("ace/worker/worker_client", ["require", "exports", "module", "ace/lib/oop", "ace/lib/net", "ace/lib/event_emitter", "ace/config"], function(e, t, r) {
                "use strict";
                var i = e("../lib/oop"),
                    o = e("../lib/net"),
                    a = e("../lib/event_emitter").EventEmitter,
                    s = e("../config"),
                    l = function(t, r, i, o) {
                        if (this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this), this.changeListener = this.changeListener.bind(this), this.onMessage = this.onMessage.bind(this), e.nameToUrl && !e.toUrl && (e.toUrl = e.nameToUrl), s.get("packaged") || !e.toUrl) o = o || s.moduleUrl(r.id, "worker");
                        else {
                            var a = this.$normalizePath;
                            o = o || a(e.toUrl("ace/worker/worker.js", null, "_"));
                            var l = {};
                            t.forEach(function(t) {
                                l[t] = a(e.toUrl(t, null, "_").replace(/(\.js)?(\?.*)?$/, ""))
                            })
                        }
                        try {
                            var c = r.src,
                                u = new(n("4Xkp"))([c], {
                                    type: "application/javascript"
                                }),
                                d = (window.URL || window.webkitURL).createObjectURL(u);
                            this.$worker = new Worker(d)
                        } catch (e) {
                            if (!(e instanceof window.DOMException)) throw e;
                            u = this.$workerBlob(o);
                            var h = window.URL || window.webkitURL,
                                p = h.createObjectURL(u);
                            this.$worker = new Worker(p), h.revokeObjectURL(p)
                        }
                        this.$worker.postMessage({
                            init: !0,
                            tlns: l,
                            module: r.id,
                            classname: i
                        }), this.callbackId = 1, this.callbacks = {}, this.$worker.onmessage = this.onMessage
                    };
                (function() {
                    i.implement(this, a), this.onMessage = function(e) {
                        var t = e.data;
                        switch (t.type) {
                            case "event":
                                this._signal(t.name, {
                                    data: t.data
                                });
                                break;
                            case "call":
                                var n = this.callbacks[t.id];
                                n && (n(t.data), delete this.callbacks[t.id]);
                                break;
                            case "error":
                                this.reportError(t.data);
                                break;
                            case "log":
                                window.console && console.log && console.log.apply(console, t.data)
                        }
                    }, this.reportError = function(e) {
                        window.console && console.error && console.error(e)
                    }, this.$normalizePath = function(e) {
                        return o.qualifyURL(e)
                    }, this.terminate = function() {
                        this._signal("terminate", {}), this.deltaQueue = null, this.$worker.terminate(), this.$worker = null, this.$doc && this.$doc.off("change", this.changeListener), this.$doc = null
                    }, this.send = function(e, t) {
                        this.$worker.postMessage({
                            command: e,
                            args: t
                        })
                    }, this.call = function(e, t, n) {
                        if (n) {
                            var r = this.callbackId++;
                            this.callbacks[r] = n, t.push(r)
                        }
                        this.send(e, t)
                    }, this.emit = function(e, t) {
                        try {
                            this.$worker.postMessage({
                                event: e,
                                data: {
                                    data: t.data
                                }
                            })
                        } catch (e) {
                            console.error(e.stack)
                        }
                    }, this.attachToDocument = function(e) {
                        this.$doc && this.terminate(), this.$doc = e, this.call("setValue", [e.getValue()]), e.on("change", this.changeListener)
                    }, this.changeListener = function(e) {
                        this.deltaQueue || (this.deltaQueue = [], setTimeout(this.$sendDeltaQueue, 0)), this.deltaQueue.push(e.start, "insert" == e.action ? e.lines : e.end)
                    }, this.$sendDeltaQueue = function() {
                        var e = this.deltaQueue;
                        e && (this.deltaQueue = null, e.length > 50 && e.length > this.$doc.getLength() >> 1 ? this.call("setValue", [this.$doc.getValue()]) : this.emit("change", {
                            data: e
                        }))
                    }, this.$workerBlob = function(e) {
                        var t = "importScripts('" + o.qualifyURL(e) + "');";
                        try {
                            return new Blob([t], {
                                type: "application/javascript"
                            })
                        } catch (e) {
                            var n = new(window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder);
                            return n.append(t), n.getBlob("application/javascript")
                        }
                    }
                }).call(l.prototype);
                var c = function(e, t, n) {
                    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this), this.changeListener = this.changeListener.bind(this), this.callbackId = 1, this.callbacks = {}, this.messageBuffer = [];
                    var r = null,
                        i = !1,
                        o = Object.create(a),
                        l = this;
                    this.$worker = {}, this.$worker.terminate = function() {}, this.$worker.postMessage = function(e) {
                        l.messageBuffer.push(e), r && (i ? setTimeout(c) : c())
                    }, this.setEmitSync = function(e) {
                        i = e
                    };
                    var c = function() {
                        var e = l.messageBuffer.shift();
                        e.command ? r[e.command].apply(r, e.args) : e.event && o._signal(e.event, e.data)
                    };
                    o.postMessage = function(e) {
                        l.onMessage({
                            data: e
                        })
                    }, o.callback = function(e, t) {
                        this.postMessage({
                            type: "call",
                            id: t,
                            data: e
                        })
                    }, o.emit = function(e, t) {
                        this.postMessage({
                            type: "event",
                            name: e,
                            data: t
                        })
                    }, s.loadModule(["worker", t], function(e) {
                        for (r = new e[n](o); l.messageBuffer.length;) c()
                    })
                };
                c.prototype = l.prototype, t.UIWorkerClient = c, t.WorkerClient = l
            }), ace.define("ace/placeholder", ["require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/oop"], function(e, t, n) {
                "use strict";
                var r = e("./range").Range,
                    i = e("./lib/event_emitter").EventEmitter,
                    o = e("./lib/oop"),
                    a = function(e, t, n, r, i, o) {
                        var a = this;
                        this.length = t, this.session = e, this.doc = e.getDocument(), this.mainClass = i, this.othersClass = o, this.$onUpdate = this.onUpdate.bind(this), this.doc.on("change", this.$onUpdate), this.$others = r, this.$onCursorChange = function() {
                            setTimeout(function() {
                                a.onCursorChange()
                            })
                        }, this.$pos = n;
                        var s = e.getUndoManager().$undoStack || e.getUndoManager().$undostack || {
                            length: -1
                        };
                        this.$undoStackDepth = s.length, this.setup(), e.selection.on("changeCursor", this.$onCursorChange)
                    };
                (function() {
                    o.implement(this, i), this.setup = function() {
                        var e = this,
                            t = this.doc,
                            n = this.session;
                        this.selectionBefore = n.selection.toJSON(), n.selection.inMultiSelectMode && n.selection.toSingleRange(), this.pos = t.createAnchor(this.$pos.row, this.$pos.column);
                        var i = this.pos;
                        i.$insertRight = !0, i.detach(), i.markerId = n.addMarker(new r(i.row, i.column, i.row, i.column + this.length), this.mainClass, null, !1), this.others = [], this.$others.forEach(function(n) {
                            var r = t.createAnchor(n.row, n.column);
                            r.$insertRight = !0, r.detach(), e.others.push(r)
                        }), n.setUndoSelect(!1)
                    }, this.showOtherMarkers = function() {
                        if (!this.othersActive) {
                            var e = this.session,
                                t = this;
                            this.othersActive = !0, this.others.forEach(function(n) {
                                n.markerId = e.addMarker(new r(n.row, n.column, n.row, n.column + t.length), t.othersClass, null, !1)
                            })
                        }
                    }, this.hideOtherMarkers = function() {
                        if (this.othersActive) {
                            this.othersActive = !1;
                            for (var e = 0; e < this.others.length; e++) this.session.removeMarker(this.others[e].markerId)
                        }
                    }, this.onUpdate = function(e) {
                        if (this.$updating) return this.updateAnchors(e);
                        var t = e;
                        if (t.start.row === t.end.row && t.start.row === this.pos.row) {
                            this.$updating = !0;
                            var n = "insert" === e.action ? t.end.column - t.start.column : t.start.column - t.end.column,
                                i = t.start.column >= this.pos.column && t.start.column <= this.pos.column + this.length + 1,
                                o = t.start.column - this.pos.column;
                            if (this.updateAnchors(e), i && (this.length += n), i && !this.session.$fromUndo)
                                if ("insert" === e.action)
                                    for (var a = this.others.length - 1; a >= 0; a--) this.doc.insertMergedLines(l = {
                                        row: (s = this.others[a]).row,
                                        column: s.column + o
                                    }, e.lines);
                                else if ("remove" === e.action)
                                for (a = this.others.length - 1; a >= 0; a--) {
                                    var s, l;
                                    this.doc.remove(new r((l = {
                                        row: (s = this.others[a]).row,
                                        column: s.column + o
                                    }).row, l.column, l.row, l.column - n))
                                }
                            this.$updating = !1, this.updateMarkers()
                        }
                    }, this.updateAnchors = function(e) {
                        this.pos.onChange(e);
                        for (var t = this.others.length; t--;) this.others[t].onChange(e);
                        this.updateMarkers()
                    }, this.updateMarkers = function() {
                        if (!this.$updating) {
                            var e = this,
                                t = this.session,
                                n = function(n, i) {
                                    t.removeMarker(n.markerId), n.markerId = t.addMarker(new r(n.row, n.column, n.row, n.column + e.length), i, null, !1)
                                };
                            n(this.pos, this.mainClass);
                            for (var i = this.others.length; i--;) n(this.others[i], this.othersClass)
                        }
                    }, this.onCursorChange = function(e) {
                        if (!this.$updating && this.session) {
                            var t = this.session.selection.getCursor();
                            t.row === this.pos.row && t.column >= this.pos.column && t.column <= this.pos.column + this.length ? (this.showOtherMarkers(), this._emit("cursorEnter", e)) : (this.hideOtherMarkers(), this._emit("cursorLeave", e))
                        }
                    }, this.detach = function() {
                        this.session.removeMarker(this.pos && this.pos.markerId), this.hideOtherMarkers(), this.doc.removeEventListener("change", this.$onUpdate), this.session.selection.removeEventListener("changeCursor", this.$onCursorChange), this.session.setUndoSelect(!0), this.session = null
                    }, this.cancel = function() {
                        if (-1 !== this.$undoStackDepth) {
                            for (var e = this.session.getUndoManager(), t = (e.$undoStack || e.$undostack).length - this.$undoStackDepth, n = 0; n < t; n++) e.undo(!0);
                            this.selectionBefore && this.session.selection.fromJSON(this.selectionBefore)
                        }
                    }
                }).call(a.prototype), t.PlaceHolder = a
            }), ace.define("ace/mouse/multi_select_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(e, t, n) {
                var r = e("../lib/event"),
                    i = e("../lib/useragent");

                function o(e, t) {
                    return e.row == t.row && e.column == t.column
                }
                t.onMouseDown = function(e) {
                    var t = e.domEvent,
                        n = t.altKey,
                        a = t.shiftKey,
                        s = t.ctrlKey,
                        l = e.getAccelKey(),
                        c = e.getButton();
                    if (s && i.isMac && (c = t.button), e.editor.inMultiSelectMode && 2 == c) e.editor.textInput.onContextMenu(e.domEvent);
                    else if (s || n || l) {
                        if (0 === c) {
                            var u, d = e.editor,
                                h = d.selection,
                                p = d.inMultiSelectMode,
                                f = e.getDocumentPosition(),
                                m = h.getCursor(),
                                g = e.inSelection() || h.isEmpty() && o(f, m),
                                E = e.x,
                                b = e.y,
                                v = d.session,
                                T = d.renderer.pixelToScreenCoordinates(E, b),
                                y = T;
                            if (d.$mouseHandler.$enableJumpToDef) s && n || l && n ? u = a ? "block" : "add" : n && d.$blockSelectEnabled && (u = "block");
                            else if (l && !n) {
                                if (u = "add", !p && a) return
                            } else n && d.$blockSelectEnabled && (u = "block");
                            if (u && i.isMac && t.ctrlKey && d.$mouseHandler.cancelContextMenu(), "add" == u) {
                                if (!p && g) return;
                                if (!p) {
                                    var C = h.toOrientedRange();
                                    d.addSelectionMarker(C)
                                }
                                var k = h.rangeList.rangeAtPoint(f);
                                d.$blockScrolling++, d.inVirtualSelectionMode = !0, a && (k = null, d.removeSelectionMarker(C = h.ranges[0] || C)), d.once("mouseup", function() {
                                    var e = h.toOrientedRange();
                                    k && e.isEmpty() && o(k.cursor, e.cursor) ? h.substractPoint(e.cursor) : (a ? h.substractPoint(C.cursor) : C && (d.removeSelectionMarker(C), h.addRange(C)), h.addRange(e)), d.$blockScrolling--, d.inVirtualSelectionMode = !1
                                })
                            } else if ("block" == u) {
                                var w;
                                e.stop(), d.inVirtualSelectionMode = !0;
                                var _ = [];
                                d.$blockScrolling++, p && !l ? h.toSingleRange() : !p && l && (w = h.toOrientedRange(), d.addSelectionMarker(w)), a ? T = v.documentToScreenPosition(h.lead) : h.moveToPosition(f), d.$blockScrolling--, y = {
                                    row: -1,
                                    column: -1
                                }, r.capture(d.container, function(e) {
                                    E = e.clientX, b = e.clientY
                                }, function(e) {
                                    clearInterval(x), d.removeSelectionMarkers(_), _.length || (_ = [h.toOrientedRange()]), d.$blockScrolling++, w && (d.removeSelectionMarker(w), h.toSingleRange(w));
                                    for (var t = 0; t < _.length; t++) h.addRange(_[t]);
                                    d.inVirtualSelectionMode = !1, d.$mouseHandler.$clickSelection = null, d.$blockScrolling--
                                });
                                var x = setInterval(function() {
                                    var e, t;
                                    e = d.renderer.pixelToScreenCoordinates(E, b), t = v.screenToDocumentPosition(e.row, e.column), o(y, e) && o(t, h.lead) || (y = e, d.$blockScrolling++, d.selection.moveToPosition(t), d.renderer.scrollCursorIntoView(), d.removeSelectionMarkers(_), _ = h.rectangularRangeBlock(y, T), d.$mouseHandler.$clickSelection && 1 == _.length && _[0].isEmpty() && (_[0] = d.$mouseHandler.$clickSelection.clone()), _.forEach(d.addSelectionMarker, d), d.updateSelectionMarkers(), d.$blockScrolling--)
                                }, 20);
                                return e.preventDefault()
                            }
                        }
                    } else 0 === c && e.editor.inMultiSelectMode && e.editor.exitMultiSelectMode()
                }
            }), ace.define("ace/commands/multi_select_commands", ["require", "exports", "module", "ace/keyboard/hash_handler"], function(e, t, n) {
                t.defaultCommands = [{
                    name: "addCursorAbove",
                    exec: function(e) {
                        e.selectMoreLines(-1)
                    },
                    bindKey: {
                        win: "Ctrl-Alt-Up",
                        mac: "Ctrl-Alt-Up"
                    },
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "addCursorBelow",
                    exec: function(e) {
                        e.selectMoreLines(1)
                    },
                    bindKey: {
                        win: "Ctrl-Alt-Down",
                        mac: "Ctrl-Alt-Down"
                    },
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "addCursorAboveSkipCurrent",
                    exec: function(e) {
                        e.selectMoreLines(-1, !0)
                    },
                    bindKey: {
                        win: "Ctrl-Alt-Shift-Up",
                        mac: "Ctrl-Alt-Shift-Up"
                    },
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "addCursorBelowSkipCurrent",
                    exec: function(e) {
                        e.selectMoreLines(1, !0)
                    },
                    bindKey: {
                        win: "Ctrl-Alt-Shift-Down",
                        mac: "Ctrl-Alt-Shift-Down"
                    },
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selectMoreBefore",
                    exec: function(e) {
                        e.selectMore(-1)
                    },
                    bindKey: {
                        win: "Ctrl-Alt-Left",
                        mac: "Ctrl-Alt-Left"
                    },
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selectMoreAfter",
                    exec: function(e) {
                        e.selectMore(1)
                    },
                    bindKey: {
                        win: "Ctrl-Alt-Right",
                        mac: "Ctrl-Alt-Right"
                    },
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selectNextBefore",
                    exec: function(e) {
                        e.selectMore(-1, !0)
                    },
                    bindKey: {
                        win: "Ctrl-Alt-Shift-Left",
                        mac: "Ctrl-Alt-Shift-Left"
                    },
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "selectNextAfter",
                    exec: function(e) {
                        e.selectMore(1, !0)
                    },
                    bindKey: {
                        win: "Ctrl-Alt-Shift-Right",
                        mac: "Ctrl-Alt-Shift-Right"
                    },
                    scrollIntoView: "cursor",
                    readOnly: !0
                }, {
                    name: "splitIntoLines",
                    exec: function(e) {
                        e.multiSelect.splitIntoLines()
                    },
                    bindKey: {
                        win: "Ctrl-Alt-L",
                        mac: "Ctrl-Alt-L"
                    },
                    readOnly: !0
                }, {
                    name: "alignCursors",
                    exec: function(e) {
                        e.alignCursors()
                    },
                    bindKey: {
                        win: "Ctrl-Alt-A",
                        mac: "Ctrl-Alt-A"
                    },
                    scrollIntoView: "cursor"
                }, {
                    name: "findAll",
                    exec: function(e) {
                        e.findAll()
                    },
                    bindKey: {
                        win: "Ctrl-Alt-K",
                        mac: "Ctrl-Alt-G"
                    },
                    scrollIntoView: "cursor",
                    readOnly: !0
                }], t.multiSelectCommands = [{
                    name: "singleSelection",
                    bindKey: "esc",
                    exec: function(e) {
                        e.exitMultiSelectMode()
                    },
                    scrollIntoView: "cursor",
                    readOnly: !0,
                    isAvailable: function(e) {
                        return e && e.inMultiSelectMode
                    }
                }];
                var r = e("../keyboard/hash_handler").HashHandler;
                t.keyboardHandler = new r(t.multiSelectCommands)
            }), ace.define("ace/multi_select", ["require", "exports", "module", "ace/range_list", "ace/range", "ace/selection", "ace/mouse/multi_select_handler", "ace/lib/event", "ace/lib/lang", "ace/commands/multi_select_commands", "ace/search", "ace/edit_session", "ace/editor", "ace/config"], function(e, t, n) {
                var r = e("./range_list").RangeList,
                    i = e("./range").Range,
                    o = e("./selection").Selection,
                    a = e("./mouse/multi_select_handler").onMouseDown,
                    s = e("./lib/event"),
                    l = e("./lib/lang"),
                    c = e("./commands/multi_select_commands");
                t.commands = c.defaultCommands.concat(c.multiSelectCommands);
                var u = new(0, e("./search").Search),
                    d = e("./edit_session").EditSession;
                (function() {
                    this.getSelectionMarkers = function() {
                        return this.$selectionMarkers
                    }
                }).call(d.prototype), (function() {
                    this.ranges = null, this.rangeList = null, this.addRange = function(e, t) {
                        if (e) {
                            if (!this.inMultiSelectMode && 0 === this.rangeCount) {
                                var n = this.toOrientedRange();
                                if (this.rangeList.add(n), this.rangeList.add(e), 2 != this.rangeList.ranges.length) return this.rangeList.removeAll(), t || this.fromOrientedRange(e);
                                this.rangeList.removeAll(), this.rangeList.add(n), this.$onAddRange(n)
                            }
                            e.cursor || (e.cursor = e.end);
                            var r = this.rangeList.add(e);
                            return this.$onAddRange(e), r.length && this.$onRemoveRange(r), this.rangeCount > 1 && !this.inMultiSelectMode && (this._signal("multiSelect"), this.inMultiSelectMode = !0, this.session.$undoSelect = !1, this.rangeList.attach(this.session)), t || this.fromOrientedRange(e)
                        }
                    }, this.toSingleRange = function(e) {
                        e = e || this.ranges[0];
                        var t = this.rangeList.removeAll();
                        t.length && this.$onRemoveRange(t), e && this.fromOrientedRange(e)
                    }, this.substractPoint = function(e) {
                        var t = this.rangeList.substractPoint(e);
                        if (t) return this.$onRemoveRange(t), t[0]
                    }, this.mergeOverlappingRanges = function() {
                        var e = this.rangeList.merge();
                        e.length ? this.$onRemoveRange(e) : this.ranges[0] && this.fromOrientedRange(this.ranges[0])
                    }, this.$onAddRange = function(e) {
                        this.rangeCount = this.rangeList.ranges.length, this.ranges.unshift(e), this._signal("addRange", {
                            range: e
                        })
                    }, this.$onRemoveRange = function(e) {
                        if (this.rangeCount = this.rangeList.ranges.length, 1 == this.rangeCount && this.inMultiSelectMode) {
                            var t = this.rangeList.ranges.pop();
                            e.push(t), this.rangeCount = 0
                        }
                        for (var n = e.length; n--;) {
                            var r = this.ranges.indexOf(e[n]);
                            this.ranges.splice(r, 1)
                        }
                        this._signal("removeRange", {
                            ranges: e
                        }), 0 === this.rangeCount && this.inMultiSelectMode && (this.inMultiSelectMode = !1, this._signal("singleSelect"), this.session.$undoSelect = !0, this.rangeList.detach(this.session)), (t = t || this.ranges[0]) && !t.isEqual(this.getRange()) && this.fromOrientedRange(t)
                    }, this.$initRangeList = function() {
                        this.rangeList || (this.rangeList = new r, this.ranges = [], this.rangeCount = 0)
                    }, this.getAllRanges = function() {
                        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()]
                    }, this.splitIntoLines = function() {
                        if (this.rangeCount > 1) {
                            var e = this.rangeList.ranges,
                                t = e[e.length - 1],
                                n = i.fromPoints(e[0].start, t.end);
                            this.toSingleRange(), this.setSelectionRange(n, t.cursor == t.start)
                        } else {
                            n = this.getRange();
                            var r = this.isBackwards(),
                                o = n.start.row,
                                a = n.end.row;
                            if (o == a) {
                                if (r) var s = n.end,
                                    l = n.start;
                                else s = n.start, l = n.end;
                                return this.addRange(i.fromPoints(l, l)), void this.addRange(i.fromPoints(s, s))
                            }
                            var c = [],
                                u = this.getLineRange(o, !0);
                            u.start.column = n.start.column, c.push(u);
                            for (var d = o + 1; d < a; d++) c.push(this.getLineRange(d, !0));
                            (u = this.getLineRange(a, !0)).end.column = n.end.column, c.push(u), c.forEach(this.addRange, this)
                        }
                    }, this.toggleBlockSelection = function() {
                        if (this.rangeCount > 1) {
                            var e = this.rangeList.ranges,
                                t = e[e.length - 1],
                                n = i.fromPoints(e[0].start, t.end);
                            this.toSingleRange(), this.setSelectionRange(n, t.cursor == t.start)
                        } else {
                            var r = this.session.documentToScreenPosition(this.selectionLead),
                                o = this.session.documentToScreenPosition(this.selectionAnchor);
                            this.rectangularRangeBlock(r, o).forEach(this.addRange, this)
                        }
                    }, this.rectangularRangeBlock = function(e, t, n) {
                        var r = [],
                            o = e.column < t.column;
                        if (o) var a = e.column,
                            s = t.column;
                        else a = t.column, s = e.column;
                        var l, c, u = e.row < t.row;
                        if (u) var d = e.row,
                            h = t.row;
                        else d = t.row, h = e.row;
                        a < 0 && (a = 0), d < 0 && (d = 0), d == h && (n = !0);
                        for (var p = d; p <= h; p++) {
                            var f = i.fromPoints(this.session.screenToDocumentPosition(p, a), this.session.screenToDocumentPosition(p, s));
                            if (f.isEmpty()) {
                                if (m && (l = f.end).row == (c = m).row && l.column == c.column) break;
                                var m = f.end
                            }
                            f.cursor = o ? f.start : f.end, r.push(f)
                        }
                        if (u && r.reverse(), !n) {
                            for (var g = r.length - 1; r[g].isEmpty() && g > 0;) g--;
                            if (g > 0)
                                for (var E = 0; r[E].isEmpty();) E++;
                            for (var b = g; b >= E; b--) r[b].isEmpty() && r.splice(b, 1)
                        }
                        return r
                    }
                }).call(o.prototype);
                var h = e("./editor").Editor;

                function p(e) {
                    e.$multiselectOnSessionChange || (e.$onAddRange = e.$onAddRange.bind(e), e.$onRemoveRange = e.$onRemoveRange.bind(e), e.$onMultiSelect = e.$onMultiSelect.bind(e), e.$onSingleSelect = e.$onSingleSelect.bind(e), e.$multiselectOnSessionChange = t.onSessionChange.bind(e), e.$checkMultiselectChange = e.$checkMultiselectChange.bind(e), e.$multiselectOnSessionChange(e), e.on("changeSession", e.$multiselectOnSessionChange), e.on("mousedown", a), e.commands.addCommands(c.defaultCommands), function(e) {
                        var t = e.textInput.getElement(),
                            n = !1;

                        function r(t) {
                            n && (e.renderer.setMouseCursor(""), n = !1)
                        }
                        s.addListener(t, "keydown", function(t) {
                            e.$blockSelectEnabled && 18 == t.keyCode && !(t.ctrlKey || t.shiftKey || t.metaKey) ? n || (e.renderer.setMouseCursor("crosshair"), n = !0) : n && r()
                        }), s.addListener(t, "keyup", r), s.addListener(t, "blur", r)
                    }(e))
                }(function() {
                    this.updateSelectionMarkers = function() {
                        this.renderer.updateCursor(), this.renderer.updateBackMarkers()
                    }, this.addSelectionMarker = function(e) {
                        e.cursor || (e.cursor = e.end);
                        var t = this.getSelectionStyle();
                        return e.marker = this.session.addMarker(e, "ace_selection", t), this.session.$selectionMarkers.push(e), this.session.selectionMarkerCount = this.session.$selectionMarkers.length, e
                    }, this.removeSelectionMarker = function(e) {
                        if (e.marker) {
                            this.session.removeMarker(e.marker);
                            var t = this.session.$selectionMarkers.indexOf(e); - 1 != t && this.session.$selectionMarkers.splice(t, 1), this.session.selectionMarkerCount = this.session.$selectionMarkers.length
                        }
                    }, this.removeSelectionMarkers = function(e) {
                        for (var t = this.session.$selectionMarkers, n = e.length; n--;) {
                            var r = e[n];
                            if (r.marker) {
                                this.session.removeMarker(r.marker);
                                var i = t.indexOf(r); - 1 != i && t.splice(i, 1)
                            }
                        }
                        this.session.selectionMarkerCount = t.length
                    }, this.$onAddRange = function(e) {
                        this.addSelectionMarker(e.range), this.renderer.updateCursor(), this.renderer.updateBackMarkers()
                    }, this.$onRemoveRange = function(e) {
                        this.removeSelectionMarkers(e.ranges), this.renderer.updateCursor(), this.renderer.updateBackMarkers()
                    }, this.$onMultiSelect = function(e) {
                        this.inMultiSelectMode || (this.inMultiSelectMode = !0, this.setStyle("ace_multiselect"), this.keyBinding.addKeyboardHandler(c.keyboardHandler), this.commands.setDefaultHandler("exec", this.$onMultiSelectExec), this.renderer.updateCursor(), this.renderer.updateBackMarkers())
                    }, this.$onSingleSelect = function(e) {
                        this.session.multiSelect.inVirtualMode || (this.inMultiSelectMode = !1, this.unsetStyle("ace_multiselect"), this.keyBinding.removeKeyboardHandler(c.keyboardHandler), this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec), this.renderer.updateCursor(), this.renderer.updateBackMarkers(), this._emit("changeSelection"))
                    }, this.$onMultiSelectExec = function(e) {
                        var t = e.command,
                            n = e.editor;
                        if (n.multiSelect) {
                            if (t.multiSelectAction) "forEach" == t.multiSelectAction ? r = n.forEachSelection(t, e.args) : "forEachLine" == t.multiSelectAction ? r = n.forEachSelection(t, e.args, !0) : "single" == t.multiSelectAction ? (n.exitMultiSelectMode(), r = t.exec(n, e.args || {})) : r = t.multiSelectAction(n, e.args || {});
                            else {
                                var r = t.exec(n, e.args || {});
                                n.multiSelect.addRange(n.multiSelect.toOrientedRange()), n.multiSelect.mergeOverlappingRanges()
                            }
                            return r
                        }
                    }, this.forEachSelection = function(e, t, n) {
                        if (!this.inVirtualSelectionMode) {
                            var r, i = 1 == n || n && n.$byLines,
                                a = this.session,
                                s = this.selection,
                                l = (n && n.keepOrder ? s : s.rangeList).ranges;
                            if (!l.length) return e.exec ? e.exec(this, t || {}) : e(this, t || {});
                            var c = s._eventRegistry;
                            s._eventRegistry = {};
                            var u = new o(a);
                            this.inVirtualSelectionMode = !0;
                            for (var d = l.length; d--;) {
                                if (i)
                                    for (; d > 0 && l[d].start.row == l[d - 1].end.row;) d--;
                                u.fromOrientedRange(l[d]), u.index = d, this.selection = a.selection = u;
                                var h = e.exec ? e.exec(this, t || {}) : e(this, t || {});
                                r || void 0 === h || (r = h), u.toOrientedRange(l[d])
                            }
                            u.detach(), this.selection = a.selection = s, this.inVirtualSelectionMode = !1, s._eventRegistry = c, s.mergeOverlappingRanges();
                            var p = this.renderer.$scrollAnimation;
                            return this.onCursorChange(), this.onSelectionChange(), p && p.from == p.to && this.renderer.animateScrolling(p.from), r
                        }
                    }, this.exitMultiSelectMode = function() {
                        this.inMultiSelectMode && !this.inVirtualSelectionMode && this.multiSelect.toSingleRange()
                    }, this.getSelectedText = function() {
                        var e = "";
                        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
                            for (var t = this.multiSelect.rangeList.ranges, n = [], r = 0; r < t.length; r++) n.push(this.session.getTextRange(t[r]));
                            var i = this.session.getDocument().getNewLineCharacter();
                            (e = n.join(i)).length == (n.length - 1) * i.length && (e = "")
                        } else this.selection.isEmpty() || (e = this.session.getTextRange(this.getSelectionRange()));
                        return e
                    }, this.$checkMultiselectChange = function(e, t) {
                        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
                            var n = this.multiSelect.ranges[0];
                            if (this.multiSelect.isEmpty() && t == this.multiSelect.anchor) return;
                            var r = t == this.multiSelect.anchor ? n.cursor == n.start ? n.end : n.start : n.cursor;
                            r.row == t.row && this.session.$clipPositionToDocument(r.row, r.column).column == t.column || this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())
                        }
                    }, this.findAll = function(e, t, n) {
                        if ((t = t || {}).needle = e || t.needle, void 0 == t.needle) {
                            var r = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();
                            t.needle = this.session.getTextRange(r)
                        }
                        this.$search.set(t);
                        var i = this.$search.findAll(this.session);
                        if (!i.length) return 0;
                        this.$blockScrolling += 1;
                        var o = this.multiSelect;
                        n || o.toSingleRange(i[0]);
                        for (var a = i.length; a--;) o.addRange(i[a], !0);
                        return r && o.rangeList.rangeAtPoint(r.start) && o.addRange(r, !0), this.$blockScrolling -= 1, i.length
                    }, this.selectMoreLines = function(e, t) {
                        var n = this.selection.toOrientedRange(),
                            r = n.cursor == n.end,
                            o = this.session.documentToScreenPosition(n.cursor);
                        this.selection.$desiredColumn && (o.column = this.selection.$desiredColumn);
                        var a, s = this.session.screenToDocumentPosition(o.row + e, o.column);
                        if (n.isEmpty()) c = s;
                        else var l = this.session.documentToScreenPosition(r ? n.end : n.start),
                            c = this.session.screenToDocumentPosition(l.row + e, l.column);
                        if (r ? (a = i.fromPoints(s, c)).cursor = a.start : (a = i.fromPoints(c, s)).cursor = a.end, a.desiredColumn = o.column, this.selection.inMultiSelectMode) {
                            if (t) var u = n.cursor
                        } else this.selection.addRange(n);
                        this.selection.addRange(a), u && this.selection.substractPoint(u)
                    }, this.transposeSelections = function(e) {
                        for (var t = this.session, n = t.multiSelect, r = n.ranges, i = r.length; i--;)
                            if ((s = r[i]).isEmpty()) {
                                var o = t.getWordRange(s.start.row, s.start.column);
                                s.start.row = o.start.row, s.start.column = o.start.column, s.end.row = o.end.row, s.end.column = o.end.column
                            }
                        n.mergeOverlappingRanges();
                        var a = [];
                        for (i = r.length; i--;) a.unshift(t.getTextRange(s = r[i]));
                        for (e < 0 ? a.unshift(a.pop()) : a.push(a.shift()), i = r.length; i--;) {
                            var s;
                            o = (s = r[i]).clone(), t.replace(s, a[i]), s.start.row = o.start.row, s.start.column = o.start.column
                        }
                    }, this.selectMore = function(e, t, n) {
                        var r = this.session,
                            i = r.multiSelect.toOrientedRange();
                        if (!i.isEmpty() || ((i = r.getWordRange(i.start.row, i.start.column)).cursor = -1 == e ? i.start : i.end, this.multiSelect.addRange(i), !n)) {
                            var o = function(e, t, n) {
                                return u.$options.wrap = !0, u.$options.needle = t, u.$options.backwards = -1 == n, u.find(e)
                            }(r, r.getTextRange(i), e);
                            o && (o.cursor = -1 == e ? o.start : o.end, this.$blockScrolling += 1, this.session.unfold(o), this.multiSelect.addRange(o), this.$blockScrolling -= 1, this.renderer.scrollCursorIntoView(null, .5)), t && this.multiSelect.substractPoint(i.cursor)
                        }
                    }, this.alignCursors = function() {
                        var e = this.session,
                            t = e.multiSelect,
                            n = t.ranges,
                            r = -1,
                            o = n.filter(function(e) {
                                if (e.cursor.row == r) return !0;
                                r = e.cursor.row
                            });
                        if (n.length && o.length != n.length - 1) {
                            o.forEach(function(e) {
                                t.substractPoint(e.cursor)
                            });
                            var a = 0,
                                s = 1 / 0,
                                c = n.map(function(t) {
                                    var n = t.cursor,
                                        r = e.getLine(n.row).substr(n.column).search(/\S/g);
                                    return -1 == r && (r = 0), n.column > a && (a = n.column), r < s && (s = r), r
                                });
                            n.forEach(function(t, n) {
                                var r = t.cursor,
                                    o = a - r.column,
                                    u = c[n] - s;
                                o > u ? e.insert(r, l.stringRepeat(" ", o - u)) : e.remove(new i(r.row, r.column, r.row, r.column - o + u)), t.start.column = t.end.column = a, t.start.row = t.end.row = r.row, t.cursor = t.end
                            }), t.fromOrientedRange(n[0]), this.renderer.updateCursor(), this.renderer.updateBackMarkers()
                        } else {
                            var u = this.selection.getRange(),
                                d = u.start.row,
                                h = u.end.row,
                                p = d == h;
                            if (p) {
                                var f, m = this.session.getLength();
                                do {
                                    f = this.session.getLine(h)
                                } while (/[=:]/.test(f) && ++h < m);
                                do {
                                    f = this.session.getLine(d)
                                } while (/[=:]/.test(f) && --d > 0);
                                d < 0 && (d = 0), h >= m && (h = m - 1)
                            }
                            var g = this.session.removeFullLines(d, h);
                            g = this.$reAlignText(g, p), this.session.insert({
                                row: d,
                                column: 0
                            }, g.join("\n") + "\n"), p || (u.start.column = 0, u.end.column = g[g.length - 1].length), this.selection.setRange(u)
                        }
                    }, this.$reAlignText = function(e, t) {
                        var n, r, i, o = !0,
                            a = !0;
                        return e.map(function(e) {
                            var t = e.match(/(\s*)(.*?)(\s*)([=:].*)/);
                            return t ? null == n ? (n = t[1].length, r = t[2].length, i = t[3].length, t) : (n + r + i != t[1].length + t[2].length + t[3].length && (a = !1), n != t[1].length && (o = !1), n > t[1].length && (n = t[1].length), r < t[2].length && (r = t[2].length), i > t[3].length && (i = t[3].length), t) : [e]
                        }).map(t ? c : o ? a ? function(e) {
                            return e[2] ? s(n + r - e[2].length) + e[2] + s(i) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0]
                        } : c : function(e) {
                            return e[2] ? s(n) + e[2] + s(i) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0]
                        });

                        function s(e) {
                            return l.stringRepeat(" ", e)
                        }

                        function c(e) {
                            return e[2] ? s(n) + e[2] + s(r - e[2].length + i) + e[4].replace(/^([=:])\s+/, "$1 ") : e[0]
                        }
                    }
                }).call(h.prototype), t.onSessionChange = function(e) {
                    var t = e.session;
                    t && !t.multiSelect && (t.$selectionMarkers = [], t.selection.$initRangeList(), t.multiSelect = t.selection), this.multiSelect = t && t.multiSelect;
                    var n = e.oldSession;
                    n && (n.multiSelect.off("addRange", this.$onAddRange), n.multiSelect.off("removeRange", this.$onRemoveRange), n.multiSelect.off("multiSelect", this.$onMultiSelect), n.multiSelect.off("singleSelect", this.$onSingleSelect), n.multiSelect.lead.off("change", this.$checkMultiselectChange), n.multiSelect.anchor.off("change", this.$checkMultiselectChange)), t && (t.multiSelect.on("addRange", this.$onAddRange), t.multiSelect.on("removeRange", this.$onRemoveRange), t.multiSelect.on("multiSelect", this.$onMultiSelect), t.multiSelect.on("singleSelect", this.$onSingleSelect), t.multiSelect.lead.on("change", this.$checkMultiselectChange), t.multiSelect.anchor.on("change", this.$checkMultiselectChange)), t && this.inMultiSelectMode != t.selection.inMultiSelectMode && (t.selection.inMultiSelectMode ? this.$onMultiSelect() : this.$onSingleSelect())
                }, t.MultiSelect = p, e("./config").defineOptions(h.prototype, "editor", {
                    enableMultiselect: {
                        set: function(e) {
                            p(this), e ? (this.on("changeSession", this.$multiselectOnSessionChange), this.on("mousedown", a)) : (this.off("changeSession", this.$multiselectOnSessionChange), this.off("mousedown", a))
                        },
                        value: !0
                    },
                    enableBlockSelect: {
                        set: function(e) {
                            this.$blockSelectEnabled = e
                        },
                        value: !0
                    }
                })
            }), ace.define("ace/mode/folding/fold_mode", ["require", "exports", "module", "ace/range"], function(e, t, n) {
                "use strict";
                var r = e("../../range").Range,
                    i = t.FoldMode = function() {};
                (function() {
                    this.foldingStartMarker = null, this.foldingStopMarker = null, this.getFoldWidget = function(e, t, n) {
                        var r = e.getLine(n);
                        return this.foldingStartMarker.test(r) ? "start" : "markbeginend" == t && this.foldingStopMarker && this.foldingStopMarker.test(r) ? "end" : ""
                    }, this.getFoldWidgetRange = function(e, t, n) {
                        return null
                    }, this.indentationBlock = function(e, t, n) {
                        var i = /\S/,
                            o = e.getLine(t),
                            a = o.search(i);
                        if (-1 != a) {
                            for (var s = n || o.length, l = e.getLength(), c = t, u = t; ++t < l;) {
                                var d = e.getLine(t).search(i);
                                if (-1 != d) {
                                    if (d <= a) break;
                                    u = t
                                }
                            }
                            if (u > c) {
                                var h = e.getLine(u).length;
                                return new r(c, s, u, h)
                            }
                        }
                    }, this.openingBracketBlock = function(e, t, n, i, o) {
                        var a = {
                                row: n,
                                column: i + 1
                            },
                            s = e.$findClosingBracket(t, a, o);
                        if (s) {
                            var l = e.foldWidgets[s.row];
                            return null == l && (l = e.getFoldWidget(s.row)), "start" == l && s.row > a.row && (s.row--, s.column = e.getLine(s.row).length), r.fromPoints(a, s)
                        }
                    }, this.closingBracketBlock = function(e, t, n, i, o) {
                        var a = {
                                row: n,
                                column: i
                            },
                            s = e.$findOpeningBracket(t, a);
                        if (s) return s.column++, a.column--, r.fromPoints(s, a)
                    }
                }).call(i.prototype)
            }), ace.define("ace/theme/textmate", ["require", "exports", "module", "ace/lib/dom"], function(e, t, n) {
                "use strict";
                t.isDark = !1, t.cssClass = "ace-tm", t.cssText = '.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}', e("../lib/dom").importCssString(t.cssText, t.cssClass)
            }), ace.define("ace/line_widgets", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/range"], function(e, t, n) {
                "use strict";
                e("./lib/oop");
                var r = e("./lib/dom");

                function i(e) {
                    this.session = e, this.session.widgetManager = this, this.session.getRowLength = this.getRowLength, this.session.$getWidgetScreenLength = this.$getWidgetScreenLength, this.updateOnChange = this.updateOnChange.bind(this), this.renderWidgets = this.renderWidgets.bind(this), this.measureWidgets = this.measureWidgets.bind(this), this.session._changedWidgets = [], this.$onChangeEditor = this.$onChangeEditor.bind(this), this.session.on("change", this.updateOnChange), this.session.on("changeFold", this.updateOnFold), this.session.on("changeEditor", this.$onChangeEditor)
                }
                e("./range"), (function() {
                    this.getRowLength = function(e) {
                        var t;
                        return t = this.lineWidgets && this.lineWidgets[e] && this.lineWidgets[e].rowCount || 0, this.$useWrapMode && this.$wrapData[e] ? this.$wrapData[e].length + 1 + t : 1 + t
                    }, this.$getWidgetScreenLength = function() {
                        var e = 0;
                        return this.lineWidgets.forEach(function(t) {
                            t && t.rowCount && !t.hidden && (e += t.rowCount)
                        }), e
                    }, this.$onChangeEditor = function(e) {
                        this.attach(e.editor)
                    }, this.attach = function(e) {
                        e && e.widgetManager && e.widgetManager != this && e.widgetManager.detach(), this.editor != e && (this.detach(), this.editor = e, e && (e.widgetManager = this, e.renderer.on("beforeRender", this.measureWidgets), e.renderer.on("afterRender", this.renderWidgets)))
                    }, this.detach = function(e) {
                        var t = this.editor;
                        if (t) {
                            this.editor = null, t.widgetManager = null, t.renderer.off("beforeRender", this.measureWidgets), t.renderer.off("afterRender", this.renderWidgets);
                            var n = this.session.lineWidgets;
                            n && n.forEach(function(e) {
                                e && e.el && e.el.parentNode && (e._inDocument = !1, e.el.parentNode.removeChild(e.el))
                            })
                        }
                    }, this.updateOnFold = function(e, t) {
                        var n = t.lineWidgets;
                        if (n && e.action) {
                            for (var r = e.data, i = r.start.row, o = r.end.row, a = "add" == e.action, s = i + 1; s < o; s++) n[s] && (n[s].hidden = a);
                            n[o] && (a ? n[i] ? n[o].hidden = a : n[i] = n[o] : (n[i] == n[o] && (n[i] = void 0), n[o].hidden = a))
                        }
                    }, this.updateOnChange = function(e) {
                        var t = this.session.lineWidgets;
                        if (t) {
                            var n = e.start.row,
                                r = e.end.row - n;
                            if (0 === r);
                            else if ("remove" == e.action) t.splice(n + 1, r).forEach(function(e) {
                                e && this.removeLineWidget(e)
                            }, this), this.$updateRows();
                            else {
                                var i = new Array(r);
                                i.unshift(n, 0), t.splice.apply(t, i), this.$updateRows()
                            }
                        }
                    }, this.$updateRows = function() {
                        var e = this.session.lineWidgets;
                        if (e) {
                            var t = !0;
                            e.forEach(function(e, n) {
                                if (e)
                                    for (t = !1, e.row = n; e.$oldWidget;) e.$oldWidget.row = n, e = e.$oldWidget
                            }), t && (this.session.lineWidgets = null)
                        }
                    }, this.addLineWidget = function(e) {
                        this.session.lineWidgets || (this.session.lineWidgets = new Array(this.session.getLength()));
                        var t = this.session.lineWidgets[e.row];
                        t && (e.$oldWidget = t, t.el && t.el.parentNode && (t.el.parentNode.removeChild(t.el), t._inDocument = !1)), this.session.lineWidgets[e.row] = e, e.session = this.session;
                        var n = this.editor.renderer;
                        e.html && !e.el && (e.el = r.createElement("div"), e.el.innerHTML = e.html), e.el && (r.addCssClass(e.el, "ace_lineWidgetContainer"), e.el.style.position = "absolute", e.el.style.zIndex = 5, n.container.appendChild(e.el), e._inDocument = !0), e.coverGutter || (e.el.style.zIndex = 3), null == e.pixelHeight && (e.pixelHeight = e.el.offsetHeight), null == e.rowCount && (e.rowCount = e.pixelHeight / n.layerConfig.lineHeight);
                        var i = this.session.getFoldAt(e.row, 0);
                        if (e.$fold = i, i) {
                            var o = this.session.lineWidgets;
                            e.row != i.end.row || o[i.start.row] ? e.hidden = !0 : o[i.start.row] = e
                        }
                        return this.session._emit("changeFold", {
                            data: {
                                start: {
                                    row: e.row
                                }
                            }
                        }), this.$updateRows(), this.renderWidgets(null, n), this.onWidgetChanged(e), e
                    }, this.removeLineWidget = function(e) {
                        if (e._inDocument = !1, e.session = null, e.el && e.el.parentNode && e.el.parentNode.removeChild(e.el), e.editor && e.editor.destroy) try {
                            e.editor.destroy()
                        } catch (e) {}
                        if (this.session.lineWidgets) {
                            var t = this.session.lineWidgets[e.row];
                            if (t == e) this.session.lineWidgets[e.row] = e.$oldWidget, e.$oldWidget && this.onWidgetChanged(e.$oldWidget);
                            else
                                for (; t;) {
                                    if (t.$oldWidget == e) {
                                        t.$oldWidget = e.$oldWidget;
                                        break
                                    }
                                    t = t.$oldWidget
                                }
                        }
                        this.session._emit("changeFold", {
                            data: {
                                start: {
                                    row: e.row
                                }
                            }
                        }), this.$updateRows()
                    }, this.getWidgetsAtRow = function(e) {
                        for (var t = this.session.lineWidgets, n = t && t[e], r = []; n;) r.push(n), n = n.$oldWidget;
                        return r
                    }, this.onWidgetChanged = function(e) {
                        this.session._changedWidgets.push(e), this.editor && this.editor.renderer.updateFull()
                    }, this.measureWidgets = function(e, t) {
                        var n = this.session._changedWidgets,
                            r = t.layerConfig;
                        if (n && n.length) {
                            for (var i = 1 / 0, o = 0; o < n.length; o++) {
                                var a = n[o];
                                if (a && a.el && a.session == this.session) {
                                    if (!a._inDocument) {
                                        if (this.session.lineWidgets[a.row] != a) continue;
                                        a._inDocument = !0, t.container.appendChild(a.el)
                                    }
                                    a.h = a.el.offsetHeight, a.fixedWidth || (a.w = a.el.offsetWidth, a.screenWidth = Math.ceil(a.w / r.characterWidth));
                                    var s = a.h / r.lineHeight;
                                    a.coverLine && (s -= this.session.getRowLineCount(a.row)) < 0 && (s = 0), a.rowCount != s && (a.rowCount = s, a.row < i && (i = a.row))
                                }
                            }
                            i != 1 / 0 && (this.session._emit("changeFold", {
                                data: {
                                    start: {
                                        row: i
                                    }
                                }
                            }), this.session.lineWidgetWidth = null), this.session._changedWidgets = []
                        }
                    }, this.renderWidgets = function(e, t) {
                        var n = t.layerConfig,
                            r = this.session.lineWidgets;
                        if (r) {
                            for (var i = Math.min(this.firstRow, n.firstRow), o = Math.max(this.lastRow, n.lastRow, r.length); i > 0 && !r[i];) i--;
                            this.firstRow = n.firstRow, this.lastRow = n.lastRow, t.$cursorLayer.config = n;
                            for (var a = i; a <= o; a++) {
                                var s = r[a];
                                if (s && s.el)
                                    if (s.hidden) s.el.style.top = -100 - (s.pixelHeight || 0) + "px";
                                    else {
                                        s._inDocument || (s._inDocument = !0, t.container.appendChild(s.el));
                                        var l = t.$cursorLayer.getPixelPosition({
                                            row: a,
                                            column: 0
                                        }, !0).top;
                                        s.coverLine || (l += n.lineHeight * this.session.getRowLineCount(s.row)), s.el.style.top = l - n.offset + "px";
                                        var c = s.coverGutter ? 0 : t.gutterWidth;
                                        s.fixedWidth || (c -= t.scrollLeft), s.el.style.left = c + "px", s.fullWidth && s.screenWidth && (s.el.style.minWidth = n.width + 2 * n.padding + "px"), s.el.style.right = s.fixedWidth ? t.scrollBar.getWidth() + "px" : ""
                                    }
                            }
                        }
                    }
                }).call(i.prototype), t.LineWidgets = i
            }), ace.define("ace/ext/error_marker", ["require", "exports", "module", "ace/line_widgets", "ace/lib/dom", "ace/range"], function(e, t, n) {
                "use strict";
                var r = e("../line_widgets").LineWidgets,
                    i = e("../lib/dom"),
                    o = e("../range").Range;
                t.showErrorMarker = function(e, t) {
                    var n = e.session;
                    n.widgetManager || (n.widgetManager = new r(n), n.widgetManager.attach(e));
                    var a = e.getCursorPosition(),
                        s = a.row,
                        l = n.widgetManager.getWidgetsAtRow(s).filter(function(e) {
                            return "errorMarker" == e.type
                        })[0];
                    l ? l.destroy() : s -= t;
                    var c, u = function(e, t, n) {
                        var r = e.getAnnotations().sort(o.comparePoints);
                        if (r.length) {
                            var i = function(e, t, n) {
                                for (var r = 0, i = e.length - 1; r <= i;) {
                                    var o = r + i >> 1,
                                        a = n(t, e[o]);
                                    if (a > 0) r = o + 1;
                                    else {
                                        if (!(a < 0)) return o;
                                        i = o - 1
                                    }
                                }
                                return -(r + 1)
                            }(r, {
                                row: t,
                                column: -1
                            }, o.comparePoints);
                            i < 0 && (i = -i - 1), i >= r.length ? i = n > 0 ? 0 : r.length - 1 : 0 === i && n < 0 && (i = r.length - 1);
                            var a = r[i];
                            if (a && n) {
                                if (a.row === t) {
                                    do {
                                        a = r[i += n]
                                    } while (a && a.row === t);
                                    if (!a) return r.slice()
                                }
                                var s = [];
                                t = a.row;
                                do {
                                    s[n < 0 ? "unshift" : "push"](a), a = r[i += n]
                                } while (a && a.row == t);
                                return s.length && s
                            }
                        }
                    }(n, s, t);
                    if (u) {
                        var d = u[0];
                        a.column = (d.pos && "number" != typeof d.column ? d.pos.sc : d.column) || 0, a.row = d.row, c = e.renderer.$gutterLayer.$annotations[a.row]
                    } else {
                        if (l) return;
                        c = {
                            text: ["Looks good!"],
                            className: "ace_ok"
                        }
                    }
                    e.session.unfold(a.row), e.selection.moveToPosition(a);
                    var h = {
                            row: a.row,
                            fixedWidth: !0,
                            coverGutter: !0,
                            el: i.createElement("div"),
                            type: "errorMarker"
                        },
                        p = h.el.appendChild(i.createElement("div")),
                        f = h.el.appendChild(i.createElement("div"));
                    f.className = "error_widget_arrow " + c.className;
                    var m = e.renderer.$cursorLayer.getPixelPosition(a).left;
                    f.style.left = m + e.renderer.gutterWidth - 5 + "px", h.el.className = "error_widget_wrapper", p.className = "error_widget " + c.className, p.innerHTML = c.text.join("<br>"), p.appendChild(i.createElement("div"));
                    var g = function(e, t, n) {
                        if (0 === t && ("esc" === n || "return" === n)) return h.destroy(), {
                            command: "null"
                        }
                    };
                    h.destroy = function() {
                        e.$mouseHandler.isMousePressed || (e.keyBinding.removeKeyboardHandler(g), n.widgetManager.removeLineWidget(h), e.off("changeSelection", h.destroy), e.off("changeSession", h.destroy), e.off("mouseup", h.destroy), e.off("change", h.destroy))
                    }, e.keyBinding.addKeyboardHandler(g), e.on("changeSelection", h.destroy), e.on("changeSession", h.destroy), e.on("mouseup", h.destroy), e.on("change", h.destroy), e.session.widgetManager.addLineWidget(h), h.el.onmousedown = e.focus.bind(e), e.renderer.scrollCursorIntoView(null, .5, {
                        bottom: h.el.offsetHeight
                    })
                }, i.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }", "")
            }), ace.define("ace/ace", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/lib/dom", "ace/lib/event", "ace/editor", "ace/edit_session", "ace/undomanager", "ace/virtual_renderer", "ace/worker/worker_client", "ace/keyboard/hash_handler", "ace/placeholder", "ace/multi_select", "ace/mode/folding/fold_mode", "ace/theme/textmate", "ace/ext/error_marker", "ace/config"], function(e, t, r) {
                "use strict";
                e("./lib/fixoldbrowsers");
                var i = e("./lib/dom"),
                    o = e("./lib/event"),
                    a = e("./editor").Editor,
                    s = e("./edit_session").EditSession,
                    l = e("./undomanager").UndoManager,
                    c = e("./virtual_renderer").VirtualRenderer;
                e("./worker/worker_client"), e("./keyboard/hash_handler"), e("./placeholder"), e("./multi_select"), e("./mode/folding/fold_mode"), e("./theme/textmate"), e("./ext/error_marker"), t.config = e("./config"), t.acequire = e, t.define = n("B9Yq"), t.edit = function(e) {
                    if ("string" == typeof e) {
                        var n = e;
                        if (!(e = document.getElementById(n))) throw new Error("ace.edit can't find div #" + n)
                    }
                    if (e && e.env && e.env.editor instanceof a) return e.env.editor;
                    var r = "";
                    if (e && /input|textarea/i.test(e.tagName)) {
                        var s = e;
                        r = s.value, e = i.createElement("pre"), s.parentNode.replaceChild(e, s)
                    } else e && (r = i.getInnerText(e), e.innerHTML = "");
                    var l = t.createEditSession(r),
                        u = new a(new c(e));
                    u.setSession(l);
                    var d = {
                        document: l,
                        editor: u,
                        onResize: u.resize.bind(u, null)
                    };
                    return s && (d.textarea = s), o.addListener(window, "resize", d.onResize), u.on("destroy", function() {
                        o.removeListener(window, "resize", d.onResize), d.editor.container.env = null
                    }), u.container.env = u.env = d, u
                }, t.createEditSession = function(e, t) {
                    var n = new s(e, t);
                    return n.setUndoManager(new l), n
                }, t.EditSession = s, t.UndoManager = l, t.version = "1.2.6"
            }), ace.acequire(["ace/ace"], function(e) {
                for (var t in e && (e.config.init(!0), e.define = ace.define), window.ace || (window.ace = e), e) e.hasOwnProperty(t) && (window.ace[t] = e[t])
            }), e.exports = window.ace.acequire("ace/ace")
        },
        EB9a: function(e, t, n) {
            "use strict";
            var r = n("mrSG").__decorate,
                i = n("mrSG").__metadata;
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = n("CcnG"),
                a = n("gIcY"),
                s = n("TpJd"),
                l = n("9uj+");
            t.CKEditorComponent = function() {
                function e(e) {
                    this.zone = e, this.change = new o.EventEmitter, this.editorChange = new o.EventEmitter, this.ready = new o.EventEmitter, this.blur = new o.EventEmitter, this.focus = new o.EventEmitter, this.contentDom = new o.EventEmitter, this.fileUploadRequest = new o.EventEmitter, this.fileUploadResponse = new o.EventEmitter, this.paste = new o.EventEmitter, this.drop = new o.EventEmitter, this._value = ""
                }
                return t = e, Object.defineProperty(e.prototype, "value", {
                    get: function() {
                        return this._value
                    },
                    set: function(e) {
                        e !== this._value && (this._value = e, this.onChange(e))
                    },
                    enumerable: !0,
                    configurable: !0
                }), e.prototype.ngOnChanges = function(e) {
                    e.readonly && this.instance && this.instance.setReadOnly(e.readonly.currentValue)
                }, e.prototype.ngOnDestroy = function() {
                    var e = this;
                    this.instance && setTimeout(function() {
                        e.instance.removeAllListeners(), CKEDITOR.instances[e.instance.name].destroy(), e.instance.destroy(), e.instance = null
                    })
                }, e.prototype.ngAfterViewInit = function() {
                    this.ckeditorInit(this.config || {})
                }, e.prototype.ngAfterViewChecked = function() {
                    this.ckeditorInit(this.config || {})
                }, e.prototype.updateValue = function(e) {
                    var t = this;
                    this.zone.run(function() {
                        t.value = e, t.onChange(e), t.onTouched(), t.change.emit(e)
                    })
                }, e.prototype.ckeditorInit = function(e) {
                    var t = this;
                    if ("undefined" == typeof CKEDITOR) console.warn("CKEditor 4.x is missing (http://ckeditor.com/)");
                    else {
                        if (this.instance || !this.documentContains(this.host.nativeElement)) return;
                        this.readonly && (e.readOnly = this.readonly), this.instance = CKEDITOR.replace(this.host.nativeElement, e), this.instance.setData(this.value), this.instance.on("instanceReady", function(e) {
                            t.instance.getData() !== t.value && t.instance.setData(t.value), t.ready.emit(e)
                        }), this.instance.on("change", function(e) {
                            t.onTouched();
                            var n = t.instance.getData();
                            t.value !== n && (t.debounce ? (t.debounceTimeout && clearTimeout(t.debounceTimeout), t.debounceTimeout = setTimeout(function() {
                                t.updateValue(n), t.debounceTimeout = null
                            }, parseInt(t.debounce))) : t.updateValue(n)), t.editorChange.emit(e)
                        }), this.instance.on("blur", function(e) {
                            t.blur.emit(e)
                        }), this.instance.on("focus", function(e) {
                            t.focus.emit(e)
                        }), this.instance.on("contentDom", function(e) {
                            t.contentDom.emit(e)
                        }), this.instance.on("fileUploadRequest", function(e) {
                            t.fileUploadRequest.emit(e)
                        }), this.instance.on("fileUploadResponse", function(e) {
                            t.fileUploadResponse.emit(e)
                        }), this.instance.on("paste", function(e) {
                            t.paste.emit(e)
                        }), this.instance.on("drop", function(e) {
                            t.drop.emit(e)
                        }), this.toolbarGroups.forEach(function(e) {
                            e.initialize(t)
                        }), this.toolbarButtons.forEach(function(e) {
                            e.initialize(t)
                        })
                    }
                }, e.prototype.writeValue = function(e) {
                    this._value = e, this.instance && this.instance.setData(e)
                }, e.prototype.onChange = function(e) {}, e.prototype.onTouched = function() {}, e.prototype.registerOnChange = function(e) {
                    this.onChange = e
                }, e.prototype.registerOnTouched = function(e) {
                    this.onTouched = e
                }, e.prototype.documentContains = function(e) {
                    return document.contains ? document.contains(e) : document.body.contains(e)
                }, r([o.Input(), i("design:type", Object)], e.prototype, "config", void 0), r([o.Input(), i("design:type", Boolean)], e.prototype, "readonly", void 0), r([o.Input(), i("design:type", String)], e.prototype, "debounce", void 0), r([o.Output(), i("design:type", Object)], e.prototype, "change", void 0), r([o.Output(), i("design:type", Object)], e.prototype, "editorChange", void 0), r([o.Output(), i("design:type", Object)], e.prototype, "ready", void 0), r([o.Output(), i("design:type", Object)], e.prototype, "blur", void 0), r([o.Output(), i("design:type", Object)], e.prototype, "focus", void 0), r([o.Output(), i("design:type", Object)], e.prototype, "contentDom", void 0), r([o.Output(), i("design:type", Object)], e.prototype, "fileUploadRequest", void 0), r([o.Output(), i("design:type", Object)], e.prototype, "fileUploadResponse", void 0), r([o.Output(), i("design:type", Object)], e.prototype, "paste", void 0), r([o.Output(), i("design:type", Object)], e.prototype, "drop", void 0), r([o.ViewChild("host"), i("design:type", Object)], e.prototype, "host", void 0), r([o.ContentChildren(s.CKButtonDirective), i("design:type", o.QueryList)], e.prototype, "toolbarButtons", void 0), r([o.ContentChildren(l.CKGroupDirective), i("design:type", o.QueryList)], e.prototype, "toolbarGroups", void 0), r([o.Input(), i("design:type", Object), i("design:paramtypes", [Object])], e.prototype, "value", null), t = r([o.Component({
                    selector: "ckeditor",
                    providers: [{
                        provide: a.NG_VALUE_ACCESSOR,
                        useExisting: o.forwardRef(function() {
                            return t
                        }),
                        multi: !0
                    }],
                    template: "<textarea #host></textarea>"
                })], e);
                var t
            }()
        },
        FNQ8: function(e, t) {
            ace.define("ace/theme/monokai", ["require", "exports", "module", "ace/lib/dom"], function(e, t, n) {
                t.isDark = !0, t.cssClass = "ace-monokai", t.cssText = ".ace-monokai .ace_gutter {background: #2F3129;color: #8F908A}.ace-monokai .ace_print-margin {width: 1px;background: #555651}.ace-monokai {background-color: #272822;color: #F8F8F2}.ace-monokai .ace_cursor {color: #F8F8F0}.ace-monokai .ace_marker-layer .ace_selection {background: #49483E}.ace-monokai.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #272822;}.ace-monokai .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-monokai .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #49483E}.ace-monokai .ace_marker-layer .ace_active-line {background: #202020}.ace-monokai .ace_gutter-active-line {background-color: #272727}.ace-monokai .ace_marker-layer .ace_selected-word {border: 1px solid #49483E}.ace-monokai .ace_invisible {color: #52524d}.ace-monokai .ace_entity.ace_name.ace_tag,.ace-monokai .ace_keyword,.ace-monokai .ace_meta.ace_tag,.ace-monokai .ace_storage {color: #F92672}.ace-monokai .ace_punctuation,.ace-monokai .ace_punctuation.ace_tag {color: #fff}.ace-monokai .ace_constant.ace_character,.ace-monokai .ace_constant.ace_language,.ace-monokai .ace_constant.ace_numeric,.ace-monokai .ace_constant.ace_other {color: #AE81FF}.ace-monokai .ace_invalid {color: #F8F8F0;background-color: #F92672}.ace-monokai .ace_invalid.ace_deprecated {color: #F8F8F0;background-color: #AE81FF}.ace-monokai .ace_support.ace_constant,.ace-monokai .ace_support.ace_function {color: #66D9EF}.ace-monokai .ace_fold {background-color: #A6E22E;border-color: #F8F8F2}.ace-monokai .ace_storage.ace_type,.ace-monokai .ace_support.ace_class,.ace-monokai .ace_support.ace_type {font-style: italic;color: #66D9EF}.ace-monokai .ace_entity.ace_name.ace_function,.ace-monokai .ace_entity.ace_other,.ace-monokai .ace_entity.ace_other.ace_attribute-name,.ace-monokai .ace_variable {color: #A6E22E}.ace-monokai .ace_variable.ace_parameter {font-style: italic;color: #FD971F}.ace-monokai .ace_string {color: #E6DB74}.ace-monokai .ace_comment {color: #75715E}.ace-monokai .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y}", e("../lib/dom").importCssString(t.cssText, t.cssClass)
            })
        },
        TpJd: function(e, t, n) {
            "use strict";
            var r = n("mrSG").__decorate,
                i = n("mrSG").__metadata;
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var o = n("CcnG");
            t.CKButtonDirective = function() {
                function e() {
                    this.click = new o.EventEmitter
                }
                return e.prototype.initialize = function(e) {
                    var t = this;
                    e.instance.addCommand(this.command, {
                        exec: function(e) {
                            t.click.emit(e)
                        }
                    }), e.instance.ui.addButton(this.name, {
                        label: this.label,
                        command: this.command,
                        toolbar: this.toolbar,
                        icon: this.icon
                    })
                }, e.prototype.ngOnInit = function() {
                    if (!this.name) throw new Error('Attribute "name" is required on <ckbutton>');
                    if (!this.command) throw new Error('Attribute "command" is required on <ckbutton>')
                }, r([o.Output(), i("design:type", Object)], e.prototype, "click", void 0), r([o.Input(), i("design:type", String)], e.prototype, "label", void 0), r([o.Input(), i("design:type", String)], e.prototype, "command", void 0), r([o.Input(), i("design:type", String)], e.prototype, "toolbar", void 0), r([o.Input(), i("design:type", String)], e.prototype, "name", void 0), r([o.Input(), i("design:type", String)], e.prototype, "icon", void 0), r([o.Directive({
                    selector: "ckbutton"
                })], e)
            }()
        },
        VMQV: function(e, t) {
            window.CKEDITOR_BASEPATH = "http://cdn.ckeditor.com/4.6.0/full/"
        },
        bWjX: function(e, t) {
            e.exports.id = "ace/mode/javascript_worker", e.exports.src = '"no use strict";(function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/javascript/jshint",["require","exports","module"],function(acequire,exports,module){module.exports=function outer(modules,cache,entry){function newRequire(name,jumped){if(!cache[name]){if(!modules[name]){var currentRequire="function"==typeof acequire&&acequire;if(!jumped&&currentRequire)return currentRequire(name,!0);if(previousRequire)return previousRequire(name,!0);var err=Error("Cannot find module \'"+name+"\'");throw err.code="MODULE_NOT_FOUND",err}var m=cache[name]={exports:{}};modules[name][0].call(m.exports,function(x){var id=modules[name][1][x];return newRequire(id?id:x)},m,m.exports,outer,modules,cache,entry)}return cache[name].exports}for(var previousRequire="function"==typeof acequire&&acequire,i=0;entry.length>i;i++)newRequire(entry[i]);return newRequire(entry[0])}({"/node_modules/browserify/node_modules/events/events.js":[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError(\'Uncaught, unspecified "error" event.\')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),"function"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i--\x3e0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this\n}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],"/node_modules/jshint/data/ascii-identifier-data.js":[function(_dereq_,module){for(var identifierStartTable=[],i=0;128>i;i++)identifierStartTable[i]=36===i||i>=65&&90>=i||95===i||i>=97&&122>=i;for(var identifierPartTable=[],i=0;128>i;i++)identifierPartTable[i]=identifierStartTable[i]||i>=48&&57>=i;module.exports={asciiIdentifierStartTable:identifierStartTable,asciiIdentifierPartTable:identifierPartTable}},{}],"/node_modules/jshint/lodash.js":[function(_dereq_,module,exports){(function(global){(function(){function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:length>++index;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;length>++index;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return"function"==typeof value||!1}function baseToString(value){return"string"==typeof value?value:null==value?"":value+""}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:length>++index;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&"object"==typeof value}function lodash(){}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));length>++index;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;length>++index&&iteratee(array[index],index,array)!==!1;);return array}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];length>++index;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);length>++index;)result[index]=iteratee(array[index],index,array);return result}function arrayMax(array){for(var index=-1,length=array.length,result=NEGATIVE_INFINITY;length>++index;){var value=array[index];value>result&&(result=value)}return result}function arraySome(array,predicate){for(var index=-1,length=array.length;length>++index;)if(predicate(array[index],index,array))return!0;return!1}function assignWith(object,source,customizer){var props=keys(source);push.apply(props,getSymbols(source));for(var index=-1,length=props.length;length>++index;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;length>++index;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=-1,length=path.length;null!=object&&length>++index;)var result=object=object[path[index]];return result}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other)return 0!==value||1/value==1/other;var valType=typeof value,othType=typeof other;return"function"!=valType&&"object"!=valType&&"function"!=othType&&"object"!=othType||null==value||null==other?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var valWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(valWrapped||othWrapped)return equalFunc(valWrapped?object.value():object,othWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,props,values,strictCompareFlags,customizer){for(var index=-1,length=props.length,noCustomizer=!customizer;length>++index;)if(noCustomizer&&strictCompareFlags[index]?values[index]!==object[props[index]]:!(props[index]in object))return!1;for(index=-1;length>++index;){var key=props[index],objValue=object[key],srcValue=values[index];if(noCustomizer&&strictCompareFlags[index])var result=objValue!==undefined||key in object;else result=customizer?customizer(objValue,srcValue,key):undefined,result===undefined&&(result=baseIsEqual(srcValue,objValue,customizer,!0));if(!result)return!1}return!0}function baseMatches(source){var props=keys(source),length=props.length;if(!length)return constant(!0);if(1==length){var key=props[0],value=source[key];if(isStrictComparable(value))return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in toObject(object))}}for(var values=Array(length),strictCompareFlags=Array(length);length--;)value=source[props[length]],values[length]=value,strictCompareFlags[length]=isStrictComparable(value);return function(object){return null!=object&&baseIsMatch(toObject(object),props,values,strictCompareFlags)}}function baseMatchesProperty(path,value){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(value),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),!(!isArr&&isCommon||key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===value?value!==undefined||key in object:baseIsEqual(value,object[key],null,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isLength(source.length)&&(isArray(source)||isTypedArray(source));if(!isSrcArr){var props=keys(source);push.apply(props,getSymbols(source))}return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),!isSrcArr&&result===undefined||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return object[key]=stackB[length],undefined;var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isLength(srcValue.length)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:getLength(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);length>++index;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);length>++index;)result[index]=object[props[index]];return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsUndef=value===undefined;high>low;){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsUndef?isReflexive&&(retHighest||computed!==undefined):retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){return bufferSlice.call(buffer,0)}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2&&sources[length-2],guard=length>2&&sources[2],thisArg=length>1&&sources[length-1];for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer="function"==typeof thisArg?thisArg:null,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?null:customizer,length=1);length>++index;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:length>++index)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:length>++index;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length,result=!0;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;result&&arrLength>++index;){var arrValue=array[index],othValue=other[index];if(result=undefined,customizer&&(result=isLoose?customizer(othValue,arrValue,index):customizer(arrValue,othValue,index)),result===undefined)if(isLoose)for(var othIndex=othLength;othIndex--&&(othValue=other[othIndex],!(result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))););else result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}return!!result}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:0==object?1/object==1/other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var skipCtor=isLoose,index=-1;objLength>++index;){var key=objProps[index],result=isLoose?key in other:hasOwnProperty.call(other,key);if(result){var objValue=object[key],othValue=other[key];result=undefined,customizer&&(result=isLoose?customizer(othValue,objValue,key):customizer(objValue,othValue,key)),result===undefined&&(result=objValue&&objValue===othValue||equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB))}if(!result)return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function isIndex(value,length){return value=+value,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&0==value%1&&length>value}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type)var length=getLength(object),prereq=isLength(length)&&isIndex(index,length);else prereq="string"==type&&index in object;if(prereq){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if("string"==type&&reIsPlainProp.test(value)||"number"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLength(value){return"number"==typeof value&&value>-1&&0==value%1&&MAX_SAFE_INTEGER>=value}function isStrictComparable(value){return value===value&&(0===value?1/value>0:!isObject(value))}function shimIsPlainObject(value){var Ctor;if(lodash.support,!isObjectLike(value)||objToString.call(value)!=objectTag||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,"function"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,support=lodash.support,allowIndexes=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object)),index=-1,result=[];propsLength>++index;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=0>fromIndex?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value),other=array[index];return(value===value?value===other:other!==other)?index:-1}return baseIndexOf(array,value,fromIndex||0)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function unzip(array){for(var index=-1,length=(array&&array.length&&arrayMax(arrayMap(array,getLength)))>>>0,result=Array(length);length>++index;)result[index]=arrayMap(array,baseProperty(index));return result}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),length?(fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:0>fromIndex?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?length>fromIndex&&collection.indexOf(target,fromIndex)>-1:getIndexOf(collection,target,fromIndex)>-1):!1}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),("function"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);length>++index;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;start>++index;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function clone(value,isDeep,customizer,thisArg){return isDeep&&"boolean"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:"function"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),customizer="function"==typeof customizer&&bindCallback(customizer,thisArg,1),baseClone(value,isDeep,customizer)}function isArguments(value){var length=isObjectLike(value)?value.length:undefined;return isLength(length)&&objToString.call(value)==argsTag}function isEmpty(value){if(null==value)return!0;var length=getLength(value);return isLength(length)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!length:!keys(value).length}function isObject(value){var type=typeof value;return"function"==type||!!value&&"object"==type}function isNative(value){return null==value?!1:objToString.call(value)==funcTag?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function toPlainObject(value){return baseCopy(value,keysIn(value))}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);return result||isKey(path)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path),result=null!=object&&hasOwnProperty.call(object,path)),result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto="function"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;length>++index;)result[index]=index+"";for(var key in object)skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function values(object){return baseValues(object,keys(object))}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,"\\\\$&"):string}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=null),baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}var undefined,VERSION="3.7.0",FUNC_ERROR_TEXT="Expected a function",argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reIsDeepProp=/\\.|\\[(?:[^[\\]]+|(["\'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?)\\1\\]/,reIsPlainProp=/^\\w*$/,rePropName=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,reRegExpChars=/[.*+?^${}()|[\\]\\/\\\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reEscapeChar=/\\\\(\\\\)?/g,reFlags=/\\w*$/,reIsHostCtor=/^\\[object .+?Constructor\\]$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var objectTypes={"function":!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,arrayProto=Array.prototype,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp("^"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$"),ArrayBuffer=isNative(ArrayBuffer=root.ArrayBuffer)&&ArrayBuffer,bufferSlice=isNative(bufferSlice=ArrayBuffer&&new ArrayBuffer(0).slice)&&bufferSlice,floor=Math.floor,getOwnPropertySymbols=isNative(getOwnPropertySymbols=Object.getOwnPropertySymbols)&&getOwnPropertySymbols,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,push=arrayProto.push,preventExtensions=isNative(Object.preventExtensions=Object.preventExtensions)&&preventExtensions,propertyIsEnumerable=objectProto.propertyIsEnumerable,Uint8Array=isNative(Uint8Array=root.Uint8Array)&&Uint8Array,Float64Array=function(){try{var func=isNative(func=root.Float64Array)&&func,result=new func(new ArrayBuffer(10),0,1)&&func}catch(e){}return result}(),nativeAssign=function(){var object={1:0},func=preventExtensions&&isNative(func=Object.assign)&&func;try{func(preventExtensions(object),"xo")}catch(e){}return!object[1]&&func}(),nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0,MAX_SAFE_INTEGER=Math.pow(2,53)-1,support=lodash.support={};(function(x){var Ctor=function(){this.x=x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);support.funcDecomp=/\\bthis\\b/.test(function(){return this}),support.funcNames="string"==typeof Function.name;try{support.nonEnumArgs=!propertyIsEnumerable.call(arguments,1)}catch(e){support.nonEnumArgs=!0}})(1,0);var baseAssign=nativeAssign||function(object,source){return null==source?object:baseCopy(source,getSymbols(source),baseCopy(source,keys(source),object))},baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor();bufferSlice||(bufferClone=ArrayBuffer&&Uint8Array?function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength))}return byteLength!=offset&&(view=new Uint8Array(result,offset),view.set(new Uint8Array(buffer,offset))),result}:constant(null));var getLength=baseProperty("length"),getSymbols=getOwnPropertySymbols?function(object){return getOwnPropertySymbols(toObject(object))}:constant([]),findLastIndex=createFindIndex(!0),zip=restParam(unzip),forEach=createForEach(arrayEach,baseEach),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag},isFunction=baseIsFunction(/x/)||Uint8Array&&!baseIsFunction(Uint8Array)?function(value){return objToString.call(value)==funcTag}:baseIsFunction,isPlainObject=getPrototypeOf?function(value){if(!value||objToString.call(value)!=objectTag)return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),keys=nativeKeys?function(object){if(object)var Ctor=object.constructor,length=object.length;return"function"==typeof Ctor&&Ctor.prototype===object||"function"!=typeof object&&isLength(length)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,merge=createAssigner(baseMerge);lodash.assign=assign,lodash.callback=callback,lodash.constant=constant,lodash.forEach=forEach,lodash.keys=keys,lodash.keysIn=keysIn,lodash.merge=merge,lodash.property=property,lodash.reject=reject,lodash.restParam=restParam,lodash.slice=slice,lodash.toPlainObject=toPlainObject,lodash.unzip=unzip,lodash.values=values,lodash.zip=zip,lodash.each=forEach,lodash.extend=assign,lodash.iteratee=callback,lodash.clone=clone,lodash.escapeRegExp=escapeRegExp,lodash.findLastIndex=findLastIndex,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isEmpty=isEmpty,lodash.isFunction=isFunction,lodash.isNative=isNative,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.last=last,lodash.some=some,lodash.any=some,lodash.contains=includes,lodash.include=includes,lodash.VERSION=VERSION,freeExports&&freeModule?moduleExports?(freeModule.exports=lodash)._=lodash:freeExports._=lodash:root._=lodash\n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/node_modules/jshint/src/jshint.js":[function(_dereq_,module,exports){var _=_dereq_("../lodash"),events=_dereq_("events"),vars=_dereq_("./vars.js"),messages=_dereq_("./messages.js"),Lexer=_dereq_("./lex.js").Lexer,reg=_dereq_("./reg.js"),state=_dereq_("./state.js").state,style=_dereq_("./style.js"),options=_dereq_("./options.js"),scopeManager=_dereq_("./scope-manager.js"),JSHINT=function(){"use strict";function checkOption(name,t){return name=name.trim(),/^[+-]W\\d{3}$/g.test(name)?!0:-1!==options.validNames.indexOf(name)||"jslint"===t.type||_.has(options.removed,name)?!0:(error("E001",t,name),!1)}function isString(obj){return"[object String]"===Object.prototype.toString.call(obj)}function isIdentifier(tkn,value){return tkn?tkn.identifier&&tkn.value===value?!0:!1:!1}function isReserved(token){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(token.isProperty)return!1}return!0}function supplant(str,data){return str.replace(/\\{([^{}]*)\\}/g,function(a,b){var r=data[b];return"string"==typeof r||"number"==typeof r?r:a})}function combine(dest,src){Object.keys(src).forEach(function(name){_.has(JSHINT.blacklist,name)||(dest[name]=src[name])})}function processenforceall(){if(state.option.enforceall){for(var enforceopt in options.bool.enforcing)void 0!==state.option[enforceopt]||options.noenforceall[enforceopt]||(state.option[enforceopt]=!0);for(var relaxopt in options.bool.relaxing)void 0===state.option[relaxopt]&&(state.option[relaxopt]=!1)}}function assume(){processenforceall(),state.option.esversion||state.option.moz||(state.option.esversion=state.option.es3?3:state.option.esnext?6:5),state.inES5()&&combine(predefined,vars.ecmaIdentifiers[5]),state.inES6()&&combine(predefined,vars.ecmaIdentifiers[6]),state.option.module&&(state.option.strict===!0&&(state.option.strict="global"),state.inES6()||warning("W134",state.tokens.next,"module",6)),state.option.couch&&combine(predefined,vars.couch),state.option.qunit&&combine(predefined,vars.qunit),state.option.rhino&&combine(predefined,vars.rhino),state.option.shelljs&&(combine(predefined,vars.shelljs),combine(predefined,vars.node)),state.option.typed&&combine(predefined,vars.typed),state.option.phantom&&(combine(predefined,vars.phantom),state.option.strict===!0&&(state.option.strict="global")),state.option.prototypejs&&combine(predefined,vars.prototypejs),state.option.node&&(combine(predefined,vars.node),combine(predefined,vars.typed),state.option.strict===!0&&(state.option.strict="global")),state.option.devel&&combine(predefined,vars.devel),state.option.dojo&&combine(predefined,vars.dojo),state.option.browser&&(combine(predefined,vars.browser),combine(predefined,vars.typed)),state.option.browserify&&(combine(predefined,vars.browser),combine(predefined,vars.typed),combine(predefined,vars.browserify),state.option.strict===!0&&(state.option.strict="global")),state.option.nonstandard&&combine(predefined,vars.nonstandard),state.option.jasmine&&combine(predefined,vars.jasmine),state.option.jquery&&combine(predefined,vars.jquery),state.option.mootools&&combine(predefined,vars.mootools),state.option.worker&&combine(predefined,vars.worker),state.option.wsh&&combine(predefined,vars.wsh),state.option.globalstrict&&state.option.strict!==!1&&(state.option.strict="global"),state.option.yui&&combine(predefined,vars.yui),state.option.mocha&&combine(predefined,vars.mocha)}function quit(code,line,chr){var percentage=Math.floor(100*(line/state.lines.length)),message=messages.errors[code].desc;throw{name:"JSHintError",line:line,character:chr,message:message+" ("+percentage+"% scanned).",raw:message,code:code}}function removeIgnoredMessages(){var ignored=state.ignoredLines;_.isEmpty(ignored)||(JSHINT.errors=_.reject(JSHINT.errors,function(err){return ignored[err.line]}))}function warning(code,t,a,b,c,d){var ch,l,w,msg;if(/^W\\d{3}$/.test(code)){if(state.ignored[code])return;msg=messages.warnings[code]}else/E\\d{3}/.test(code)?msg=messages.errors[code]:/I\\d{3}/.test(code)&&(msg=messages.info[code]);return t=t||state.tokens.next||{},"(end)"===t.id&&(t=state.tokens.curr),l=t.line||0,ch=t.from||0,w={id:"(error)",raw:msg.desc,code:msg.code,evidence:state.lines[l-1]||"",line:l,character:ch,scope:JSHINT.scope,a:a,b:b,c:c,d:d},w.reason=supplant(msg.desc,w),JSHINT.errors.push(w),removeIgnoredMessages(),JSHINT.errors.length>=state.option.maxerr&&quit("E043",l,ch),w}function warningAt(m,l,ch,a,b,c,d){return warning(m,{line:l,from:ch},a,b,c,d)}function error(m,t,a,b,c,d){warning(m,t,a,b,c,d)}function errorAt(m,l,ch,a,b,c,d){return error(m,{line:l,from:ch},a,b,c,d)}function addInternalSrc(elem,src){var i;return i={id:"(internal)",elem:elem,value:src},JSHINT.internals.push(i),i}function doOption(){var nt=state.tokens.next,body=nt.body.match(/(-\\s+)?[^\\s,:]+(?:\\s*:\\s*(-\\s+)?[^\\s,]+)?/g)||[],predef={};if("globals"===nt.type){body.forEach(function(g,idx){g=g.split(":");var key=(g[0]||"").trim(),val=(g[1]||"").trim();if("-"===key||!key.length){if(idx>0&&idx===body.length-1)return;return error("E002",nt),void 0}"-"===key.charAt(0)?(key=key.slice(1),val=!1,JSHINT.blacklist[key]=key,delete predefined[key]):predef[key]="true"===val}),combine(predefined,predef);for(var key in predef)_.has(predef,key)&&(declared[key]=nt)}"exported"===nt.type&&body.forEach(function(e,idx){if(!e.length){if(idx>0&&idx===body.length-1)return;return error("E002",nt),void 0}state.funct["(scope)"].addExported(e)}),"members"===nt.type&&(membersOnly=membersOnly||{},body.forEach(function(m){var ch1=m.charAt(0),ch2=m.charAt(m.length-1);ch1!==ch2||\'"\'!==ch1&&"\'"!==ch1||(m=m.substr(1,m.length-2).replace(\'\\\\"\',\'"\')),membersOnly[m]=!1}));var numvals=["maxstatements","maxparams","maxdepth","maxcomplexity","maxerr","maxlen","indent"];("jshint"===nt.type||"jslint"===nt.type)&&(body.forEach(function(g){g=g.split(":");var key=(g[0]||"").trim(),val=(g[1]||"").trim();if(checkOption(key,nt))if(numvals.indexOf(key)>=0)if("false"!==val){if(val=+val,"number"!=typeof val||!isFinite(val)||0>=val||Math.floor(val)!==val)return error("E032",nt,g[1].trim()),void 0;state.option[key]=val}else state.option[key]="indent"===key?4:!1;else{if("validthis"===key)return state.funct["(global)"]?void error("E009"):"true"!==val&&"false"!==val?void error("E002",nt):(state.option.validthis="true"===val,void 0);if("quotmark"!==key)if("shadow"!==key)if("unused"!==key)if("latedef"!==key)if("ignore"!==key)if("strict"!==key){"module"===key&&(hasParsedCode(state.funct)||error("E055",state.tokens.next,"module"));var esversions={es3:3,es5:5,esnext:6};if(!_.has(esversions,key)){if("esversion"===key){switch(val){case"5":state.inES5(!0)&&warning("I003");case"3":case"6":state.option.moz=!1,state.option.esversion=+val;break;case"2015":state.option.moz=!1,state.option.esversion=6;break;default:error("E002",nt)}return hasParsedCode(state.funct)||error("E055",state.tokens.next,"esversion"),void 0}var match=/^([+-])(W\\d{3})$/g.exec(key);if(match)return state.ignored[match[2]]="-"===match[1],void 0;var tn;return"true"===val||"false"===val?("jslint"===nt.type?(tn=options.renamed[key]||key,state.option[tn]="true"===val,void 0!==options.inverted[tn]&&(state.option[tn]=!state.option[tn])):state.option[key]="true"===val,"newcap"===key&&(state.option["(explicitNewcap)"]=!0),void 0):(error("E002",nt),void 0)}switch(val){case"true":state.option.moz=!1,state.option.esversion=esversions[key];break;case"false":state.option.moz||(state.option.esversion=5);break;default:error("E002",nt)}}else switch(val){case"true":state.option.strict=!0;break;case"false":state.option.strict=!1;break;case"func":case"global":case"implied":state.option.strict=val;break;default:error("E002",nt)}else switch(val){case"line":state.ignoredLines[nt.line]=!0,removeIgnoredMessages();break;default:error("E002",nt)}else switch(val){case"true":state.option.latedef=!0;break;case"false":state.option.latedef=!1;break;case"nofunc":state.option.latedef="nofunc";break;default:error("E002",nt)}else switch(val){case"true":state.option.unused=!0;break;case"false":state.option.unused=!1;break;case"vars":case"strict":state.option.unused=val;break;default:error("E002",nt)}else switch(val){case"true":state.option.shadow=!0;break;case"outer":state.option.shadow="outer";break;case"false":case"inner":state.option.shadow="inner";break;default:error("E002",nt)}else switch(val){case"true":case"false":state.option.quotmark="true"===val;break;case"double":case"single":state.option.quotmark=val;break;default:error("E002",nt)}}}),assume())}function peek(p){var t,i=p||0,j=lookahead.length;if(j>i)return lookahead[i];for(;i>=j;)t=lookahead[j],t||(t=lookahead[j]=lex.token()),j+=1;return t||"(end)"!==state.tokens.next.id?t:state.tokens.next}function peekIgnoreEOL(){var t,i=0;do t=peek(i++);while("(endline)"===t.id);return t}function advance(id,t){switch(state.tokens.curr.id){case"(number)":"."===state.tokens.next.id&&warning("W005",state.tokens.curr);break;case"-":("-"===state.tokens.next.id||"--"===state.tokens.next.id)&&warning("W006");break;case"+":("+"===state.tokens.next.id||"++"===state.tokens.next.id)&&warning("W007")}for(id&&state.tokens.next.id!==id&&(t?"(end)"===state.tokens.next.id?error("E019",t,t.id):error("E020",state.tokens.next,id,t.id,t.line,state.tokens.next.value):("(identifier)"!==state.tokens.next.type||state.tokens.next.value!==id)&&warning("W116",state.tokens.next,id,state.tokens.next.value)),state.tokens.prev=state.tokens.curr,state.tokens.curr=state.tokens.next;;){if(state.tokens.next=lookahead.shift()||lex.token(),state.tokens.next||quit("E041",state.tokens.curr.line),"(end)"===state.tokens.next.id||"(error)"===state.tokens.next.id)return;if(state.tokens.next.check&&state.tokens.next.check(),state.tokens.next.isSpecial)"falls through"===state.tokens.next.type?state.tokens.curr.caseFallsThrough=!0:doOption();else if("(endline)"!==state.tokens.next.id)break}}function isInfix(token){return token.infix||!token.identifier&&!token.template&&!!token.led}function isEndOfExpr(){var curr=state.tokens.curr,next=state.tokens.next;return";"===next.id||"}"===next.id||":"===next.id?!0:isInfix(next)===isInfix(curr)||"yield"===curr.id&&state.inMoz()?curr.line!==startLine(next):!1}function isBeginOfExpr(prev){return!prev.left&&"unary"!==prev.arity}function expression(rbp,initial){var left,isArray=!1,isObject=!1,isLetExpr=!1;state.nameStack.push(),initial||"let"!==state.tokens.next.value||"("!==peek(0).value||(state.inMoz()||warning("W118",state.tokens.next,"let expressions"),isLetExpr=!0,state.funct["(scope)"].stack(),advance("let"),advance("("),state.tokens.prev.fud(),advance(")")),"(end)"===state.tokens.next.id&&error("E006",state.tokens.curr);var isDangerous=state.option.asi&&state.tokens.prev.line!==startLine(state.tokens.curr)&&_.contains(["]",")"],state.tokens.prev.id)&&_.contains(["[","("],state.tokens.curr.id);if(isDangerous&&warning("W014",state.tokens.curr,state.tokens.curr.id),advance(),initial&&(state.funct["(verb)"]=state.tokens.curr.value,state.tokens.curr.beginsStmt=!0),initial===!0&&state.tokens.curr.fud)left=state.tokens.curr.fud();else for(state.tokens.curr.nud?left=state.tokens.curr.nud():error("E030",state.tokens.curr,state.tokens.curr.id);(state.tokens.next.lbp>rbp||"(template)"===state.tokens.next.type)&&!isEndOfExpr();)isArray="Array"===state.tokens.curr.value,isObject="Object"===state.tokens.curr.value,left&&(left.value||left.first&&left.first.value)&&("new"!==left.value||left.first&&left.first.value&&"."===left.first.value)&&(isArray=!1,left.value!==state.tokens.curr.value&&(isObject=!1)),advance(),isArray&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&warning("W009",state.tokens.curr),isObject&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&warning("W010",state.tokens.curr),left&&state.tokens.curr.led?left=state.tokens.curr.led(left):error("E033",state.tokens.curr,state.tokens.curr.id);return isLetExpr&&state.funct["(scope)"].unstack(),state.nameStack.pop(),left}function startLine(token){return token.startLine||token.line}function nobreaknonadjacent(left,right){left=left||state.tokens.curr,right=right||state.tokens.next,state.option.laxbreak||left.line===startLine(right)||warning("W014",right,right.value)}function nolinebreak(t){t=t||state.tokens.curr,t.line!==startLine(state.tokens.next)&&warning("E022",t,t.value)}function nobreakcomma(left,right){left.line!==startLine(right)&&(state.option.laxcomma||(comma.first&&(warning("I001"),comma.first=!1),warning("W014",left,right.value)))}function comma(opts){if(opts=opts||{},opts.peek?nobreakcomma(state.tokens.prev,state.tokens.curr):(nobreakcomma(state.tokens.curr,state.tokens.next),advance(",")),state.tokens.next.identifier&&(!opts.property||!state.inES5()))switch(state.tokens.next.value){case"break":case"case":case"catch":case"continue":case"default":case"do":case"else":case"finally":case"for":case"if":case"in":case"instanceof":case"return":case"switch":case"throw":case"try":case"var":case"let":case"while":case"with":return error("E024",state.tokens.next,state.tokens.next.value),!1}if("(punctuator)"===state.tokens.next.type)switch(state.tokens.next.value){case"}":case"]":case",":if(opts.allowTrailing)return!0;case")":return error("E024",state.tokens.next,state.tokens.next.value),!1}return!0}function symbol(s,p){var x=state.syntax[s];return x&&"object"==typeof x||(state.syntax[s]=x={id:s,lbp:p,value:s}),x}function delim(s){var x=symbol(s,0);return x.delim=!0,x}function stmt(s,f){var x=delim(s);return x.identifier=x.reserved=!0,x.fud=f,x}function blockstmt(s,f){var x=stmt(s,f);return x.block=!0,x}function reserveName(x){var c=x.id.charAt(0);return(c>="a"&&"z">=c||c>="A"&&"Z">=c)&&(x.identifier=x.reserved=!0),x}function prefix(s,f){var x=symbol(s,150);return reserveName(x),x.nud="function"==typeof f?f:function(){return this.arity="unary",this.right=expression(150),("++"===this.id||"--"===this.id)&&(state.option.plusplus?warning("W016",this,this.id):!this.right||this.right.identifier&&!isReserved(this.right)||"."===this.right.id||"["===this.right.id||warning("W017",this),this.right&&this.right.isMetaProperty?error("E031",this):this.right&&this.right.identifier&&state.funct["(scope)"].block.modify(this.right.value,this)),this},x}function type(s,f){var x=delim(s);return x.type=s,x.nud=f,x}function reserve(name,func){var x=type(name,func);return x.identifier=!0,x.reserved=!0,x}function FutureReservedWord(name,meta){var x=type(name,meta&&meta.nud||function(){return this});return meta=meta||{},meta.isFutureReservedWord=!0,x.value=name,x.identifier=!0,x.reserved=!0,x.meta=meta,x}function reservevar(s,v){return reserve(s,function(){return"function"==typeof v&&v(this),this})}function infix(s,f,p,w){var x=symbol(s,p);return reserveName(x),x.infix=!0,x.led=function(left){return w||nobreaknonadjacent(state.tokens.prev,state.tokens.curr),"in"!==s&&"instanceof"!==s||"!"!==left.id||warning("W018",left,"!"),"function"==typeof f?f(left,this):(this.left=left,this.right=expression(p),this)},x}function application(s){var x=symbol(s,42);return x.led=function(left){return nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left,this.right=doFunction({type:"arrow",loneArg:left}),this},x}function relation(s,f){var x=symbol(s,100);return x.led=function(left){nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left;var right=this.right=expression(100);return isIdentifier(left,"NaN")||isIdentifier(right,"NaN")?warning("W019",this):f&&f.apply(this,[left,right]),left&&right||quit("E041",state.tokens.curr.line),"!"===left.id&&warning("W018",left,"!"),"!"===right.id&&warning("W018",right,"!"),this},x}function isPoorRelation(node){return node&&("(number)"===node.type&&0===+node.value||"(string)"===node.type&&""===node.value||"null"===node.type&&!state.option.eqnull||"true"===node.type||"false"===node.type||"undefined"===node.type)}function isTypoTypeof(left,right,state){var values;return state.option.notypeof?!1:left&&right?(values=state.inES6()?typeofValues.es6:typeofValues.es3,"(identifier)"===right.type&&"typeof"===right.value&&"(string)"===left.type?!_.contains(values,left.value):!1):!1}function isGlobalEval(left,state){var isGlobal=!1;return"this"===left.type&&null===state.funct["(context)"]?isGlobal=!0:"(identifier)"===left.type&&(state.option.node&&"global"===left.value?isGlobal=!0:!state.option.browser||"window"!==left.value&&"document"!==left.value||(isGlobal=!0)),isGlobal}function findNativePrototype(left){function walkPrototype(obj){return"object"==typeof obj?"prototype"===obj.right?obj:walkPrototype(obj.left):void 0}function walkNative(obj){for(;!obj.identifier&&"object"==typeof obj.left;)obj=obj.left;return obj.identifier&&natives.indexOf(obj.value)>=0?obj.value:void 0}var natives=["Array","ArrayBuffer","Boolean","Collator","DataView","Date","DateTimeFormat","Error","EvalError","Float32Array","Float64Array","Function","Infinity","Intl","Int16Array","Int32Array","Int8Array","Iterator","Number","NumberFormat","Object","RangeError","ReferenceError","RegExp","StopIteration","String","SyntaxError","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError"],prototype=walkPrototype(left);return prototype?walkNative(prototype):void 0}function checkLeftSideAssign(left,assignToken,options){var allowDestructuring=options&&options.allowDestructuring;if(assignToken=assignToken||left,state.option.freeze){var nativeObject=findNativePrototype(left);nativeObject&&warning("W121",left,nativeObject)}return left.identifier&&!left.isMetaProperty&&state.funct["(scope)"].block.reassign(left.value,left),"."===left.id?((!left.left||"arguments"===left.left.value&&!state.isStrict())&&warning("E031",assignToken),state.nameStack.set(state.tokens.prev),!0):"{"===left.id||"["===left.id?(allowDestructuring&&state.tokens.curr.left.destructAssign?state.tokens.curr.left.destructAssign.forEach(function(t){t.id&&state.funct["(scope)"].block.modify(t.id,t.token)}):"{"!==left.id&&left.left?"arguments"!==left.left.value||state.isStrict()||warning("E031",assignToken):warning("E031",assignToken),"["===left.id&&state.nameStack.set(left.right),!0):left.isMetaProperty?(error("E031",assignToken),!0):left.identifier&&!isReserved(left)?("exception"===state.funct["(scope)"].labeltype(left.value)&&warning("W022",left),state.nameStack.set(left),!0):(left===state.syntax["function"]&&warning("W023",state.tokens.curr),!1)}function assignop(s,f,p){var x=infix(s,"function"==typeof f?f:function(left,that){return that.left=left,left&&checkLeftSideAssign(left,that,{allowDestructuring:!0})?(that.right=expression(10),that):(error("E031",that),void 0)},p);return x.exps=!0,x.assign=!0,x}function bitwise(s,f,p){var x=symbol(s,p);return reserveName(x),x.led="function"==typeof f?f:function(left){return state.option.bitwise&&warning("W016",this,this.id),this.left=left,this.right=expression(p),this},x}function bitwiseassignop(s){return assignop(s,function(left,that){return state.option.bitwise&&warning("W016",that,that.id),left&&checkLeftSideAssign(left,that)?(that.right=expression(10),that):(error("E031",that),void 0)},20)}function suffix(s){var x=symbol(s,150);return x.led=function(left){return state.option.plusplus?warning("W016",this,this.id):left.identifier&&!isReserved(left)||"."===left.id||"["===left.id||warning("W017",this),left.isMetaProperty?error("E031",this):left&&left.identifier&&state.funct["(scope)"].block.modify(left.value,left),this.left=left,this},x}function optionalidentifier(fnparam,prop,preserve){if(state.tokens.next.identifier){preserve||advance();var curr=state.tokens.curr,val=state.tokens.curr.value;return isReserved(curr)?prop&&state.inES5()?val:fnparam&&"undefined"===val?val:(warning("W024",state.tokens.curr,state.tokens.curr.id),val):val}}function identifier(fnparam,prop){var i=optionalidentifier(fnparam,prop,!1);if(i)return i;if("..."===state.tokens.next.value){if(state.inES6(!0)||warning("W119",state.tokens.next,"spread/rest operator","6"),advance(),checkPunctuator(state.tokens.next,"..."))for(warning("E024",state.tokens.next,"...");checkPunctuator(state.tokens.next,"...");)advance();return state.tokens.next.identifier?identifier(fnparam,prop):(warning("E024",state.tokens.curr,"..."),void 0)}error("E030",state.tokens.next,state.tokens.next.value),";"!==state.tokens.next.id&&advance()}function reachable(controlToken){var t,i=0;if(";"===state.tokens.next.id&&!controlToken.inBracelessBlock)for(;;){do t=peek(i),i+=1;while("(end)"!==t.id&&"(comment)"===t.id);if(t.reach)return;if("(endline)"!==t.id){if("function"===t.id){state.option.latedef===!0&&warning("W026",t);break}warning("W027",t,t.value,controlToken.value);break}}}function parseFinalSemicolon(){if(";"!==state.tokens.next.id){if(state.tokens.next.isUnclosed)return advance();var sameLine=startLine(state.tokens.next)===state.tokens.curr.line&&"(end)"!==state.tokens.next.id,blockEnd=checkPunctuator(state.tokens.next,"}");sameLine&&!blockEnd?errorAt("E058",state.tokens.curr.line,state.tokens.curr.character):state.option.asi||(blockEnd&&!state.option.lastsemic||!sameLine)&&warningAt("W033",state.tokens.curr.line,state.tokens.curr.character)}else advance(";")}function statement(){var r,i=indent,t=state.tokens.next,hasOwnScope=!1;if(";"===t.id)return advance(";"),void 0;var res=isReserved(t);if(res&&t.meta&&t.meta.isFutureReservedWord&&":"===peek().id&&(warning("W024",t,t.id),res=!1),t.identifier&&!res&&":"===peek().id&&(advance(),advance(":"),hasOwnScope=!0,state.funct["(scope)"].stack(),state.funct["(scope)"].block.addBreakLabel(t.value,{token:state.tokens.curr}),state.tokens.next.labelled||"{"===state.tokens.next.value||warning("W028",state.tokens.next,t.value,state.tokens.next.value),state.tokens.next.label=t.value,t=state.tokens.next),"{"===t.id){var iscase="case"===state.funct["(verb)"]&&":"===state.tokens.curr.value;return block(!0,!0,!1,!1,iscase),void 0}return r=expression(0,!0),!r||r.identifier&&"function"===r.value||"(punctuator)"===r.type&&r.left&&r.left.identifier&&"function"===r.left.value||state.isStrict()||"global"!==state.option.strict||warning("E007"),t.block||(state.option.expr||r&&r.exps?state.option.nonew&&r&&r.left&&"("===r.id&&"new"===r.left.id&&warning("W031",t):warning("W030",state.tokens.curr),parseFinalSemicolon()),indent=i,hasOwnScope&&state.funct["(scope)"].unstack(),r}function statements(){for(var p,a=[];!state.tokens.next.reach&&"(end)"!==state.tokens.next.id;)";"===state.tokens.next.id?(p=peek(),(!p||"("!==p.id&&"["!==p.id)&&warning("W032"),advance(";")):a.push(statement());return a}function directives(){for(var i,p,pn;"(string)"===state.tokens.next.id;){if(p=peek(0),"(endline)"===p.id){i=1;do pn=peek(i++);while("(endline)"===pn.id);if(";"===pn.id)p=pn;else{if("["===pn.value||"."===pn.value)break;state.option.asi&&"("!==pn.value||warning("W033",state.tokens.next)}}else{if("."===p.id||"["===p.id)break;";"!==p.id&&warning("W033",p)}advance();var directive=state.tokens.curr.value;(state.directive[directive]||"use strict"===directive&&"implied"===state.option.strict)&&warning("W034",state.tokens.curr,directive),state.directive[directive]=!0,";"===p.id&&advance(";")}state.isStrict()&&(state.option["(explicitNewcap)"]||(state.option.newcap=!0),state.option.undef=!0)}function block(ordinary,stmt,isfunc,isfatarrow,iscase){var a,m,t,line,d,b=inblock,old_indent=indent;inblock=ordinary,t=state.tokens.next;var metrics=state.funct["(metrics)"];if(metrics.nestedBlockDepth+=1,metrics.verifyMaxNestedBlockDepthPerFunction(),"{"===state.tokens.next.id){if(advance("{"),state.funct["(scope)"].stack(),line=state.tokens.curr.line,"}"!==state.tokens.next.id){for(indent+=state.option.indent;!ordinary&&state.tokens.next.from>indent;)indent+=state.option.indent;if(isfunc){m={};for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);directives(),state.option.strict&&state.funct["(context)"]["(global)"]&&(m["use strict"]||state.isStrict()||warning("E007"))}a=statements(),metrics.statementCount+=a.length,indent-=state.option.indent}advance("}",t),isfunc&&(state.funct["(scope)"].validateParams(),m&&(state.directive=m)),state.funct["(scope)"].unstack(),indent=old_indent}else if(ordinary)state.funct["(noblockscopedvar)"]="for"!==state.tokens.next.id,state.funct["(scope)"].stack(),(!stmt||state.option.curly)&&warning("W116",state.tokens.next,"{",state.tokens.next.value),state.tokens.next.inBracelessBlock=!0,indent+=state.option.indent,a=[statement()],indent-=state.option.indent,state.funct["(scope)"].unstack(),delete state.funct["(noblockscopedvar)"];else if(isfunc){if(state.funct["(scope)"].stack(),m={},!stmt||isfatarrow||state.inMoz()||error("W118",state.tokens.curr,"function closure expressions"),!stmt)for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);expression(10),state.option.strict&&state.funct["(context)"]["(global)"]&&(m["use strict"]||state.isStrict()||warning("E007")),state.funct["(scope)"].unstack()}else error("E021",state.tokens.next,"{",state.tokens.next.value);switch(state.funct["(verb)"]){case"break":case"continue":case"return":case"throw":if(iscase)break;default:state.funct["(verb)"]=null}return inblock=b,!ordinary||!state.option.noempty||a&&0!==a.length||warning("W035",state.tokens.prev),metrics.nestedBlockDepth-=1,a}function countMember(m){membersOnly&&"boolean"!=typeof membersOnly[m]&&warning("W036",state.tokens.curr,m),"number"==typeof member[m]?member[m]+=1:member[m]=1}function comprehensiveArrayExpression(){var res={};res.exps=!0,state.funct["(comparray)"].stack();var reversed=!1;return"for"!==state.tokens.next.value&&(reversed=!0,state.inMoz()||warning("W116",state.tokens.next,"for",state.tokens.next.value),state.funct["(comparray)"].setState("use"),res.right=expression(10)),advance("for"),"each"===state.tokens.next.value&&(advance("each"),state.inMoz()||warning("W118",state.tokens.curr,"for each")),advance("("),state.funct["(comparray)"].setState("define"),res.left=expression(130),_.contains(["in","of"],state.tokens.next.value)?advance():error("E045",state.tokens.curr),state.funct["(comparray)"].setState("generate"),expression(10),advance(")"),"if"===state.tokens.next.value&&(advance("if"),advance("("),state.funct["(comparray)"].setState("filter"),res.filter=expression(10),advance(")")),reversed||(state.funct["(comparray)"].setState("use"),res.right=expression(10)),advance("]"),state.funct["(comparray)"].unstack(),res}function isMethod(){return state.funct["(statement)"]&&"class"===state.funct["(statement)"].type||state.funct["(context)"]&&"class"===state.funct["(context)"]["(verb)"]}function isPropertyName(token){return token.identifier||"(string)"===token.id||"(number)"===token.id}function propertyName(preserveOrToken){var id,preserve=!0;return"object"==typeof preserveOrToken?id=preserveOrToken:(preserve=preserveOrToken,id=optionalidentifier(!1,!0,preserve)),id?"object"==typeof id&&("(string)"===id.id||"(identifier)"===id.id?id=id.value:"(number)"===id.id&&(id=""+id.value)):"(string)"===state.tokens.next.id?(id=state.tokens.next.value,preserve||advance()):"(number)"===state.tokens.next.id&&(id=""+state.tokens.next.value,preserve||advance()),"hasOwnProperty"===id&&warning("W001"),id}function functionparams(options){function addParam(addParamArgs){state.funct["(scope)"].addParam.apply(state.funct["(scope)"],addParamArgs)}var next,ident,t,paramsIds=[],tokens=[],pastDefault=!1,pastRest=!1,arity=0,loneArg=options&&options.loneArg;if(loneArg&&loneArg.identifier===!0)return state.funct["(scope)"].addParam(loneArg.value,loneArg),{arity:1,params:[loneArg.value]};if(next=state.tokens.next,options&&options.parsedOpening||advance("("),")"===state.tokens.next.id)return advance(")"),void 0;for(;;){arity++;var currentParams=[];if(_.contains(["{","["],state.tokens.next.id)){tokens=destructuringPattern();for(t in tokens)t=tokens[t],t.id&&(paramsIds.push(t.id),currentParams.push([t.id,t.token]))}else if(checkPunctuator(state.tokens.next,"...")&&(pastRest=!0),ident=identifier(!0))paramsIds.push(ident),currentParams.push([ident,state.tokens.curr]);else for(;!checkPunctuators(state.tokens.next,[",",")"]);)advance();if(pastDefault&&"="!==state.tokens.next.id&&error("W138",state.tokens.current),"="===state.tokens.next.id&&(state.inES6()||warning("W119",state.tokens.next,"default parameters","6"),advance("="),pastDefault=!0,expression(10)),currentParams.forEach(addParam),","!==state.tokens.next.id)return advance(")",next),{arity:arity,params:paramsIds};pastRest&&warning("W131",state.tokens.next),comma()}}function functor(name,token,overwrites){var funct={"(name)":name,"(breakage)":0,"(loopage)":0,"(tokens)":{},"(properties)":{},"(catch)":!1,"(global)":!1,"(line)":null,"(character)":null,"(metrics)":null,"(statement)":null,"(context)":null,"(scope)":null,"(comparray)":null,"(generator)":null,"(arrow)":null,"(params)":null};return token&&_.extend(funct,{"(line)":token.line,"(character)":token.character,"(metrics)":createMetrics(token)}),_.extend(funct,overwrites),funct["(context)"]&&(funct["(scope)"]=funct["(context)"]["(scope)"],funct["(comparray)"]=funct["(context)"]["(comparray)"]),funct}function isFunctor(token){return"(scope)"in token}function hasParsedCode(funct){return funct["(global)"]&&!funct["(verb)"]}function doTemplateLiteral(left){function end(){if(state.tokens.curr.template&&state.tokens.curr.tail&&state.tokens.curr.context===ctx)return!0;var complete=state.tokens.next.template&&state.tokens.next.tail&&state.tokens.next.context===ctx;return complete&&advance(),complete||state.tokens.next.isUnclosed}var ctx=this.context,noSubst=this.noSubst,depth=this.depth;if(!noSubst)for(;!end();)!state.tokens.next.template||state.tokens.next.depth>depth?expression(0):advance();return{id:"(template)",type:"(template)",tag:left}}function doFunction(options){var f,token,name,statement,classExprBinding,isGenerator,isArrow,ignoreLoopFunc,oldOption=state.option,oldIgnored=state.ignored;options&&(name=options.name,statement=options.statement,classExprBinding=options.classExprBinding,isGenerator="generator"===options.type,isArrow="arrow"===options.type,ignoreLoopFunc=options.ignoreLoopFunc),state.option=Object.create(state.option),state.ignored=Object.create(state.ignored),state.funct=functor(name||state.nameStack.infer(),state.tokens.next,{"(statement)":statement,"(context)":state.funct,"(arrow)":isArrow,"(generator)":isGenerator}),f=state.funct,token=state.tokens.curr,token.funct=state.funct,functions.push(state.funct),state.funct["(scope)"].stack("functionouter");var internallyAccessibleName=name||classExprBinding;internallyAccessibleName&&state.funct["(scope)"].block.add(internallyAccessibleName,classExprBinding?"class":"function",state.tokens.curr,!1),state.funct["(scope)"].stack("functionparams");var paramsInfo=functionparams(options);return paramsInfo?(state.funct["(params)"]=paramsInfo.params,state.funct["(metrics)"].arity=paramsInfo.arity,state.funct["(metrics)"].verifyMaxParametersPerFunction()):state.funct["(metrics)"].arity=0,isArrow&&(state.inES6(!0)||warning("W119",state.tokens.curr,"arrow function syntax (=>)","6"),options.loneArg||advance("=>")),block(!1,!0,!0,isArrow),!state.option.noyield&&isGenerator&&"yielded"!==state.funct["(generator)"]&&warning("W124",state.tokens.curr),state.funct["(metrics)"].verifyMaxStatementsPerFunction(),state.funct["(metrics)"].verifyMaxComplexityPerFunction(),state.funct["(unusedOption)"]=state.option.unused,state.option=oldOption,state.ignored=oldIgnored,state.funct["(last)"]=state.tokens.curr.line,state.funct["(lastcharacter)"]=state.tokens.curr.character,state.funct["(scope)"].unstack(),state.funct["(scope)"].unstack(),state.funct=state.funct["(context)"],ignoreLoopFunc||state.option.loopfunc||!state.funct["(loopage)"]||f["(isCapturing)"]&&warning("W083",token),f}function createMetrics(functionStartToken){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,arity:0,verifyMaxStatementsPerFunction:function(){state.option.maxstatements&&this.statementCount>state.option.maxstatements&&warning("W071",functionStartToken,this.statementCount)\n},verifyMaxParametersPerFunction:function(){_.isNumber(state.option.maxparams)&&this.arity>state.option.maxparams&&warning("W072",functionStartToken,this.arity)},verifyMaxNestedBlockDepthPerFunction:function(){state.option.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===state.option.maxdepth+1&&warning("W073",null,this.nestedBlockDepth)},verifyMaxComplexityPerFunction:function(){var max=state.option.maxcomplexity,cc=this.ComplexityCount;max&&cc>max&&warning("W074",functionStartToken,cc)}}}function increaseComplexityCount(){state.funct["(metrics)"].ComplexityCount+=1}function checkCondAssignment(expr){var id,paren;switch(expr&&(id=expr.id,paren=expr.paren,","===id&&(expr=expr.exprs[expr.exprs.length-1])&&(id=expr.id,paren=paren||expr.paren)),id){case"=":case"+=":case"-=":case"*=":case"%=":case"&=":case"|=":case"^=":case"/=":paren||state.option.boss||warning("W084")}}function checkProperties(props){if(state.inES5())for(var name in props)props[name]&&props[name].setterToken&&!props[name].getterToken&&warning("W078",props[name].setterToken)}function metaProperty(name,c){if(checkPunctuator(state.tokens.next,".")){var left=state.tokens.curr.id;advance(".");var id=identifier();return state.tokens.curr.isMetaProperty=!0,name!==id?error("E057",state.tokens.prev,left,id):c(),state.tokens.curr}}function destructuringPattern(options){var isAssignment=options&&options.assignment;return state.inES6()||warning("W104",state.tokens.curr,isAssignment?"destructuring assignment":"destructuring binding","6"),destructuringPatternRecursive(options)}function destructuringPatternRecursive(options){var ids,identifiers=[],openingParsed=options&&options.openingParsed,isAssignment=options&&options.assignment,recursiveOptions=isAssignment?{assignment:isAssignment}:null,firstToken=openingParsed?state.tokens.curr:state.tokens.next,nextInnerDE=function(){var ident;if(checkPunctuators(state.tokens.next,["[","{"])){ids=destructuringPatternRecursive(recursiveOptions);for(var id in ids)id=ids[id],identifiers.push({id:id.id,token:id.token})}else if(checkPunctuator(state.tokens.next,","))identifiers.push({id:null,token:state.tokens.curr});else{if(!checkPunctuator(state.tokens.next,"(")){var is_rest=checkPunctuator(state.tokens.next,"...");if(isAssignment){var identifierToken=is_rest?peek(0):state.tokens.next;identifierToken.identifier||warning("E030",identifierToken,identifierToken.value);var assignTarget=expression(155);assignTarget&&(checkLeftSideAssign(assignTarget),assignTarget.identifier&&(ident=assignTarget.value))}else ident=identifier();return ident&&identifiers.push({id:ident,token:state.tokens.curr}),is_rest}advance("("),nextInnerDE(),advance(")")}return!1},assignmentProperty=function(){var id;checkPunctuator(state.tokens.next,"[")?(advance("["),expression(10),advance("]"),advance(":"),nextInnerDE()):"(string)"===state.tokens.next.id||"(number)"===state.tokens.next.id?(advance(),advance(":"),nextInnerDE()):(id=identifier(),checkPunctuator(state.tokens.next,":")?(advance(":"),nextInnerDE()):id&&(isAssignment&&checkLeftSideAssign(state.tokens.curr),identifiers.push({id:id,token:state.tokens.curr})))};if(checkPunctuator(firstToken,"[")){openingParsed||advance("["),checkPunctuator(state.tokens.next,"]")&&warning("W137",state.tokens.curr);for(var element_after_rest=!1;!checkPunctuator(state.tokens.next,"]");)nextInnerDE()&&!element_after_rest&&checkPunctuator(state.tokens.next,",")&&(warning("W130",state.tokens.next),element_after_rest=!0),checkPunctuator(state.tokens.next,"=")&&(checkPunctuator(state.tokens.prev,"...")?advance("]"):advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,"]")||advance(",");advance("]")}else if(checkPunctuator(firstToken,"{")){for(openingParsed||advance("{"),checkPunctuator(state.tokens.next,"}")&&warning("W137",state.tokens.curr);!checkPunctuator(state.tokens.next,"}")&&(assignmentProperty(),checkPunctuator(state.tokens.next,"=")&&(advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,"}")||(advance(","),!checkPunctuator(state.tokens.next,"}"))););advance("}")}return identifiers}function destructuringPatternMatch(tokens,value){var first=value.first;first&&_.zip(tokens,Array.isArray(first)?first:[first]).forEach(function(val){var token=val[0],value=val[1];token&&value?token.first=value:token&&token.first&&!value&&warning("W080",token.first,token.first.value)})}function blockVariableStatement(type,statement,context){var tokens,lone,value,letblock,prefix=context&&context.prefix,inexport=context&&context.inexport,isLet="let"===type,isConst="const"===type;for(state.inES6()||warning("W104",state.tokens.curr,type,"6"),isLet&&"("===state.tokens.next.value?(state.inMoz()||warning("W118",state.tokens.next,"let block"),advance("("),state.funct["(scope)"].stack(),letblock=!0):state.funct["(noblockscopedvar)"]&&error("E048",state.tokens.curr,isConst?"Const":"Let"),statement.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),!prefix&&isConst&&"="!==state.tokens.next.id&&warning("E012",state.tokens.curr,state.tokens.curr.value);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],state.funct["(scope)"].block.isGlobal()&&predefined[t.id]===!1&&warning("W079",t.token,t.id),t.id&&!state.funct["(noblockscopedvar)"]&&(state.funct["(scope)"].addlabel(t.id,{type:type,token:t.token}),names.push(t.token),lone&&inexport&&state.funct["(scope)"].setExported(t.token.value,t.token)));if("="===state.tokens.next.id&&(advance("="),prefix||"undefined"!==state.tokens.next.id||warning("W080",state.tokens.prev,state.tokens.prev.value),!prefix&&"="===peek(0).id&&state.tokens.next.identifier&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),statement.first=statement.first.concat(names),","!==state.tokens.next.id)break;comma()}return letblock&&(advance(")"),block(!0,!0),statement.block=!0,state.funct["(scope)"].unstack()),statement}function classdef(isStatement){return state.inES6()||warning("W104",state.tokens.curr,"class","6"),isStatement?(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"class",token:state.tokens.curr})):state.tokens.next.identifier&&"extends"!==state.tokens.next.value?(this.name=identifier(),this.namedExpr=!0):this.name=state.nameStack.infer(),classtail(this),this}function classtail(c){var wasInClassBody=state.inClassBody;"extends"===state.tokens.next.value&&(advance("extends"),c.heritage=expression(10)),state.inClassBody=!0,advance("{"),c.body=classbody(c),advance("}"),state.inClassBody=wasInClassBody}function classbody(c){for(var name,isStatic,isGenerator,getset,computed,props=Object.create(null),staticProps=Object.create(null),i=0;"}"!==state.tokens.next.id;++i)if(name=state.tokens.next,isStatic=!1,isGenerator=!1,getset=null,";"!==name.id){if("*"===name.id&&(isGenerator=!0,advance("*"),name=state.tokens.next),"["===name.id)name=computedPropertyName(),computed=!0;else{if(!isPropertyName(name)){warning("W052",state.tokens.next,state.tokens.next.value||state.tokens.next.type),advance();continue}advance(),computed=!1,name.identifier&&"static"===name.value&&(checkPunctuator(state.tokens.next,"*")&&(isGenerator=!0,advance("*")),(isPropertyName(state.tokens.next)||"["===state.tokens.next.id)&&(computed="["===state.tokens.next.id,isStatic=!0,name=state.tokens.next,"["===state.tokens.next.id?name=computedPropertyName():advance())),!name.identifier||"get"!==name.value&&"set"!==name.value||(isPropertyName(state.tokens.next)||"["===state.tokens.next.id)&&(computed="["===state.tokens.next.id,getset=name,name=state.tokens.next,"["===state.tokens.next.id?name=computedPropertyName():advance())}if(!checkPunctuator(state.tokens.next,"(")){for(error("E054",state.tokens.next,state.tokens.next.value);"}"!==state.tokens.next.id&&!checkPunctuator(state.tokens.next,"(");)advance();"("!==state.tokens.next.value&&doFunction({statement:c})}if(computed||(getset?saveAccessor(getset.value,isStatic?staticProps:props,name.value,name,!0,isStatic):("constructor"===name.value?state.nameStack.set(c):state.nameStack.set(name),saveProperty(isStatic?staticProps:props,name.value,name,!0,isStatic))),getset&&"constructor"===name.value){var propDesc="get"===getset.value?"class getter method":"class setter method";error("E049",name,propDesc,"constructor")}else"prototype"===name.value&&error("E049",name,"class method","prototype");propertyName(name),doFunction({statement:c,type:isGenerator?"generator":null,classExprBinding:c.namedExpr?c.name:null})}else warning("W032"),advance(";");checkProperties(props)}function saveProperty(props,name,tkn,isClass,isStatic){var msg=["key","class method","static class method"];msg=msg[(isClass||!1)+(isStatic||!1)],tkn.identifier&&(name=tkn.value),props[name]&&"__proto__"!==name?warning("W075",state.tokens.next,msg,name):props[name]=Object.create(null),props[name].basic=!0,props[name].basictkn=tkn}function saveAccessor(accessorType,props,name,tkn,isClass,isStatic){var flagName="get"===accessorType?"getterToken":"setterToken",msg="";isClass?(isStatic&&(msg+="static "),msg+=accessorType+"ter method"):msg="key",state.tokens.curr.accessorType=accessorType,state.nameStack.set(tkn),props[name]?(props[name].basic||props[name][flagName])&&"__proto__"!==name&&warning("W075",state.tokens.next,msg,name):props[name]=Object.create(null),props[name][flagName]=tkn}function computedPropertyName(){advance("["),state.inES6()||warning("W119",state.tokens.curr,"computed property names","6");var value=expression(10);return advance("]"),value}function checkPunctuators(token,values){return"(punctuator)"===token.type?_.contains(values,token.value):!1}function checkPunctuator(token,value){return"(punctuator)"===token.type&&token.value===value}function destructuringAssignOrJsonValue(){var block=lookupBlockType();block.notJson?(!state.inES6()&&block.isDestAssign&&warning("W104",state.tokens.curr,"destructuring assignment","6"),statements()):(state.option.laxbreak=!0,state.jsonMode=!0,jsonValue())}function jsonValue(){function jsonObject(){var o={},t=state.tokens.next;if(advance("{"),"}"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)error("E026",state.tokens.next,t.line);else{if("}"===state.tokens.next.id){warning("W094",state.tokens.curr);break}","===state.tokens.next.id?error("E028",state.tokens.next):"(string)"!==state.tokens.next.id&&warning("W095",state.tokens.next,state.tokens.next.value)}if(o[state.tokens.next.value]===!0?warning("W075",state.tokens.next,"key",state.tokens.next.value):"__proto__"===state.tokens.next.value&&!state.option.proto||"__iterator__"===state.tokens.next.value&&!state.option.iterator?warning("W096",state.tokens.next,state.tokens.next.value):o[state.tokens.next.value]=!0,advance(),advance(":"),jsonValue(),","!==state.tokens.next.id)break;advance(",")}advance("}")}function jsonArray(){var t=state.tokens.next;if(advance("["),"]"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)error("E027",state.tokens.next,t.line);else{if("]"===state.tokens.next.id){warning("W094",state.tokens.curr);break}","===state.tokens.next.id&&error("E028",state.tokens.next)}if(jsonValue(),","!==state.tokens.next.id)break;advance(",")}advance("]")}switch(state.tokens.next.id){case"{":jsonObject();break;case"[":jsonArray();break;case"true":case"false":case"null":case"(number)":case"(string)":advance();break;case"-":advance("-"),advance("(number)");break;default:error("E003",state.tokens.next)}}var api,declared,functions,inblock,indent,lookahead,lex,member,membersOnly,predefined,stack,urls,bang={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},functionicity=["closure","exception","global","label","outer","unused","var"],extraModules=[],emitter=new events.EventEmitter,typeofValues={};typeofValues.legacy=["xml","unknown"],typeofValues.es3=["undefined","boolean","number","string","function","object"],typeofValues.es3=typeofValues.es3.concat(typeofValues.legacy),typeofValues.es6=typeofValues.es3.concat("symbol"),type("(number)",function(){return this}),type("(string)",function(){return this}),state.syntax["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var v=this.value;return"=>"===state.tokens.next.id?this:(state.funct["(comparray)"].check(v)||state.funct["(scope)"].block.use(v,state.tokens.curr),this)},led:function(){error("E033",state.tokens.next,state.tokens.next.value)}};var baseTemplateSyntax={lbp:0,identifier:!1,template:!0};state.syntax["(template)"]=_.extend({type:"(template)",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!1},baseTemplateSyntax),state.syntax["(template middle)"]=_.extend({type:"(template middle)",middle:!0,noSubst:!1},baseTemplateSyntax),state.syntax["(template tail)"]=_.extend({type:"(template tail)",tail:!0,noSubst:!1},baseTemplateSyntax),state.syntax["(no subst template)"]=_.extend({type:"(template)",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!0,tail:!0},baseTemplateSyntax),type("(regexp)",function(){return this}),delim("(endline)"),delim("(begin)"),delim("(end)").reach=!0,delim("(error)").reach=!0,delim("}").reach=!0,delim(")"),delim("]"),delim(\'"\').reach=!0,delim("\'").reach=!0,delim(";"),delim(":").reach=!0,delim("#"),reserve("else"),reserve("case").reach=!0,reserve("catch"),reserve("default").reach=!0,reserve("finally"),reservevar("arguments",function(x){state.isStrict()&&state.funct["(global)"]&&warning("E008",x)}),reservevar("eval"),reservevar("false"),reservevar("Infinity"),reservevar("null"),reservevar("this",function(x){state.isStrict()&&!isMethod()&&!state.option.validthis&&(state.funct["(statement)"]&&state.funct["(name)"].charAt(0)>"Z"||state.funct["(global)"])&&warning("W040",x)}),reservevar("true"),reservevar("undefined"),assignop("=","assign",20),assignop("+=","assignadd",20),assignop("-=","assignsub",20),assignop("*=","assignmult",20),assignop("/=","assigndiv",20).nud=function(){error("E014")},assignop("%=","assignmod",20),bitwiseassignop("&="),bitwiseassignop("|="),bitwiseassignop("^="),bitwiseassignop("<<="),bitwiseassignop(">>="),bitwiseassignop(">>>="),infix(",",function(left,that){var expr;if(that.exprs=[left],state.option.nocomma&&warning("W127"),!comma({peek:!0}))return that;for(;;){if(!(expr=expression(10)))break;if(that.exprs.push(expr),","!==state.tokens.next.value||!comma())break}return that},10,!0),infix("?",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(10),advance(":"),that["else"]=expression(10),that},30);var orPrecendence=40;infix("||",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(orPrecendence),that},orPrecendence),infix("&&","and",50),bitwise("|","bitor",70),bitwise("^","bitxor",80),bitwise("&","bitand",90),relation("==",function(left,right){var eqnull=state.option.eqnull&&("null"===(left&&left.value)||"null"===(right&&right.value));switch(!0){case!eqnull&&state.option.eqeqeq:this.from=this.character,warning("W116",this,"===","==");break;case isPoorRelation(left):warning("W041",this,"===",left.value);break;case isPoorRelation(right):warning("W041",this,"===",right.value);break;case isTypoTypeof(right,left,state):warning("W122",this,right.value);break;case isTypoTypeof(left,right,state):warning("W122",this,left.value)}return this}),relation("===",function(left,right){return isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("!=",function(left,right){var eqnull=state.option.eqnull&&("null"===(left&&left.value)||"null"===(right&&right.value));return!eqnull&&state.option.eqeqeq?(this.from=this.character,warning("W116",this,"!==","!=")):isPoorRelation(left)?warning("W041",this,"!==",left.value):isPoorRelation(right)?warning("W041",this,"!==",right.value):isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("!==",function(left,right){return isTypoTypeof(right,left,state)?warning("W122",this,right.value):isTypoTypeof(left,right,state)&&warning("W122",this,left.value),this}),relation("<"),relation(">"),relation("<="),relation(">="),bitwise("<<","shiftleft",120),bitwise(">>","shiftright",120),bitwise(">>>","shiftrightunsigned",120),infix("in","in",120),infix("instanceof","instanceof",120),infix("+",function(left,that){var right;return that.left=left,that.right=right=expression(130),left&&right&&"(string)"===left.id&&"(string)"===right.id?(left.value+=right.value,left.character=right.character,!state.option.scripturl&&reg.javascriptURL.test(left.value)&&warning("W050",left),left):that},130),prefix("+","num"),prefix("+++",function(){return warning("W007"),this.arity="unary",this.right=expression(150),this}),infix("+++",function(left){return warning("W007"),this.left=left,this.right=expression(130),this},130),infix("-","sub",130),prefix("-","neg"),prefix("---",function(){return warning("W006"),this.arity="unary",this.right=expression(150),this}),infix("---",function(left){return warning("W006"),this.left=left,this.right=expression(130),this},130),infix("*","mult",140),infix("/","div",140),infix("%","mod",140),suffix("++"),prefix("++","preinc"),state.syntax["++"].exps=!0,suffix("--"),prefix("--","predec"),state.syntax["--"].exps=!0,prefix("delete",function(){var p=expression(10);return p?("."!==p.id&&"["!==p.id&&warning("W051"),this.first=p,p.identifier&&!state.isStrict()&&(p.forgiveUndef=!0),this):this}).exps=!0,prefix("~",function(){return state.option.bitwise&&warning("W016",this,"~"),this.arity="unary",this.right=expression(150),this}),prefix("...",function(){return state.inES6(!0)||warning("W119",this,"spread/rest operator","6"),state.tokens.next.identifier||"(string)"===state.tokens.next.type||checkPunctuators(state.tokens.next,["[","("])||error("E030",state.tokens.next,state.tokens.next.value),expression(150),this}),prefix("!",function(){return this.arity="unary",this.right=expression(150),this.right||quit("E041",this.line||0),bang[this.right.id]===!0&&warning("W018",this,"!"),this}),prefix("typeof",function(){var p=expression(150);return this.first=this.right=p,p||quit("E041",this.line||0,this.character||0),p.identifier&&(p.forgiveUndef=!0),this}),prefix("new",function(){var mp=metaProperty("target",function(){state.inES6(!0)||warning("W119",state.tokens.prev,"new.target","6");for(var inFunction,c=state.funct;c&&(inFunction=!c["(global)"],c["(arrow)"]);)c=c["(context)"];inFunction||warning("W136",state.tokens.prev,"new.target")});if(mp)return mp;var i,c=expression(155);if(c&&"function"!==c.id)if(c.identifier)switch(c["new"]=!0,c.value){case"Number":case"String":case"Boolean":case"Math":case"JSON":warning("W053",state.tokens.prev,c.value);break;case"Symbol":state.inES6()&&warning("W053",state.tokens.prev,c.value);break;case"Function":state.option.evil||warning("W054");break;case"Date":case"RegExp":case"this":break;default:"function"!==c.id&&(i=c.value.substr(0,1),state.option.newcap&&("A">i||i>"Z")&&!state.funct["(scope)"].isPredefined(c.value)&&warning("W055",state.tokens.curr))}else"."!==c.id&&"["!==c.id&&"("!==c.id&&warning("W056",state.tokens.curr);else state.option.supernew||warning("W057",this);return"("===state.tokens.next.id||state.option.supernew||warning("W058",state.tokens.curr,state.tokens.curr.value),this.first=this.right=c,this}),state.syntax["new"].exps=!0,prefix("void").exps=!0,infix(".",function(left,that){var m=identifier(!1,!0);return"string"==typeof m&&countMember(m),that.left=left,that.right=m,m&&"hasOwnProperty"===m&&"="===state.tokens.next.value&&warning("W001"),!left||"arguments"!==left.value||"callee"!==m&&"caller"!==m?state.option.evil||!left||"document"!==left.value||"write"!==m&&"writeln"!==m||warning("W060",left):state.option.noarg?warning("W059",left,m):state.isStrict()&&error("E008"),state.option.evil||"eval"!==m&&"execScript"!==m||isGlobalEval(left,state)&&warning("W061"),that},160,!0),infix("(",function(left,that){state.option.immed&&left&&!left.immed&&"function"===left.id&&warning("W062");var n=0,p=[];if(left&&"(identifier)"===left.type&&left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&-1==="Array Number String Boolean Date Object Error Symbol".indexOf(left.value)&&("Math"===left.value?warning("W063",left):state.option.newcap&&warning("W064",left)),")"!==state.tokens.next.id)for(;p[p.length]=expression(10),n+=1,","===state.tokens.next.id;)comma();return advance(")"),"object"==typeof left&&(state.inES5()||"parseInt"!==left.value||1!==n||warning("W065",state.tokens.curr),state.option.evil||("eval"===left.value||"Function"===left.value||"execScript"===left.value?(warning("W061",left),p[0]&&"(string)"===[0].id&&addInternalSrc(left,p[0].value)):!p[0]||"(string)"!==p[0].id||"setTimeout"!==left.value&&"setInterval"!==left.value?!p[0]||"(string)"!==p[0].id||"."!==left.value||"window"!==left.left.value||"setTimeout"!==left.right&&"setInterval"!==left.right||(warning("W066",left),addInternalSrc(left,p[0].value)):(warning("W066",left),addInternalSrc(left,p[0].value))),left.identifier||"."===left.id||"["===left.id||"=>"===left.id||"("===left.id||"&&"===left.id||"||"===left.id||"?"===left.id||state.inES6()&&left["(name)"]||warning("W067",that)),that.left=left,that},155,!0).exps=!0,prefix("(",function(){var pn1,ret,triggerFnExpr,first,last,pn=state.tokens.next,i=-1,parens=1,opening=state.tokens.curr,preceeding=state.tokens.prev,isNecessary=!state.option.singleGroups;do"("===pn.value?parens+=1:")"===pn.value&&(parens-=1),i+=1,pn1=pn,pn=peek(i);while((0!==parens||")"!==pn1.value)&&";"!==pn.value&&"(end)"!==pn.type);if("function"===state.tokens.next.id&&(triggerFnExpr=state.tokens.next.immed=!0),"=>"===pn.value)return doFunction({type:"arrow",parsedOpening:!0});var exprs=[];if(")"!==state.tokens.next.id)for(;exprs.push(expression(10)),","===state.tokens.next.id;)state.option.nocomma&&warning("W127"),comma();return advance(")",this),state.option.immed&&exprs[0]&&"function"===exprs[0].id&&"("!==state.tokens.next.id&&"."!==state.tokens.next.id&&"["!==state.tokens.next.id&&warning("W068",this),exprs.length?(exprs.length>1?(ret=Object.create(state.syntax[","]),ret.exprs=exprs,first=exprs[0],last=exprs[exprs.length-1],isNecessary||(isNecessary=preceeding.assign||preceeding.delim)):(ret=first=last=exprs[0],isNecessary||(isNecessary=opening.beginsStmt&&("{"===ret.id||triggerFnExpr||isFunctor(ret))||triggerFnExpr&&(!isEndOfExpr()||"}"!==state.tokens.prev.id)||isFunctor(ret)&&!isEndOfExpr()||"{"===ret.id&&"=>"===preceeding.id||"(number)"===ret.type&&checkPunctuator(pn,".")&&/^\\d+$/.test(ret.value))),ret&&(!isNecessary&&(first.left||first.right||ret.exprs)&&(isNecessary=!isBeginOfExpr(preceeding)&&first.lbp<=preceeding.lbp||!isEndOfExpr()&&last.lbp<state.tokens.next.lbp),isNecessary||warning("W126",opening),ret.paren=!0),ret):void 0}),application("=>"),infix("[",function(left,that){var s,e=expression(10);return e&&"(string)"===e.type&&(state.option.evil||"eval"!==e.value&&"execScript"!==e.value||isGlobalEval(left,state)&&warning("W061"),countMember(e.value),!state.option.sub&&reg.identifier.test(e.value)&&(s=state.syntax[e.value],s&&isReserved(s)||warning("W069",state.tokens.prev,e.value))),advance("]",that),e&&"hasOwnProperty"===e.value&&"="===state.tokens.next.value&&warning("W001"),that.left=left,that.right=e,that},160,!0),prefix("[",function(){var blocktype=lookupBlockType();if(blocktype.isCompArray)return state.option.esnext||state.inMoz()||warning("W118",state.tokens.curr,"array comprehension"),comprehensiveArrayExpression();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;var b=state.tokens.curr.line!==startLine(state.tokens.next);for(this.first=[],b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));"(end)"!==state.tokens.next.id;){for(;","===state.tokens.next.id;){if(!state.option.elision){if(state.inES5()){warning("W128");do advance(",");while(","===state.tokens.next.id);continue}warning("W070")}advance(",")}if("]"===state.tokens.next.id)break;if(this.first.push(expression(10)),","!==state.tokens.next.id)break;if(comma({allowTrailing:!0}),"]"===state.tokens.next.id&&!state.inES5()){warning("W070",state.tokens.curr);break}}return b&&(indent-=state.option.indent),advance("]",this),this}),function(x){x.nud=function(){var b,f,i,p,t,nextVal,isGeneratorMethod=!1,props=Object.create(null);b=state.tokens.curr.line!==startLine(state.tokens.next),b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));var blocktype=lookupBlockType();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;for(;"}"!==state.tokens.next.id;){if(nextVal=state.tokens.next.value,!state.tokens.next.identifier||","!==peekIgnoreEOL().id&&"}"!==peekIgnoreEOL().id)if(":"===peek().id||"get"!==nextVal&&"set"!==nextVal){if("*"===state.tokens.next.value&&"(punctuator)"===state.tokens.next.type?(state.inES6()||warning("W104",state.tokens.next,"generator functions","6"),advance("*"),isGeneratorMethod=!0):isGeneratorMethod=!1,"["===state.tokens.next.id)i=computedPropertyName(),state.nameStack.set(i);else if(state.nameStack.set(state.tokens.next),i=propertyName(),saveProperty(props,i,state.tokens.next),"string"!=typeof i)break;"("===state.tokens.next.value?(state.inES6()||warning("W104",state.tokens.curr,"concise methods","6"),doFunction({type:isGeneratorMethod?"generator":null})):(advance(":"),expression(10))}else advance(nextVal),state.inES5()||error("E034"),i=propertyName(),i||state.inES6()||error("E035"),i&&saveAccessor(nextVal,props,i,state.tokens.curr),t=state.tokens.next,f=doFunction(),p=f["(params)"],"get"===nextVal&&i&&p?warning("W076",t,p[0],i):"set"!==nextVal||!i||p&&1===p.length||warning("W077",t,i);else state.inES6()||warning("W104",state.tokens.next,"object short notation","6"),i=propertyName(!0),saveProperty(props,i,state.tokens.next),expression(10);if(countMember(i),","!==state.tokens.next.id)break;comma({allowTrailing:!0,property:!0}),","===state.tokens.next.id?warning("W070",state.tokens.curr):"}"!==state.tokens.next.id||state.inES5()||warning("W070",state.tokens.curr)}return b&&(indent-=state.option.indent),advance("}",this),checkProperties(props),this},x.fud=function(){error("E036",state.tokens.curr)}}(delim("{"));var conststatement=stmt("const",function(context){return blockVariableStatement("const",this,context)});conststatement.exps=!0;var letstatement=stmt("let",function(context){return blockVariableStatement("let",this,context)});letstatement.exps=!0;var varstatement=stmt("var",function(context){var tokens,lone,value,prefix=context&&context.prefix,inexport=context&&context.inexport,implied=context&&context.implied,report=!(context&&context.ignore);for(this.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),prefix&&implied||!report||!state.option.varstmt||warning("W132",this),this.first=this.first.concat(names);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],!implied&&state.funct["(global)"]&&(predefined[t.id]===!1?warning("W079",t.token,t.id):state.option.futurehostile===!1&&(!state.inES5()&&vars.ecmaIdentifiers[5][t.id]===!1||!state.inES6()&&vars.ecmaIdentifiers[6][t.id]===!1)&&warning("W129",t.token,t.id)),t.id&&("for"===implied?(state.funct["(scope)"].has(t.id)||report&&warning("W088",t.token,t.id),state.funct["(scope)"].block.use(t.id,t.token)):(state.funct["(scope)"].addlabel(t.id,{type:"var",token:t.token}),lone&&inexport&&state.funct["(scope)"].setExported(t.id,t.token)),names.push(t.token)));if("="===state.tokens.next.id&&(state.nameStack.set(state.tokens.curr),advance("="),prefix||!report||state.funct["(loopage)"]||"undefined"!==state.tokens.next.id||warning("W080",state.tokens.prev,state.tokens.prev.value),"="===peek(0).id&&state.tokens.next.identifier&&(!prefix&&report&&!state.funct["(params)"]||-1===state.funct["(params)"].indexOf(state.tokens.next.value))&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),","!==state.tokens.next.id)break;comma()}return this});varstatement.exps=!0,blockstmt("class",function(){return classdef.call(this,!0)}),blockstmt("function",function(context){var inexport=context&&context.inexport,generator=!1;"*"===state.tokens.next.value&&(advance("*"),state.inES6({strict:!0})?generator=!0:warning("W119",state.tokens.curr,"function*","6")),inblock&&warning("W082",state.tokens.curr);var i=optionalidentifier();return state.funct["(scope)"].addlabel(i,{type:"function",token:state.tokens.curr}),void 0===i?warning("W025"):inexport&&state.funct["(scope)"].setExported(i,state.tokens.prev),doFunction({name:i,statement:this,type:generator?"generator":null,ignoreLoopFunc:inblock}),"("===state.tokens.next.id&&state.tokens.next.line===state.tokens.curr.line&&error("E039"),this}),prefix("function",function(){var generator=!1;"*"===state.tokens.next.value&&(state.inES6()||warning("W119",state.tokens.curr,"function*","6"),advance("*"),generator=!0);var i=optionalidentifier();return doFunction({name:i,type:generator?"generator":null}),this}),blockstmt("if",function(){var t=state.tokens.next;increaseComplexityCount(),state.condition=!0,advance("(");var expr=expression(0);checkCondAssignment(expr);var forinifcheck=null;state.option.forin&&state.forinifcheckneeded&&(state.forinifcheckneeded=!1,forinifcheck=state.forinifchecks[state.forinifchecks.length-1],forinifcheck.type="(punctuator)"===expr.type&&"!"===expr.value?"(negative)":"(positive)"),advance(")",t),state.condition=!1;var s=block(!0,!0);return forinifcheck&&"(negative)"===forinifcheck.type&&s&&s[0]&&"(identifier)"===s[0].type&&"continue"===s[0].value&&(forinifcheck.type="(negative-with-continue)"),"else"===state.tokens.next.id&&(advance("else"),"if"===state.tokens.next.id||"switch"===state.tokens.next.id?statement():block(!0,!0)),this}),blockstmt("try",function(){function doCatch(){if(advance("catch"),advance("("),state.funct["(scope)"].stack("catchparams"),checkPunctuators(state.tokens.next,["[","{"])){var tokens=destructuringPattern();_.each(tokens,function(token){token.id&&state.funct["(scope)"].addParam(token.id,token,"exception")})}else"(identifier)"!==state.tokens.next.type?warning("E030",state.tokens.next,state.tokens.next.value):state.funct["(scope)"].addParam(identifier(),state.tokens.curr,"exception");"if"===state.tokens.next.value&&(state.inMoz()||warning("W118",state.tokens.curr,"catch filter"),advance("if"),expression(0)),advance(")"),block(!1),state.funct["(scope)"].unstack()}var b;for(block(!0);"catch"===state.tokens.next.id;)increaseComplexityCount(),b&&!state.inMoz()&&warning("W118",state.tokens.next,"multiple catch blocks"),doCatch(),b=!0;return"finally"===state.tokens.next.id?(advance("finally"),block(!0),void 0):(b||error("E021",state.tokens.next,"catch",state.tokens.next.value),this)}),blockstmt("while",function(){var t=state.tokens.next;return state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,increaseComplexityCount(),advance("("),checkCondAssignment(expression(0)),advance(")",t),block(!0,!0),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1,this}).labelled=!0,blockstmt("with",function(){var t=state.tokens.next;return state.isStrict()?error("E010",state.tokens.curr):state.option.withstmt||warning("W085",state.tokens.curr),advance("("),expression(0),advance(")",t),block(!0,!0),this}),blockstmt("switch",function(){var t=state.tokens.next,g=!1,noindent=!1;\nfor(state.funct["(breakage)"]+=1,advance("("),checkCondAssignment(expression(0)),advance(")",t),t=state.tokens.next,advance("{"),state.tokens.next.from===indent&&(noindent=!0),noindent||(indent+=state.option.indent),this.cases=[];;)switch(state.tokens.next.id){case"case":switch(state.funct["(verb)"]){case"yield":case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:state.tokens.curr.caseFallsThrough||warning("W086",state.tokens.curr,"case")}advance("case"),this.cases.push(expression(0)),increaseComplexityCount(),g=!0,advance(":"),state.funct["(verb)"]="case";break;case"default":switch(state.funct["(verb)"]){case"yield":case"break":case"continue":case"return":case"throw":break;default:this.cases.length&&(state.tokens.curr.caseFallsThrough||warning("W086",state.tokens.curr,"default"))}advance("default"),g=!0,advance(":");break;case"}":return noindent||(indent-=state.option.indent),advance("}",t),state.funct["(breakage)"]-=1,state.funct["(verb)"]=void 0,void 0;case"(end)":return error("E023",state.tokens.next,"}"),void 0;default:if(indent+=state.option.indent,g)switch(state.tokens.curr.id){case",":return error("E040"),void 0;case":":g=!1,statements();break;default:return error("E025",state.tokens.curr),void 0}else{if(":"!==state.tokens.curr.id)return error("E021",state.tokens.next,"case",state.tokens.next.value),void 0;advance(":"),error("E024",state.tokens.curr,":"),statements()}indent-=state.option.indent}return this}).labelled=!0,stmt("debugger",function(){return state.option.debug||warning("W087",this),this}).exps=!0,function(){var x=stmt("do",function(){state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,increaseComplexityCount(),this.first=block(!0,!0),advance("while");var t=state.tokens.next;return advance("("),checkCondAssignment(expression(0)),advance(")",t),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1,this});x.labelled=!0,x.exps=!0}(),blockstmt("for",function(){var s,t=state.tokens.next,letscope=!1,foreachtok=null;"each"===t.value&&(foreachtok=t,advance("each"),state.inMoz()||warning("W118",state.tokens.curr,"for each")),increaseComplexityCount(),advance("(");var nextop,comma,initializer,i=0,inof=["in","of"],level=0;checkPunctuators(state.tokens.next,["{","["])&&++level;do{if(nextop=peek(i),++i,checkPunctuators(nextop,["{","["])?++level:checkPunctuators(nextop,["}","]"])&&--level,0>level)break;0===level&&(!comma&&checkPunctuator(nextop,",")?comma=nextop:!initializer&&checkPunctuator(nextop,"=")&&(initializer=nextop))}while(level>0||!_.contains(inof,nextop.value)&&";"!==nextop.value&&"(end)"!==nextop.type);if(_.contains(inof,nextop.value)){state.inES6()||"of"!==nextop.value||warning("W104",nextop,"for of","6");var ok=!(initializer||comma);if(initializer&&error("W133",comma,nextop.value,"initializer is forbidden"),comma&&error("W133",comma,nextop.value,"more than one ForBinding"),"var"===state.tokens.next.id?(advance("var"),state.tokens.curr.fud({prefix:!0})):"let"===state.tokens.next.id||"const"===state.tokens.next.id?(advance(state.tokens.next.id),letscope=!0,state.funct["(scope)"].stack(),state.tokens.curr.fud({prefix:!0})):Object.create(varstatement).fud({prefix:!0,implied:"for",ignore:!ok}),advance(nextop.value),expression(20),advance(")",t),"in"===nextop.value&&state.option.forin&&(state.forinifcheckneeded=!0,void 0===state.forinifchecks&&(state.forinifchecks=[]),state.forinifchecks.push({type:"(none)"})),state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,s=block(!0,!0),"in"===nextop.value&&state.option.forin){if(state.forinifchecks&&state.forinifchecks.length>0){var check=state.forinifchecks.pop();(s&&s.length>0&&("object"!=typeof s[0]||"if"!==s[0].value)||"(positive)"===check.type&&s.length>1||"(negative)"===check.type)&&warning("W089",this)}state.forinifcheckneeded=!1}state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1}else{if(foreachtok&&error("E045",foreachtok),";"!==state.tokens.next.id)if("var"===state.tokens.next.id)advance("var"),state.tokens.curr.fud();else if("let"===state.tokens.next.id)advance("let"),letscope=!0,state.funct["(scope)"].stack(),state.tokens.curr.fud();else for(;expression(0,"for"),","===state.tokens.next.id;)comma();if(nolinebreak(state.tokens.curr),advance(";"),state.funct["(loopage)"]+=1,";"!==state.tokens.next.id&&checkCondAssignment(expression(0)),nolinebreak(state.tokens.curr),advance(";"),";"===state.tokens.next.id&&error("E021",state.tokens.next,")",";"),")"!==state.tokens.next.id)for(;expression(0,"for"),","===state.tokens.next.id;)comma();advance(")",t),state.funct["(breakage)"]+=1,block(!0,!0),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1}return letscope&&state.funct["(scope)"].unstack(),this}).labelled=!0,stmt("break",function(){var v=state.tokens.next.value;return state.option.asi||nolinebreak(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line!==startLine(state.tokens.next)?0===state.funct["(breakage)"]&&warning("W052",state.tokens.next,this.value):(state.funct["(scope)"].funct.hasBreakLabel(v)||warning("W090",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt("continue",function(){var v=state.tokens.next.value;return 0===state.funct["(breakage)"]&&warning("W052",state.tokens.next,this.value),state.funct["(loopage)"]||warning("W052",state.tokens.next,this.value),state.option.asi||nolinebreak(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line===startLine(state.tokens.next)&&(state.funct["(scope)"].funct.hasBreakLabel(v)||warning("W090",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt("return",function(){return this.line===startLine(state.tokens.next)?";"===state.tokens.next.id||state.tokens.next.reach||(this.first=expression(0),!this.first||"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||warningAt("W093",this.first.line,this.first.character)):"(punctuator)"===state.tokens.next.type&&["[","{","+","-"].indexOf(state.tokens.next.value)>-1&&nolinebreak(this),reachable(this),this}).exps=!0,function(x){x.exps=!0,x.lbp=25}(prefix("yield",function(){var prev=state.tokens.prev;state.inES6(!0)&&!state.funct["(generator)"]?"(catch)"===state.funct["(name)"]&&state.funct["(context)"]["(generator)"]||error("E046",state.tokens.curr,"yield"):state.inES6()||warning("W104",state.tokens.curr,"yield","6"),state.funct["(generator)"]="yielded";var delegatingYield=!1;return"*"===state.tokens.next.value&&(delegatingYield=!0,advance("*")),this.line!==startLine(state.tokens.next)&&state.inMoz()?state.option.asi||nolinebreak(this):((delegatingYield||";"!==state.tokens.next.id&&!state.option.asi&&!state.tokens.next.reach&&state.tokens.next.nud)&&(nobreaknonadjacent(state.tokens.curr,state.tokens.next),this.first=expression(10),"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||warningAt("W093",this.first.line,this.first.character)),state.inMoz()&&")"!==state.tokens.next.id&&(prev.lbp>30||!prev.assign&&!isEndOfExpr()||"yield"===prev.id)&&error("E050",this)),this})),stmt("throw",function(){return nolinebreak(this),this.first=expression(20),reachable(this),this}).exps=!0,stmt("import",function(){if(state.inES6()||warning("W119",state.tokens.curr,"import","6"),"(string)"===state.tokens.next.type)return advance("(string)"),this;if(state.tokens.next.identifier){if(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"const",token:state.tokens.curr}),","!==state.tokens.next.value)return advance("from"),advance("(string)"),this;advance(",")}if("*"===state.tokens.next.id)advance("*"),advance("as"),state.tokens.next.identifier&&(this.name=identifier(),state.funct["(scope)"].addlabel(this.name,{type:"const",token:state.tokens.curr}));else for(advance("{");;){if("}"===state.tokens.next.value){advance("}");break}var importName;if("default"===state.tokens.next.type?(importName="default",advance("default")):importName=identifier(),"as"===state.tokens.next.value&&(advance("as"),importName=identifier()),state.funct["(scope)"].addlabel(importName,{type:"const",token:state.tokens.curr}),","!==state.tokens.next.value){if("}"===state.tokens.next.value){advance("}");break}error("E024",state.tokens.next,state.tokens.next.value);break}advance(",")}return advance("from"),advance("(string)"),this}).exps=!0,stmt("export",function(){var token,identifier,ok=!0;if(state.inES6()||(warning("W119",state.tokens.curr,"export","6"),ok=!1),state.funct["(scope)"].block.isGlobal()||(error("E053",state.tokens.curr),ok=!1),"*"===state.tokens.next.value)return advance("*"),advance("from"),advance("(string)"),this;if("default"===state.tokens.next.type){state.nameStack.set(state.tokens.next),advance("default");var exportType=state.tokens.next.id;return("function"===exportType||"class"===exportType)&&(this.block=!0),token=peek(),expression(10),identifier=token.value,this.block&&(state.funct["(scope)"].addlabel(identifier,{type:exportType,token:token}),state.funct["(scope)"].setExported(identifier,token)),this}if("{"===state.tokens.next.value){advance("{");for(var exportedTokens=[];;){if(state.tokens.next.identifier||error("E030",state.tokens.next,state.tokens.next.value),advance(),exportedTokens.push(state.tokens.curr),"as"===state.tokens.next.value&&(advance("as"),state.tokens.next.identifier||error("E030",state.tokens.next,state.tokens.next.value),advance()),","!==state.tokens.next.value){if("}"===state.tokens.next.value){advance("}");break}error("E024",state.tokens.next,state.tokens.next.value);break}advance(",")}return"from"===state.tokens.next.value?(advance("from"),advance("(string)")):ok&&exportedTokens.forEach(function(token){state.funct["(scope)"].setExported(token.value,token)}),this}if("var"===state.tokens.next.id)advance("var"),state.tokens.curr.fud({inexport:!0});else if("let"===state.tokens.next.id)advance("let"),state.tokens.curr.fud({inexport:!0});else if("const"===state.tokens.next.id)advance("const"),state.tokens.curr.fud({inexport:!0});else if("function"===state.tokens.next.id)this.block=!0,advance("function"),state.syntax["function"].fud({inexport:!0});else if("class"===state.tokens.next.id){this.block=!0,advance("class");var classNameToken=state.tokens.next;state.syntax["class"].fud(),state.funct["(scope)"].setExported(classNameToken.value,classNameToken)}else error("E024",state.tokens.next,state.tokens.next.value);return this}).exps=!0,FutureReservedWord("abstract"),FutureReservedWord("boolean"),FutureReservedWord("byte"),FutureReservedWord("char"),FutureReservedWord("class",{es5:!0,nud:classdef}),FutureReservedWord("double"),FutureReservedWord("enum",{es5:!0}),FutureReservedWord("export",{es5:!0}),FutureReservedWord("extends",{es5:!0}),FutureReservedWord("final"),FutureReservedWord("float"),FutureReservedWord("goto"),FutureReservedWord("implements",{es5:!0,strictOnly:!0}),FutureReservedWord("import",{es5:!0}),FutureReservedWord("int"),FutureReservedWord("interface",{es5:!0,strictOnly:!0}),FutureReservedWord("long"),FutureReservedWord("native"),FutureReservedWord("package",{es5:!0,strictOnly:!0}),FutureReservedWord("private",{es5:!0,strictOnly:!0}),FutureReservedWord("protected",{es5:!0,strictOnly:!0}),FutureReservedWord("public",{es5:!0,strictOnly:!0}),FutureReservedWord("short"),FutureReservedWord("static",{es5:!0,strictOnly:!0}),FutureReservedWord("super",{es5:!0}),FutureReservedWord("synchronized"),FutureReservedWord("transient"),FutureReservedWord("volatile");var lookupBlockType=function(){var pn,pn1,prev,i=-1,bracketStack=0,ret={};checkPunctuators(state.tokens.curr,["[","{"])&&(bracketStack+=1);do{if(prev=-1===i?state.tokens.curr:pn,pn=-1===i?state.tokens.next:peek(i),pn1=peek(i+1),i+=1,checkPunctuators(pn,["[","{"])?bracketStack+=1:checkPunctuators(pn,["]","}"])&&(bracketStack-=1),1===bracketStack&&pn.identifier&&"for"===pn.value&&!checkPunctuator(prev,".")){ret.isCompArray=!0,ret.notJson=!0;break}if(0===bracketStack&&checkPunctuators(pn,["}","]"])){if("="===pn1.value){ret.isDestAssign=!0,ret.notJson=!0;break}if("."===pn1.value){ret.notJson=!0;break}}checkPunctuator(pn,";")&&(ret.isBlock=!0,ret.notJson=!0)}while(bracketStack>0&&"(end)"!==pn.id);return ret},arrayComprehension=function(){function declare(v){var l=_current.variables.filter(function(elt){return elt.value===v?(elt.undef=!1,v):void 0}).length;return 0!==l}function use(v){var l=_current.variables.filter(function(elt){return elt.value!==v||elt.undef?void 0:(elt.unused===!0&&(elt.unused=!1),v)}).length;return 0===l}var _current,CompArray=function(){this.mode="use",this.variables=[]},_carrays=[];return{stack:function(){_current=new CompArray,_carrays.push(_current)},unstack:function(){_current.variables.filter(function(v){v.unused&&warning("W098",v.token,v.raw_text||v.value),v.undef&&state.funct["(scope)"].block.use(v.value,v.token)}),_carrays.splice(-1,1),_current=_carrays[_carrays.length-1]},setState:function(s){_.contains(["use","define","generate","filter"],s)&&(_current.mode=s)},check:function(v){return _current?_current&&"use"===_current.mode?(use(v)&&_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!0,unused:!1}),!0):_current&&"define"===_current.mode?(declare(v)||_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!1,unused:!0}),!0):_current&&"generate"===_current.mode?(state.funct["(scope)"].block.use(v,state.tokens.curr),!0):_current&&"filter"===_current.mode?(use(v)&&state.funct["(scope)"].block.use(v,state.tokens.curr),!0):!1:void 0}}},escapeRegex=function(str){return str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&")},itself=function(s,o,g){function each(obj,cb){obj&&(Array.isArray(obj)||"object"!=typeof obj||(obj=Object.keys(obj)),obj.forEach(cb))}var i,k,x,reIgnoreStr,reIgnore,optionKeys,newOptionObj={},newIgnoredObj={};o=_.clone(o),state.reset(),o&&o.scope?JSHINT.scope=o.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope="(main)"),predefined=Object.create(null),combine(predefined,vars.ecmaIdentifiers[3]),combine(predefined,vars.reservedVars),combine(predefined,g||{}),declared=Object.create(null);var exported=Object.create(null);if(o)for(each(o.predef||null,function(item){var slice,prop;"-"===item[0]?(slice=item.slice(1),JSHINT.blacklist[slice]=slice,delete predefined[slice]):(prop=Object.getOwnPropertyDescriptor(o.predef,item),predefined[item]=prop?prop.value:!1)}),each(o.exported||null,function(item){exported[item]=!0}),delete o.predef,delete o.exported,optionKeys=Object.keys(o),x=0;optionKeys.length>x;x++)if(/^-W\\d{3}$/g.test(optionKeys[x]))newIgnoredObj[optionKeys[x].slice(1)]=!0;else{var optionKey=optionKeys[x];newOptionObj[optionKey]=o[optionKey],("esversion"===optionKey&&5===o[optionKey]||"es5"===optionKey&&o[optionKey])&&warning("I003"),"newcap"===optionKeys[x]&&o[optionKey]===!1&&(newOptionObj["(explicitNewcap)"]=!0)}state.option=newOptionObj,state.ignored=newIgnoredObj,state.option.indent=state.option.indent||4,state.option.maxerr=state.option.maxerr||50,indent=1;var scopeManagerInst=scopeManager(state,predefined,exported,declared);if(scopeManagerInst.on("warning",function(ev){warning.apply(null,[ev.code,ev.token].concat(ev.data))}),scopeManagerInst.on("error",function(ev){error.apply(null,[ev.code,ev.token].concat(ev.data))}),state.funct=functor("(global)",null,{"(global)":!0,"(scope)":scopeManagerInst,"(comparray)":arrayComprehension(),"(metrics)":createMetrics(state.tokens.next)}),functions=[state.funct],urls=[],stack=null,member={},membersOnly=null,inblock=!1,lookahead=[],!isString(s)&&!Array.isArray(s))return errorAt("E004",0),!1;api={get isJSON(){return state.jsonMode},getOption:function(name){return state.option[name]||null},getCache:function(name){return state.cache[name]},setCache:function(name,value){state.cache[name]=value},warn:function(code,data){warningAt.apply(null,[code,data.line,data.char].concat(data.data))},on:function(names,listener){names.split(" ").forEach(function(name){emitter.on(name,listener)}.bind(this))}},emitter.removeAllListeners(),(extraModules||[]).forEach(function(func){func(api)}),state.tokens.prev=state.tokens.curr=state.tokens.next=state.syntax["(begin)"],o&&o.ignoreDelimiters&&(Array.isArray(o.ignoreDelimiters)||(o.ignoreDelimiters=[o.ignoreDelimiters]),o.ignoreDelimiters.forEach(function(delimiterPair){delimiterPair.start&&delimiterPair.end&&(reIgnoreStr=escapeRegex(delimiterPair.start)+"[\\\\s\\\\S]*?"+escapeRegex(delimiterPair.end),reIgnore=RegExp(reIgnoreStr,"ig"),s=s.replace(reIgnore,function(match){return match.replace(/./g," ")}))})),lex=new Lexer(s),lex.on("warning",function(ev){warningAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on("error",function(ev){errorAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on("fatal",function(ev){quit("E041",ev.line,ev.from)}),lex.on("Identifier",function(ev){emitter.emit("Identifier",ev)}),lex.on("String",function(ev){emitter.emit("String",ev)}),lex.on("Number",function(ev){emitter.emit("Number",ev)}),lex.start();for(var name in o)_.has(o,name)&&checkOption(name,state.tokens.curr);assume(),combine(predefined,g||{}),comma.first=!0;try{switch(advance(),state.tokens.next.id){case"{":case"[":destructuringAssignOrJsonValue();break;default:directives(),state.directive["use strict"]&&"global"!==state.option.strict&&warning("W097",state.tokens.prev),statements()}"(end)"!==state.tokens.next.id&&quit("E041",state.tokens.curr.line),state.funct["(scope)"].unstack()}catch(err){if(!err||"JSHintError"!==err.name)throw err;var nt=state.tokens.next||{};JSHINT.errors.push({scope:"(main)",raw:err.raw,code:err.code,reason:err.message,line:err.line||nt.line,character:err.character||nt.from},null)}if("(main)"===JSHINT.scope)for(o=o||{},i=0;JSHINT.internals.length>i;i+=1)k=JSHINT.internals[i],o.scope=k.elem,itself(k.value,o,g);return 0===JSHINT.errors.length};return itself.addModule=function(func){extraModules.push(func)},itself.addModule(style.register),itself.data=function(){var fu,f,i,j,n,globals,data={functions:[],options:state.option};itself.errors.length&&(data.errors=itself.errors),state.jsonMode&&(data.json=!0);var impliedGlobals=state.funct["(scope)"].getImpliedGlobals();for(impliedGlobals.length>0&&(data.implieds=impliedGlobals),urls.length>0&&(data.urls=urls),globals=state.funct["(scope)"].getUsedOrDefinedGlobals(),globals.length>0&&(data.globals=globals),i=1;functions.length>i;i+=1){for(f=functions[i],fu={},j=0;functionicity.length>j;j+=1)fu[functionicity[j]]=[];for(j=0;functionicity.length>j;j+=1)0===fu[functionicity[j]].length&&delete fu[functionicity[j]];fu.name=f["(name)"],fu.param=f["(params)"],fu.line=f["(line)"],fu.character=f["(character)"],fu.last=f["(last)"],fu.lastcharacter=f["(lastcharacter)"],fu.metrics={complexity:f["(metrics)"].ComplexityCount,parameters:f["(metrics)"].arity,statements:f["(metrics)"].statementCount},data.functions.push(fu)}var unuseds=state.funct["(scope)"].getUnuseds();unuseds.length>0&&(data.unused=unuseds);for(n in member)if("number"==typeof member[n]){data.member=member;break}return data},itself.jshint=itself,itself}();"object"==typeof exports&&exports&&(exports.JSHINT=JSHINT)},{"../lodash":"/node_modules/jshint/lodash.js","./lex.js":"/node_modules/jshint/src/lex.js","./messages.js":"/node_modules/jshint/src/messages.js","./options.js":"/node_modules/jshint/src/options.js","./reg.js":"/node_modules/jshint/src/reg.js","./scope-manager.js":"/node_modules/jshint/src/scope-manager.js","./state.js":"/node_modules/jshint/src/state.js","./style.js":"/node_modules/jshint/src/style.js","./vars.js":"/node_modules/jshint/src/vars.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/lex.js":[function(_dereq_,module,exports){"use strict";function asyncTrigger(){var _checks=[];return{push:function(fn){_checks.push(fn)},check:function(){for(var check=0;_checks.length>check;++check)_checks[check]();_checks.splice(0,_checks.length)}}}function Lexer(source){var lines=source;"string"==typeof lines&&(lines=lines.replace(/\\r\\n/g,"\\n").replace(/\\r/g,"\\n").split("\\n")),lines[0]&&"#!"===lines[0].substr(0,2)&&(-1!==lines[0].indexOf("node")&&(state.option.node=!0),lines[0]=""),this.emitter=new events.EventEmitter,this.source=source,this.setLines(lines),this.prereg=!0,this.line=0,this.char=1,this.from=1,this.input="",this.inComment=!1,this.context=[],this.templateStarts=[];for(var i=0;state.option.indent>i;i+=1)state.tab+=" ";this.ignoreLinterErrors=!1}var _=_dereq_("../lodash"),events=_dereq_("events"),reg=_dereq_("./reg.js"),state=_dereq_("./state.js").state,unicodeData=_dereq_("../data/ascii-identifier-data.js"),asciiIdentifierStartTable=unicodeData.asciiIdentifierStartTable,asciiIdentifierPartTable=unicodeData.asciiIdentifierPartTable,Token={Identifier:1,Punctuator:2,NumericLiteral:3,StringLiteral:4,Comment:5,Keyword:6,NullLiteral:7,BooleanLiteral:8,RegExp:9,TemplateHead:10,TemplateMiddle:11,TemplateTail:12,NoSubstTemplate:13},Context={Block:1,Template:2};Lexer.prototype={_lines:[],inContext:function(ctxType){return this.context.length>0&&this.context[this.context.length-1].type===ctxType},pushContext:function(ctxType){this.context.push({type:ctxType})},popContext:function(){return this.context.pop()},isContext:function(context){return this.context.length>0&&this.context[this.context.length-1]===context},currentContext:function(){return this.context.length>0&&this.context[this.context.length-1]},getLines:function(){return this._lines=state.lines,this._lines},setLines:function(val){this._lines=val,state.lines=this._lines},peek:function(i){return this.input.charAt(i||0)},skip:function(i){i=i||1,this.char+=i,this.input=this.input.slice(i)},on:function(names,listener){names.split(" ").forEach(function(name){this.emitter.on(name,listener)}.bind(this))},trigger:function(){this.emitter.emit.apply(this.emitter,Array.prototype.slice.call(arguments))},triggerAsync:function(type,args,checks,fn){checks.push(function(){fn()&&this.trigger(type,args)}.bind(this))},scanPunctuator:function(){var ch2,ch3,ch4,ch1=this.peek();switch(ch1){case".":if(/^[0-9]$/.test(this.peek(1)))return null;if("."===this.peek(1)&&"."===this.peek(2))return{type:Token.Punctuator,value:"..."};case"(":case")":case";":case",":case"[":case"]":case":":case"~":case"?":return{type:Token.Punctuator,value:ch1};case"{":return this.pushContext(Context.Block),{type:Token.Punctuator,value:ch1};case"}":return this.inContext(Context.Block)&&this.popContext(),{type:Token.Punctuator,value:ch1};case"#":return{type:Token.Punctuator,value:ch1};case"":return null}return ch2=this.peek(1),ch3=this.peek(2),ch4=this.peek(3),">"===ch1&&">"===ch2&&">"===ch3&&"="===ch4?{type:Token.Punctuator,value:">>>="}:"="===ch1&&"="===ch2&&"="===ch3?{type:Token.Punctuator,value:"==="}:"!"===ch1&&"="===ch2&&"="===ch3?{type:Token.Punctuator,value:"!=="}:">"===ch1&&">"===ch2&&">"===ch3?{type:Token.Punctuator,value:">>>"}:"<"===ch1&&"<"===ch2&&"="===ch3?{type:Token.Punctuator,value:"<<="}:">"===ch1&&">"===ch2&&"="===ch3?{type:Token.Punctuator,value:">>="}:"="===ch1&&">"===ch2?{type:Token.Punctuator,value:ch1+ch2}:ch1===ch2&&"+-<>&|".indexOf(ch1)>=0?{type:Token.Punctuator,value:ch1+ch2}:"<>=!+-*%&|^".indexOf(ch1)>=0?"="===ch2?{type:Token.Punctuator,value:ch1+ch2}:{type:Token.Punctuator,value:ch1}:"/"===ch1?"="===ch2?{type:Token.Punctuator,value:"/="}:{type:Token.Punctuator,value:"/"}:null},scanComments:function(){function commentToken(label,body,opt){var special=["jshint","jslint","members","member","globals","global","exported"],isSpecial=!1,value=label+body,commentType="plain";return opt=opt||{},opt.isMultiline&&(value+="*/"),body=body.replace(/\\n/g," "),"/*"===label&&reg.fallsThrough.test(body)&&(isSpecial=!0,commentType="falls through"),special.forEach(function(str){if(!isSpecial&&("//"!==label||"jshint"===str)&&(" "===body.charAt(str.length)&&body.substr(0,str.length)===str&&(isSpecial=!0,label+=str,body=body.substr(str.length)),isSpecial||" "!==body.charAt(0)||" "!==body.charAt(str.length+1)||body.substr(1,str.length)!==str||(isSpecial=!0,label=label+" "+str,body=body.substr(str.length+1)),isSpecial))switch(str){case"member":commentType="members";break;case"global":commentType="globals";break;default:var options=body.split(":").map(function(v){return v.replace(/^\\s+/,"").replace(/\\s+$/,"")});if(2===options.length)switch(options[0]){case"ignore":switch(options[1]){case"start":self.ignoringLinterErrors=!0,isSpecial=!1;break;case"end":self.ignoringLinterErrors=!1,isSpecial=!1}}commentType=str}}),{type:Token.Comment,commentType:commentType,value:value,body:body,isSpecial:isSpecial,isMultiline:opt.isMultiline||!1,isMalformed:opt.isMalformed||!1}}var ch1=this.peek(),ch2=this.peek(1),rest=this.input.substr(2),startLine=this.line,startChar=this.char,self=this;if("*"===ch1&&"/"===ch2)return this.trigger("error",{code:"E018",line:startLine,character:startChar}),this.skip(2),null;if("/"!==ch1||"*"!==ch2&&"/"!==ch2)return null;if("/"===ch2)return this.skip(this.input.length),commentToken("//",rest);var body="";if("*"===ch2){for(this.inComment=!0,this.skip(2);"*"!==this.peek()||"/"!==this.peek(1);)if(""===this.peek()){if(body+="\\n",!this.nextLine())return this.trigger("error",{code:"E017",line:startLine,character:startChar}),this.inComment=!1,commentToken("/*",body,{isMultiline:!0,isMalformed:!0})}else body+=this.peek(),this.skip();return this.skip(2),this.inComment=!1,commentToken("/*",body,{isMultiline:!0})}},scanKeyword:function(){var result=/^[a-zA-Z_$][a-zA-Z0-9_$]*/.exec(this.input),keywords=["if","in","do","var","for","new","try","let","this","else","case","void","with","enum","while","break","catch","throw","const","yield","class","super","return","typeof","delete","switch","export","import","default","finally","extends","function","continue","debugger","instanceof"];return result&&keywords.indexOf(result[0])>=0?{type:Token.Keyword,value:result[0]}:null},scanIdentifier:function(){function isNonAsciiIdentifierStart(code){return code>256}function isNonAsciiIdentifierPart(code){return code>256}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function removeEscapeSequences(id){return id.replace(/\\\\u([0-9a-fA-F]{4})/g,function(m0,codepoint){return String.fromCharCode(parseInt(codepoint,16))})}var type,char,id="",index=0,readUnicodeEscapeSequence=function(){if(index+=1,"u"!==this.peek(index))return null;var code,ch1=this.peek(index+1),ch2=this.peek(index+2),ch3=this.peek(index+3),ch4=this.peek(index+4);return isHexDigit(ch1)&&isHexDigit(ch2)&&isHexDigit(ch3)&&isHexDigit(ch4)?(code=parseInt(ch1+ch2+ch3+ch4,16),asciiIdentifierPartTable[code]||isNonAsciiIdentifierPart(code)?(index+=5,"\\\\u"+ch1+ch2+ch3+ch4):null):null}.bind(this),getIdentifierStart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierStartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierStart(code)?(index+=1,chr):null}.bind(this),getIdentifierPart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierPartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierPart(code)?(index+=1,chr):null}.bind(this);if(char=getIdentifierStart(),null===char)return null;for(id=char;char=getIdentifierPart(),null!==char;)id+=char;switch(id){case"true":case"false":type=Token.BooleanLiteral;break;case"null":type=Token.NullLiteral;break;default:type=Token.Identifier}return{type:type,value:removeEscapeSequences(id),text:id,tokenLength:id.length}},scanNumericLiteral:function(){function isDecimalDigit(str){return/^[0-9]$/.test(str)}function isOctalDigit(str){return/^[0-7]$/.test(str)}function isBinaryDigit(str){return/^[01]$/.test(str)}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function isIdentifierStart(ch){return"$"===ch||"_"===ch||"\\\\"===ch||ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch}var bad,index=0,value="",length=this.input.length,char=this.peek(index),isAllowedDigit=isDecimalDigit,base=10,isLegacy=!1;if("."!==char&&!isDecimalDigit(char))return null;if("."!==char){for(value=this.peek(index),index+=1,char=this.peek(index),"0"===value&&(("x"===char||"X"===char)&&(isAllowedDigit=isHexDigit,base=16,index+=1,value+=char),("o"===char||"O"===char)&&(isAllowedDigit=isOctalDigit,base=8,state.inES6(!0)||this.trigger("warning",{code:"W119",line:this.line,character:this.char,data:["Octal integer literal","6"]}),index+=1,value+=char),("b"===char||"B"===char)&&(isAllowedDigit=isBinaryDigit,base=2,state.inES6(!0)||this.trigger("warning",{code:"W119",line:this.line,character:this.char,data:["Binary integer literal","6"]}),index+=1,value+=char),isOctalDigit(char)&&(isAllowedDigit=isOctalDigit,base=8,isLegacy=!0,bad=!1,index+=1,value+=char),!isOctalDigit(char)&&isDecimalDigit(char)&&(index+=1,value+=char));length>index;){if(char=this.peek(index),isLegacy&&isDecimalDigit(char))bad=!0;else if(!isAllowedDigit(char))break;value+=char,index+=1}if(isAllowedDigit!==isDecimalDigit)return!isLegacy&&2>=value.length?{type:Token.NumericLiteral,value:value,isMalformed:!0}:length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isLegacy:isLegacy,isMalformed:!1}}if("."===char)for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1;if("e"===char||"E"===char){if(value+=char,index+=1,char=this.peek(index),("+"===char||"-"===char)&&(value+=this.peek(index),index+=1),char=this.peek(index),!isDecimalDigit(char))return null;for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1}return length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isMalformed:!isFinite(value)}},scanEscapeSequence:function(checks){var allowNewLine=!1,jump=1;this.skip();var char=this.peek();switch(char){case"\'":this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\\'"]},checks,function(){return state.jsonMode});break;case"b":char="\\\\b";break;case"f":char="\\\\f";break;case"n":char="\\\\n";break;case"r":char="\\\\r";break;case"t":char="\\\\t";break;case"0":char="\\\\0";var n=parseInt(this.peek(1),10);this.triggerAsync("warning",{code:"W115",line:this.line,character:this.char},checks,function(){return n>=0&&7>=n&&state.isStrict()});break;case"u":var hexCode=this.input.substr(1,4),code=parseInt(hexCode,16);isNaN(code)&&this.trigger("warning",{code:"W052",line:this.line,character:this.char,data:["u"+hexCode]}),char=String.fromCharCode(code),jump=5;break;case"v":this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\v"]},checks,function(){return state.jsonMode}),char="\v";break;case"x":var x=parseInt(this.input.substr(1,2),16);this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\x-"]},checks,function(){return state.jsonMode}),char=String.fromCharCode(x),jump=3;break;case"\\\\":char="\\\\\\\\";break;case\'"\':char=\'\\\\"\';break;case"/":break;case"":allowNewLine=!0,char=""}return{"char":char,jump:jump,allowNewLine:allowNewLine}},scanTemplateLiteral:function(checks){var tokenType,ch,value="",startLine=this.line,startChar=this.char,depth=this.templateStarts.length;if(!state.inES6(!0))return null;if("`"===this.peek())tokenType=Token.TemplateHead,this.templateStarts.push({line:this.line,"char":this.char}),depth=this.templateStarts.length,this.skip(1),this.pushContext(Context.Template);else{if(!this.inContext(Context.Template)||"}"!==this.peek())return null;tokenType=Token.TemplateMiddle}for(;"`"!==this.peek();){for(;""===(ch=this.peek());)if(value+="\\n",!this.nextLine()){var startPos=this.templateStarts.pop();return this.trigger("error",{code:"E052",line:startPos.line,character:startPos.char}),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,depth:depth,context:this.popContext()}}if("$"===ch&&"{"===this.peek(1))return value+="${",this.skip(2),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.currentContext()};\nif("\\\\"===ch){var escape=this.scanEscapeSequence(checks);value+=escape.char,this.skip(escape.jump)}else"`"!==ch&&(value+=ch,this.skip(1))}return tokenType=tokenType===Token.TemplateHead?Token.NoSubstTemplate:Token.TemplateTail,this.skip(1),this.templateStarts.pop(),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.popContext()}},scanStringLiteral:function(checks){var quote=this.peek();if(\'"\'!==quote&&"\'"!==quote)return null;this.triggerAsync("warning",{code:"W108",line:this.line,character:this.char},checks,function(){return state.jsonMode&&\'"\'!==quote});var value="",startLine=this.line,startChar=this.char,allowNewLine=!1;for(this.skip();this.peek()!==quote;)if(""===this.peek()){if(allowNewLine?(allowNewLine=!1,this.triggerAsync("warning",{code:"W043",line:this.line,character:this.char},checks,function(){return!state.option.multistr}),this.triggerAsync("warning",{code:"W042",line:this.line,character:this.char},checks,function(){return state.jsonMode&&state.option.multistr})):this.trigger("warning",{code:"W112",line:this.line,character:this.char}),!this.nextLine())return this.trigger("error",{code:"E029",line:startLine,character:startChar}),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,quote:quote}}else{allowNewLine=!1;var char=this.peek(),jump=1;if(" ">char&&this.trigger("warning",{code:"W113",line:this.line,character:this.char,data:["<non-printable>"]}),"\\\\"===char){var parsed=this.scanEscapeSequence(checks);char=parsed.char,jump=parsed.jump,allowNewLine=parsed.allowNewLine}value+=char,this.skip(jump)}return this.skip(),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,quote:quote}},scanRegExp:function(){var terminated,index=0,length=this.input.length,char=this.peek(),value=char,body="",flags=[],malformed=!1,isCharSet=!1,scanUnexpectedChars=function(){" ">char&&(malformed=!0,this.trigger("warning",{code:"W048",line:this.line,character:this.char})),"<"===char&&(malformed=!0,this.trigger("warning",{code:"W049",line:this.line,character:this.char,data:[char]}))}.bind(this);if(!this.prereg||"/"!==char)return null;for(index+=1,terminated=!1;length>index;)if(char=this.peek(index),value+=char,body+=char,isCharSet)"]"===char&&("\\\\"!==this.peek(index-1)||"\\\\"===this.peek(index-2))&&(isCharSet=!1),"\\\\"===char&&(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars()),index+=1;else{if("\\\\"===char){if(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars(),"/"===char){index+=1;continue}if("["===char){index+=1;continue}}if("["!==char){if("/"===char){body=body.substr(0,body.length-1),terminated=!0,index+=1;break}index+=1}else isCharSet=!0,index+=1}if(!terminated)return this.trigger("error",{code:"E015",line:this.line,character:this.from}),void this.trigger("fatal",{line:this.line,from:this.from});for(;length>index&&(char=this.peek(index),/[gim]/.test(char));)flags.push(char),value+=char,index+=1;try{RegExp(body,flags.join(""))}catch(err){malformed=!0,this.trigger("error",{code:"E016",line:this.line,character:this.char,data:[err.message]})}return{type:Token.RegExp,value:value,flags:flags,isMalformed:malformed}},scanNonBreakingSpaces:function(){return state.option.nonbsp?this.input.search(/(\\u00A0)/):-1},scanUnsafeChars:function(){return this.input.search(reg.unsafeChars)},next:function(checks){this.from=this.char;var start;if(/\\s/.test(this.peek()))for(start=this.char;/\\s/.test(this.peek());)this.from+=1,this.skip();var match=this.scanComments()||this.scanStringLiteral(checks)||this.scanTemplateLiteral(checks);return match?match:(match=this.scanRegExp()||this.scanPunctuator()||this.scanKeyword()||this.scanIdentifier()||this.scanNumericLiteral(),match?(this.skip(match.tokenLength||match.value.length),match):null)},nextLine:function(){var char;if(this.line>=this.getLines().length)return!1;this.input=this.getLines()[this.line],this.line+=1,this.char=1,this.from=1;var inputTrimmed=this.input.trim(),startsWith=function(){return _.some(arguments,function(prefix){return 0===inputTrimmed.indexOf(prefix)})},endsWith=function(){return _.some(arguments,function(suffix){return-1!==inputTrimmed.indexOf(suffix,inputTrimmed.length-suffix.length)})};if(this.ignoringLinterErrors===!0&&(startsWith("/*","//")||this.inComment&&endsWith("*/")||(this.input="")),char=this.scanNonBreakingSpaces(),char>=0&&this.trigger("warning",{code:"W125",line:this.line,character:char+1}),this.input=this.input.replace(/\\t/g,state.tab),char=this.scanUnsafeChars(),char>=0&&this.trigger("warning",{code:"W100",line:this.line,character:char}),!this.ignoringLinterErrors&&state.option.maxlen&&state.option.maxlen<this.input.length){var inComment=this.inComment||startsWith.call(inputTrimmed,"//")||startsWith.call(inputTrimmed,"/*"),shouldTriggerError=!inComment||!reg.maxlenException.test(inputTrimmed);shouldTriggerError&&this.trigger("warning",{code:"W101",line:this.line,character:this.input.length})}return!0},start:function(){this.nextLine()},token:function(){function isReserved(token,isProperty){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(isProperty)return!1}return!0}for(var token,checks=asyncTrigger(),create=function(type,value,isProperty,token){var obj;if("(endline)"!==type&&"(end)"!==type&&(this.prereg=!1),"(punctuator)"===type){switch(value){case".":case")":case"~":case"#":case"]":case"++":case"--":this.prereg=!1;break;default:this.prereg=!0}obj=Object.create(state.syntax[value]||state.syntax["(error)"])}return"(identifier)"===type&&(("return"===value||"case"===value||"typeof"===value)&&(this.prereg=!0),_.has(state.syntax,value)&&(obj=Object.create(state.syntax[value]||state.syntax["(error)"]),isReserved(obj,isProperty&&"(identifier)"===type)||(obj=null))),obj||(obj=Object.create(state.syntax[type])),obj.identifier="(identifier)"===type,obj.type=obj.type||type,obj.value=value,obj.line=this.line,obj.character=this.char,obj.from=this.from,obj.identifier&&token&&(obj.raw_text=token.text||token.value),token&&token.startLine&&token.startLine!==this.line&&(obj.startLine=token.startLine),token&&token.context&&(obj.context=token.context),token&&token.depth&&(obj.depth=token.depth),token&&token.isUnclosed&&(obj.isUnclosed=token.isUnclosed),isProperty&&obj.identifier&&(obj.isProperty=isProperty),obj.check=checks.check,obj}.bind(this);;){if(!this.input.length)return this.nextLine()?create("(endline)",""):this.exhausted?null:(this.exhausted=!0,create("(end)",""));if(token=this.next(checks))switch(token.type){case Token.StringLiteral:return this.triggerAsync("String",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value,quote:token.quote},checks,function(){return!0}),create("(string)",token.value,null,token);case Token.TemplateHead:return this.trigger("TemplateHead",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template)",token.value,null,token);case Token.TemplateMiddle:return this.trigger("TemplateMiddle",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template middle)",token.value,null,token);case Token.TemplateTail:return this.trigger("TemplateTail",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(template tail)",token.value,null,token);case Token.NoSubstTemplate:return this.trigger("NoSubstTemplate",{line:this.line,"char":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create("(no subst template)",token.value,null,token);case Token.Identifier:this.triggerAsync("Identifier",{line:this.line,"char":this.char,from:this.form,name:token.value,raw_name:token.text,isProperty:"."===state.tokens.curr.id},checks,function(){return!0});case Token.Keyword:case Token.NullLiteral:case Token.BooleanLiteral:return create("(identifier)",token.value,"."===state.tokens.curr.id,token);case Token.NumericLiteral:return token.isMalformed&&this.trigger("warning",{code:"W045",line:this.line,character:this.char,data:[token.value]}),this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["0x-"]},checks,function(){return 16===token.base&&state.jsonMode}),this.triggerAsync("warning",{code:"W115",line:this.line,character:this.char},checks,function(){return state.isStrict()&&8===token.base&&token.isLegacy}),this.trigger("Number",{line:this.line,"char":this.char,from:this.from,value:token.value,base:token.base,isMalformed:token.malformed}),create("(number)",token.value);case Token.RegExp:return create("(regexp)",token.value);case Token.Comment:if(state.tokens.curr.comment=!0,token.isSpecial)return{id:"(comment)",value:token.value,body:token.body,type:token.commentType,isSpecial:token.isSpecial,line:this.line,character:this.char,from:this.from};break;case"":break;default:return create("(punctuator)",token.value)}else this.input.length&&(this.trigger("error",{code:"E024",line:this.line,character:this.char,data:[this.peek()]}),this.input="")}}},exports.Lexer=Lexer,exports.Context=Context},{"../data/ascii-identifier-data.js":"/node_modules/jshint/data/ascii-identifier-data.js","../lodash":"/node_modules/jshint/lodash.js","./reg.js":"/node_modules/jshint/src/reg.js","./state.js":"/node_modules/jshint/src/state.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/messages.js":[function(_dereq_,module,exports){"use strict";var _=_dereq_("../lodash"),errors={E001:"Bad option: \'{a}\'.",E002:"Bad option value.",E003:"Expected a JSON value.",E004:"Input is neither a string nor an array of strings.",E005:"Input is empty.",E006:"Unexpected early end of program.",E007:\'Missing "use strict" statement.\',E008:"Strict violation.",E009:"Option \'validthis\' can\'t be used in a global scope.",E010:"\'with\' is not allowed in strict mode.",E011:"\'{a}\' has already been declared.",E012:"const \'{a}\' is initialized to \'undefined\'.",E013:"Attempting to override \'{a}\' which is a constant.",E014:"A regular expression literal can be confused with \'/=\'.",E015:"Unclosed regular expression.",E016:"Invalid regular expression.",E017:"Unclosed comment.",E018:"Unbegun comment.",E019:"Unmatched \'{a}\'.",E020:"Expected \'{a}\' to match \'{b}\' from line {c} and instead saw \'{d}\'.",E021:"Expected \'{a}\' and instead saw \'{b}\'.",E022:"Line breaking error \'{a}\'.",E023:"Missing \'{a}\'.",E024:"Unexpected \'{a}\'.",E025:"Missing \':\' on a case clause.",E026:"Missing \'}\' to match \'{\' from line {a}.",E027:"Missing \']\' to match \'[\' from line {a}.",E028:"Illegal comma.",E029:"Unclosed string.",E030:"Expected an identifier and instead saw \'{a}\'.",E031:"Bad assignment.",E032:"Expected a small integer or \'false\' and instead saw \'{a}\'.",E033:"Expected an operator and instead saw \'{a}\'.",E034:"get/set are ES5 features.",E035:"Missing property name.",E036:"Expected to see a statement and instead saw a block.",E037:null,E038:null,E039:"Function declarations are not invocable. Wrap the whole function invocation in parens.",E040:"Each value should have its own case label.",E041:"Unrecoverable syntax error.",E042:"Stopping.",E043:"Too many errors.",E044:null,E045:"Invalid for each loop.",E046:"A yield statement shall be within a generator function (with syntax: `function*`)",E047:null,E048:"{a} declaration not directly within block.",E049:"A {a} cannot be named \'{b}\'.",E050:"Mozilla acequires the yield expression to be parenthesized here.",E051:null,E052:"Unclosed template literal.",E053:"Export declaration must be in global scope.",E054:"Class properties must be methods. Expected \'(\' but instead saw \'{a}\'.",E055:"The \'{a}\' option cannot be set after any executable code.",E056:"\'{a}\' was used before it was declared, which is illegal for \'{b}\' variables.",E057:"Invalid meta property: \'{a}.{b}\'.",E058:"Missing semicolon."},warnings={W001:"\'hasOwnProperty\' is a really bad name.",W002:"Value of \'{a}\' may be overwritten in IE 8 and earlier.",W003:"\'{a}\' was used before it was defined.",W004:"\'{a}\' is already defined.",W005:"A dot following a number can be confused with a decimal point.",W006:"Confusing minuses.",W007:"Confusing plusses.",W008:"A leading decimal point can be confused with a dot: \'{a}\'.",W009:"The array literal notation [] is preferable.",W010:"The object literal notation {} is preferable.",W011:null,W012:null,W013:null,W014:"Bad line breaking before \'{a}\'.",W015:null,W016:"Unexpected use of \'{a}\'.",W017:"Bad operand.",W018:"Confusing use of \'{a}\'.",W019:"Use the isNaN function to compare with NaN.",W020:"Read only.",W021:"Reassignment of \'{a}\', which is is a {b}. Use \'var\' or \'let\' to declare bindings that may change.",W022:"Do not assign to the exception parameter.",W023:"Expected an identifier in an assignment and instead saw a function invocation.",W024:"Expected an identifier and instead saw \'{a}\' (a reserved word).",W025:"Missing name in function declaration.",W026:"Inner functions should be listed at the top of the outer function.",W027:"Unreachable \'{a}\' after \'{b}\'.",W028:"Label \'{a}\' on {b} statement.",W030:"Expected an assignment or function call and instead saw an expression.",W031:"Do not use \'new\' for side effects.",W032:"Unnecessary semicolon.",W033:"Missing semicolon.",W034:\'Unnecessary directive "{a}".\',W035:"Empty block.",W036:"Unexpected /*member \'{a}\'.",W037:"\'{a}\' is a statement label.",W038:"\'{a}\' used out of scope.",W039:"\'{a}\' is not allowed.",W040:"Possible strict violation.",W041:"Use \'{a}\' to compare with \'{b}\'.",W042:"Avoid EOL escaping.",W043:"Bad escaping of EOL. Use option multistr if needed.",W044:"Bad or unnecessary escaping.",W045:"Bad number \'{a}\'.",W046:"Don\'t use extra leading zeros \'{a}\'.",W047:"A trailing decimal point can be confused with a dot: \'{a}\'.",W048:"Unexpected control character in regular expression.",W049:"Unexpected escaped character \'{a}\' in regular expression.",W050:"JavaScript URL.",W051:"Variables should not be deleted.",W052:"Unexpected \'{a}\'.",W053:"Do not use {a} as a constructor.",W054:"The Function constructor is a form of eval.",W055:"A constructor name should start with an uppercase letter.",W056:"Bad constructor.",W057:"Weird construction. Is \'new\' necessary?",W058:"Missing \'()\' invoking a constructor.",W059:"Avoid arguments.{a}.",W060:"document.write can be a form of eval.",W061:"eval can be harmful.",W062:"Wrap an immediate function invocation in parens to assist the reader in understanding that the expression is the result of a function, and not the function itself.",W063:"Math is not a function.",W064:"Missing \'new\' prefix when invoking a constructor.",W065:"Missing radix parameter.",W066:"Implied eval. Consider passing a function instead of a string.",W067:"Bad invocation.",W068:"Wrapping non-IIFE function literals in parens is unnecessary.",W069:"[\'{a}\'] is better written in dot notation.",W070:"Extra comma. (it breaks older versions of IE)",W071:"This function has too many statements. ({a})",W072:"This function has too many parameters. ({a})",W073:"Blocks are nested too deeply. ({a})",W074:"This function\'s cyclomatic complexity is too high. ({a})",W075:"Duplicate {a} \'{b}\'.",W076:"Unexpected parameter \'{a}\' in get {b} function.",W077:"Expected a single parameter in set {a} function.",W078:"Setter is defined without getter.",W079:"Redefinition of \'{a}\'.",W080:"It\'s not necessary to initialize \'{a}\' to \'undefined\'.",W081:null,W082:"Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",W083:"Don\'t make functions within a loop.",W084:"Assignment in conditional expression",W085:"Don\'t use \'with\'.",W086:"Expected a \'break\' statement before \'{a}\'.",W087:"Forgotten \'debugger\' statement?",W088:"Creating global \'for\' variable. Should be \'for (var {a} ...\'.",W089:"The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",W090:"\'{a}\' is not a statement label.",W091:null,W093:"Did you mean to return a conditional instead of an assignment?",W094:"Unexpected comma.",W095:"Expected a string and instead saw {a}.",W096:"The \'{a}\' key may produce unexpected results.",W097:\'Use the function form of "use strict".\',W098:"\'{a}\' is defined but never used.",W099:null,W100:"This character may get silently deleted by one or more browsers.",W101:"Line is too long.",W102:null,W103:"The \'{a}\' property is deprecated.",W104:"\'{a}\' is available in ES{b} (use \'esversion: {b}\') or Mozilla JS extensions (use moz).",W105:"Unexpected {a} in \'{b}\'.",W106:"Identifier \'{a}\' is not in camel case.",W107:"Script URL.",W108:"Strings must use doublequote.",W109:"Strings must use singlequote.",W110:"Mixed double and single quotes.",W112:"Unclosed string.",W113:"Control character in string: {a}.",W114:"Avoid {a}.",W115:"Octal literals are not allowed in strict mode.",W116:"Expected \'{a}\' and instead saw \'{b}\'.",W117:"\'{a}\' is not defined.",W118:"\'{a}\' is only available in Mozilla JavaScript extensions (use moz option).",W119:"\'{a}\' is only available in ES{b} (use \'esversion: {b}\').",W120:"You might be leaking a variable ({a}) here.",W121:"Extending prototype of native object: \'{a}\'.",W122:"Invalid typeof value \'{a}\'",W123:"\'{a}\' is already defined in outer scope.",W124:"A generator function shall contain a yield statement.",W125:"This line contains non-breaking spaces: http://jshint.com/doc/options/#nonbsp",W126:"Unnecessary grouping operator.",W127:"Unexpected use of a comma operator.",W128:"Empty array elements acequire elision=true.",W129:"\'{a}\' is defined in a future version of JavaScript. Use a different variable name to avoid migration issues.",W130:"Invalid element after rest element.",W131:"Invalid parameter after rest parameter.",W132:"`var` declarations are forbidden. Use `let` or `const` instead.",W133:"Invalid for-{a} loop left-hand-side: {b}.",W134:"The \'{a}\' option is only available when linting ECMAScript {b} code.",W135:"{a} may not be supported by non-browser environments.",W136:"\'{a}\' must be in function scope.",W137:"Empty destructuring.",W138:"Regular parameters should not come after default parameters."},info={I001:"Comma warnings can be turned off with \'laxcomma\'.",I002:null,I003:"ES5 option is now set per default"};exports.errors={},exports.warnings={},exports.info={},_.each(errors,function(desc,code){exports.errors[code]={code:code,desc:desc}}),_.each(warnings,function(desc,code){exports.warnings[code]={code:code,desc:desc}}),_.each(info,function(desc,code){exports.info[code]={code:code,desc:desc}})},{"../lodash":"/node_modules/jshint/lodash.js"}],"/node_modules/jshint/src/name-stack.js":[function(_dereq_,module){"use strict";function NameStack(){this._stack=[]}Object.defineProperty(NameStack.prototype,"length",{get:function(){return this._stack.length}}),NameStack.prototype.push=function(){this._stack.push(null)},NameStack.prototype.pop=function(){this._stack.pop()},NameStack.prototype.set=function(token){this._stack[this.length-1]=token},NameStack.prototype.infer=function(){var type,nameToken=this._stack[this.length-1],prefix="";return nameToken&&"class"!==nameToken.type||(nameToken=this._stack[this.length-2]),nameToken?(type=nameToken.type,"(string)"!==type&&"(number)"!==type&&"(identifier)"!==type&&"default"!==type?"(expression)":(nameToken.accessorType&&(prefix=nameToken.accessorType+" "),prefix+nameToken.value)):"(empty)"},module.exports=NameStack},{}],"/node_modules/jshint/src/options.js":[function(_dereq_,module,exports){"use strict";exports.bool={enforcing:{bitwise:!0,freeze:!0,camelcase:!0,curly:!0,eqeqeq:!0,futurehostile:!0,notypeof:!0,es3:!0,es5:!0,forin:!0,funcscope:!0,immed:!0,iterator:!0,newcap:!0,noarg:!0,nocomma:!0,noempty:!0,nonbsp:!0,nonew:!0,undef:!0,singleGroups:!1,varstmt:!1,enforceall:!1},relaxing:{asi:!0,multistr:!0,debug:!0,boss:!0,evil:!0,globalstrict:!0,plusplus:!0,proto:!0,scripturl:!0,sub:!0,supernew:!0,laxbreak:!0,laxcomma:!0,validthis:!0,withstmt:!0,moz:!0,noyield:!0,eqnull:!0,lastsemic:!0,loopfunc:!0,expr:!0,esnext:!0,elision:!0},environments:{mootools:!0,couch:!0,jasmine:!0,jquery:!0,node:!0,qunit:!0,rhino:!0,shelljs:!0,prototypejs:!0,yui:!0,mocha:!0,module:!0,wsh:!0,worker:!0,nonstandard:!0,browser:!0,browserify:!0,devel:!0,dojo:!0,typed:!0,phantom:!0},obsolete:{onecase:!0,regexp:!0,regexdash:!0}},exports.val={maxlen:!1,indent:!1,maxerr:!1,predef:!1,globals:!1,quotmark:!1,scope:!1,maxstatements:!1,maxdepth:!1,maxparams:!1,maxcomplexity:!1,shadow:!1,strict:!0,unused:!0,latedef:!1,ignore:!1,ignoreDelimiters:!1,esversion:5},exports.inverted={bitwise:!0,forin:!0,newcap:!0,plusplus:!0,regexp:!0,undef:!0,eqeqeq:!0,strict:!0},exports.validNames=Object.keys(exports.val).concat(Object.keys(exports.bool.relaxing)).concat(Object.keys(exports.bool.enforcing)).concat(Object.keys(exports.bool.obsolete)).concat(Object.keys(exports.bool.environments)),exports.renamed={eqeq:"eqeqeq",windows:"wsh",sloppy:"strict"},exports.removed={nomen:!0,onevar:!0,passfail:!0,white:!0,gcl:!0,smarttabs:!0,trailing:!0},exports.noenforceall={varstmt:!0,strict:!0}},{}],"/node_modules/jshint/src/reg.js":[function(_dereq_,module,exports){"use strict";exports.unsafeString=/@cc|<\\/?|script|\\]\\s*\\]|<\\s*!|&lt/i,exports.unsafeChars=/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEsc=/[\\u0000-\\u001f&<"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEscGlobal=/[\\u0000-\\u001f&<"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,exports.starSlash=/\\*\\//,exports.identifier=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,exports.javascriptURL=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i,exports.fallsThrough=/^\\s*falls?\\sthrough\\s*$/,exports.maxlenException=/^(?:(?:\\/\\/|\\/\\*|\\*) ?)?[^ ]+$/},{}],"/node_modules/jshint/src/scope-manager.js":[function(_dereq_,module){"use strict";var _=_dereq_("../lodash"),events=_dereq_("events"),marker={},scopeManager=function(state,predefined,exported,declared){function _newScope(type){_current={"(labels)":Object.create(null),"(usages)":Object.create(null),"(breakLabels)":Object.create(null),"(parent)":_current,"(type)":type,"(params)":"functionparams"===type||"catchparams"===type?[]:null},_scopeStack.push(_current)}function warning(code,token){emitter.emit("warning",{code:code,token:token,data:_.slice(arguments,2)})}function error(code,token){emitter.emit("warning",{code:code,token:token,data:_.slice(arguments,2)})}function _setupUsages(labelName){_current["(usages)"][labelName]||(_current["(usages)"][labelName]={"(modified)":[],"(reassigned)":[],"(tokens)":[]})}function _checkForUnused(){if("functionparams"===_current["(type)"])return _checkParams(),void 0;var curentLabels=_current["(labels)"];for(var labelName in curentLabels)curentLabels[labelName]&&"exception"!==curentLabels[labelName]["(type)"]&&curentLabels[labelName]["(unused)"]&&_warnUnused(labelName,curentLabels[labelName]["(token)"],"var")}function _checkParams(){var params=_current["(params)"];if(params)for(var unused_opt,param=params.pop();param;){var label=_current["(labels)"][param];if(unused_opt=_getUnusedOption(state.funct["(unusedOption)"]),"undefined"===param)return;if(label["(unused)"])_warnUnused(param,label["(token)"],"param",state.funct["(unusedOption)"]);else if("last-param"===unused_opt)return;param=params.pop()}}function _getLabel(labelName){for(var i=_scopeStack.length-1;i>=0;--i){var scopeLabels=_scopeStack[i]["(labels)"];if(scopeLabels[labelName])return scopeLabels}}function usedSoFarInCurrentFunction(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current["(usages)"][labelName])return current["(usages)"][labelName];if(current===_currentFunctBody)break}return!1}function _checkOuterShadow(labelName,token){if("outer"===state.option.shadow)for(var isGlobal="global"===_currentFunctBody["(type)"],isNewFunction="functionparams"===_current["(type)"],outsideCurrentFunction=!isGlobal,i=0;_scopeStack.length>i;i++){var stackItem=_scopeStack[i];isNewFunction||_scopeStack[i+1]!==_currentFunctBody||(outsideCurrentFunction=!1),outsideCurrentFunction&&stackItem["(labels)"][labelName]&&warning("W123",token,labelName),stackItem["(breakLabels)"][labelName]&&warning("W123",token,labelName)}}function _latedefWarning(type,labelName,token){state.option.latedef&&(state.option.latedef===!0&&"function"===type||"function"!==type)&&warning("W003",token,labelName)}var _current,_scopeStack=[];_newScope("global"),_current["(predefined)"]=predefined;var _currentFunctBody=_current,usedPredefinedAndGlobals=Object.create(null),impliedGlobals=Object.create(null),unuseds=[],emitter=new events.EventEmitter,_getUnusedOption=function(unused_opt){return void 0===unused_opt&&(unused_opt=state.option.unused),unused_opt===!0&&(unused_opt="last-param"),unused_opt},_warnUnused=function(name,tkn,type,unused_opt){var line=tkn.line,chr=tkn.from,raw_name=tkn.raw_text||name;unused_opt=_getUnusedOption(unused_opt);var warnable_types={vars:["var"],"last-param":["var","param"],strict:["var","param","last-param"]};unused_opt&&warnable_types[unused_opt]&&-1!==warnable_types[unused_opt].indexOf(type)&&warning("W098",{line:line,from:chr},raw_name),(unused_opt||"var"===type)&&unuseds.push({name:name,line:line,character:chr})},scopeManagerInst={on:function(names,listener){names.split(" ").forEach(function(name){emitter.on(name,listener)})},isPredefined:function(labelName){return!this.has(labelName)&&_.has(_scopeStack[0]["(predefined)"],labelName)},stack:function(type){var previousScope=_current;_newScope(type),type||"functionparams"!==previousScope["(type)"]||(_current["(isFuncBody)"]=!0,_current["(context)"]=_currentFunctBody,_currentFunctBody=_current)},unstack:function(){var i,j,subScope=_scopeStack.length>1?_scopeStack[_scopeStack.length-2]:null,isUnstackingFunctionBody=_current===_currentFunctBody,isUnstackingFunctionParams="functionparams"===_current["(type)"],isUnstackingFunctionOuter="functionouter"===_current["(type)"],currentUsages=_current["(usages)"],currentLabels=_current["(labels)"],usedLabelNameList=Object.keys(currentUsages);for(currentUsages.__proto__&&-1===usedLabelNameList.indexOf("__proto__")&&usedLabelNameList.push("__proto__"),i=0;usedLabelNameList.length>i;i++){var usedLabelName=usedLabelNameList[i],usage=currentUsages[usedLabelName],usedLabel=currentLabels[usedLabelName];if(usedLabel){var usedLabelType=usedLabel["(type)"];if(usedLabel["(useOutsideOfScope)"]&&!state.option.funcscope){var usedTokens=usage["(tokens)"];if(usedTokens)for(j=0;usedTokens.length>j;j++)usedLabel["(function)"]===usedTokens[j]["(function)"]&&error("W038",usedTokens[j],usedLabelName)}if(_current["(labels)"][usedLabelName]["(unused)"]=!1,"const"===usedLabelType&&usage["(modified)"])for(j=0;usage["(modified)"].length>j;j++)error("E013",usage["(modified)"][j],usedLabelName);if(("function"===usedLabelType||"class"===usedLabelType)&&usage["(reassigned)"])for(j=0;usage["(reassigned)"].length>j;j++)error("W021",usage["(reassigned)"][j],usedLabelName,usedLabelType)}else if(isUnstackingFunctionOuter&&(state.funct["(isCapturing)"]=!0),subScope)if(subScope["(usages)"][usedLabelName]){var subScopeUsage=subScope["(usages)"][usedLabelName];subScopeUsage["(modified)"]=subScopeUsage["(modified)"].concat(usage["(modified)"]),subScopeUsage["(tokens)"]=subScopeUsage["(tokens)"].concat(usage["(tokens)"]),subScopeUsage["(reassigned)"]=subScopeUsage["(reassigned)"].concat(usage["(reassigned)"]),subScopeUsage["(onlyUsedSubFunction)"]=!1}else subScope["(usages)"][usedLabelName]=usage,isUnstackingFunctionBody&&(subScope["(usages)"][usedLabelName]["(onlyUsedSubFunction)"]=!0);else if("boolean"==typeof _current["(predefined)"][usedLabelName]){if(delete declared[usedLabelName],usedPredefinedAndGlobals[usedLabelName]=marker,_current["(predefined)"][usedLabelName]===!1&&usage["(reassigned)"])for(j=0;usage["(reassigned)"].length>j;j++)warning("W020",usage["(reassigned)"][j])}else if(usage["(tokens)"])for(j=0;usage["(tokens)"].length>j;j++){var undefinedToken=usage["(tokens)"][j];undefinedToken.forgiveUndef||(state.option.undef&&!undefinedToken.ignoreUndef&&warning("W117",undefinedToken,usedLabelName),impliedGlobals[usedLabelName]?impliedGlobals[usedLabelName].line.push(undefinedToken.line):impliedGlobals[usedLabelName]={name:usedLabelName,line:[undefinedToken.line]})}}if(subScope||Object.keys(declared).forEach(function(labelNotUsed){_warnUnused(labelNotUsed,declared[labelNotUsed],"var")}),subScope&&!isUnstackingFunctionBody&&!isUnstackingFunctionParams&&!isUnstackingFunctionOuter){var labelNames=Object.keys(currentLabels);for(i=0;labelNames.length>i;i++){var defLabelName=labelNames[i];currentLabels[defLabelName]["(blockscoped)"]||"exception"===currentLabels[defLabelName]["(type)"]||this.funct.has(defLabelName,{excludeCurrent:!0})||(subScope["(labels)"][defLabelName]=currentLabels[defLabelName],"global"!==_currentFunctBody["(type)"]&&(subScope["(labels)"][defLabelName]["(useOutsideOfScope)"]=!0),delete currentLabels[defLabelName])}}_checkForUnused(),_scopeStack.pop(),isUnstackingFunctionBody&&(_currentFunctBody=_scopeStack[_.findLastIndex(_scopeStack,function(scope){return scope["(isFuncBody)"]||"global"===scope["(type)"]})]),_current=subScope},addParam:function(labelName,token,type){if(type=type||"param","exception"===type){var previouslyDefinedLabelType=this.funct.labeltype(labelName);previouslyDefinedLabelType&&"exception"!==previouslyDefinedLabelType&&(state.option.node||warning("W002",state.tokens.next,labelName))}if(_.has(_current["(labels)"],labelName)?_current["(labels)"][labelName].duplicated=!0:(_checkOuterShadow(labelName,token,type),_current["(labels)"][labelName]={"(type)":type,"(token)":token,"(unused)":!0},_current["(params)"].push(labelName)),_.has(_current["(usages)"],labelName)){var usage=_current["(usages)"][labelName];usage["(onlyUsedSubFunction)"]?_latedefWarning(type,labelName,token):warning("E056",token,labelName,type)}},validateParams:function(){if("global"!==_currentFunctBody["(type)"]){var isStrict=state.isStrict(),currentFunctParamScope=_currentFunctBody["(parent)"];currentFunctParamScope["(params)"]&&currentFunctParamScope["(params)"].forEach(function(labelName){var label=currentFunctParamScope["(labels)"][labelName];label&&label.duplicated&&(isStrict?warning("E011",label["(token)"],labelName):state.option.shadow!==!0&&warning("W004",label["(token)"],labelName))})}},getUsedOrDefinedGlobals:function(){var list=Object.keys(usedPredefinedAndGlobals);return usedPredefinedAndGlobals.__proto__===marker&&-1===list.indexOf("__proto__")&&list.push("__proto__"),list},getImpliedGlobals:function(){var values=_.values(impliedGlobals),hasProto=!1;return impliedGlobals.__proto__&&(hasProto=values.some(function(value){return"__proto__"===value.name}),hasProto||values.push(impliedGlobals.__proto__)),values},getUnuseds:function(){return unuseds},has:function(labelName){return Boolean(_getLabel(labelName))},labeltype:function(labelName){var scopeLabels=_getLabel(labelName);return scopeLabels?scopeLabels[labelName]["(type)"]:null},addExported:function(labelName){var globalLabels=_scopeStack[0]["(labels)"];if(_.has(declared,labelName))delete declared[labelName];else if(_.has(globalLabels,labelName))globalLabels[labelName]["(unused)"]=!1;else{for(var i=1;_scopeStack.length>i;i++){var scope=_scopeStack[i];if(scope["(type)"])break;if(_.has(scope["(labels)"],labelName)&&!scope["(labels)"][labelName]["(blockscoped)"])return scope["(labels)"][labelName]["(unused)"]=!1,void 0}exported[labelName]=!0}},setExported:function(labelName,token){this.block.use(labelName,token)\n},addlabel:function(labelName,opts){var type=opts.type,token=opts.token,isblockscoped="let"===type||"const"===type||"class"===type,isexported="global"===(isblockscoped?_current:_currentFunctBody)["(type)"]&&_.has(exported,labelName);if(_checkOuterShadow(labelName,token,type),isblockscoped){var declaredInCurrentScope=_current["(labels)"][labelName];if(declaredInCurrentScope||_current!==_currentFunctBody||"global"===_current["(type)"]||(declaredInCurrentScope=!!_currentFunctBody["(parent)"]["(labels)"][labelName]),!declaredInCurrentScope&&_current["(usages)"][labelName]){var usage=_current["(usages)"][labelName];usage["(onlyUsedSubFunction)"]?_latedefWarning(type,labelName,token):warning("E056",token,labelName,type)}declaredInCurrentScope?warning("E011",token,labelName):"outer"===state.option.shadow&&scopeManagerInst.funct.has(labelName)&&warning("W004",token,labelName),scopeManagerInst.block.add(labelName,type,token,!isexported)}else{var declaredInCurrentFunctionScope=scopeManagerInst.funct.has(labelName);!declaredInCurrentFunctionScope&&usedSoFarInCurrentFunction(labelName)&&_latedefWarning(type,labelName,token),scopeManagerInst.funct.has(labelName,{onlyBlockscoped:!0})?warning("E011",token,labelName):state.option.shadow!==!0&&declaredInCurrentFunctionScope&&"__proto__"!==labelName&&"global"!==_currentFunctBody["(type)"]&&warning("W004",token,labelName),scopeManagerInst.funct.add(labelName,type,token,!isexported),"global"===_currentFunctBody["(type)"]&&(usedPredefinedAndGlobals[labelName]=marker)}},funct:{labeltype:function(labelName,options){for(var onlyBlockscoped=options&&options.onlyBlockscoped,excludeParams=options&&options.excludeParams,currentScopeIndex=_scopeStack.length-(options&&options.excludeCurrent?2:1),i=currentScopeIndex;i>=0;i--){var current=_scopeStack[i];if(current["(labels)"][labelName]&&(!onlyBlockscoped||current["(labels)"][labelName]["(blockscoped)"]))return current["(labels)"][labelName]["(type)"];var scopeCheck=excludeParams?_scopeStack[i-1]:current;if(scopeCheck&&"functionparams"===scopeCheck["(type)"])return null}return null},hasBreakLabel:function(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current["(breakLabels)"][labelName])return!0;if("functionparams"===current["(type)"])return!1}return!1},has:function(labelName,options){return Boolean(this.labeltype(labelName,options))},add:function(labelName,type,tok,unused){_current["(labels)"][labelName]={"(type)":type,"(token)":tok,"(blockscoped)":!1,"(function)":_currentFunctBody,"(unused)":unused}}},block:{isGlobal:function(){return"global"===_current["(type)"]},use:function(labelName,token){var paramScope=_currentFunctBody["(parent)"];paramScope&&paramScope["(labels)"][labelName]&&"param"===paramScope["(labels)"][labelName]["(type)"]&&(scopeManagerInst.funct.has(labelName,{excludeParams:!0,onlyBlockscoped:!0})||(paramScope["(labels)"][labelName]["(unused)"]=!1)),token&&(state.ignored.W117||state.option.undef===!1)&&(token.ignoreUndef=!0),_setupUsages(labelName),token&&(token["(function)"]=_currentFunctBody,_current["(usages)"][labelName]["(tokens)"].push(token))},reassign:function(labelName,token){this.modify(labelName,token),_current["(usages)"][labelName]["(reassigned)"].push(token)},modify:function(labelName,token){_setupUsages(labelName),_current["(usages)"][labelName]["(modified)"].push(token)},add:function(labelName,type,tok,unused){_current["(labels)"][labelName]={"(type)":type,"(token)":tok,"(blockscoped)":!0,"(unused)":unused}},addBreakLabel:function(labelName,opts){var token=opts.token;scopeManagerInst.funct.hasBreakLabel(labelName)?warning("E011",token,labelName):"outer"===state.option.shadow&&(scopeManagerInst.funct.has(labelName)?warning("W004",token,labelName):_checkOuterShadow(labelName,token)),_current["(breakLabels)"][labelName]=token}}};return scopeManagerInst};module.exports=scopeManager},{"../lodash":"/node_modules/jshint/lodash.js",events:"/node_modules/browserify/node_modules/events/events.js"}],"/node_modules/jshint/src/state.js":[function(_dereq_,module,exports){"use strict";var NameStack=_dereq_("./name-stack.js"),state={syntax:{},isStrict:function(){return this.directive["use strict"]||this.inClassBody||this.option.module||"implied"===this.option.strict},inMoz:function(){return this.option.moz},inES6:function(){return this.option.moz||this.option.esversion>=6},inES5:function(strict){return strict?!(this.option.esversion&&5!==this.option.esversion||this.option.moz):!this.option.esversion||this.option.esversion>=5||this.option.moz},reset:function(){this.tokens={prev:null,next:null,curr:null},this.option={},this.funct=null,this.ignored={},this.directive={},this.jsonMode=!1,this.jsonWarnings=[],this.lines=[],this.tab="",this.cache={},this.ignoredLines={},this.forinifcheckneeded=!1,this.nameStack=new NameStack,this.inClassBody=!1}};exports.state=state},{"./name-stack.js":"/node_modules/jshint/src/name-stack.js"}],"/node_modules/jshint/src/style.js":[function(_dereq_,module,exports){"use strict";exports.register=function(linter){linter.on("Identifier",function(data){linter.getOption("proto")||"__proto__"===data.name&&linter.warn("W103",{line:data.line,"char":data.char,data:[data.name,"6"]})}),linter.on("Identifier",function(data){linter.getOption("iterator")||"__iterator__"===data.name&&linter.warn("W103",{line:data.line,"char":data.char,data:[data.name]})}),linter.on("Identifier",function(data){linter.getOption("camelcase")&&data.name.replace(/^_+|_+$/g,"").indexOf("_")>-1&&!data.name.match(/^[A-Z0-9_]*$/)&&linter.warn("W106",{line:data.line,"char":data.from,data:[data.name]})}),linter.on("String",function(data){var code,quotmark=linter.getOption("quotmark");quotmark&&("single"===quotmark&&"\'"!==data.quote&&(code="W109"),"double"===quotmark&&\'"\'!==data.quote&&(code="W108"),quotmark===!0&&(linter.getCache("quotmark")||linter.setCache("quotmark",data.quote),linter.getCache("quotmark")!==data.quote&&(code="W110")),code&&linter.warn(code,{line:data.line,"char":data.char}))}),linter.on("Number",function(data){"."===data.value.charAt(0)&&linter.warn("W008",{line:data.line,"char":data.char,data:[data.value]}),"."===data.value.substr(data.value.length-1)&&linter.warn("W047",{line:data.line,"char":data.char,data:[data.value]}),/^00+/.test(data.value)&&linter.warn("W046",{line:data.line,"char":data.char,data:[data.value]})}),linter.on("String",function(data){var re=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i;linter.getOption("scripturl")||re.test(data.value)&&linter.warn("W107",{line:data.line,"char":data.char})})}},{}],"/node_modules/jshint/src/vars.js":[function(_dereq_,module,exports){"use strict";exports.reservedVars={arguments:!1,NaN:!1},exports.ecmaIdentifiers={3:{Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},5:{JSON:!1},6:{Map:!1,Promise:!1,Proxy:!1,Reflect:!1,Set:!1,Symbol:!1,WeakMap:!1,WeakSet:!1}},exports.browser={Audio:!1,Blob:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,cancelAnimationFrame:!1,CanvasGradient:!1,CanvasPattern:!1,CanvasRenderingContext2D:!1,CSS:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,Comment:!1,CustomEvent:!1,DOMParser:!1,defaultStatus:!1,Document:!1,document:!1,DocumentFragment:!1,Element:!1,ElementTimeControl:!1,Event:!1,event:!1,fetch:!1,FileReader:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLCollection:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTemplateElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Image:!1,Intl:!1,length:!1,localStorage:!1,location:!1,matchMedia:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,MouseEvent:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,Node:!1,NodeFilter:!1,NodeList:!1,Notification:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,performance:!1,print:!1,Range:!1,requestAnimationFrame:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,SVGAElement:!1,SVGAltGlyphDefElement:!1,SVGAltGlyphElement:!1,SVGAltGlyphItemElement:!1,SVGAngle:!1,SVGAnimateColorElement:!1,SVGAnimateElement:!1,SVGAnimateMotionElement:!1,SVGAnimateTransformElement:!1,SVGAnimatedAngle:!1,SVGAnimatedBoolean:!1,SVGAnimatedEnumeration:!1,SVGAnimatedInteger:!1,SVGAnimatedLength:!1,SVGAnimatedLengthList:!1,SVGAnimatedNumber:!1,SVGAnimatedNumberList:!1,SVGAnimatedPathData:!1,SVGAnimatedPoints:!1,SVGAnimatedPreserveAspectRatio:!1,SVGAnimatedRect:!1,SVGAnimatedString:!1,SVGAnimatedTransformList:!1,SVGAnimationElement:!1,SVGCSSRule:!1,SVGCircleElement:!1,SVGClipPathElement:!1,SVGColor:!1,SVGColorProfileElement:!1,SVGColorProfileRule:!1,SVGComponentTransferFunctionElement:!1,SVGCursorElement:!1,SVGDefsElement:!1,SVGDescElement:!1,SVGDocument:!1,SVGElement:!1,SVGElementInstance:!1,SVGElementInstanceList:!1,SVGEllipseElement:!1,SVGExternalResourcesRequired:!1,SVGFEBlendElement:!1,SVGFEColorMatrixElement:!1,SVGFEComponentTransferElement:!1,SVGFECompositeElement:!1,SVGFEConvolveMatrixElement:!1,SVGFEDiffuseLightingElement:!1,SVGFEDisplacementMapElement:!1,SVGFEDistantLightElement:!1,SVGFEFloodElement:!1,SVGFEFuncAElement:!1,SVGFEFuncBElement:!1,SVGFEFuncGElement:!1,SVGFEFuncRElement:!1,SVGFEGaussianBlurElement:!1,SVGFEImageElement:!1,SVGFEMergeElement:!1,SVGFEMergeNodeElement:!1,SVGFEMorphologyElement:!1,SVGFEOffsetElement:!1,SVGFEPointLightElement:!1,SVGFESpecularLightingElement:!1,SVGFESpotLightElement:!1,SVGFETileElement:!1,SVGFETurbulenceElement:!1,SVGFilterElement:!1,SVGFilterPrimitiveStandardAttributes:!1,SVGFitToViewBox:!1,SVGFontElement:!1,SVGFontFaceElement:!1,SVGFontFaceFormatElement:!1,SVGFontFaceNameElement:!1,SVGFontFaceSrcElement:!1,SVGFontFaceUriElement:!1,SVGForeignObjectElement:!1,SVGGElement:!1,SVGGlyphElement:!1,SVGGlyphRefElement:!1,SVGGradientElement:!1,SVGHKernElement:!1,SVGICCColor:!1,SVGImageElement:!1,SVGLangSpace:!1,SVGLength:!1,SVGLengthList:!1,SVGLineElement:!1,SVGLinearGradientElement:!1,SVGLocatable:!1,SVGMPathElement:!1,SVGMarkerElement:!1,SVGMaskElement:!1,SVGMatrix:!1,SVGMetadataElement:!1,SVGMissingGlyphElement:!1,SVGNumber:!1,SVGNumberList:!1,SVGPaint:!1,SVGPathElement:!1,SVGPathSeg:!1,SVGPathSegArcAbs:!1,SVGPathSegArcRel:!1,SVGPathSegClosePath:!1,SVGPathSegCurvetoCubicAbs:!1,SVGPathSegCurvetoCubicRel:!1,SVGPathSegCurvetoCubicSmoothAbs:!1,SVGPathSegCurvetoCubicSmoothRel:!1,SVGPathSegCurvetoQuadraticAbs:!1,SVGPathSegCurvetoQuadraticRel:!1,SVGPathSegCurvetoQuadraticSmoothAbs:!1,SVGPathSegCurvetoQuadraticSmoothRel:!1,SVGPathSegLinetoAbs:!1,SVGPathSegLinetoHorizontalAbs:!1,SVGPathSegLinetoHorizontalRel:!1,SVGPathSegLinetoRel:!1,SVGPathSegLinetoVerticalAbs:!1,SVGPathSegLinetoVerticalRel:!1,SVGPathSegList:!1,SVGPathSegMovetoAbs:!1,SVGPathSegMovetoRel:!1,SVGPatternElement:!1,SVGPoint:!1,SVGPointList:!1,SVGPolygonElement:!1,SVGPolylineElement:!1,SVGPreserveAspectRatio:!1,SVGRadialGradientElement:!1,SVGRect:!1,SVGRectElement:!1,SVGRenderingIntent:!1,SVGSVGElement:!1,SVGScriptElement:!1,SVGSetElement:!1,SVGStopElement:!1,SVGStringList:!1,SVGStylable:!1,SVGStyleElement:!1,SVGSwitchElement:!1,SVGSymbolElement:!1,SVGTRefElement:!1,SVGTSpanElement:!1,SVGTests:!1,SVGTextContentElement:!1,SVGTextElement:!1,SVGTextPathElement:!1,SVGTextPositioningElement:!1,SVGTitleElement:!1,SVGTransform:!1,SVGTransformList:!1,SVGTransformable:!1,SVGURIReference:!1,SVGUnitTypes:!1,SVGUseElement:!1,SVGVKernElement:!1,SVGViewElement:!1,SVGViewSpec:!1,SVGZoomAndPan:!1,Text:!1,TextDecoder:!1,TextEncoder:!1,TimeEvent:!1,top:!1,URL:!1,WebGLActiveInfo:!1,WebGLBuffer:!1,WebGLContextEvent:!1,WebGLFramebuffer:!1,WebGLProgram:!1,WebGLRenderbuffer:!1,WebGLRenderingContext:!1,WebGLShader:!1,WebGLShaderPrecisionFormat:!1,WebGLTexture:!1,WebGLUniformLocation:!1,WebSocket:!1,window:!1,Window:!1,Worker:!1,XDomainRequest:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},exports.devel={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},exports.worker={importScripts:!0,postMessage:!0,self:!0,FileReaderSync:!0},exports.nonstandard={escape:!1,unescape:!1},exports.couch={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},exports.node={__filename:!1,__dirname:!1,GLOBAL:!1,global:!1,module:!1,acequire:!1,Buffer:!0,console:!0,exports:!0,process:!0,setTimeout:!0,clearTimeout:!0,setInterval:!0,clearInterval:!0,setImmediate:!0,clearImmediate:!0},exports.browserify={__filename:!1,__dirname:!1,global:!1,module:!1,acequire:!1,Buffer:!0,exports:!0,process:!0},exports.phantom={phantom:!0,acequire:!0,WebPage:!0,console:!0,exports:!0},exports.qunit={asyncTest:!1,deepEqual:!1,equal:!1,expect:!1,module:!1,notDeepEqual:!1,notEqual:!1,notPropEqual:!1,notStrictEqual:!1,ok:!1,propEqual:!1,QUnit:!1,raises:!1,start:!1,stop:!1,strictEqual:!1,test:!1,"throws":!1},exports.rhino={defineClass:!1,deserialize:!1,gc:!1,help:!1,importClass:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,Packages:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},exports.shelljs={target:!1,echo:!1,exit:!1,cd:!1,pwd:!1,ls:!1,find:!1,cp:!1,rm:!1,mv:!1,mkdir:!1,test:!1,cat:!1,sed:!1,grep:!1,which:!1,dirs:!1,pushd:!1,popd:!1,env:!1,exec:!1,chmod:!1,config:!1,error:!1,tempdir:!1},exports.typed={ArrayBuffer:!1,ArrayBufferView:!1,DataView:!1,Float32Array:!1,Float64Array:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1},exports.wsh={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},exports.dojo={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},exports.jquery={$:!1,jQuery:!1},exports.mootools={$:!1,$$:!1,Asset:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMEvent:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,IFrame:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},exports.prototypejs={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},exports.yui={YUI:!1,Y:!1,YUI_config:!1},exports.mocha={mocha:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,context:!1,xcontext:!1,before:!1,after:!1,beforeEach:!1,afterEach:!1,suite:!1,test:!1,setup:!1,teardown:!1,suiteSetup:!1,suiteTeardown:!1},exports.jasmine={jasmine:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,beforeEach:!1,afterEach:!1,setFixtures:!1,loadFixtures:!1,spyOn:!1,expect:!1,runs:!1,waitsFor:!1,waits:!1,beforeAll:!1,afterAll:!1,fail:!1,fdescribe:!1,fit:!1,pending:!1}},{}]},{},["/node_modules/jshint/src/jshint.js"])}),ace.define("ace/mode/javascript_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/javascript/jshint"],function(acequire,exports,module){"use strict";function startRegex(arr){return RegExp("^("+arr.join("|")+")")}var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,lint=acequire("./javascript/jshint").JSHINT,disabledWarningsRe=startRegex(["Bad for in variable \'(.+)\'.",\'Missing "use strict"\']),errorsRe=startRegex(["Unexpected","Expected ","Confusing (plus|minus)","\\\\{a\\\\} unterminated regular expression","Unclosed ","Unmatched ","Unbegun comment","Bad invocation","Missing space after","Missing operator at"]),infoRe=startRegex(["Expected an assignment","Bad escapement of EOL","Unexpected comma","Unexpected space","Missing radix parameter.","A leading decimal point can","\\\\[\'{a}\'\\\\] is better written in dot notation.","\'{a}\' used out of scope"]),JavaScriptWorker=exports.JavaScriptWorker=function(sender){Mirror.call(this,sender),this.setTimeout(500),this.setOptions()};oop.inherits(JavaScriptWorker,Mirror),function(){this.setOptions=function(options){this.options=options||{esnext:!0,moz:!0,devel:!0,browser:!0,node:!0,laxcomma:!0,laxbreak:!0,lastsemic:!0,onevar:!1,passfail:!1,maxerr:100,expr:!0,multistr:!0,globalstrict:!0},this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.changeOptions=function(newOptions){oop.mixin(this.options,newOptions),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.isValidJS=function(str){try{eval("throw 0;"+str)}catch(e){if(0===e)return!0}return!1},this.onUpdate=function(){var value=this.doc.getValue();if(value=value.replace(/^#!.*\\n/,"\\n"),!value)return this.sender.emit("annotate",[]);var errors=[],maxErrorLevel=this.isValidJS(value)?"warning":"error";lint(value,this.options,this.options.globals);for(var results=lint.errors,errorAdded=!1,i=0;results.length>i;i++){var error=results[i];if(error){var raw=error.raw,type="warning";if("Missing semicolon."==raw){var str=error.evidence.substr(error.character);str=str.charAt(str.search(/\\S/)),"error"==maxErrorLevel&&str&&/[\\w\\d{([\'"]/.test(str)?(error.reason=\'Missing ";" before statement\',type="error"):type="info"}else{if(disabledWarningsRe.test(raw))continue;infoRe.test(raw)?type="info":errorsRe.test(raw)?(errorAdded=!0,type=maxErrorLevel):"\'{a}\' is not defined."==raw?type="warning":"\'{a}\' is defined but never used."==raw&&(type="info")}errors.push({row:error.line-1,column:error.character-1,text:error.reason,type:type,raw:raw})}}this.sender.emit("annotate",errors)}}.call(JavaScriptWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'
        },
        kQDJ: function(e, t, n) {
            "use strict";
            var r = n("mrSG").__decorate;
            Object.defineProperty(t, "__esModule", {
                value: !0
            });
            var i = n("CcnG"),
                o = n("Ip0R"),
                a = n("EB9a"),
                s = n("TpJd"),
                l = n("9uj+");
            t.CKEditorModule = function() {
                return r([i.NgModule({
                    imports: [o.CommonModule],
                    declarations: [a.CKEditorComponent, s.CKButtonDirective, l.CKGroupDirective],
                    exports: [a.CKEditorComponent, s.CKButtonDirective, l.CKGroupDirective]
                })], function() {})
            }()
        },
        "lb/0": function(e, t) {
            var n, r, i, o, a, s, l, c, u;
            window.CKEDITOR && window.CKEDITOR.dom || (window.CKEDITOR || (window.CKEDITOR = function() {
                var e = /(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,
                    t = {
                        timestamp: "I639",
                        version: "4.10.0 (Standard)",
                        revision: "de1371d11",
                        rnd: Math.floor(900 * Math.random()) + 100,
                        _: {
                            pending: [],
                            basePathSrcPattern: e
                        },
                        status: "unloaded",
                        basePath: function() {
                            var t = window.CKEDITOR_BASEPATH || "";
                            if (!t)
                                for (var n = document.getElementsByTagName("script"), r = 0; r < n.length; r++) {
                                    var i = n[r].src.match(e);
                                    if (i) {
                                        t = i[1];
                                        break
                                    }
                                }
                            if (-1 == t.indexOf(":/") && "//" != t.slice(0, 2) && (t = 0 === t.indexOf("/") ? location.href.match(/^.*?:\/\/[^\/]*/)[0] + t : location.href.match(/^[^\?]*\/(?:)/)[0] + t), !t) throw 'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';
                            return t
                        }(),
                        getUrl: function(e) {
                            return -1 == e.indexOf(":/") && 0 !== e.indexOf("/") && (e = this.basePath + e), this.timestamp && "/" != e.charAt(e.length - 1) && !/[&?]t=/.test(e) && (e += (0 <= e.indexOf("?") ? "&" : "?") + "t=" + this.timestamp), e
                        },
                        domReady: function() {
                            function e() {
                                try {
                                    document.addEventListener ? (document.removeEventListener("DOMContentLoaded", e, !1), t()) : document.attachEvent && "complete" === document.readyState && (document.detachEvent("onreadystatechange", e), t())
                                } catch (e) {}
                            }

                            function t() {
                                for (var e; e = n.shift();) e()
                            }
                            var n = [];
                            return function(t) {
                                if (n.push(t), "complete" === document.readyState && setTimeout(e, 1), 1 == n.length)
                                    if (document.addEventListener) document.addEventListener("DOMContentLoaded", e, !1), window.addEventListener("load", e, !1);
                                    else if (document.attachEvent) {
                                    document.attachEvent("onreadystatechange", e), window.attachEvent("onload", e), t = !1;
                                    try {
                                        t = !window.frameElement
                                    } catch (e) {}
                                    document.documentElement.doScroll && t && function t() {
                                        try {
                                            document.documentElement.doScroll("left")
                                        } catch (e) {
                                            return void setTimeout(t, 1)
                                        }
                                        e()
                                    }()
                                }
                            }
                        }()
                    },
                    n = window.CKEDITOR_GETURL;
                if (n) {
                    var r = t.getUrl;
                    t.getUrl = function(e) {
                        return n.call(t, e) || r.call(t, e)
                    }
                }
                return t
            }()), CKEDITOR.event || (CKEDITOR.event = function() {}, CKEDITOR.event.implementOn = function(e) {
                var t, n = CKEDITOR.event.prototype;
                for (t in n) null == e[t] && (e[t] = n[t])
            }, CKEDITOR.event.prototype = function() {
                function e(e) {
                    var r = t(this);
                    return r[e] || (r[e] = new n(e))
                }
                var t = function(e) {
                        return (e = e.getPrivate && e.getPrivate() || e._ || (e._ = {})).events || (e.events = {})
                    },
                    n = function(e) {
                        this.name = e, this.listeners = []
                    };
                return n.prototype = {
                    getListenerIndex: function(e) {
                        for (var t = 0, n = this.listeners; t < n.length; t++)
                            if (n[t].fn == e) return t;
                        return -1
                    }
                }, {
                    define: function(t, n) {
                        var r = e.call(this, t);
                        CKEDITOR.tools.extend(r, n, !0)
                    },
                    on: function(t, n, r, i, o) {
                        function a(e, o, a, l) {
                            return !1 !== n.call(r, e = {
                                name: t,
                                sender: this,
                                editor: e,
                                data: o,
                                listenerData: i,
                                stop: a,
                                cancel: l,
                                removeListener: s
                            }) && e.data
                        }

                        function s() {
                            c.removeListener(t, n)
                        }
                        var l = e.call(this, t);
                        if (0 > l.getListenerIndex(n)) {
                            l = l.listeners, r || (r = this), isNaN(o) && (o = 10);
                            var c = this;
                            a.fn = n, a.priority = o;
                            for (var u = l.length - 1; 0 <= u; u--)
                                if (l[u].priority <= o) return l.splice(u + 1, 0, a), {
                                    removeListener: s
                                };
                            l.unshift(a)
                        }
                        return {
                            removeListener: s
                        }
                    },
                    once: function() {
                        var e = Array.prototype.slice.call(arguments),
                            t = e[1];
                        return e[1] = function(e) {
                            return e.removeListener(), t.apply(this, arguments)
                        }, this.on.apply(this, e)
                    },
                    capture: function() {
                        CKEDITOR.event.useCapture = 1;
                        var e = this.on.apply(this, arguments);
                        return CKEDITOR.event.useCapture = 0, e
                    },
                    fire: function() {
                        var e = 0,
                            n = function() {
                                e = 1
                            },
                            r = 0,
                            i = function() {
                                r = 1
                            };
                        return function(o, a, s) {
                            var l = t(this)[o];
                            o = e;
                            var c = r;
                            if (e = r = 0, l && (d = l.listeners).length)
                                for (var u, d = d.slice(0), h = 0; h < d.length; h++) {
                                    if (l.errorProof) try {
                                        u = d[h].call(this, s, a, n, i)
                                    } catch (e) {} else u = d[h].call(this, s, a, n, i);
                                    if (!1 === u ? r = 1 : void 0 !== u && (a = u), e || r) break
                                }
                            return a = !r && (void 0 === a || a), e = o, r = c, a
                        }
                    }(),
                    fireOnce: function(e, n, r) {
                        return n = this.fire(e, n, r), delete t(this)[e], n
                    },
                    removeListener: function(e, n) {
                        var r = t(this)[e];
                        if (r) {
                            var i = r.getListenerIndex(n);
                            0 <= i && r.listeners.splice(i, 1)
                        }
                    },
                    removeAllListeners: function() {
                        var e, n = t(this);
                        for (e in n) delete n[e]
                    },
                    hasListeners: function(e) {
                        return (e = t(this)[e]) && 0 < e.listeners.length
                    }
                }
            }()), CKEDITOR.editor || (CKEDITOR.editor = function() {
                CKEDITOR._.pending.push([this, arguments]), CKEDITOR.event.call(this)
            }, CKEDITOR.editor.prototype.fire = function(e, t) {
                return e in {
                    instanceReady: 1,
                    loaded: 1
                } && (this[e] = !0), CKEDITOR.event.prototype.fire.call(this, e, t, this)
            }, CKEDITOR.editor.prototype.fireOnce = function(e, t) {
                return e in {
                    instanceReady: 1,
                    loaded: 1
                } && (this[e] = !0), CKEDITOR.event.prototype.fireOnce.call(this, e, t, this)
            }, CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)), CKEDITOR.env || (CKEDITOR.env = function() {
                var e = navigator.userAgent.toLowerCase(),
                    t = e.match(/edge[ \/](\d+.?\d*)/),
                    n = -1 < e.indexOf("trident/");
                (n = {
                    ie: n = !(!t && !n),
                    edge: !!t,
                    webkit: !n && -1 < e.indexOf(" applewebkit/"),
                    air: -1 < e.indexOf(" adobeair/"),
                    mac: -1 < e.indexOf("macintosh"),
                    quirks: "BackCompat" == document.compatMode && (!document.documentMode || 10 > document.documentMode),
                    mobile: -1 < e.indexOf("mobile"),
                    iOS: /(ipad|iphone|ipod)/.test(e),
                    isCustomDomain: function() {
                        if (!this.ie) return !1;
                        var e = document.domain,
                            t = window.location.hostname;
                        return e != t && e != "[" + t + "]"
                    },
                    secure: "https:" == location.protocol
                }).gecko = "Gecko" == navigator.product && !n.webkit && !n.ie, n.webkit && (-1 < e.indexOf("chrome") ? n.chrome = !0 : n.safari = !0);
                var r = 0;
                return n.ie && (r = t ? parseFloat(t[1]) : n.quirks || !document.documentMode ? parseFloat(e.match(/msie (\d+)/)[1]) : document.documentMode, n.ie9Compat = 9 == r, n.ie8Compat = 8 == r, n.ie7Compat = 7 == r, n.ie6Compat = 7 > r || n.quirks), n.gecko && (t = e.match(/rv:([\d\.]+)/)) && (r = 1e4 * (t = t[1].split("."))[0] + 100 * (t[1] || 0) + 1 * (t[2] || 0)), n.air && (r = parseFloat(e.match(/ adobeair\/(\d+)/)[1])), n.webkit && (r = parseFloat(e.match(/ applewebkit\/(\d+)/)[1])), n.version = r, n.isCompatible = !(n.ie && 7 > r || n.gecko && 4e4 > r || n.webkit && 534 > r), n.hidpi = 2 <= window.devicePixelRatio, n.needsBrFiller = n.gecko || n.webkit || n.ie && 10 < r, n.needsNbspFiller = n.ie && 11 > r, n.cssClass = "cke_browser_" + (n.ie ? "ie" : n.gecko ? "gecko" : n.webkit ? "webkit" : "unknown"), n.quirks && (n.cssClass += " cke_browser_quirks"), n.ie && (n.cssClass += " cke_browser_ie" + (n.quirks ? "6 cke_browser_iequirks" : n.version)), n.air && (n.cssClass += " cke_browser_air"), n.iOS && (n.cssClass += " cke_browser_ios"), n.hidpi && (n.cssClass += " cke_hidpi"), n
            }()), "unloaded" == CKEDITOR.status && (CKEDITOR.event.implementOn(CKEDITOR), CKEDITOR.loadFullCore = function() {
                if ("basic_ready" != CKEDITOR.status) CKEDITOR.loadFullCore._load = 1;
                else {
                    delete CKEDITOR.loadFullCore;
                    var e = document.createElement("script");
                    e.type = "text/javascript", e.src = CKEDITOR.basePath + "ckeditor.js", document.getElementsByTagName("head")[0].appendChild(e)
                }
            }, CKEDITOR.loadFullCoreTimeout = 0, CKEDITOR.add = function(e) {
                (this._.pending || (this._.pending = [])).push(e)
            }, CKEDITOR.domReady(function() {
                var e = CKEDITOR.loadFullCore,
                    t = CKEDITOR.loadFullCoreTimeout;
                e && (CKEDITOR.status = "basic_ready", e && e._load ? e() : t && setTimeout(function() {
                    CKEDITOR.loadFullCore && CKEDITOR.loadFullCore()
                }, 1e3 * t))
            }), CKEDITOR.status = "basic_loaded"), CKEDITOR.VERBOSITY_WARN = 1, CKEDITOR.VERBOSITY_ERROR = 2, CKEDITOR.verbosity = CKEDITOR.VERBOSITY_WARN | CKEDITOR.VERBOSITY_ERROR, CKEDITOR.warn = function(e, t) {
                CKEDITOR.verbosity & CKEDITOR.VERBOSITY_WARN && CKEDITOR.fire("log", {
                    type: "warn",
                    errorCode: e,
                    additionalData: t
                })
            }, CKEDITOR.error = function(e, t) {
                CKEDITOR.verbosity & CKEDITOR.VERBOSITY_ERROR && CKEDITOR.fire("log", {
                    type: "error",
                    errorCode: e,
                    additionalData: t
                })
            }, CKEDITOR.on("log", function(e) {
                if (window.console && window.console.log) {
                    var t = console[e.data.type] ? e.data.type : "log",
                        n = e.data.errorCode;
                    (e = e.data.additionalData) ? console[t]("[CKEDITOR] Error code: " + n + ".", e): console[t]("[CKEDITOR] Error code: " + n + "."), console[t]("[CKEDITOR] For more information about this error go to https://docs.ckeditor.com/ckeditor4/docs/#!/guide/dev_errors-section-" + n)
                }
            }, null, null, 999), CKEDITOR.dom = {}, n = [], r = CKEDITOR.env.gecko ? "-moz-" : CKEDITOR.env.webkit ? "-webkit-" : CKEDITOR.env.ie ? "-ms-" : "", i = /&/g, o = />/g, a = /</g, s = /"/g, l = /&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g, c = {
                lt: "<",
                gt: ">",
                amp: "&",
                quot: '"',
                nbsp: "\xa0",
                shy: "\xad"
            }, u = function(e, t) {
                return "#" == t[0] ? String.fromCharCode(parseInt(t.slice(1), 10)) : c[t]
            }, CKEDITOR.on("reset", function() {
                n = []
            }), CKEDITOR.tools = {
                arrayCompare: function(e, t) {
                    if (!e && !t) return !0;
                    if (!e || !t || e.length != t.length) return !1;
                    for (var n = 0; n < e.length; n++)
                        if (e[n] != t[n]) return !1;
                    return !0
                },
                getIndex: function(e, t) {
                    for (var n = 0; n < e.length; ++n)
                        if (t(e[n])) return n;
                    return -1
                },
                clone: function(e) {
                    var t;
                    if (e && e instanceof Array) {
                        t = [];
                        for (var n = 0; n < e.length; n++) t[n] = CKEDITOR.tools.clone(e[n]);
                        return t
                    }
                    if (null === e || "object" != typeof e || e instanceof String || e instanceof Number || e instanceof Boolean || e instanceof Date || e instanceof RegExp || e.nodeType || e.window === e) return e;
                    for (n in t = new e.constructor, e) t[n] = CKEDITOR.tools.clone(e[n]);
                    return t
                },
                capitalize: function(e, t) {
                    return e.charAt(0).toUpperCase() + (t ? e.slice(1) : e.slice(1).toLowerCase())
                },
                extend: function(e) {
                    var t, n, r = arguments.length;
                    "boolean" == typeof(t = arguments[r - 1]) ? r-- : "boolean" == typeof(t = arguments[r - 2]) && (n = arguments[r - 1], r -= 2);
                    for (var i = 1; i < r; i++) {
                        var o, a = arguments[i];
                        for (o in a) !0 !== t && null != e[o] || (!n || o in n) && (e[o] = a[o])
                    }
                    return e
                },
                prototypedCopy: function(e) {
                    var t = function() {};
                    return t.prototype = e, new t
                },
                copy: function(e) {
                    var t, n = {};
                    for (t in e) n[t] = e[t];
                    return n
                },
                isArray: function(e) {
                    return "[object Array]" == Object.prototype.toString.call(e)
                },
                isEmpty: function(e) {
                    for (var t in e)
                        if (e.hasOwnProperty(t)) return !1;
                    return !0
                },
                cssVendorPrefix: function(e, t, n) {
                    return n ? r + e + ":" + t + ";" + e + ":" + t : ((n = {})[e] = t, n[r + e] = t, n)
                },
                cssStyleToDomStyle: function() {
                    var e = document.createElement("div").style,
                        t = void 0 !== e.cssFloat ? "cssFloat" : void 0 !== e.styleFloat ? "styleFloat" : "float";
                    return function(e) {
                        return "float" == e ? t : e.replace(/-./g, function(e) {
                            return e.substr(1).toUpperCase()
                        })
                    }
                }(),
                buildStyleHtml: function(e) {
                    e = [].concat(e);
                    for (var t, n = [], r = 0; r < e.length; r++)(t = e[r]) && (/@import|[{}]/.test(t) ? n.push("<style>" + t + "</style>") : n.push('<link type="text/css" rel=stylesheet href="' + t + '">'));
                    return n.join("")
                },
                htmlEncode: function(e) {
                    return void 0 === e || null === e ? "" : String(e).replace(i, "&amp;").replace(o, "&gt;").replace(a, "&lt;")
                },
                htmlDecode: function(e) {
                    return e.replace(l, u)
                },
                htmlEncodeAttr: function(e) {
                    return CKEDITOR.tools.htmlEncode(e).replace(s, "&quot;")
                },
                htmlDecodeAttr: function(e) {
                    return CKEDITOR.tools.htmlDecode(e)
                },
                transformPlainTextToHtml: function(e, t) {
                    var n = t == CKEDITOR.ENTER_BR,
                        r = (r = this.htmlEncode(e.replace(/\r\n/g, "\n"))).replace(/\t/g, "&nbsp;&nbsp; &nbsp;"),
                        i = t == CKEDITOR.ENTER_P ? "p" : "div";
                    if (!n) {
                        var o = /\n{2}/g;
                        if (o.test(r)) {
                            var a = "<" + i + ">",
                                s = "</" + i + ">";
                            r = a + r.replace(o, function() {
                                return s + a
                            }) + s
                        }
                    }
                    return r = r.replace(/\n/g, "<br>"), n || (r = r.replace(new RegExp("<br>(?=</" + i + ">)"), function(e) {
                        return CKEDITOR.tools.repeat(e, 2)
                    })), (r = r.replace(/^ | $/g, "&nbsp;")).replace(/(>|\s) /g, function(e, t) {
                        return t + "&nbsp;"
                    }).replace(/ (?=<)/g, "&nbsp;")
                },
                getNextNumber: function() {
                    var e = 0;
                    return function() {
                        return ++e
                    }
                }(),
                getNextId: function() {
                    return "cke_" + this.getNextNumber()
                },
                getUniqueId: function() {
                    for (var e = "e", t = 0; 8 > t; t++) e += Math.floor(65536 * (1 + Math.random())).toString(16).substring(1);
                    return e
                },
                override: function(e, t) {
                    var n = t(e);
                    return n.prototype = e.prototype, n
                },
                setTimeout: function(e, t, n, r, i) {
                    return i || (i = window), n || (n = i), i.setTimeout(function() {
                        r ? e.apply(n, [].concat(r)) : e.apply(n)
                    }, t || 0)
                },
                throttle: function(e, t, n) {
                    var r, i = 0;
                    return n = n || {}, {
                        input: function() {
                            function o() {
                                i = (new Date).getTime(), r = !1, t.apply(n, a)
                            }
                            var a = Array.prototype.slice.call(arguments);
                            r && (clearTimeout(r), r = 0);
                            var s = (new Date).getTime() - i;
                            s < e ? r = setTimeout(o, e - s) : o()
                        },
                        reset: function() {
                            r && (clearTimeout(r), r = i = 0)
                        }
                    }
                },
                trim: function() {
                    var e = /(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;
                    return function(t) {
                        return t.replace(e, "")
                    }
                }(),
                ltrim: function() {
                    var e = /^[ \t\n\r]+/g;
                    return function(t) {
                        return t.replace(e, "")
                    }
                }(),
                rtrim: function() {
                    var e = /[ \t\n\r]+$/g;
                    return function(t) {
                        return t.replace(e, "")
                    }
                }(),
                indexOf: function(e, t) {
                    if ("function" == typeof t) {
                        for (var n = 0, r = e.length; n < r; n++)
                            if (t(e[n])) return n
                    } else {
                        if (e.indexOf) return e.indexOf(t);
                        for (n = 0, r = e.length; n < r; n++)
                            if (e[n] === t) return n
                    }
                    return -1
                },
                search: function(e, t) {
                    var n = CKEDITOR.tools.indexOf(e, t);
                    return 0 <= n ? e[n] : null
                },
                bind: function(e, t) {
                    return function() {
                        return e.apply(t, arguments)
                    }
                },
                createClass: function(e) {
                    var t = e.$,
                        n = e.base,
                        r = e.privates || e._,
                        i = e.proto;
                    if (e = e.statics, !t && (t = function() {
                            n && this.base.apply(this, arguments)
                        }), r) {
                        var o = t;
                        t = function() {
                            var e, t = this._ || (this._ = {});
                            for (e in r) {
                                var n = r[e];
                                t[e] = "function" == typeof n ? CKEDITOR.tools.bind(n, this) : n
                            }
                            o.apply(this, arguments)
                        }
                    }
                    return n && (t.prototype = this.prototypedCopy(n.prototype), t.prototype.constructor = t, t.base = n, t.baseProto = n.prototype, t.prototype.base = function() {
                        this.base = n.prototype.base, n.apply(this, arguments), this.base = arguments.callee
                    }), i && this.extend(t.prototype, i, !0), e && this.extend(t, e, !0), t
                },
                addFunction: function(e, t) {
                    return n.push(function() {
                        return e.apply(t || this, arguments)
                    }) - 1
                },
                removeFunction: function(e) {
                    n[e] = null
                },
                callFunction: function(e) {
                    var t = n[e];
                    return t && t.apply(window, Array.prototype.slice.call(arguments, 1))
                },
                cssLength: function() {
                    var e, t = /^-?\d+\.?\d*px$/;
                    return function(n) {
                        return e = CKEDITOR.tools.trim(n + "") + "px", t.test(e) ? e : n || ""
                    }
                }(),
                convertToPx: function() {
                    var e;
                    return function(t) {
                        return e || (e = CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>', CKEDITOR.document), CKEDITOR.document.getBody().append(e)), /%$/.test(t) ? t : (e.setStyle("width", t), e.$.clientWidth)
                    }
                }(),
                repeat: function(e, t) {
                    return Array(t + 1).join(e)
                },
                tryThese: function() {
                    for (var e, t = 0, n = arguments.length; t < n; t++) {
                        var r = arguments[t];
                        try {
                            e = r();
                            break
                        } catch (e) {}
                    }
                    return e
                },
                genKey: function() {
                    return Array.prototype.slice.call(arguments).join("-")
                },
                defer: function(e) {
                    return function() {
                        var t = arguments,
                            n = this;
                        window.setTimeout(function() {
                            e.apply(n, t)
                        }, 0)
                    }
                },
                normalizeCssText: function(e, t) {
                    var n, r = [],
                        i = CKEDITOR.tools.parseCssText(e, !0, t);
                    for (n in i) r.push(n + ":" + i[n]);
                    return r.sort(), r.length ? r.join(";") + ";" : ""
                },
                convertRgbToHex: function(e) {
                    return e.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi, function(e, t, n, r) {
                        for (e = [t, n, r], t = 0; 3 > t; t++) e[t] = ("0" + parseInt(e[t], 10).toString(16)).slice(-2);
                        return "#" + e.join("")
                    })
                },
                normalizeHex: function(e) {
                    return e.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi, function(e, t, n, r) {
                        return 3 == (e = t.toLowerCase()).length && (e = [(e = e.split(""))[0], e[0], e[1], e[1], e[2], e[2]].join("")), "#" + e + r
                    })
                },
                parseCssText: function(e, t, n) {
                    var r = {};
                    return n && (e = new CKEDITOR.dom.element("span").setAttribute("style", e).getAttribute("style") || ""), e && (e = CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(e))), e && ";" != e ? (e.replace(/&quot;/g, '"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g, function(e, n, i) {
                        t && ("font-family" == (n = n.toLowerCase()) && (i = i.replace(/\s*,\s*/g, ",")), i = CKEDITOR.tools.trim(i)), r[n] = i
                    }), r) : r
                },
                writeCssText: function(e, t) {
                    var n, r = [];
                    for (n in e) r.push(n + ":" + e[n]);
                    return t && r.sort(), r.join("; ")
                },
                objectCompare: function(e, t, n) {
                    var r;
                    if (!e && !t) return !0;
                    if (!e || !t) return !1;
                    for (r in e)
                        if (e[r] != t[r]) return !1;
                    if (!n)
                        for (r in t)
                            if (e[r] != t[r]) return !1;
                    return !0
                },
                objectKeys: function(e) {
                    var t, n = [];
                    for (t in e) n.push(t);
                    return n
                },
                convertArrayToObject: function(e, t) {
                    var n = {};
                    1 == arguments.length && (t = !0);
                    for (var r = 0, i = e.length; r < i; ++r) n[e[r]] = t;
                    return n
                },
                fixDomain: function() {
                    for (var e;;) try {
                        e = window.parent.document.domain;
                        break
                    } catch (t) {
                        if (!(e = e ? e.replace(/.+?(?:\.|$)/, "") : document.domain)) break;
                        document.domain = e
                    }
                    return !!e
                },
                eventsBuffer: function(e, t, n) {
                    function r() {
                        o = (new Date).getTime(), i = !1, n ? t.call(n) : t()
                    }
                    var i, o = 0;
                    return {
                        input: function() {
                            if (!i) {
                                var t = (new Date).getTime() - o;
                                t < e ? i = setTimeout(r, e - t) : r()
                            }
                        },
                        reset: function() {
                            i && clearTimeout(i), i = o = 0
                        }
                    }
                },
                enableHtml5Elements: function(e, t) {
                    for (var n, r = "abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "), i = r.length; i--;) n = e.createElement(r[i]), t && e.appendChild(n)
                },
                checkIfAnyArrayItemMatches: function(e, t) {
                    for (var n = 0, r = e.length; n < r; ++n)
                        if (e[n].match(t)) return !0;
                    return !1
                },
                checkIfAnyObjectPropertyMatches: function(e, t) {
                    for (var n in e)
                        if (n.match(t)) return !0;
                    return !1
                },
                keystrokeToString: function(e, t) {
                    var n = this.keystrokeToArray(e, t);
                    return n.display = n.display.join("+"), n.aria = n.aria.join("+"), n
                },
                keystrokeToArray: function(e, t) {
                    var n = 16711680 & t,
                        r = 65535 & t,
                        i = CKEDITOR.env.mac,
                        o = [],
                        a = [];
                    return n & CKEDITOR.CTRL && (o.push(i ? "\u2318" : e[17]), a.push(i ? e[224] : e[17])), n & CKEDITOR.ALT && (o.push(i ? "\u2325" : e[18]), a.push(e[18])), n & CKEDITOR.SHIFT && (o.push(i ? "\u21e7" : e[16]), a.push(e[16])), r && (e[r] ? (o.push(e[r]), a.push(e[r])) : (o.push(String.fromCharCode(r)), a.push(String.fromCharCode(r)))), {
                        display: o,
                        aria: a
                    }
                },
                transparentImageData: "data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",
                getCookie: function(e) {
                    e = e.toLowerCase();
                    for (var t, n = document.cookie.split(";"), r = 0; r < n.length; r++)
                        if (t = n[r].split("="), decodeURIComponent(CKEDITOR.tools.trim(t[0]).toLowerCase()) === e) return decodeURIComponent(1 < t.length ? t[1] : "");
                    return null
                },
                setCookie: function(e, t) {
                    document.cookie = encodeURIComponent(e) + "=" + encodeURIComponent(t) + ";path=/"
                },
                getCsrfToken: function() {
                    if (!(e = CKEDITOR.tools.getCookie("ckCsrfToken")) || 40 != e.length) {
                        var e = [],
                            t = "";
                        if (window.crypto && window.crypto.getRandomValues) e = new Uint8Array(40), window.crypto.getRandomValues(e);
                        else
                            for (var n = 0; 40 > n; n++) e.push(Math.floor(256 * Math.random()));
                        for (n = 0; n < e.length; n++) {
                            var r = "abcdefghijklmnopqrstuvwxyz0123456789".charAt(e[n] % 36);
                            t += .5 < Math.random() ? r.toUpperCase() : r
                        }
                        e = t, CKEDITOR.tools.setCookie("ckCsrfToken", e)
                    }
                    return e
                },
                escapeCss: function(e) {
                    return e ? window.CSS && CSS.escape ? CSS.escape(e) : isNaN(parseInt(e.charAt(0), 10)) ? e : "\\3" + e.charAt(0) + " " + e.substring(1, e.length) : ""
                },
                getMouseButton: function(e) {
                    var t = (e = e.data) && e.$;
                    return !(!e || !t) && (CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? 4 === t.button ? CKEDITOR.MOUSE_BUTTON_MIDDLE : 1 === t.button ? CKEDITOR.MOUSE_BUTTON_LEFT : CKEDITOR.MOUSE_BUTTON_RIGHT : t.button)
                },
                convertHexStringToBytes: function(e) {
                    var t, n = [],
                        r = e.length / 2;
                    for (t = 0; t < r; t++) n.push(parseInt(e.substr(2 * t, 2), 16));
                    return n
                },
                convertBytesToBase64: function(e) {
                    var t, n = "",
                        r = e.length;
                    for (t = 0; t < r; t += 3) {
                        var i, o = e.slice(t, t + 3),
                            a = o.length,
                            s = [];
                        if (3 > a)
                            for (i = a; 3 > i; i++) o[i] = 0;
                        for (s[0] = (252 & o[0]) >> 2, s[1] = (3 & o[0]) << 4 | o[1] >> 4, s[2] = (15 & o[1]) << 2 | (192 & o[2]) >> 6, s[3] = 63 & o[2], i = 0; 4 > i; i++) n = i <= a ? n + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s[i]) : n + "="
                    }
                    return n
                },
                style: {
                    parse: {
                        _colors: {
                            aliceblue: "#F0F8FF",
                            antiquewhite: "#FAEBD7",
                            aqua: "#00FFFF",
                            aquamarine: "#7FFFD4",
                            azure: "#F0FFFF",
                            beige: "#F5F5DC",
                            bisque: "#FFE4C4",
                            black: "#000000",
                            blanchedalmond: "#FFEBCD",
                            blue: "#0000FF",
                            blueviolet: "#8A2BE2",
                            brown: "#A52A2A",
                            burlywood: "#DEB887",
                            cadetblue: "#5F9EA0",
                            chartreuse: "#7FFF00",
                            chocolate: "#D2691E",
                            coral: "#FF7F50",
                            cornflowerblue: "#6495ED",
                            cornsilk: "#FFF8DC",
                            crimson: "#DC143C",
                            cyan: "#00FFFF",
                            darkblue: "#00008B",
                            darkcyan: "#008B8B",
                            darkgoldenrod: "#B8860B",
                            darkgray: "#A9A9A9",
                            darkgreen: "#006400",
                            darkgrey: "#A9A9A9",
                            darkkhaki: "#BDB76B",
                            darkmagenta: "#8B008B",
                            darkolivegreen: "#556B2F",
                            darkorange: "#FF8C00",
                            darkorchid: "#9932CC",
                            darkred: "#8B0000",
                            darksalmon: "#E9967A",
                            darkseagreen: "#8FBC8F",
                            darkslateblue: "#483D8B",
                            darkslategray: "#2F4F4F",
                            darkslategrey: "#2F4F4F",
                            darkturquoise: "#00CED1",
                            darkviolet: "#9400D3",
                            deeppink: "#FF1493",
                            deepskyblue: "#00BFFF",
                            dimgray: "#696969",
                            dimgrey: "#696969",
                            dodgerblue: "#1E90FF",
                            firebrick: "#B22222",
                            floralwhite: "#FFFAF0",
                            forestgreen: "#228B22",
                            fuchsia: "#FF00FF",
                            gainsboro: "#DCDCDC",
                            ghostwhite: "#F8F8FF",
                            gold: "#FFD700",
                            goldenrod: "#DAA520",
                            gray: "#808080",
                            green: "#008000",
                            greenyellow: "#ADFF2F",
                            grey: "#808080",
                            honeydew: "#F0FFF0",
                            hotpink: "#FF69B4",
                            indianred: "#CD5C5C",
                            indigo: "#4B0082",
                            ivory: "#FFFFF0",
                            khaki: "#F0E68C",
                            lavender: "#E6E6FA",
                            lavenderblush: "#FFF0F5",
                            lawngreen: "#7CFC00",
                            lemonchiffon: "#FFFACD",
                            lightblue: "#ADD8E6",
                            lightcoral: "#F08080",
                            lightcyan: "#E0FFFF",
                            lightgoldenrodyellow: "#FAFAD2",
                            lightgray: "#D3D3D3",
                            lightgreen: "#90EE90",
                            lightgrey: "#D3D3D3",
                            lightpink: "#FFB6C1",
                            lightsalmon: "#FFA07A",
                            lightseagreen: "#20B2AA",
                            lightskyblue: "#87CEFA",
                            lightslategray: "#778899",
                            lightslategrey: "#778899",
                            lightsteelblue: "#B0C4DE",
                            lightyellow: "#FFFFE0",
                            lime: "#00FF00",
                            limegreen: "#32CD32",
                            linen: "#FAF0E6",
                            magenta: "#FF00FF",
                            maroon: "#800000",
                            mediumaquamarine: "#66CDAA",
                            mediumblue: "#0000CD",
                            mediumorchid: "#BA55D3",
                            mediumpurple: "#9370DB",
                            mediumseagreen: "#3CB371",
                            mediumslateblue: "#7B68EE",
                            mediumspringgreen: "#00FA9A",
                            mediumturquoise: "#48D1CC",
                            mediumvioletred: "#C71585",
                            midnightblue: "#191970",
                            mintcream: "#F5FFFA",
                            mistyrose: "#FFE4E1",
                            moccasin: "#FFE4B5",
                            navajowhite: "#FFDEAD",
                            navy: "#000080",
                            oldlace: "#FDF5E6",
                            olive: "#808000",
                            olivedrab: "#6B8E23",
                            orange: "#FFA500",
                            orangered: "#FF4500",
                            orchid: "#DA70D6",
                            palegoldenrod: "#EEE8AA",
                            palegreen: "#98FB98",
                            paleturquoise: "#AFEEEE",
                            palevioletred: "#DB7093",
                            papayawhip: "#FFEFD5",
                            peachpuff: "#FFDAB9",
                            peru: "#CD853F",
                            pink: "#FFC0CB",
                            plum: "#DDA0DD",
                            powderblue: "#B0E0E6",
                            purple: "#800080",
                            rebeccapurple: "#663399",
                            red: "#FF0000",
                            rosybrown: "#BC8F8F",
                            royalblue: "#4169E1",
                            saddlebrown: "#8B4513",
                            salmon: "#FA8072",
                            sandybrown: "#F4A460",
                            seagreen: "#2E8B57",
                            seashell: "#FFF5EE",
                            sienna: "#A0522D",
                            silver: "#C0C0C0",
                            skyblue: "#87CEEB",
                            slateblue: "#6A5ACD",
                            slategray: "#708090",
                            slategrey: "#708090",
                            snow: "#FFFAFA",
                            springgreen: "#00FF7F",
                            steelblue: "#4682B4",
                            tan: "#D2B48C",
                            teal: "#008080",
                            thistle: "#D8BFD8",
                            tomato: "#FF6347",
                            turquoise: "#40E0D0",
                            violet: "#EE82EE",
                            wheat: "#F5DEB3",
                            white: "#FFFFFF",
                            whitesmoke: "#F5F5F5",
                            yellow: "#FFFF00",
                            yellowgreen: "#9ACD32"
                        },
                        _borderStyle: "none hidden dotted dashed solid double groove ridge inset outset".split(" "),
                        _widthRegExp: /^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,
                        _rgbaRegExp: /rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,
                        _hslaRegExp: /hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,
                        background: function(e) {
                            var t = {},
                                n = this._findColor(e);
                            return n.length && (t.color = n[0], CKEDITOR.tools.array.forEach(n, function(t) {
                                e = e.replace(t, "")
                            })), (e = CKEDITOR.tools.trim(e)) && (t.unprocessed = e), t
                        },
                        margin: function(e) {
                            function t(e) {
                                n.top = r[e[0]], n.right = r[e[1]], n.bottom = r[e[2]], n.left = r[e[3]]
                            }
                            var n = {},
                                r = e.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset)/g) || ["0px"];
                            switch (r.length) {
                                case 1:
                                    t([0, 0, 0, 0]);
                                    break;
                                case 2:
                                    t([0, 1, 0, 1]);
                                    break;
                                case 3:
                                    t([0, 1, 2, 1]);
                                    break;
                                case 4:
                                    t([0, 1, 2, 3])
                            }
                            return n
                        },
                        border: function(e) {
                            var t = {},
                                n = e.split(/\s+/g);
                            return (e = CKEDITOR.tools.style.parse._findColor(e)).length && (t.color = e[0]), CKEDITOR.tools.array.forEach(n, function(e) {
                                t.style || -1 === CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle, e) ? !t.width && CKEDITOR.tools.style.parse._widthRegExp.test(e) && (t.width = e) : t.style = e
                            }), t
                        },
                        _findColor: function(e) {
                            var t = [],
                                n = CKEDITOR.tools.array;
                            return (t = (t = t.concat(e.match(this._rgbaRegExp) || [])).concat(e.match(this._hslaRegExp) || [])).concat(n.filter(e.split(/\s+/), function(e) {
                                return !!e.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi) || e.toLowerCase() in CKEDITOR.tools.style.parse._colors
                            }))
                        }
                    }
                },
                array: {
                    filter: function(e, t, n) {
                        var r = [];
                        return this.forEach(e, function(i, o) {
                            t.call(n, i, o, e) && r.push(i)
                        }), r
                    },
                    forEach: function(e, t, n) {
                        var r, i = e.length;
                        for (r = 0; r < i; r++) t.call(n, e[r], r, e)
                    },
                    map: function(e, t, n) {
                        for (var r = [], i = 0; i < e.length; i++) r.push(t.call(n, e[i], i, e));
                        return r
                    },
                    reduce: function(e, t, n, r) {
                        for (var i = 0; i < e.length; i++) n = t.call(r, n, e[i], i, e);
                        return n
                    },
                    every: function(e, t, n) {
                        return !e.length || (t = this.filter(e, t, n), e.length === t.length)
                    }
                },
                object: {
                    findKey: function(e, t) {
                        if ("object" != typeof e) return null;
                        for (var n in e)
                            if (e[n] === t) return n;
                        return null
                    },
                    merge: function(e, t) {
                        var n = CKEDITOR.tools,
                            r = n.clone(e),
                            i = n.clone(t);
                        return n.array.forEach(n.objectKeys(i), function(e) {
                            r[e] = "object" == typeof i[e] && "object" == typeof r[e] ? n.object.merge(r[e], i[e]) : i[e]
                        }), r
                    }
                },
                getAbsoluteRectPosition: function(e, t) {
                    var n = CKEDITOR.tools.copy(t);
                    ! function e(t) {
                        if (t) {
                            var r = t.getClientRect();
                            n.top += r.top, n.left += r.left, "x" in n && "y" in n && (n.x += r.x, n.y += r.y), e(t.getWindow().getFrame())
                        }
                    }(e.getFrame());
                    var r = CKEDITOR.document.getWindow().getScrollPosition();
                    return n.top += r.y, n.left += r.x, "x" in n && "y" in n && (n.y += r.y, n.x += r.x), n.right = n.left + n.width, n.bottom = n.top + n.height, n
                }
            }, CKEDITOR.tools.array.indexOf = CKEDITOR.tools.indexOf, CKEDITOR.tools.array.isArray = CKEDITOR.tools.isArray, CKEDITOR.MOUSE_BUTTON_LEFT = 0, CKEDITOR.MOUSE_BUTTON_MIDDLE = 1, CKEDITOR.MOUSE_BUTTON_RIGHT = 2, CKEDITOR.dtd = function() {
                var e = CKEDITOR.tools.extend,
                    t = function(e, t) {
                        for (var n = CKEDITOR.tools.clone(e), r = 1; r < arguments.length; r++)
                            for (var i in arguments[r]) delete n[i];
                        return n
                    },
                    n = {},
                    r = {},
                    i = {
                        address: 1,
                        article: 1,
                        aside: 1,
                        blockquote: 1,
                        details: 1,
                        div: 1,
                        dl: 1,
                        fieldset: 1,
                        figure: 1,
                        footer: 1,
                        form: 1,
                        h1: 1,
                        h2: 1,
                        h3: 1,
                        h4: 1,
                        h5: 1,
                        h6: 1,
                        header: 1,
                        hgroup: 1,
                        hr: 1,
                        main: 1,
                        menu: 1,
                        nav: 1,
                        ol: 1,
                        p: 1,
                        pre: 1,
                        section: 1,
                        table: 1,
                        ul: 1
                    },
                    o = {
                        command: 1,
                        link: 1,
                        meta: 1,
                        noscript: 1,
                        script: 1,
                        style: 1
                    },
                    a = {},
                    s = {
                        "#": 1
                    },
                    l = {
                        center: 1,
                        dir: 1,
                        noframes: 1
                    };
                return e(n, {
                    a: 1,
                    abbr: 1,
                    area: 1,
                    audio: 1,
                    b: 1,
                    bdi: 1,
                    bdo: 1,
                    br: 1,
                    button: 1,
                    canvas: 1,
                    cite: 1,
                    code: 1,
                    command: 1,
                    datalist: 1,
                    del: 1,
                    dfn: 1,
                    em: 1,
                    embed: 1,
                    i: 1,
                    iframe: 1,
                    img: 1,
                    input: 1,
                    ins: 1,
                    kbd: 1,
                    keygen: 1,
                    label: 1,
                    map: 1,
                    mark: 1,
                    meter: 1,
                    noscript: 1,
                    object: 1,
                    output: 1,
                    progress: 1,
                    q: 1,
                    ruby: 1,
                    s: 1,
                    samp: 1,
                    script: 1,
                    select: 1,
                    small: 1,
                    span: 1,
                    strong: 1,
                    sub: 1,
                    sup: 1,
                    textarea: 1,
                    time: 1,
                    u: 1,
                    var: 1,
                    video: 1,
                    wbr: 1
                }, s, {
                    acronym: 1,
                    applet: 1,
                    basefont: 1,
                    big: 1,
                    font: 1,
                    isindex: 1,
                    strike: 1,
                    style: 1,
                    tt: 1
                }), e(r, i, n, l), e(t = {
                    a: t(n, {
                        a: 1,
                        button: 1
                    }),
                    abbr: n,
                    address: r,
                    area: a,
                    article: r,
                    aside: r,
                    audio: e({
                        source: 1,
                        track: 1
                    }, r),
                    b: n,
                    base: a,
                    bdi: n,
                    bdo: n,
                    blockquote: r,
                    body: r,
                    br: a,
                    button: t(n, {
                        a: 1,
                        button: 1
                    }),
                    canvas: n,
                    caption: r,
                    cite: n,
                    code: n,
                    col: a,
                    colgroup: {
                        col: 1
                    },
                    command: a,
                    datalist: e({
                        option: 1
                    }, n),
                    dd: r,
                    del: n,
                    details: e({
                        summary: 1
                    }, r),
                    dfn: n,
                    div: r,
                    dl: {
                        dt: 1,
                        dd: 1
                    },
                    dt: r,
                    em: n,
                    embed: a,
                    fieldset: e({
                        legend: 1
                    }, r),
                    figcaption: r,
                    figure: e({
                        figcaption: 1
                    }, r),
                    footer: r,
                    form: r,
                    h1: n,
                    h2: n,
                    h3: n,
                    h4: n,
                    h5: n,
                    h6: n,
                    head: e({
                        title: 1,
                        base: 1
                    }, o),
                    header: r,
                    hgroup: {
                        h1: 1,
                        h2: 1,
                        h3: 1,
                        h4: 1,
                        h5: 1,
                        h6: 1
                    },
                    hr: a,
                    html: e({
                        head: 1,
                        body: 1
                    }, r, o),
                    i: n,
                    iframe: s,
                    img: a,
                    input: a,
                    ins: n,
                    kbd: n,
                    keygen: a,
                    label: n,
                    legend: n,
                    li: r,
                    link: a,
                    main: r,
                    map: r,
                    mark: n,
                    menu: e({
                        li: 1
                    }, r),
                    meta: a,
                    meter: t(n, {
                        meter: 1
                    }),
                    nav: r,
                    noscript: e({
                        link: 1,
                        meta: 1,
                        style: 1
                    }, n),
                    object: e({
                        param: 1
                    }, n),
                    ol: {
                        li: 1
                    },
                    optgroup: {
                        option: 1
                    },
                    option: s,
                    output: n,
                    p: n,
                    param: a,
                    pre: n,
                    progress: t(n, {
                        progress: 1
                    }),
                    q: n,
                    rp: n,
                    rt: n,
                    ruby: e({
                        rp: 1,
                        rt: 1
                    }, n),
                    s: n,
                    samp: n,
                    script: s,
                    section: r,
                    select: {
                        optgroup: 1,
                        option: 1
                    },
                    small: n,
                    source: a,
                    span: n,
                    strong: n,
                    style: s,
                    sub: n,
                    summary: e({
                        h1: 1,
                        h2: 1,
                        h3: 1,
                        h4: 1,
                        h5: 1,
                        h6: 1
                    }, n),
                    sup: n,
                    table: {
                        caption: 1,
                        colgroup: 1,
                        thead: 1,
                        tfoot: 1,
                        tbody: 1,
                        tr: 1
                    },
                    tbody: {
                        tr: 1
                    },
                    td: r,
                    textarea: s,
                    tfoot: {
                        tr: 1
                    },
                    th: r,
                    thead: {
                        tr: 1
                    },
                    time: t(n, {
                        time: 1
                    }),
                    title: s,
                    tr: {
                        th: 1,
                        td: 1
                    },
                    track: a,
                    u: n,
                    ul: {
                        li: 1
                    },
                    var: n,
                    video: e({
                        source: 1,
                        track: 1
                    }, r),
                    wbr: a,
                    acronym: n,
                    applet: e({
                        param: 1
                    }, r),
                    basefont: a,
                    big: n,
                    center: r,
                    dialog: a,
                    dir: {
                        li: 1
                    },
                    font: n,
                    isindex: a,
                    noframes: r,
                    strike: n,
                    tt: n
                }, {
                    $block: e({
                        audio: 1,
                        dd: 1,
                        dt: 1,
                        figcaption: 1,
                        li: 1,
                        video: 1
                    }, i, l),
                    $blockLimit: {
                        article: 1,
                        aside: 1,
                        audio: 1,
                        body: 1,
                        caption: 1,
                        details: 1,
                        dir: 1,
                        div: 1,
                        dl: 1,
                        fieldset: 1,
                        figcaption: 1,
                        figure: 1,
                        footer: 1,
                        form: 1,
                        header: 1,
                        hgroup: 1,
                        main: 1,
                        menu: 1,
                        nav: 1,
                        ol: 1,
                        section: 1,
                        table: 1,
                        td: 1,
                        th: 1,
                        tr: 1,
                        ul: 1,
                        video: 1
                    },
                    $cdata: {
                        script: 1,
                        style: 1
                    },
                    $editable: {
                        address: 1,
                        article: 1,
                        aside: 1,
                        blockquote: 1,
                        body: 1,
                        details: 1,
                        div: 1,
                        fieldset: 1,
                        figcaption: 1,
                        footer: 1,
                        form: 1,
                        h1: 1,
                        h2: 1,
                        h3: 1,
                        h4: 1,
                        h5: 1,
                        h6: 1,
                        header: 1,
                        hgroup: 1,
                        main: 1,
                        nav: 1,
                        p: 1,
                        pre: 1,
                        section: 1
                    },
                    $empty: {
                        area: 1,
                        base: 1,
                        basefont: 1,
                        br: 1,
                        col: 1,
                        command: 1,
                        dialog: 1,
                        embed: 1,
                        hr: 1,
                        img: 1,
                        input: 1,
                        isindex: 1,
                        keygen: 1,
                        link: 1,
                        meta: 1,
                        param: 1,
                        source: 1,
                        track: 1,
                        wbr: 1
                    },
                    $inline: n,
                    $list: {
                        dl: 1,
                        ol: 1,
                        ul: 1
                    },
                    $listItem: {
                        dd: 1,
                        dt: 1,
                        li: 1
                    },
                    $nonBodyContent: e({
                        body: 1,
                        head: 1,
                        html: 1
                    }, t.head),
                    $nonEditable: {
                        applet: 1,
                        audio: 1,
                        button: 1,
                        embed: 1,
                        iframe: 1,
                        map: 1,
                        object: 1,
                        option: 1,
                        param: 1,
                        script: 1,
                        textarea: 1,
                        video: 1
                    },
                    $object: {
                        applet: 1,
                        audio: 1,
                        button: 1,
                        hr: 1,
                        iframe: 1,
                        img: 1,
                        input: 1,
                        object: 1,
                        select: 1,
                        table: 1,
                        textarea: 1,
                        video: 1
                    },
                    $removeEmpty: {
                        abbr: 1,
                        acronym: 1,
                        b: 1,
                        bdi: 1,
                        bdo: 1,
                        big: 1,
                        cite: 1,
                        code: 1,
                        del: 1,
                        dfn: 1,
                        em: 1,
                        font: 1,
                        i: 1,
                        ins: 1,
                        label: 1,
                        kbd: 1,
                        mark: 1,
                        meter: 1,
                        output: 1,
                        q: 1,
                        ruby: 1,
                        s: 1,
                        samp: 1,
                        small: 1,
                        span: 1,
                        strike: 1,
                        strong: 1,
                        sub: 1,
                        sup: 1,
                        time: 1,
                        tt: 1,
                        u: 1,
                        var: 1
                    },
                    $tabIndex: {
                        a: 1,
                        area: 1,
                        button: 1,
                        input: 1,
                        object: 1,
                        select: 1,
                        textarea: 1
                    },
                    $tableContent: {
                        caption: 1,
                        col: 1,
                        colgroup: 1,
                        tbody: 1,
                        td: 1,
                        tfoot: 1,
                        th: 1,
                        thead: 1,
                        tr: 1
                    },
                    $transparent: {
                        a: 1,
                        audio: 1,
                        canvas: 1,
                        del: 1,
                        ins: 1,
                        map: 1,
                        noscript: 1,
                        object: 1,
                        video: 1
                    },
                    $intermediate: {
                        caption: 1,
                        colgroup: 1,
                        dd: 1,
                        dt: 1,
                        figcaption: 1,
                        legend: 1,
                        li: 1,
                        optgroup: 1,
                        option: 1,
                        rp: 1,
                        rt: 1,
                        summary: 1,
                        tbody: 1,
                        td: 1,
                        tfoot: 1,
                        th: 1,
                        thead: 1,
                        tr: 1
                    }
                }), t
            }(), CKEDITOR.dom.event = function(e) {
                this.$ = e
            }, CKEDITOR.dom.event.prototype = {
                getKey: function() {
                    return this.$.keyCode || this.$.which
                },
                getKeystroke: function() {
                    var e = this.getKey();
                    return (this.$.ctrlKey || this.$.metaKey) && (e += CKEDITOR.CTRL), this.$.shiftKey && (e += CKEDITOR.SHIFT), this.$.altKey && (e += CKEDITOR.ALT), e
                },
                preventDefault: function(e) {
                    var t = this.$;
                    t.preventDefault ? t.preventDefault() : t.returnValue = !1, e && this.stopPropagation()
                },
                stopPropagation: function() {
                    var e = this.$;
                    e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0
                },
                getTarget: function() {
                    var e = this.$.target || this.$.srcElement;
                    return e ? new CKEDITOR.dom.node(e) : null
                },
                getPhase: function() {
                    return this.$.eventPhase || 2
                },
                getPageOffset: function() {
                    var e = this.getTarget().getDocument().$;
                    return {
                        x: this.$.pageX || this.$.clientX + (e.documentElement.scrollLeft || e.body.scrollLeft),
                        y: this.$.pageY || this.$.clientY + (e.documentElement.scrollTop || e.body.scrollTop)
                    }
                }
            }, CKEDITOR.CTRL = 1114112, CKEDITOR.SHIFT = 2228224, CKEDITOR.ALT = 4456448, CKEDITOR.EVENT_PHASE_CAPTURING = 1, CKEDITOR.EVENT_PHASE_AT_TARGET = 2, CKEDITOR.EVENT_PHASE_BUBBLING = 3, CKEDITOR.dom.domObject = function(e) {
                e && (this.$ = e)
            }, CKEDITOR.dom.domObject.prototype = {
                getPrivate: function() {
                    var e;
                    return (e = this.getCustomData("_")) || this.setCustomData("_", e = {}), e
                },
                on: function(e) {
                    var t = this.getCustomData("_cke_nativeListeners");
                    return t || this.setCustomData("_cke_nativeListeners", t = {}), t[e] || (t = t[e] = function(e, t) {
                        return function(n) {
                            "undefined" != typeof CKEDITOR && e.fire(t, new CKEDITOR.dom.event(n))
                        }
                    }(this, e), this.$.addEventListener ? this.$.addEventListener(e, t, !!CKEDITOR.event.useCapture) : this.$.attachEvent && this.$.attachEvent("on" + e, t)), CKEDITOR.event.prototype.on.apply(this, arguments)
                },
                removeListener: function(e) {
                    if (CKEDITOR.event.prototype.removeListener.apply(this, arguments), !this.hasListeners(e)) {
                        var t = this.getCustomData("_cke_nativeListeners"),
                            n = t && t[e];
                        n && (this.$.removeEventListener ? this.$.removeEventListener(e, n, !1) : this.$.detachEvent && this.$.detachEvent("on" + e, n), delete t[e])
                    }
                },
                removeAllListeners: function() {
                    var e, t = this.getCustomData("_cke_nativeListeners");
                    for (e in t) {
                        var n = t[e];
                        this.$.detachEvent ? this.$.detachEvent("on" + e, n) : this.$.removeEventListener && this.$.removeEventListener(e, n, !1), delete t[e]
                    }
                    CKEDITOR.event.prototype.removeAllListeners.call(this)
                }
            }, function(e) {
                var t = {};
                CKEDITOR.on("reset", function() {
                    t = {}
                }), e.equals = function(e) {
                    try {
                        return e && e.$ === this.$
                    } catch (e) {
                        return !1
                    }
                }, e.setCustomData = function(e, n) {
                    var r = this.getUniqueId();
                    return (t[r] || (t[r] = {}))[e] = n, this
                }, e.getCustomData = function(e) {
                    var n = this.$["data-cke-expando"];
                    return (n = n && t[n]) && e in n ? n[e] : null
                }, e.removeCustomData = function(e) {
                    var n, r, i;
                    return (n = (n = this.$["data-cke-expando"]) && t[n]) && (r = n[e], i = e in n, delete n[e]), i ? r : null
                }, e.clearCustomData = function() {
                    this.removeAllListeners();
                    var e = this.$["data-cke-expando"];
                    e && delete t[e]
                }, e.getUniqueId = function() {
                    return this.$["data-cke-expando"] || (this.$["data-cke-expando"] = CKEDITOR.tools.getNextNumber())
                }, CKEDITOR.event.implementOn(e)
            }(CKEDITOR.dom.domObject.prototype), CKEDITOR.dom.node = function(e) {
                return e ? new CKEDITOR.dom[e.nodeType == CKEDITOR.NODE_DOCUMENT ? "document" : e.nodeType == CKEDITOR.NODE_ELEMENT ? "element" : e.nodeType == CKEDITOR.NODE_TEXT ? "text" : e.nodeType == CKEDITOR.NODE_COMMENT ? "comment" : e.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT ? "documentFragment" : "domObject"](e) : this
            }, CKEDITOR.dom.node.prototype = new CKEDITOR.dom.domObject, CKEDITOR.NODE_ELEMENT = 1, CKEDITOR.NODE_DOCUMENT = 9, CKEDITOR.NODE_TEXT = 3, CKEDITOR.NODE_COMMENT = 8, CKEDITOR.NODE_DOCUMENT_FRAGMENT = 11, CKEDITOR.POSITION_IDENTICAL = 0, CKEDITOR.POSITION_DISCONNECTED = 1, CKEDITOR.POSITION_FOLLOWING = 2, CKEDITOR.POSITION_PRECEDING = 4, CKEDITOR.POSITION_IS_CONTAINED = 8, CKEDITOR.POSITION_CONTAINS = 16, CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype, {
                appendTo: function(e, t) {
                    return e.append(this, t), e
                },
                clone: function(e, t) {
                    var n = this.$.cloneNode(e);
                    return function n(r) {
                        if (r["data-cke-expando"] && (r["data-cke-expando"] = !1), (r.nodeType == CKEDITOR.NODE_ELEMENT || r.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT) && (t || r.nodeType != CKEDITOR.NODE_ELEMENT || r.removeAttribute("id", !1), e)) {
                            r = r.childNodes;
                            for (var i = 0; i < r.length; i++) n(r[i])
                        }
                    }(n), n = new CKEDITOR.dom.node(n), CKEDITOR.env.ie && 9 > CKEDITOR.env.version && (this.type == CKEDITOR.NODE_ELEMENT || this.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT) && function t(n) {
                        if (n.type == CKEDITOR.NODE_ELEMENT || n.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
                            if (n.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
                                var r = n.getName();
                                ":" == r[0] && n.renameNode(r.substring(1))
                            }
                            if (e)
                                for (r = 0; r < n.getChildCount(); r++) t(n.getChild(r))
                        }
                    }(n), n
                },
                hasPrevious: function() {
                    return !!this.$.previousSibling
                },
                hasNext: function() {
                    return !!this.$.nextSibling
                },
                insertAfter: function(e) {
                    return e.$.parentNode.insertBefore(this.$, e.$.nextSibling), e
                },
                insertBefore: function(e) {
                    return e.$.parentNode.insertBefore(this.$, e.$), e
                },
                insertBeforeMe: function(e) {
                    return this.$.parentNode.insertBefore(e.$, this.$), e
                },
                getAddress: function(e) {
                    for (var t = [], n = this.getDocument().$.documentElement, r = this.$; r && r != n;) {
                        var i = r.parentNode;
                        i && t.unshift(this.getIndex.call({
                            $: r
                        }, e)), r = i
                    }
                    return t
                },
                getDocument: function() {
                    return new CKEDITOR.dom.document(this.$.ownerDocument || this.$.parentNode.ownerDocument)
                },
                getIndex: function(e) {
                    function t(e, r) {
                        var i = r ? e.nextSibling : e.previousSibling;
                        return i && i.nodeType == CKEDITOR.NODE_TEXT ? n(i) ? t(i, r) : i : null
                    }

                    function n(e) {
                        return !e.nodeValue || e.nodeValue == CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE
                    }
                    var r, i = this.$,
                        o = -1;
                    if (!this.$.parentNode || e && i.nodeType == CKEDITOR.NODE_TEXT && n(i) && !t(i) && !t(i, !0)) return -1;
                    do {
                        e && i != this.$ && i.nodeType == CKEDITOR.NODE_TEXT && (r || n(i)) || (o++, r = i.nodeType == CKEDITOR.NODE_TEXT)
                    } while (i = i.previousSibling);
                    return o
                },
                getNextSourceNode: function(e, t, n) {
                    if (n && !n.call) {
                        var r = n;
                        n = function(e) {
                            return !e.equals(r)
                        }
                    }
                    var i;
                    if (!(e = !e && this.getFirst && this.getFirst())) {
                        if (this.type == CKEDITOR.NODE_ELEMENT && n && !1 === n(this, !0)) return null;
                        e = this.getNext()
                    }
                    for (; !e && (i = (i || this).getParent());) {
                        if (n && !1 === n(i, !0)) return null;
                        e = i.getNext()
                    }
                    return !e || n && !1 === n(e) ? null : t && t != e.type ? e.getNextSourceNode(!1, t, n) : e
                },
                getPreviousSourceNode: function(e, t, n) {
                    if (n && !n.call) {
                        var r = n;
                        n = function(e) {
                            return !e.equals(r)
                        }
                    }
                    var i;
                    if (!(e = !e && this.getLast && this.getLast())) {
                        if (this.type == CKEDITOR.NODE_ELEMENT && n && !1 === n(this, !0)) return null;
                        e = this.getPrevious()
                    }
                    for (; !e && (i = (i || this).getParent());) {
                        if (n && !1 === n(i, !0)) return null;
                        e = i.getPrevious()
                    }
                    return !e || n && !1 === n(e) ? null : t && e.type != t ? e.getPreviousSourceNode(!1, t, n) : e
                },
                getPrevious: function(e) {
                    var t, n = this.$;
                    do {
                        t = (n = n.previousSibling) && 10 != n.nodeType && new CKEDITOR.dom.node(n)
                    } while (t && e && !e(t));
                    return t
                },
                getNext: function(e) {
                    var t, n = this.$;
                    do {
                        t = (n = n.nextSibling) && new CKEDITOR.dom.node(n)
                    } while (t && e && !e(t));
                    return t
                },
                getParent: function(e) {
                    var t = this.$.parentNode;
                    return t && (t.nodeType == CKEDITOR.NODE_ELEMENT || e && t.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT) ? new CKEDITOR.dom.node(t) : null
                },
                getParents: function(e) {
                    var t = this,
                        n = [];
                    do {
                        n[e ? "push" : "unshift"](t)
                    } while (t = t.getParent());
                    return n
                },
                getCommonAncestor: function(e) {
                    if (e.equals(this)) return this;
                    if (e.contains && e.contains(this)) return e;
                    var t = this.contains ? this : this.getParent();
                    do {
                        if (t.contains(e)) return t
                    } while (t = t.getParent());
                    return null
                },
                getPosition: function(e) {
                    var t = this.$,
                        n = e.$;
                    if (t.compareDocumentPosition) return t.compareDocumentPosition(n);
                    if (t == n) return CKEDITOR.POSITION_IDENTICAL;
                    if (this.type == CKEDITOR.NODE_ELEMENT && e.type == CKEDITOR.NODE_ELEMENT) {
                        if (t.contains) {
                            if (t.contains(n)) return CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_PRECEDING;
                            if (n.contains(t)) return CKEDITOR.POSITION_IS_CONTAINED + CKEDITOR.POSITION_FOLLOWING
                        }
                        if ("sourceIndex" in t) return 0 > t.sourceIndex || 0 > n.sourceIndex ? CKEDITOR.POSITION_DISCONNECTED : t.sourceIndex < n.sourceIndex ? CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_FOLLOWING
                    }
                    t = this.getAddress(), e = e.getAddress(), n = Math.min(t.length, e.length);
                    for (var r = 0; r < n; r++)
                        if (t[r] != e[r]) return t[r] < e[r] ? CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_FOLLOWING;
                    return t.length < e.length ? CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_IS_CONTAINED + CKEDITOR.POSITION_FOLLOWING
                },
                getAscendant: function(e, t) {
                    var n, r, i = this.$;
                    for (t || (i = i.parentNode), "function" == typeof e ? (r = !0, n = e) : (r = !1, n = function(t) {
                            return t = "string" == typeof t.nodeName ? t.nodeName.toLowerCase() : "", "string" == typeof e ? t == e : t in e
                        }); i;) {
                        if (n(r ? new CKEDITOR.dom.node(i) : i)) return new CKEDITOR.dom.node(i);
                        try {
                            i = i.parentNode
                        } catch (e) {
                            i = null
                        }
                    }
                    return null
                },
                hasAscendant: function(e, t) {
                    var n = this.$;
                    for (t || (n = n.parentNode); n;) {
                        if (n.nodeName && n.nodeName.toLowerCase() == e) return !0;
                        n = n.parentNode
                    }
                    return !1
                },
                move: function(e, t) {
                    e.append(this.remove(), t)
                },
                remove: function(e) {
                    var t = this.$,
                        n = t.parentNode;
                    if (n) {
                        if (e)
                            for (; e = t.firstChild;) n.insertBefore(t.removeChild(e), t);
                        n.removeChild(t)
                    }
                    return this
                },
                replace: function(e) {
                    this.insertBefore(e), e.remove()
                },
                trim: function() {
                    this.ltrim(), this.rtrim()
                },
                ltrim: function() {
                    for (var e; this.getFirst && (e = this.getFirst());) {
                        if (e.type == CKEDITOR.NODE_TEXT) {
                            var t = CKEDITOR.tools.ltrim(e.getText()),
                                n = e.getLength();
                            if (!t) {
                                e.remove();
                                continue
                            }
                            t.length < n && (e.split(n - t.length), this.$.removeChild(this.$.firstChild))
                        }
                        break
                    }
                },
                rtrim: function() {
                    for (var e; this.getLast && (e = this.getLast());) {
                        if (e.type == CKEDITOR.NODE_TEXT) {
                            var t = CKEDITOR.tools.rtrim(e.getText()),
                                n = e.getLength();
                            if (!t) {
                                e.remove();
                                continue
                            }
                            t.length < n && (e.split(t.length), this.$.lastChild.parentNode.removeChild(this.$.lastChild))
                        }
                        break
                    }
                    CKEDITOR.env.needsBrFiller && (e = this.$.lastChild) && 1 == e.type && "br" == e.nodeName.toLowerCase() && e.parentNode.removeChild(e)
                },
                isReadOnly: function(e) {
                    var t = this;
                    if (this.type != CKEDITOR.NODE_ELEMENT && (t = this.getParent()), CKEDITOR.env.edge && t && t.is("textarea", "input") && (e = !0), !e && t && void 0 !== t.$.isContentEditable) return !(t.$.isContentEditable || t.data("cke-editable"));
                    for (; t;) {
                        if (t.data("cke-editable")) return !1;
                        if (t.hasAttribute("contenteditable")) return "false" == t.getAttribute("contenteditable");
                        t = t.getParent()
                    }
                    return !0
                }
            }), CKEDITOR.dom.window = function(e) {
                CKEDITOR.dom.domObject.call(this, e)
            }, CKEDITOR.dom.window.prototype = new CKEDITOR.dom.domObject, CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype, {
                focus: function() {
                    this.$.focus()
                },
                getViewPaneSize: function() {
                    var e = this.$.document,
                        t = "CSS1Compat" == e.compatMode;
                    return {
                        width: (t ? e.documentElement.clientWidth : e.body.clientWidth) || 0,
                        height: (t ? e.documentElement.clientHeight : e.body.clientHeight) || 0
                    }
                },
                getScrollPosition: function() {
                    var e = this.$;
                    return "pageXOffset" in e ? {
                        x: e.pageXOffset || 0,
                        y: e.pageYOffset || 0
                    } : {
                        x: (e = e.document).documentElement.scrollLeft || e.body.scrollLeft || 0,
                        y: e.documentElement.scrollTop || e.body.scrollTop || 0
                    }
                },
                getFrame: function() {
                    var e = this.$.frameElement;
                    return e ? new CKEDITOR.dom.element.get(e) : null
                }
            }), CKEDITOR.dom.document = function(e) {
                CKEDITOR.dom.domObject.call(this, e)
            }, CKEDITOR.dom.document.prototype = new CKEDITOR.dom.domObject, CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype, {
                type: CKEDITOR.NODE_DOCUMENT,
                appendStyleSheet: function(e) {
                    if (this.$.createStyleSheet) this.$.createStyleSheet(e);
                    else {
                        var t = new CKEDITOR.dom.element("link");
                        t.setAttributes({
                            rel: "stylesheet",
                            type: "text/css",
                            href: e
                        }), this.getHead().append(t)
                    }
                },
                appendStyleText: function(e) {
                    if (this.$.createStyleSheet) {
                        var t = this.$.createStyleSheet("");
                        t.cssText = e
                    } else {
                        var n = new CKEDITOR.dom.element("style", this);
                        n.append(new CKEDITOR.dom.text(e, this)), this.getHead().append(n)
                    }
                    return t || n.$.sheet
                },
                createElement: function(e, t) {
                    var n = new CKEDITOR.dom.element(e, this);
                    return t && (t.attributes && n.setAttributes(t.attributes), t.styles && n.setStyles(t.styles)), n
                },
                createText: function(e) {
                    return new CKEDITOR.dom.text(e, this)
                },
                focus: function() {
                    this.getWindow().focus()
                },
                getActive: function() {
                    var e;
                    try {
                        e = this.$.activeElement
                    } catch (e) {
                        return null
                    }
                    return new CKEDITOR.dom.element(e)
                },
                getById: function(e) {
                    return (e = this.$.getElementById(e)) ? new CKEDITOR.dom.element(e) : null
                },
                getByAddress: function(e, t) {
                    for (var n = this.$.documentElement, r = 0; n && r < e.length; r++) {
                        var i = e[r];
                        if (t)
                            for (var o = -1, a = 0; a < n.childNodes.length; a++) {
                                var s = n.childNodes[a];
                                if ((!0 !== t || 3 != s.nodeType || !s.previousSibling || 3 != s.previousSibling.nodeType) && ++o == i) {
                                    n = s;
                                    break
                                }
                            } else n = n.childNodes[i]
                    }
                    return n ? new CKEDITOR.dom.node(n) : null
                },
                getElementsByTag: function(e, t) {
                    return CKEDITOR.env.ie && 8 >= document.documentMode || !t || (e = t + ":" + e), new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(e))
                },
                getHead: function() {
                    var e = this.$.getElementsByTagName("head")[0];
                    return e ? new CKEDITOR.dom.element(e) : this.getDocumentElement().append(new CKEDITOR.dom.element("head"), !0)
                },
                getBody: function() {
                    return new CKEDITOR.dom.element(this.$.body)
                },
                getDocumentElement: function() {
                    return new CKEDITOR.dom.element(this.$.documentElement)
                },
                getWindow: function() {
                    return new CKEDITOR.dom.window(this.$.parentWindow || this.$.defaultView)
                },
                write: function(e) {
                    this.$.open("text/html", "replace"), CKEDITOR.env.ie && (e = e.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i, '$&\n<script data-cke-temp="1">(' + CKEDITOR.tools.fixDomain + ")();<\/script>")), this.$.write(e), this.$.close()
                },
                find: function(e) {
                    return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e))
                },
                findOne: function(e) {
                    return (e = this.$.querySelector(e)) ? new CKEDITOR.dom.element(e) : null
                },
                _getHtml5ShivFrag: function() {
                    var e = this.getCustomData("html5ShivFrag");
                    return e || (e = this.$.createDocumentFragment(), CKEDITOR.tools.enableHtml5Elements(e, !0), this.setCustomData("html5ShivFrag", e)), e
                }
            }), CKEDITOR.dom.nodeList = function(e) {
                this.$ = e
            }, CKEDITOR.dom.nodeList.prototype = {
                count: function() {
                    return this.$.length
                },
                getItem: function(e) {
                    return 0 > e || e >= this.$.length ? null : (e = this.$[e]) ? new CKEDITOR.dom.node(e) : null
                },
                toArray: function() {
                    return CKEDITOR.tools.array.map(this.$, function(e) {
                        return new CKEDITOR.dom.node(e)
                    })
                }
            }, CKEDITOR.dom.element = function(e, t) {
                "string" == typeof e && (e = (t ? t.$ : document).createElement(e)), CKEDITOR.dom.domObject.call(this, e)
            }, CKEDITOR.dom.element.get = function(e) {
                return (e = "string" == typeof e ? document.getElementById(e) || document.getElementsByName(e)[0] : e) && (e.$ ? e : new CKEDITOR.dom.element(e))
            }, CKEDITOR.dom.element.prototype = new CKEDITOR.dom.node, CKEDITOR.dom.element.createFromHtml = function(e, t) {
                var n = new CKEDITOR.dom.element("div", t);
                return n.setHtml(e), n.getFirst().remove()
            }, CKEDITOR.dom.element.setMarker = function(e, t, n, r) {
                var i = t.getCustomData("list_marker_id") || t.setCustomData("list_marker_id", CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),
                    o = t.getCustomData("list_marker_names") || t.setCustomData("list_marker_names", {}).getCustomData("list_marker_names");
                return e[i] = t, o[n] = 1, t.setCustomData(n, r)
            }, CKEDITOR.dom.element.clearAllMarkers = function(e) {
                for (var t in e) CKEDITOR.dom.element.clearMarkers(e, e[t], 1)
            }, CKEDITOR.dom.element.clearMarkers = function(e, t, n) {
                var r, i = t.getCustomData("list_marker_names"),
                    o = t.getCustomData("list_marker_id");
                for (r in i) t.removeCustomData(r);
                t.removeCustomData("list_marker_names"), n && (t.removeCustomData("list_marker_id"), delete e[o])
            }, function() {
                function e(e, t) {
                    return -1 < (" " + e + " ").replace(o, " ").indexOf(" " + t + " ")
                }

                function t(e) {
                    var t = !0;
                    return e.$.id || (e.$.id = "cke_tmp_" + CKEDITOR.tools.getNextNumber(), t = !1),
                        function() {
                            t || e.removeAttribute("id")
                        }
                }

                function n(e, t) {
                    var n = CKEDITOR.tools.escapeCss(e.$.id);
                    return "#" + n + " " + t.split(/,\s*/).join(", #" + n + " ")
                }

                function r(e) {
                    for (var t = 0, n = 0, r = a[e].length; n < r; n++) t += parseFloat(this.getComputedStyle(a[e][n]) || 0, 10) || 0;
                    return t
                }
                var i = void 0 !== (i = document.createElement("_").classList) && null !== String(i.add).match(/\[Native code\]/gi),
                    o = /[\n\t\r]/g;
                CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype, {
                    type: CKEDITOR.NODE_ELEMENT,
                    addClass: i ? function(e) {
                        return this.$.classList.add(e), this
                    } : function(t) {
                        var n = this.$.className;
                        return n && (e(n, t) || (n += " " + t)), this.$.className = n || t, this
                    },
                    removeClass: i ? function(e) {
                        var t = this.$;
                        return t.classList.remove(e), t.className || t.removeAttribute("class"), this
                    } : function(t) {
                        var n = this.getAttribute("class");
                        return n && e(n, t) && ((n = n.replace(new RegExp("(?:^|\\s+)" + t + "(?=\\s|$)"), "").replace(/^\s+/, "")) ? this.setAttribute("class", n) : this.removeAttribute("class")), this
                    },
                    hasClass: function(t) {
                        return e(this.$.className, t)
                    },
                    append: function(e, t) {
                        return "string" == typeof e && (e = this.getDocument().createElement(e)), t ? this.$.insertBefore(e.$, this.$.firstChild) : this.$.appendChild(e.$), e
                    },
                    appendHtml: function(e) {
                        if (this.$.childNodes.length) {
                            var t = new CKEDITOR.dom.element("div", this.getDocument());
                            t.setHtml(e), t.moveChildren(this)
                        } else this.setHtml(e)
                    },
                    appendText: function(e) {
                        null != this.$.text && CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? this.$.text += e : this.append(new CKEDITOR.dom.text(e))
                    },
                    appendBogus: function(e) {
                        if (e || CKEDITOR.env.needsBrFiller) {
                            for (e = this.getLast(); e && e.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.rtrim(e.getText());) e = e.getPrevious();
                            e && e.is && e.is("br") || (e = this.getDocument().createElement("br"), CKEDITOR.env.gecko && e.setAttribute("type", "_moz"), this.append(e))
                        }
                    },
                    breakParent: function(e, t) {
                        var n = new CKEDITOR.dom.range(this.getDocument());
                        n.setStartAfter(this), n.setEndAfter(e);
                        var r, i = n.extractContents(!1, t || !1);
                        if (n.insertNode(this.remove()), CKEDITOR.env.ie && !CKEDITOR.env.edge) {
                            for (n = new CKEDITOR.dom.element("div"); r = i.getFirst();) r.$.style.backgroundColor && (r.$.style.backgroundColor = r.$.style.backgroundColor), n.append(r);
                            n.insertAfter(this), n.remove(!0)
                        } else i.insertAfterNode(this)
                    },
                    contains: document.compareDocumentPosition ? function(e) {
                        return !!(16 & this.$.compareDocumentPosition(e.$))
                    } : function(e) {
                        var t = this.$;
                        return e.type != CKEDITOR.NODE_ELEMENT ? t.contains(e.getParent().$) : t != e.$ && t.contains(e.$)
                    },
                    focus: function() {
                        function e() {
                            try {
                                this.$.focus()
                            } catch (e) {}
                        }
                        return function(t) {
                            t ? CKEDITOR.tools.setTimeout(e, 100, this) : e.call(this)
                        }
                    }(),
                    getHtml: function() {
                        var e = this.$.innerHTML;
                        return CKEDITOR.env.ie ? e.replace(/<\?[^>]*>/g, "") : e
                    },
                    getOuterHtml: function() {
                        if (this.$.outerHTML) return this.$.outerHTML.replace(/<\?[^>]*>/, "");
                        var e = this.$.ownerDocument.createElement("div");
                        return e.appendChild(this.$.cloneNode(!0)), e.innerHTML
                    },
                    getClientRect: function(e) {
                        var t = CKEDITOR.tools.extend({}, this.$.getBoundingClientRect());
                        return !t.width && (t.width = t.right - t.left), !t.height && (t.height = t.bottom - t.top), e ? CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(), t) : t
                    },
                    setHtml: CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? function(e) {
                        try {
                            var t = this.$;
                            if (this.getParent()) return t.innerHTML = e;
                            var n = this.getDocument()._getHtml5ShivFrag();
                            return n.appendChild(t), t.innerHTML = e, n.removeChild(t), e
                        } catch (n) {
                            for (this.$.innerHTML = "", (t = new CKEDITOR.dom.element("body", this.getDocument())).$.innerHTML = e, t = t.getChildren(); t.count();) this.append(t.getItem(0));
                            return e
                        }
                    } : function(e) {
                        return this.$.innerHTML = e
                    },
                    setText: function() {
                        var e = document.createElement("p");
                        return e.innerHTML = "x", e = e.textContent,
                            function(t) {
                                this.$[e ? "textContent" : "innerText"] = t
                            }
                    }(),
                    getAttribute: CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function(e) {
                        switch (e) {
                            case "class":
                                e = "className";
                                break;
                            case "http-equiv":
                                e = "httpEquiv";
                                break;
                            case "name":
                                return this.$.name;
                            case "tabindex":
                                return 0 !== (e = this.$.getAttribute(e, 2)) && 0 === this.$.tabIndex && (e = null), e;
                            case "checked":
                                return ((e = this.$.attributes.getNamedItem(e)).specified ? e.nodeValue : this.$.checked) ? "checked" : null;
                            case "hspace":
                            case "value":
                                return this.$[e];
                            case "style":
                                return this.$.style.cssText;
                            case "contenteditable":
                            case "contentEditable":
                                return this.$.attributes.getNamedItem("contentEditable").specified ? this.$.getAttribute("contentEditable") : null
                        }
                        return this.$.getAttribute(e, 2)
                    } : function(e) {
                        return this.$.getAttribute(e, 2)
                    },
                    getAttributes: function(e) {
                        var t, n = {},
                            r = this.$.attributes;
                        for (e = CKEDITOR.tools.isArray(e) ? e : [], t = 0; t < r.length; t++) - 1 === CKEDITOR.tools.indexOf(e, r[t].name) && (n[r[t].name] = r[t].value);
                        return n
                    },
                    getChildren: function() {
                        return new CKEDITOR.dom.nodeList(this.$.childNodes)
                    },
                    getComputedStyle: document.defaultView && document.defaultView.getComputedStyle ? function(e) {
                        var t = this.getWindow().$.getComputedStyle(this.$, null);
                        return t ? t.getPropertyValue(e) : ""
                    } : function(e) {
                        return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(e)]
                    },
                    getDtd: function() {
                        var e = CKEDITOR.dtd[this.getName()];
                        return this.getDtd = function() {
                            return e
                        }, e
                    },
                    getElementsByTag: CKEDITOR.dom.document.prototype.getElementsByTag,
                    getTabIndex: function() {
                        var e = this.$.tabIndex;
                        return 0 !== e || CKEDITOR.dtd.$tabIndex[this.getName()] || 0 === parseInt(this.getAttribute("tabindex"), 10) ? e : -1
                    },
                    getText: function() {
                        return this.$.textContent || this.$.innerText || ""
                    },
                    getWindow: function() {
                        return this.getDocument().getWindow()
                    },
                    getId: function() {
                        return this.$.id || null
                    },
                    getNameAtt: function() {
                        return this.$.name || null
                    },
                    getName: function() {
                        var e = this.$.nodeName.toLowerCase();
                        if (CKEDITOR.env.ie && 8 >= document.documentMode) {
                            var t = this.$.scopeName;
                            "HTML" != t && (e = t.toLowerCase() + ":" + e)
                        }
                        return this.getName = function() {
                            return e
                        }, this.getName()
                    },
                    getValue: function() {
                        return this.$.value
                    },
                    getFirst: function(e) {
                        var t = this.$.firstChild;
                        return (t = t && new CKEDITOR.dom.node(t)) && e && !e(t) && (t = t.getNext(e)), t
                    },
                    getLast: function(e) {
                        var t = this.$.lastChild;
                        return (t = t && new CKEDITOR.dom.node(t)) && e && !e(t) && (t = t.getPrevious(e)), t
                    },
                    getStyle: function(e) {
                        return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]
                    },
                    is: function() {
                        var e = this.getName();
                        if ("object" == typeof arguments[0]) return !!arguments[0][e];
                        for (var t = 0; t < arguments.length; t++)
                            if (arguments[t] == e) return !0;
                        return !1
                    },
                    isEditable: function(e) {
                        var t = this.getName();
                        return !(this.isReadOnly() || "none" == this.getComputedStyle("display") || "hidden" == this.getComputedStyle("visibility") || CKEDITOR.dtd.$nonEditable[t] || CKEDITOR.dtd.$empty[t] || this.is("a") && (this.data("cke-saved-name") || this.hasAttribute("name")) && !this.getChildCount() || !1 !== e && (!(e = CKEDITOR.dtd[t] || CKEDITOR.dtd.span) || !e["#"]))
                    },
                    isIdentical: function(e) {
                        var t = this.clone(0, 1);
                        if (e = e.clone(0, 1), t.removeAttributes(["_moz_dirty", "data-cke-expando", "data-cke-saved-href", "data-cke-saved-name"]), e.removeAttributes(["_moz_dirty", "data-cke-expando", "data-cke-saved-href", "data-cke-saved-name"]), t.$.isEqualNode) return t.$.style.cssText = CKEDITOR.tools.normalizeCssText(t.$.style.cssText), e.$.style.cssText = CKEDITOR.tools.normalizeCssText(e.$.style.cssText), t.$.isEqualNode(e.$);
                        if (t = t.getOuterHtml(), e = e.getOuterHtml(), CKEDITOR.env.ie && 9 > CKEDITOR.env.version && this.is("a")) {
                            var n = this.getParent();
                            n.type == CKEDITOR.NODE_ELEMENT && ((n = n.clone()).setHtml(t), t = n.getHtml(), n.setHtml(e), e = n.getHtml())
                        }
                        return t == e
                    },
                    isVisible: function() {
                        var e, t, n = (this.$.offsetHeight || this.$.offsetWidth) && "hidden" != this.getComputedStyle("visibility");
                        return n && CKEDITOR.env.webkit && !(e = this.getWindow()).equals(CKEDITOR.document.getWindow()) && (t = e.$.frameElement) && (n = new CKEDITOR.dom.element(t).isVisible()), !!n
                    },
                    isEmptyInlineRemoveable: function() {
                        if (!CKEDITOR.dtd.$removeEmpty[this.getName()]) return !1;
                        for (var e = this.getChildren(), t = 0, n = e.count(); t < n; t++) {
                            var r = e.getItem(t);
                            if ((r.type != CKEDITOR.NODE_ELEMENT || !r.data("cke-bookmark")) && (r.type == CKEDITOR.NODE_ELEMENT && !r.isEmptyInlineRemoveable() || r.type == CKEDITOR.NODE_TEXT && CKEDITOR.tools.trim(r.getText()))) return !1
                        }
                        return !0
                    },
                    hasAttributes: CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function() {
                        for (var e = this.$.attributes, t = 0; t < e.length; t++) {
                            var n = e[t];
                            switch (n.nodeName) {
                                case "class":
                                    if (this.getAttribute("class")) return !0;
                                case "data-cke-expando":
                                    continue;
                                default:
                                    if (n.specified) return !0
                            }
                        }
                        return !1
                    } : function() {
                        var e = this.$.attributes,
                            t = e.length,
                            n = {
                                "data-cke-expando": 1,
                                _moz_dirty: 1
                            };
                        return 0 < t && (2 < t || !n[e[0].nodeName] || 2 == t && !n[e[1].nodeName])
                    },
                    hasAttribute: function() {
                        function e(e) {
                            var t = this.$.attributes.getNamedItem(e);
                            if ("input" == this.getName()) switch (e) {
                                case "class":
                                    return 0 < this.$.className.length;
                                case "checked":
                                    return !!this.$.checked;
                                case "value":
                                    return "checkbox" == (e = this.getAttribute("type")) || "radio" == e ? "on" != this.$.value : !!this.$.value
                            }
                            return !!t && t.specified
                        }
                        return CKEDITOR.env.ie ? 8 > CKEDITOR.env.version ? function(t) {
                            return "name" == t ? !!this.$.name : e.call(this, t)
                        } : e : function(e) {
                            return !!this.$.attributes.getNamedItem(e)
                        }
                    }(),
                    hide: function() {
                        this.setStyle("display", "none")
                    },
                    moveChildren: function(e, t) {
                        var n, r = this.$;
                        if (r != (e = e.$))
                            if (t)
                                for (; n = r.lastChild;) e.insertBefore(r.removeChild(n), e.firstChild);
                            else
                                for (; n = r.firstChild;) e.appendChild(r.removeChild(n))
                    },
                    mergeSiblings: function() {
                        function e(e, t, n) {
                            if (t && t.type == CKEDITOR.NODE_ELEMENT) {
                                for (var r = []; t.data("cke-bookmark") || t.isEmptyInlineRemoveable();)
                                    if (r.push(t), !(t = n ? t.getNext() : t.getPrevious()) || t.type != CKEDITOR.NODE_ELEMENT) return;
                                if (e.isIdentical(t)) {
                                    for (var i = n ? e.getLast() : e.getFirst(); r.length;) r.shift().move(e, !n);
                                    t.moveChildren(e, !n), t.remove(), i && i.type == CKEDITOR.NODE_ELEMENT && i.mergeSiblings()
                                }
                            }
                        }
                        return function(t) {
                            (!1 === t || CKEDITOR.dtd.$removeEmpty[this.getName()] || this.is("a")) && (e(this, this.getNext(), !0), e(this, this.getPrevious()))
                        }
                    }(),
                    show: function() {
                        this.setStyles({
                            display: "",
                            visibility: ""
                        })
                    },
                    setAttribute: function() {
                        var e = function(e, t) {
                            return this.$.setAttribute(e, t), this
                        };
                        return CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function(t, n) {
                            return "class" == t ? this.$.className = n : "style" == t ? this.$.style.cssText = n : "tabindex" == t ? this.$.tabIndex = n : "checked" == t ? this.$.checked = n : "contenteditable" == t ? e.call(this, "contentEditable", n) : e.apply(this, arguments), this
                        } : CKEDITOR.env.ie8Compat && CKEDITOR.env.secure ? function(t, n) {
                            if ("src" == t && n.match(/^http:\/\//)) try {
                                e.apply(this, arguments)
                            } catch (e) {} else e.apply(this, arguments);
                            return this
                        } : e
                    }(),
                    setAttributes: function(e) {
                        for (var t in e) this.setAttribute(t, e[t]);
                        return this
                    },
                    setValue: function(e) {
                        return this.$.value = e, this
                    },
                    removeAttribute: CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function(e) {
                        "class" == e ? e = "className" : "tabindex" == e ? e = "tabIndex" : "contenteditable" == e && (e = "contentEditable"), this.$.removeAttribute(e)
                    } : function(e) {
                        this.$.removeAttribute(e)
                    },
                    removeAttributes: function(e) {
                        if (CKEDITOR.tools.isArray(e))
                            for (var t = 0; t < e.length; t++) this.removeAttribute(e[t]);
                        else
                            for (t in e = e || this.getAttributes()) e.hasOwnProperty(t) && this.removeAttribute(t)
                    },
                    removeStyle: function(e) {
                        if ((r = this.$.style).removeProperty || "border" != e && "margin" != e && "padding" != e) r.removeProperty ? r.removeProperty(e) : r.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(e)), this.$.style.cssText || this.removeAttribute("style");
                        else {
                            var t, n = ["top", "left", "right", "bottom"];
                            "border" == e && (t = ["color", "style", "width"]);
                            for (var r = [], i = 0; i < n.length; i++)
                                if (t)
                                    for (var o = 0; o < t.length; o++) r.push([e, n[i], t[o]].join("-"));
                                else r.push([e, n[i]].join("-"));
                            for (e = 0; e < r.length; e++) this.removeStyle(r[e])
                        }
                    },
                    setStyle: function(e, t) {
                        return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)] = t, this
                    },
                    setStyles: function(e) {
                        for (var t in e) this.setStyle(t, e[t]);
                        return this
                    },
                    setOpacity: function(e) {
                        CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? (e = Math.round(100 * e), this.setStyle("filter", 100 <= e ? "" : "progid:DXImageTransform.Microsoft.Alpha(opacity=" + e + ")")) : this.setStyle("opacity", e)
                    },
                    unselectable: function() {
                        if (this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select", "none")), CKEDITOR.env.ie) {
                            this.setAttribute("unselectable", "on");
                            for (var e = this.getElementsByTag("*"), t = 0, n = e.count(); t < n; t++) e.getItem(t).setAttribute("unselectable", "on")
                        }
                    },
                    getPositionedAncestor: function() {
                        for (var e = this;
                            "html" != e.getName();) {
                            if ("static" != e.getComputedStyle("position")) return e;
                            e = e.getParent()
                        }
                        return null
                    },
                    getDocumentPosition: function(e) {
                        var t = 0,
                            n = 0,
                            r = this.getDocument(),
                            i = r.getBody(),
                            o = "BackCompat" == r.$.compatMode;
                        if (!document.documentElement.getBoundingClientRect || CKEDITOR.env.ie && 8 === CKEDITOR.env.version)
                            for (l = this, c = null; l && "body" != l.getName() && "html" != l.getName();) {
                                for (t += l.$.offsetLeft - l.$.scrollLeft, n += l.$.offsetTop - l.$.scrollTop, l.equals(this) || (t += l.$.clientLeft || 0, n += l.$.clientTop || 0); c && !c.equals(l);) t -= c.$.scrollLeft, n -= c.$.scrollTop, c = c.getParent();
                                c = l, l = (a = l.$.offsetParent) ? new CKEDITOR.dom.element(a) : null
                            } else {
                                var a = this.$.getBoundingClientRect(),
                                    s = r.$.documentElement,
                                    l = s.clientTop || i.$.clientTop || 0,
                                    c = s.clientLeft || i.$.clientLeft || 0,
                                    u = !0;
                                CKEDITOR.env.ie && (u = r.getDocumentElement().contains(this), r = r.getBody().contains(this), u = o && r || !o && u), u && (CKEDITOR.env.webkit || CKEDITOR.env.ie && 12 <= CKEDITOR.env.version ? (t = i.$.scrollLeft || s.scrollLeft, n = i.$.scrollTop || s.scrollTop) : (t = (n = o ? i.$ : s).scrollLeft, n = n.scrollTop), t = a.left + t - c, n = a.top + n - l)
                            }
                        return e && (a = this.getWindow(), l = e.getWindow(), !a.equals(l) && a.$.frameElement && (t += (e = new CKEDITOR.dom.element(a.$.frameElement).getDocumentPosition(e)).x, n += e.y)), document.documentElement.getBoundingClientRect || !CKEDITOR.env.gecko || o || (t += this.$.clientLeft ? 1 : 0, n += this.$.clientTop ? 1 : 0), {
                            x: t,
                            y: n
                        }
                    },
                    scrollIntoView: function(e) {
                        var t = this.getParent();
                        if (t)
                            do {
                                if ((t.$.clientWidth && t.$.clientWidth < t.$.scrollWidth || t.$.clientHeight && t.$.clientHeight < t.$.scrollHeight) && !t.is("body") && this.scrollIntoParent(t, e, 1), t.is("html")) {
                                    var n = t.getWindow();
                                    try {
                                        var r = n.$.frameElement;
                                        r && (t = new CKEDITOR.dom.element(r))
                                    } catch (e) {}
                                }
                            } while (t = t.getParent())
                    },
                    scrollIntoParent: function(e, t, n) {
                        var r, i, o, a;

                        function s(t, n) {
                            /body|html/.test(e.getName()) ? e.getWindow().$.scrollBy(t, n) : (e.$.scrollLeft += t, e.$.scrollTop += n)
                        }

                        function l(e, t) {
                            var n = {
                                x: 0,
                                y: 0
                            };
                            if (!e.is(u ? "body" : "html")) {
                                var r = e.$.getBoundingClientRect();
                                n.x = r.left, n.y = r.top
                            }
                            return (r = e.getWindow()).equals(t) || (r = l(CKEDITOR.dom.element.get(r.$.frameElement), t), n.x += r.x, n.y += r.y), n
                        }

                        function c(e, t) {
                            return parseInt(e.getComputedStyle("margin-" + t) || 0, 10) || 0
                        }!e && (e = this.getWindow());
                        var u = "BackCompat" == (o = e.getDocument()).$.compatMode;
                        e instanceof CKEDITOR.dom.window && (e = u ? o.getBody() : o.getDocumentElement()), CKEDITOR.env.webkit && (o = this.getEditor(!1)) && (o._.previousScrollTop = null), i = l(this, o = e.getWindow());
                        var d = l(e, o),
                            h = this.$.offsetHeight;
                        r = this.$.offsetWidth;
                        var p = e.$.clientHeight,
                            f = e.$.clientWidth;
                        o = i.x - c(this, "left") - d.x || 0, a = i.y - c(this, "top") - d.y || 0, r = i.x + r + c(this, "right") - (d.x + f) || 0, i = i.y + h + c(this, "bottom") - (d.y + p) || 0, (0 > a || 0 < i) && s(0, !0 === t ? a : !1 === t ? i : 0 > a ? a : i), n && (0 > o || 0 < r) && s(0 > o ? o : r, 0)
                    },
                    setState: function(e, t, n) {
                        switch (t = t || "cke", e) {
                            case CKEDITOR.TRISTATE_ON:
                                this.addClass(t + "_on"), this.removeClass(t + "_off"), this.removeClass(t + "_disabled"), n && this.setAttribute("aria-pressed", !0), n && this.removeAttribute("aria-disabled");
                                break;
                            case CKEDITOR.TRISTATE_DISABLED:
                                this.addClass(t + "_disabled"), this.removeClass(t + "_off"), this.removeClass(t + "_on"), n && this.setAttribute("aria-disabled", !0), n && this.removeAttribute("aria-pressed");
                                break;
                            default:
                                this.addClass(t + "_off"), this.removeClass(t + "_on"), this.removeClass(t + "_disabled"), n && this.removeAttribute("aria-pressed"), n && this.removeAttribute("aria-disabled")
                        }
                    },
                    getFrameDocument: function() {
                        var e = this.$;
                        return e && new CKEDITOR.dom.document(e.contentWindow.document)
                    },
                    copyAttributes: function(e, t) {
                        var n = this.$.attributes;
                        t = t || {};
                        for (var r = 0; r < n.length; r++) {
                            var i, o = n[r],
                                a = o.nodeName.toLowerCase();
                            a in t || ("checked" == a && (i = this.getAttribute(a)) ? e.setAttribute(a, i) : CKEDITOR.env.ie && !this.hasAttribute(a) || (null === (i = this.getAttribute(a)) && (i = o.nodeValue), e.setAttribute(a, i)))
                        }
                        "" !== this.$.style.cssText && (e.$.style.cssText = this.$.style.cssText)
                    },
                    renameNode: function(e) {
                        if (this.getName() != e) {
                            var t = this.getDocument();
                            e = new CKEDITOR.dom.element(e, t), this.copyAttributes(e), this.moveChildren(e), this.getParent(!0) && this.$.parentNode.replaceChild(e.$, this.$), e.$["data-cke-expando"] = this.$["data-cke-expando"], this.$ = e.$, delete this.getName
                        }
                    },
                    getChild: function() {
                        function e(e, t) {
                            var n = e.childNodes;
                            if (0 <= t && t < n.length) return n[t]
                        }
                        return function(t) {
                            var n = this.$;
                            if (t.slice)
                                for (t = t.slice(); 0 < t.length && n;) n = e(n, t.shift());
                            else n = e(n, t);
                            return n ? new CKEDITOR.dom.node(n) : null
                        }
                    }(),
                    getChildCount: function() {
                        return this.$.childNodes.length
                    },
                    disableContextMenu: function() {
                        function e(e) {
                            return e.type == CKEDITOR.NODE_ELEMENT && e.hasClass("cke_enable_context_menu")
                        }
                        this.on("contextmenu", function(t) {
                            t.data.getTarget().getAscendant(e, !0) || t.data.preventDefault()
                        })
                    },
                    getDirection: function(e) {
                        return e ? this.getComputedStyle("direction") || this.getDirection() || this.getParent() && this.getParent().getDirection(1) || this.getDocument().$.dir || "ltr" : this.getStyle("direction") || this.getAttribute("dir")
                    },
                    data: function(e, t) {
                        return e = "data-" + e, void 0 === t ? this.getAttribute(e) : (!1 === t ? this.removeAttribute(e) : this.setAttribute(e, t), null)
                    },
                    getEditor: function(e) {
                        var t, n, r, i = CKEDITOR.instances;
                        for (t in e = e || void 0 === e, i)
                            if ((n = i[t]).element.equals(this) && n.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO || !e && (r = n.editable()) && (r.equals(this) || r.contains(this))) return n;
                        return null
                    },
                    find: function(e) {
                        var r = t(this);
                        return e = new CKEDITOR.dom.nodeList(this.$.querySelectorAll(n(this, e))), r(), e
                    },
                    findOne: function(e) {
                        var r = t(this);
                        return e = this.$.querySelector(n(this, e)), r(), e ? new CKEDITOR.dom.element(e) : null
                    },
                    forEach: function(e, t, n) {
                        if (!(n || t && this.type != t)) var r = e(this);
                        if (!1 !== r) {
                            n = this.getChildren();
                            for (var i = 0; i < n.count(); i++)(r = n.getItem(i)).type == CKEDITOR.NODE_ELEMENT ? r.forEach(e, t) : t && r.type != t || e(r)
                        }
                    }
                });
                var a = {
                    width: ["border-left-width", "border-right-width", "padding-left", "padding-right"],
                    height: ["border-top-width", "border-bottom-width", "padding-top", "padding-bottom"]
                };
                CKEDITOR.dom.element.prototype.setSize = function(e, t, n) {
                    "number" == typeof t && (!n || CKEDITOR.env.ie && CKEDITOR.env.quirks || (t -= r.call(this, e)), this.setStyle(e, t + "px"))
                }, CKEDITOR.dom.element.prototype.getSize = function(e, t) {
                    var n = Math.max(this.$["offset" + CKEDITOR.tools.capitalize(e)], this.$["client" + CKEDITOR.tools.capitalize(e)]) || 0;
                    return t && (n -= r.call(this, e)), n
                }
            }(), CKEDITOR.dom.documentFragment = function(e) {
                e = e || CKEDITOR.document, this.$ = e.type == CKEDITOR.NODE_DOCUMENT ? e.$.createDocumentFragment() : e
            }, CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype, CKEDITOR.dom.element.prototype, {
                type: CKEDITOR.NODE_DOCUMENT_FRAGMENT,
                insertAfterNode: function(e) {
                    (e = e.$).parentNode.insertBefore(this.$, e.nextSibling)
                },
                getHtml: function() {
                    var e = new CKEDITOR.dom.element("div");
                    return this.clone(1, 1).appendTo(e), e.getHtml().replace(/\s*data-cke-expando=".*?"/g, "")
                }
            }, !0, {
                append: 1,
                appendBogus: 1,
                clone: 1,
                getFirst: 1,
                getHtml: 1,
                getLast: 1,
                getParent: 1,
                getNext: 1,
                getPrevious: 1,
                appendTo: 1,
                moveChildren: 1,
                insertBefore: 1,
                insertAfterNode: 1,
                replace: 1,
                trim: 1,
                type: 1,
                ltrim: 1,
                rtrim: 1,
                getDocument: 1,
                getChildCount: 1,
                getChild: 1,
                getChildren: 1
            }), function() {
                function e(e, t) {
                    var n = this.range;
                    if (this._.end) return null;
                    if (!this._.start) {
                        if (this._.start = 1, n.collapsed) return this.end(), null;
                        n.optimize()
                    }
                    var r, i = n.startContainer;
                    r = n.endContainer;
                    var o, a = n.startOffset,
                        s = n.endOffset,
                        l = this.guard,
                        c = this.type,
                        u = e ? "getPreviousSourceNode" : "getNextSourceNode";
                    if (!e && !this._.guardLTR) {
                        var d = r.type == CKEDITOR.NODE_ELEMENT ? r : r.getParent(),
                            h = r.type == CKEDITOR.NODE_ELEMENT ? r.getChild(s) : r.getNext();
                        this._.guardLTR = function(e, t) {
                            return !(t && d.equals(e) || h && e.equals(h) || e.type == CKEDITOR.NODE_ELEMENT && t && e.equals(n.root))
                        }
                    }
                    if (e && !this._.guardRTL) {
                        var p = i.type == CKEDITOR.NODE_ELEMENT ? i : i.getParent(),
                            f = i.type == CKEDITOR.NODE_ELEMENT ? a ? i.getChild(a - 1) : null : i.getPrevious();
                        this._.guardRTL = function(e, t) {
                            return !(t && p.equals(e) || f && e.equals(f) || e.type == CKEDITOR.NODE_ELEMENT && t && e.equals(n.root))
                        }
                    }
                    var m = e ? this._.guardRTL : this._.guardLTR;
                    for (o = l ? function(e, t) {
                            return !1 !== m(e, t) && l(e, t)
                        } : m, this.current ? r = this.current[u](!1, c, o) : (e ? r.type == CKEDITOR.NODE_ELEMENT && (r = 0 < s ? r.getChild(s - 1) : !1 === o(r, !0) ? null : r.getPreviousSourceNode(!0, c, o)) : (r = i).type == CKEDITOR.NODE_ELEMENT && ((r = r.getChild(a)) || (r = !1 === o(i, !0) ? null : i.getNextSourceNode(!0, c, o))), r && !1 === o(r) && (r = null)); r && !this._.end;) {
                        if (this.current = r, this.evaluator && !1 === this.evaluator(r)) {
                            if (t && this.evaluator) return !1
                        } else if (!t) return r;
                        r = r[u](!1, c, o)
                    }
                    return this.end(), this.current = null
                }

                function t(t) {
                    for (var n, r = null; n = e.call(this, t);) r = n;
                    return r
                }
                CKEDITOR.dom.walker = CKEDITOR.tools.createClass({
                    $: function(e) {
                        this.range = e, this._ = {}
                    },
                    proto: {
                        end: function() {
                            this._.end = 1
                        },
                        next: function() {
                            return e.call(this)
                        },
                        previous: function() {
                            return e.call(this, 1)
                        },
                        checkForward: function() {
                            return !1 !== e.call(this, 0, 1)
                        },
                        checkBackward: function() {
                            return !1 !== e.call(this, 1, 1)
                        },
                        lastForward: function() {
                            return t.call(this)
                        },
                        lastBackward: function() {
                            return t.call(this, 1)
                        },
                        reset: function() {
                            delete this.current, this._ = {}
                        }
                    }
                });
                var n = {
                        block: 1,
                        "list-item": 1,
                        table: 1,
                        "table-row-group": 1,
                        "table-header-group": 1,
                        "table-footer-group": 1,
                        "table-row": 1,
                        "table-column-group": 1,
                        "table-column": 1,
                        "table-cell": 1,
                        "table-caption": 1
                    },
                    r = {
                        absolute: 1,
                        fixed: 1
                    };
                CKEDITOR.dom.element.prototype.isBlockBoundary = function(e) {
                    return !("none" != this.getComputedStyle("float") || this.getComputedStyle("position") in r || !n[this.getComputedStyle("display")]) || !!(this.is(CKEDITOR.dtd.$block) || e && this.is(e))
                }, CKEDITOR.dom.walker.blockBoundary = function(e) {
                    return function(t) {
                        return !(t.type == CKEDITOR.NODE_ELEMENT && t.isBlockBoundary(e))
                    }
                }, CKEDITOR.dom.walker.listItemBoundary = function() {
                    return this.blockBoundary({
                        br: 1
                    })
                }, CKEDITOR.dom.walker.bookmark = function(e, t) {
                    function n(e) {
                        return e && e.getName && "span" == e.getName() && e.data("cke-bookmark")
                    }
                    return function(r) {
                        var i, o;
                        return i = r && r.type != CKEDITOR.NODE_ELEMENT && (o = r.getParent()) && n(o), i = e ? i : i || n(r), !!(t ^ i)
                    }
                }, CKEDITOR.dom.walker.whitespaces = function(e) {
                    return function(t) {
                        var n;
                        return t && t.type == CKEDITOR.NODE_TEXT && (n = !CKEDITOR.tools.trim(t.getText()) || CKEDITOR.env.webkit && t.getText() == CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE), !!(e ^ n)
                    }
                }, CKEDITOR.dom.walker.invisible = function(e) {
                    var t = CKEDITOR.dom.walker.whitespaces(),
                        n = CKEDITOR.env.webkit ? 1 : 0;
                    return function(r) {
                        return t(r) ? r = 1 : (r.type == CKEDITOR.NODE_TEXT && (r = r.getParent()), r = r.$.offsetWidth <= n), !!(e ^ r)
                    }
                }, CKEDITOR.dom.walker.nodeType = function(e, t) {
                    return function(n) {
                        return !!(t ^ n.type == e)
                    }
                }, CKEDITOR.dom.walker.bogus = function(e) {
                    function t(e) {
                        return !o(e) && !a(e)
                    }
                    return function(n) {
                        var r = CKEDITOR.env.needsBrFiller ? n.is && n.is("br") : n.getText && i.test(n.getText());
                        return r && (r = n.getParent(), n = n.getNext(t), r = r.isBlockBoundary() && (!n || n.type == CKEDITOR.NODE_ELEMENT && n.isBlockBoundary())), !!(e ^ r)
                    }
                }, CKEDITOR.dom.walker.temp = function(e) {
                    return function(t) {
                        return t.type != CKEDITOR.NODE_ELEMENT && (t = t.getParent()), t = t && t.hasAttribute("data-cke-temp"), !!(e ^ t)
                    }
                };
                var i = /^[\t\r\n ]*(?:&nbsp;|\xa0)$/,
                    o = CKEDITOR.dom.walker.whitespaces(),
                    a = CKEDITOR.dom.walker.bookmark(),
                    s = CKEDITOR.dom.walker.temp(),
                    l = function(e) {
                        return a(e) || o(e) || e.type == CKEDITOR.NODE_ELEMENT && e.is(CKEDITOR.dtd.$inline) && !e.is(CKEDITOR.dtd.$empty)
                    };
                CKEDITOR.dom.walker.ignored = function(e) {
                    return function(t) {
                        return t = o(t) || a(t) || s(t), !!(e ^ t)
                    }
                };
                var c = CKEDITOR.dom.walker.ignored();
                CKEDITOR.dom.walker.empty = function(e) {
                    return function(t) {
                        for (var n = 0, r = t.getChildCount(); n < r; ++n)
                            if (!c(t.getChild(n))) return !!e;
                        return !e
                    }
                };
                var u = CKEDITOR.dom.walker.empty(),
                    d = CKEDITOR.dom.walker.validEmptyBlockContainers = CKEDITOR.tools.extend(function(e) {
                        var t, n = {};
                        for (t in e) CKEDITOR.dtd[t]["#"] && (n[t] = 1);
                        return n
                    }(CKEDITOR.dtd.$block), {
                        caption: 1,
                        td: 1,
                        th: 1
                    });
                CKEDITOR.dom.walker.editable = function(e) {
                    return function(t) {
                        return t = !c(t) && !!(t.type == CKEDITOR.NODE_TEXT || t.type == CKEDITOR.NODE_ELEMENT && (t.is(CKEDITOR.dtd.$inline) || t.is("hr") || "false" == t.getAttribute("contenteditable") || !CKEDITOR.env.needsBrFiller && t.is(d) && u(t))), !!(e ^ t)
                    }
                }, CKEDITOR.dom.element.prototype.getBogus = function() {
                    var e = this;
                    do {
                        e = e.getPreviousSourceNode()
                    } while (l(e));
                    return !(!e || !(CKEDITOR.env.needsBrFiller ? e.is && e.is("br") : e.getText && i.test(e.getText()))) && e
                }
            }(), CKEDITOR.dom.range = function(e) {
                this.endOffset = this.endContainer = this.startOffset = this.startContainer = null, this.collapsed = !0;
                var t = e instanceof CKEDITOR.dom.document;
                this.document = t ? e : e.getDocument(), this.root = t ? e.getBody() : e
            }, function() {
                function e(e) {
                    e.collapsed = e.startContainer && e.endContainer && e.startContainer.equals(e.endContainer) && e.startOffset == e.endOffset
                }

                function t(e, t, n, r, i) {
                    function o(e, t, n, r) {
                        var o = n ? e.getPrevious() : e.getNext();
                        return r && a ? o : (l || r ? t.append(e.clone(!0, i), n) : (e.remove(), s && t.append(e, n)), o)
                    }
                    e.optimizeBookmark();
                    var a = 0 === t,
                        s = 1 == t,
                        l = 2 == t;
                    t = l || s;
                    var c, u, d, h, p, f, m = e.startContainer,
                        g = e.endContainer,
                        E = e.startOffset,
                        b = e.endOffset;
                    if (l && g.type == CKEDITOR.NODE_TEXT && (m.equals(g) || m.type === CKEDITOR.NODE_ELEMENT && m.getFirst().equals(g))) n.append(e.document.createText(g.substring(E, b)));
                    else {
                        g.type == CKEDITOR.NODE_TEXT ? l ? f = !0 : g = g.split(b) : 0 < g.getChildCount() ? b >= g.getChildCount() ? (g = g.getChild(b - 1), u = !0) : g = g.getChild(b) : h = u = !0, m.type == CKEDITOR.NODE_TEXT ? l ? p = !0 : m.split(E) : 0 < m.getChildCount() ? 0 === E ? (m = m.getChild(E), c = !0) : m = m.getChild(E - 1) : d = c = !0;
                        for (var v, T, y, C = m.getParents(), k = g.getParents(), w = function() {
                                var e, t = Math.min(C.length, k.length);
                                for (e = 0; e < t; e++)
                                    if (!C[e].equals(k[e])) return e;
                                return e - 1
                            }(), _ = C.length - 1, x = k.length - 1, D = n, O = -1, R = w; R <= _; R++) {
                            for (y = (T = C[R]).getNext(), R != _ || T.equals(k[R]) && _ < x ? t && (v = D.append(T.clone(0, i))) : c ? o(T, D, !1, d) : p && D.append(e.document.createText(T.substring(E))); y;) {
                                if (y.equals(k[R])) {
                                    O = R;
                                    break
                                }
                                y = o(y, D)
                            }
                            D = v
                        }
                        for (D = n, R = w; R <= x; R++)
                            if (y = (n = k[R]).getPrevious(), n.equals(C[R])) t && (D = D.getChild(0));
                            else {
                                if (R != x || n.equals(C[R]) && x < _ ? t && (v = D.append(n.clone(0, i))) : u ? o(n, D, !1, h) : f && D.append(e.document.createText(n.substring(0, b))), R > O)
                                    for (; y;) y = o(y, D, !0);
                                D = v
                            }
                        l || function() {
                            var t = w - 1,
                                n = d && h && !m.equals(g);
                            t < _ - 1 || t < x - 1 || n ? (n ? e.moveToPosition(g, CKEDITOR.POSITION_BEFORE_START) : x == t + 1 && u ? e.moveToPosition(k[t], CKEDITOR.POSITION_BEFORE_END) : e.moveToPosition(k[t + 1], CKEDITOR.POSITION_BEFORE_START), r && (t = C[t + 1]) && t.type == CKEDITOR.NODE_ELEMENT && ((n = CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>', e.document)).insertAfter(t), t.mergeSiblings(!1), e.moveToBookmark({
                                startNode: n
                            }))) : e.collapse(!0)
                        }()
                    }
                }

                function n() {
                    var e = !1,
                        t = CKEDITOR.dom.walker.whitespaces(),
                        n = CKEDITOR.dom.walker.bookmark(!0),
                        r = CKEDITOR.dom.walker.bogus();
                    return function(o) {
                        return !(!n(o) && !t(o)) || (r(o) && !e ? e = !0 : !(o.type == CKEDITOR.NODE_TEXT && (o.hasAscendant("pre") || CKEDITOR.tools.trim(o.getText()).length) || o.type == CKEDITOR.NODE_ELEMENT && !o.is(i)))
                    }
                }

                function r(e) {
                    return function() {
                        var t;
                        return this[e ? "getPreviousNode" : "getNextNode"](function(e) {
                            return !t && l(e) && (t = e), s(e) && !(o(e) && e.equals(t))
                        })
                    }
                }
                var i = {
                        abbr: 1,
                        acronym: 1,
                        b: 1,
                        bdo: 1,
                        big: 1,
                        cite: 1,
                        code: 1,
                        del: 1,
                        dfn: 1,
                        em: 1,
                        font: 1,
                        i: 1,
                        ins: 1,
                        label: 1,
                        kbd: 1,
                        q: 1,
                        samp: 1,
                        small: 1,
                        span: 1,
                        strike: 1,
                        strong: 1,
                        sub: 1,
                        sup: 1,
                        tt: 1,
                        u: 1,
                        var: 1
                    },
                    o = CKEDITOR.dom.walker.bogus(),
                    a = /^[\t\r\n ]*(?:&nbsp;|\xa0)$/,
                    s = CKEDITOR.dom.walker.editable(),
                    l = CKEDITOR.dom.walker.ignored(!0);
                CKEDITOR.dom.range.prototype = {
                    clone: function() {
                        var e = new CKEDITOR.dom.range(this.root);
                        return e._setStartContainer(this.startContainer), e.startOffset = this.startOffset, e._setEndContainer(this.endContainer), e.endOffset = this.endOffset, e.collapsed = this.collapsed, e
                    },
                    collapse: function(e) {
                        e ? (this._setEndContainer(this.startContainer), this.endOffset = this.startOffset) : (this._setStartContainer(this.endContainer), this.startOffset = this.endOffset), this.collapsed = !0
                    },
                    cloneContents: function(e) {
                        var n = new CKEDITOR.dom.documentFragment(this.document);
                        return this.collapsed || t(this, 2, n, !1, void 0 === e || e), n
                    },
                    deleteContents: function(e) {
                        this.collapsed || t(this, 0, null, e)
                    },
                    extractContents: function(e, n) {
                        var r = new CKEDITOR.dom.documentFragment(this.document);
                        return this.collapsed || t(this, 1, r, e, void 0 === n || n), r
                    },
                    createBookmark: function(e) {
                        var t, n, r, i, o = this.collapsed;
                        return (t = this.document.createElement("span")).data("cke-bookmark", 1), t.setStyle("display", "none"), t.setHtml("&nbsp;"), e && (r = "cke_bm_" + CKEDITOR.tools.getNextNumber(), t.setAttribute("id", r + (o ? "C" : "S"))), o || ((n = t.clone()).setHtml("&nbsp;"), e && n.setAttribute("id", r + "E"), (i = this.clone()).collapse(), i.insertNode(n)), (i = this.clone()).collapse(!0), i.insertNode(t), n ? (this.setStartAfter(t), this.setEndBefore(n)) : this.moveToPosition(t, CKEDITOR.POSITION_AFTER_END), {
                            startNode: e ? r + (o ? "C" : "S") : t,
                            endNode: e ? r + "E" : n,
                            serializable: e,
                            collapsed: o
                        }
                    },
                    createBookmark2: function() {
                        function e(e) {
                            var t, r = e.container,
                                i = e.offset,
                                o = i;
                            if ((t = (t = r).type != CKEDITOR.NODE_ELEMENT || 0 === o || o == t.getChildCount() ? 0 : t.getChild(o - 1).type == CKEDITOR.NODE_TEXT && t.getChild(o).type == CKEDITOR.NODE_TEXT) && (i = (r = r.getChild(i - 1)).getLength()), r.type == CKEDITOR.NODE_ELEMENT && 0 < i) {
                                e: {
                                    for (t = r; i--;)
                                        if (0 <= (o = t.getChild(i).getIndex(!0))) {
                                            i = o;
                                            break e
                                        }
                                    i = -1
                                }
                                i += 1
                            }
                            if (r.type == CKEDITOR.NODE_TEXT) {
                                for (t = r, o = 0;
                                    (t = t.getPrevious()) && t.type == CKEDITOR.NODE_TEXT;) o += t.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE, "").length;
                                t = o, r.getText() ? i += t : (o = r.getPrevious(n), t ? (i = t, r = o ? o.getNext() : r.getParent().getFirst()) : (r = r.getParent(), i = o ? o.getIndex(!0) + 1 : 0))
                            }
                            e.container = r, e.offset = i
                        }

                        function t(e, t) {
                            var n = t.getCustomData("cke-fillingChar");
                            if (n) {
                                var r = e.container;
                                n.equals(r) && (e.offset -= CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length, 0 >= e.offset && (e.offset = r.getIndex(), e.container = r.getParent()))
                            }
                        }
                        var n = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT, !0);
                        return function(n) {
                            var r = this.collapsed,
                                i = {
                                    container: this.startContainer,
                                    offset: this.startOffset
                                },
                                o = {
                                    container: this.endContainer,
                                    offset: this.endOffset
                                };
                            return n && (e(i), t(i, this.root), r || (e(o), t(o, this.root))), {
                                start: i.container.getAddress(n),
                                end: r ? null : o.container.getAddress(n),
                                startOffset: i.offset,
                                endOffset: o.offset,
                                normalized: n,
                                collapsed: r,
                                is2: !0
                            }
                        }
                    }(),
                    moveToBookmark: function(e) {
                        if (e.is2) {
                            var t = this.document.getByAddress(e.start, e.normalized),
                                n = e.startOffset,
                                r = e.end && this.document.getByAddress(e.end, e.normalized);
                            e = e.endOffset, this.setStart(t, n), r ? this.setEnd(r, e) : this.collapse(!0)
                        } else t = (n = e.serializable) ? this.document.getById(e.startNode) : e.startNode, e = n ? this.document.getById(e.endNode) : e.endNode, this.setStartBefore(t), t.remove(), e ? (this.setEndBefore(e), e.remove()) : this.collapse(!0)
                    },
                    getBoundaryNodes: function() {
                        var e, t = this.startContainer,
                            n = this.endContainer,
                            r = this.startOffset,
                            i = this.endOffset;
                        if (t.type == CKEDITOR.NODE_ELEMENT)
                            if ((e = t.getChildCount()) > r) t = t.getChild(r);
                            else if (1 > e) t = t.getPreviousSourceNode();
                        else {
                            for (t = t.$; t.lastChild;) t = t.lastChild;
                            t = (t = new CKEDITOR.dom.node(t)).getNextSourceNode() || t
                        }
                        if (n.type == CKEDITOR.NODE_ELEMENT)
                            if ((e = n.getChildCount()) > i) n = n.getChild(i).getPreviousSourceNode(!0);
                            else if (1 > e) n = n.getPreviousSourceNode();
                        else {
                            for (n = n.$; n.lastChild;) n = n.lastChild;
                            n = new CKEDITOR.dom.node(n)
                        }
                        return t.getPosition(n) & CKEDITOR.POSITION_FOLLOWING && (t = n), {
                            startNode: t,
                            endNode: n
                        }
                    },
                    getCommonAncestor: function(e, t) {
                        var n = this.endContainer,
                            r = (r = this.startContainer).equals(n) ? e && r.type == CKEDITOR.NODE_ELEMENT && this.startOffset == this.endOffset - 1 ? r.getChild(this.startOffset) : r : r.getCommonAncestor(n);
                        return t && !r.is ? r.getParent() : r
                    },
                    optimize: function() {
                        var e = this.startContainer,
                            t = this.startOffset;
                        e.type != CKEDITOR.NODE_ELEMENT && (t ? t >= e.getLength() && this.setStartAfter(e) : this.setStartBefore(e)), t = this.endOffset, (e = this.endContainer).type != CKEDITOR.NODE_ELEMENT && (t ? t >= e.getLength() && this.setEndAfter(e) : this.setEndBefore(e))
                    },
                    optimizeBookmark: function() {
                        var e = this.startContainer,
                            t = this.endContainer;
                        e.is && e.is("span") && e.data("cke-bookmark") && this.setStartAt(e, CKEDITOR.POSITION_BEFORE_START), t && t.is && t.is("span") && t.data("cke-bookmark") && this.setEndAt(t, CKEDITOR.POSITION_AFTER_END)
                    },
                    trim: function(e, t) {
                        var n = this.startContainer,
                            r = this.startOffset,
                            i = this.collapsed;
                        if ((!e || i) && n && n.type == CKEDITOR.NODE_TEXT) {
                            if (r)
                                if (r >= n.getLength()) r = n.getIndex() + 1, n = n.getParent();
                                else {
                                    var o = n.split(r);
                                    r = n.getIndex() + 1, n = n.getParent(), this.startContainer.equals(this.endContainer) ? this.setEnd(o, this.endOffset - this.startOffset) : n.equals(this.endContainer) && (this.endOffset += 1)
                                }
                            else r = n.getIndex(), n = n.getParent();
                            if (this.setStart(n, r), i) return void this.collapse(!0)
                        }
                        n = this.endContainer, r = this.endOffset, t || i || !n || n.type != CKEDITOR.NODE_TEXT || (r ? (r >= n.getLength() || n.split(r), r = n.getIndex() + 1) : r = n.getIndex(), n = n.getParent(), this.setEnd(n, r))
                    },
                    enlarge: function(e, t) {
                        function n(e) {
                            return e && e.type == CKEDITOR.NODE_ELEMENT && e.hasAttribute("contenteditable") ? null : e
                        }
                        var r = new RegExp(/[^\s\ufeff]/);
                        switch (e) {
                            case CKEDITOR.ENLARGE_INLINE:
                                var i = 1;
                            case CKEDITOR.ENLARGE_ELEMENT:
                                var o = function(e, t) {
                                    var n, i;
                                    for ((n = new CKEDITOR.dom.range(f)).setStart(e, t), n.setEndAt(f, CKEDITOR.POSITION_BEFORE_END), (n = new CKEDITOR.dom.walker(n)).guard = function(e) {
                                            return !(e.type == CKEDITOR.NODE_ELEMENT && e.isBlockBoundary())
                                        }; i = n.next();) {
                                        if (i.type != CKEDITOR.NODE_TEXT) return !1;
                                        if (h = i != e ? i.getText() : i.substring(t), r.test(h)) return !1
                                    }
                                    return !0
                                };
                                if (this.collapsed) break;
                                var a, s, l, c, u, d, h, p = this.getCommonAncestor(),
                                    f = this.root,
                                    m = !1,
                                    g = this.startOffset;
                                for ((d = this.startContainer).type == CKEDITOR.NODE_TEXT ? (g && (m = !!(d = !CKEDITOR.tools.trim(d.substring(0, g)).length && d)), d && ((c = d.getPrevious()) || (l = d.getParent()))) : (g && (c = d.getChild(g - 1) || d.getLast()), c || (l = d)), l = n(l); l || c;) {
                                    if (l && !c) {
                                        if (!u && l.equals(p) && (u = !0), i ? l.isBlockBoundary() : !f.contains(l)) break;
                                        m && "inline" == l.getComputedStyle("display") || (m = !1, u ? a = l : this.setStartBefore(l)), c = l.getPrevious()
                                    }
                                    for (; c;)
                                        if (d = !1, c.type == CKEDITOR.NODE_COMMENT) c = c.getPrevious();
                                        else {
                                            if (c.type == CKEDITOR.NODE_TEXT) h = c.getText(), r.test(h) && (c = null), d = /[\s\ufeff]$/.test(h);
                                            else if ((c.$.offsetWidth > (CKEDITOR.env.webkit ? 1 : 0) || t && c.is("br")) && !c.data("cke-bookmark"))
                                                if (m && CKEDITOR.dtd.$removeEmpty[c.getName()]) {
                                                    if (h = c.getText(), r.test(h)) c = null;
                                                    else {
                                                        g = c.$.getElementsByTagName("*");
                                                        for (var E, b = 0; E = g[b++];)
                                                            if (!CKEDITOR.dtd.$removeEmpty[E.nodeName.toLowerCase()]) {
                                                                c = null;
                                                                break
                                                            }
                                                    }
                                                    c && (d = !!h.length)
                                                } else c = null;
                                            if (d && (m ? u ? a = l : l && this.setStartBefore(l) : m = !0), c) {
                                                if (d = c.getPrevious(), !l && !d) {
                                                    l = c, c = null;
                                                    break
                                                }
                                                c = d
                                            } else l = null
                                        }
                                    l && (l = n(l.getParent()))
                                }
                                for (g = this.endOffset, l = c = null, u = m = !1, (d = this.endContainer).type == CKEDITOR.NODE_TEXT ? CKEDITOR.tools.trim(d.substring(g)).length ? m = !0 : (m = !d.getLength(), g == d.getLength() ? (c = d.getNext()) || (l = d.getParent()) : o(d, g) && (l = d.getParent())) : (c = d.getChild(g)) || (l = d); l || c;) {
                                    if (l && !c) {
                                        if (!u && l.equals(p) && (u = !0), i ? l.isBlockBoundary() : !f.contains(l)) break;
                                        m && "inline" == l.getComputedStyle("display") || (m = !1, u ? s = l : l && this.setEndAfter(l)), c = l.getNext()
                                    }
                                    for (; c;) {
                                        if (d = !1, c.type == CKEDITOR.NODE_TEXT) h = c.getText(), o(c, 0) || (c = null), d = /^[\s\ufeff]/.test(h);
                                        else if (c.type == CKEDITOR.NODE_ELEMENT) {
                                            if ((0 < c.$.offsetWidth || t && c.is("br")) && !c.data("cke-bookmark"))
                                                if (m && CKEDITOR.dtd.$removeEmpty[c.getName()]) {
                                                    if (h = c.getText(), r.test(h)) c = null;
                                                    else
                                                        for (g = c.$.getElementsByTagName("*"), b = 0; E = g[b++];)
                                                            if (!CKEDITOR.dtd.$removeEmpty[E.nodeName.toLowerCase()]) {
                                                                c = null;
                                                                break
                                                            }
                                                    c && (d = !!h.length)
                                                } else c = null
                                        } else d = 1;
                                        if (d && m && (u ? s = l : this.setEndAfter(l)), c) {
                                            if (d = c.getNext(), !l && !d) {
                                                l = c, c = null;
                                                break
                                            }
                                            c = d
                                        } else l = null
                                    }
                                    l && (l = n(l.getParent()))
                                }
                                a && s && (p = a.contains(s) ? s : a, this.setStartBefore(p), this.setEndAfter(p));
                                break;
                            case CKEDITOR.ENLARGE_BLOCK_CONTENTS:
                            case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:
                                (l = new CKEDITOR.dom.range(this.root)).setStartAt(f = this.root, CKEDITOR.POSITION_AFTER_START), l.setEnd(this.startContainer, this.startOffset), l = new CKEDITOR.dom.walker(l);
                                var v, T, y = CKEDITOR.dom.walker.blockBoundary(e == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS ? {
                                        br: 1
                                    } : null),
                                    C = null,
                                    k = function(e) {
                                        if (e.type == CKEDITOR.NODE_ELEMENT && "false" == e.getAttribute("contenteditable"))
                                            if (C) {
                                                if (C.equals(e)) return void(C = null)
                                            } else C = e;
                                        else if (C) return;
                                        var t = y(e);
                                        return t || (v = e), t
                                    };
                                if (i = function(e) {
                                        var t = k(e);
                                        return !t && e.is && e.is("br") && (T = e), t
                                    }, l.guard = k, l = l.lastBackward(), this.setStartAt(v = v || f, !v.is("br") && (!l && this.checkStartOfBlock() || l && v.contains(l)) ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_AFTER_END), e == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS) {
                                    l = this.clone(), l = new CKEDITOR.dom.walker(l);
                                    var w = CKEDITOR.dom.walker.whitespaces(),
                                        _ = CKEDITOR.dom.walker.bookmark();
                                    if (l.evaluator = function(e) {
                                            return !w(e) && !_(e)
                                        }, (l = l.previous()) && l.type == CKEDITOR.NODE_ELEMENT && l.is("br")) break
                                }(l = this.clone()).collapse(), l.setEndAt(f, CKEDITOR.POSITION_BEFORE_END), (l = new CKEDITOR.dom.walker(l)).guard = e == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS ? i : k, v = C = T = null, l = l.lastForward(), this.setEndAt(v = v || f, !l && this.checkEndOfBlock() || l && v.contains(l) ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_BEFORE_START), T && this.setEndAfter(T)
                        }
                    },
                    shrink: function(e, t, n) {
                        var r = "boolean" == typeof n ? n : !n || "boolean" != typeof n.shrinkOnBlockBoundary || n.shrinkOnBlockBoundary,
                            i = n && n.skipBogus;
                        if (!this.collapsed) {
                            e = e || CKEDITOR.SHRINK_TEXT;
                            var o = this.clone(),
                                a = this.startContainer,
                                s = this.endContainer,
                                l = this.startOffset,
                                c = this.endOffset,
                                u = n = 1;
                            a && a.type == CKEDITOR.NODE_TEXT && (l ? l >= a.getLength() ? o.setStartAfter(a) : (o.setStartBefore(a), n = 0) : o.setStartBefore(a)), s && s.type == CKEDITOR.NODE_TEXT && (c ? c >= s.getLength() ? o.setEndAfter(s) : (o.setEndAfter(s), u = 0) : o.setEndBefore(s)), o = new CKEDITOR.dom.walker(o);
                            var d, h = CKEDITOR.dom.walker.bookmark(),
                                p = CKEDITOR.dom.walker.bogus();
                            return o.evaluator = function(t) {
                                return t.type == (e == CKEDITOR.SHRINK_ELEMENT ? CKEDITOR.NODE_ELEMENT : CKEDITOR.NODE_TEXT)
                            }, o.guard = function(t, n) {
                                return !!(i && p(t) || h(t)) || !(e == CKEDITOR.SHRINK_ELEMENT && t.type == CKEDITOR.NODE_TEXT || n && t.equals(d) || !1 === r && t.type == CKEDITOR.NODE_ELEMENT && t.isBlockBoundary() || t.type == CKEDITOR.NODE_ELEMENT && t.hasAttribute("contenteditable")) && (n || t.type != CKEDITOR.NODE_ELEMENT || (d = t), !0)
                            }, n && (a = o[e == CKEDITOR.SHRINK_ELEMENT ? "lastForward" : "next"]()) && this.setStartAt(a, t ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_START), u && (o.reset(), (o = o[e == CKEDITOR.SHRINK_ELEMENT ? "lastBackward" : "previous"]()) && this.setEndAt(o, t ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_AFTER_END)), !(!n && !u)
                        }
                    },
                    insertNode: function(e) {
                        this.optimizeBookmark(), this.trim(!1, !0);
                        var t = this.startContainer,
                            n = t.getChild(this.startOffset);
                        n ? e.insertBefore(n) : t.append(e), e.getParent() && e.getParent().equals(this.endContainer) && this.endOffset++, this.setStartBefore(e)
                    },
                    moveToPosition: function(e, t) {
                        this.setStartAt(e, t), this.collapse(!0)
                    },
                    moveToRange: function(e) {
                        this.setStart(e.startContainer, e.startOffset), this.setEnd(e.endContainer, e.endOffset)
                    },
                    selectNodeContents: function(e) {
                        this.setStart(e, 0), this.setEnd(e, e.type == CKEDITOR.NODE_TEXT ? e.getLength() : e.getChildCount())
                    },
                    setStart: function(t, n) {
                        t.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$empty[t.getName()] && (n = t.getIndex(), t = t.getParent()), this._setStartContainer(t), this.startOffset = n, this.endContainer || (this._setEndContainer(t), this.endOffset = n), e(this)
                    },
                    setEnd: function(t, n) {
                        t.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$empty[t.getName()] && (n = t.getIndex() + 1, t = t.getParent()), this._setEndContainer(t), this.endOffset = n, this.startContainer || (this._setStartContainer(t), this.startOffset = n), e(this)
                    },
                    setStartAfter: function(e) {
                        this.setStart(e.getParent(), e.getIndex() + 1)
                    },
                    setStartBefore: function(e) {
                        this.setStart(e.getParent(), e.getIndex())
                    },
                    setEndAfter: function(e) {
                        this.setEnd(e.getParent(), e.getIndex() + 1)
                    },
                    setEndBefore: function(e) {
                        this.setEnd(e.getParent(), e.getIndex())
                    },
                    setStartAt: function(t, n) {
                        switch (n) {
                            case CKEDITOR.POSITION_AFTER_START:
                                this.setStart(t, 0);
                                break;
                            case CKEDITOR.POSITION_BEFORE_END:
                                t.type == CKEDITOR.NODE_TEXT ? this.setStart(t, t.getLength()) : this.setStart(t, t.getChildCount());
                                break;
                            case CKEDITOR.POSITION_BEFORE_START:
                                this.setStartBefore(t);
                                break;
                            case CKEDITOR.POSITION_AFTER_END:
                                this.setStartAfter(t)
                        }
                        e(this)
                    },
                    setEndAt: function(t, n) {
                        switch (n) {
                            case CKEDITOR.POSITION_AFTER_START:
                                this.setEnd(t, 0);
                                break;
                            case CKEDITOR.POSITION_BEFORE_END:
                                t.type == CKEDITOR.NODE_TEXT ? this.setEnd(t, t.getLength()) : this.setEnd(t, t.getChildCount());
                                break;
                            case CKEDITOR.POSITION_BEFORE_START:
                                this.setEndBefore(t);
                                break;
                            case CKEDITOR.POSITION_AFTER_END:
                                this.setEndAfter(t)
                        }
                        e(this)
                    },
                    fixBlock: function(e, t) {
                        var n = this.createBookmark(),
                            r = this.document.createElement(t);
                        this.collapse(e), this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS), this.extractContents().appendTo(r), r.trim(), this.insertNode(r);
                        var i = r.getBogus();
                        return i && i.remove(), r.appendBogus(), this.moveToBookmark(n), r
                    },
                    splitBlock: function(e, t) {
                        var n = new CKEDITOR.dom.elementPath(this.startContainer, this.root),
                            r = new CKEDITOR.dom.elementPath(this.endContainer, this.root),
                            i = n.block,
                            o = r.block,
                            a = null;
                        return n.blockLimit.equals(r.blockLimit) ? ("br" != e && (i || (i = this.fixBlock(!0, e), o = new CKEDITOR.dom.elementPath(this.endContainer, this.root).block), o || (o = this.fixBlock(!1, e))), n = i && this.checkStartOfBlock(), r = o && this.checkEndOfBlock(), this.deleteContents(), i && i.equals(o) && (r ? (a = new CKEDITOR.dom.elementPath(this.startContainer, this.root), this.moveToPosition(o, CKEDITOR.POSITION_AFTER_END), o = null) : n ? (a = new CKEDITOR.dom.elementPath(this.startContainer, this.root), this.moveToPosition(i, CKEDITOR.POSITION_BEFORE_START), i = null) : (o = this.splitElement(i, t || !1), i.is("ul", "ol") || i.appendBogus())), {
                            previousBlock: i,
                            nextBlock: o,
                            wasStartOfBlock: n,
                            wasEndOfBlock: r,
                            elementPath: a
                        }) : null
                    },
                    splitElement: function(e, t) {
                        if (!this.collapsed) return null;
                        this.setEndAt(e, CKEDITOR.POSITION_BEFORE_END);
                        var n = this.extractContents(!1, t || !1),
                            r = e.clone(!1, t || !1);
                        return n.appendTo(r), r.insertAfter(e), this.moveToPosition(e, CKEDITOR.POSITION_AFTER_END), r
                    },
                    removeEmptyBlocksAtEnd: function() {
                        function e(e) {
                            return function(r) {
                                return !(t(r) || n(r) || r.type == CKEDITOR.NODE_ELEMENT && r.isEmptyInlineRemoveable() || e.is("table") && r.is("caption"))
                            }
                        }
                        var t = CKEDITOR.dom.walker.whitespaces(),
                            n = CKEDITOR.dom.walker.bookmark(!1);
                        return function(t) {
                            for (var n, r = this.createBookmark(), i = this[t ? "endPath" : "startPath"](), o = i.block || i.blockLimit; o && !o.equals(i.root) && !o.getFirst(e(o));) n = o.getParent(), this[t ? "setEndAt" : "setStartAt"](o, CKEDITOR.POSITION_AFTER_END), o.remove(1), o = n;
                            this.moveToBookmark(r)
                        }
                    }(),
                    startPath: function() {
                        return new CKEDITOR.dom.elementPath(this.startContainer, this.root)
                    },
                    endPath: function() {
                        return new CKEDITOR.dom.elementPath(this.endContainer, this.root)
                    },
                    checkBoundaryOfElement: function(e, t) {
                        var n = t == CKEDITOR.START,
                            r = this.clone();
                        return r.collapse(n), r[n ? "setStartAt" : "setEndAt"](e, n ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END), (r = new CKEDITOR.dom.walker(r)).evaluator = function(e) {
                            var t = CKEDITOR.dom.walker.whitespaces(),
                                n = CKEDITOR.dom.walker.bookmark(1);
                            return function(r) {
                                return !(!n(r) && !t(r)) || !e && o(r) || r.type == CKEDITOR.NODE_ELEMENT && r.is(CKEDITOR.dtd.$removeEmpty)
                            }
                        }(n), r[n ? "checkBackward" : "checkForward"]()
                    },
                    checkStartOfBlock: function() {
                        var e = this.startContainer,
                            t = this.startOffset;
                        return CKEDITOR.env.ie && t && e.type == CKEDITOR.NODE_TEXT && (e = CKEDITOR.tools.ltrim(e.substring(0, t)), a.test(e) && this.trim(0, 1)), this.trim(), e = new CKEDITOR.dom.elementPath(this.startContainer, this.root), (t = this.clone()).collapse(!0), t.setStartAt(e.block || e.blockLimit, CKEDITOR.POSITION_AFTER_START), (e = new CKEDITOR.dom.walker(t)).evaluator = n(), e.checkBackward()
                    },
                    checkEndOfBlock: function() {
                        var e = this.endContainer,
                            t = this.endOffset;
                        return CKEDITOR.env.ie && e.type == CKEDITOR.NODE_TEXT && (e = CKEDITOR.tools.rtrim(e.substring(t)), a.test(e) && this.trim(1, 0)), this.trim(), e = new CKEDITOR.dom.elementPath(this.endContainer, this.root), (t = this.clone()).collapse(!1), t.setEndAt(e.block || e.blockLimit, CKEDITOR.POSITION_BEFORE_END), (e = new CKEDITOR.dom.walker(t)).evaluator = n(), e.checkForward()
                    },
                    getPreviousNode: function(e, t, n) {
                        var r = this.clone();
                        return r.collapse(1), r.setStartAt(n || this.root, CKEDITOR.POSITION_AFTER_START), (n = new CKEDITOR.dom.walker(r)).evaluator = e, n.guard = t, n.previous()
                    },
                    getNextNode: function(e, t, n) {
                        var r = this.clone();
                        return r.collapse(), r.setEndAt(n || this.root, CKEDITOR.POSITION_BEFORE_END), (n = new CKEDITOR.dom.walker(r)).evaluator = e, n.guard = t, n.next()
                    },
                    checkReadOnly: function() {
                        function e(e, t) {
                            for (; e;) {
                                if (e.type == CKEDITOR.NODE_ELEMENT) {
                                    if ("false" == e.getAttribute("contentEditable") && !e.data("cke-editable")) return 0;
                                    if (e.is("html") || "true" == e.getAttribute("contentEditable") && (e.contains(t) || e.equals(t))) break
                                }
                                e = e.getParent()
                            }
                            return 1
                        }
                        return function() {
                            var t = this.startContainer,
                                n = this.endContainer;
                            return !(e(t, n) && e(n, t))
                        }
                    }(),
                    moveToElementEditablePosition: function(e, t) {
                        if (e.type == CKEDITOR.NODE_ELEMENT && !e.isEditable(!1)) return this.moveToPosition(e, t ? CKEDITOR.POSITION_AFTER_END : CKEDITOR.POSITION_BEFORE_START), !0;
                        for (var n = 0; e;) {
                            if (e.type == CKEDITOR.NODE_TEXT) {
                                t && this.endContainer && this.checkEndOfBlock() && a.test(e.getText()) ? this.moveToPosition(e, CKEDITOR.POSITION_BEFORE_START) : this.moveToPosition(e, t ? CKEDITOR.POSITION_AFTER_END : CKEDITOR.POSITION_BEFORE_START), n = 1;
                                break
                            }
                            if (e.type == CKEDITOR.NODE_ELEMENT)
                                if (e.isEditable()) this.moveToPosition(e, t ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_AFTER_START), n = 1;
                                else if (t && e.is("br") && this.endContainer && this.checkEndOfBlock()) this.moveToPosition(e, CKEDITOR.POSITION_BEFORE_START);
                            else if ("false" == e.getAttribute("contenteditable") && e.is(CKEDITOR.dtd.$block)) return this.setStartBefore(e), this.setEndAfter(e), !0;
                            var r = e,
                                i = n,
                                o = void 0;
                            r.type == CKEDITOR.NODE_ELEMENT && r.isEditable(!1) && (o = r[t ? "getLast" : "getFirst"](l)), i || o || (o = r[t ? "getPrevious" : "getNext"](l)), e = o
                        }
                        return !!n
                    },
                    moveToClosestEditablePosition: function(e, t) {
                        var n, r, i, o = 0,
                            a = [CKEDITOR.POSITION_AFTER_END, CKEDITOR.POSITION_BEFORE_START];
                        return e ? (n = new CKEDITOR.dom.range(this.root)).moveToPosition(e, a[t ? 0 : 1]) : n = this.clone(), e && !e.is(CKEDITOR.dtd.$block) ? o = 1 : (r = n[t ? "getNextEditableNode" : "getPreviousEditableNode"]()) && (o = 1, (i = r.type == CKEDITOR.NODE_ELEMENT) && r.is(CKEDITOR.dtd.$block) && "false" == r.getAttribute("contenteditable") ? (n.setStartAt(r, CKEDITOR.POSITION_BEFORE_START), n.setEndAt(r, CKEDITOR.POSITION_AFTER_END)) : !CKEDITOR.env.needsBrFiller && i && r.is(CKEDITOR.dom.walker.validEmptyBlockContainers) ? (n.setEnd(r, 0), n.collapse()) : n.moveToPosition(r, a[t ? 1 : 0])), o && this.moveToRange(n), !!o
                    },
                    moveToElementEditStart: function(e) {
                        return this.moveToElementEditablePosition(e)
                    },
                    moveToElementEditEnd: function(e) {
                        return this.moveToElementEditablePosition(e, !0)
                    },
                    getEnclosedNode: function() {
                        if ((e = this.clone()).optimize(), e.startContainer.type != CKEDITOR.NODE_ELEMENT || e.endContainer.type != CKEDITOR.NODE_ELEMENT) return null;
                        var e = new CKEDITOR.dom.walker(e),
                            t = CKEDITOR.dom.walker.bookmark(!1, !0),
                            n = CKEDITOR.dom.walker.whitespaces(!0);
                        e.evaluator = function(e) {
                            return n(e) && t(e)
                        };
                        var r = e.next();
                        return e.reset(), r && r.equals(e.previous()) ? r : null
                    },
                    getTouchedStartNode: function() {
                        var e = this.startContainer;
                        return this.collapsed || e.type != CKEDITOR.NODE_ELEMENT ? e : e.getChild(this.startOffset) || e
                    },
                    getTouchedEndNode: function() {
                        var e = this.endContainer;
                        return this.collapsed || e.type != CKEDITOR.NODE_ELEMENT ? e : e.getChild(this.endOffset - 1) || e
                    },
                    getNextEditableNode: r(),
                    getPreviousEditableNode: r(1),
                    _getTableElement: function(e) {
                        e = e || {
                            td: 1,
                            th: 1,
                            tr: 1,
                            tbody: 1,
                            thead: 1,
                            tfoot: 1,
                            table: 1
                        };
                        var t = this.startContainer,
                            n = this.endContainer,
                            r = t.getAscendant("table", !0),
                            i = n.getAscendant("table", !0);
                        return CKEDITOR.env.safari && r && n.equals(this.root) ? t.getAscendant(e, !0) : this.getEnclosedNode() ? this.getEnclosedNode().getAscendant(e, !0) : r && i && (r.equals(i) || r.contains(i) || i.contains(r)) ? t.getAscendant(e, !0) : null
                    },
                    scrollIntoView: function() {
                        var e, t, n, r = new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>", this.document),
                            i = this.clone();
                        i.optimize(), (n = i.startContainer.type == CKEDITOR.NODE_TEXT) ? (t = i.startContainer.getText(), e = i.startContainer.split(i.startOffset), r.insertAfter(i.startContainer)) : i.insertNode(r), r.scrollIntoView(), n && (i.startContainer.setText(t), e.remove()), r.remove()
                    },
                    getClientRects: function() {
                        function e(e, t, r) {
                            var i;
                            return t.collapsed ? r.startContainer instanceof CKEDITOR.dom.element ? (e = r.checkStartOfBlock(), i = new CKEDITOR.dom.text("\u200b"), e ? r.startContainer.append(i, !0) : 0 === r.startOffset ? i.insertBefore(r.startContainer.getFirst()) : (r = r.startContainer.getChildren().getItem(r.startOffset - 1), i.insertAfter(r)), t.setStart(i.$, 0), t.setEnd(i.$, 0), e = t.getClientRects(), i.remove()) : r.startContainer instanceof CKEDITOR.dom.text && ("" === r.startContainer.getText() ? (r.startContainer.setText("\u200b"), e = t.getClientRects(), r.startContainer.setText("")) : e = [n(r.createBookmark())]) : e = [n(r.createBookmark())], e
                        }

                        function t(e, t, n) {
                            return e = CKEDITOR.tools.extend({}, e), t && (e = CKEDITOR.tools.getAbsoluteRectPosition(n.document.getWindow(), e)), !e.width && (e.width = e.right - e.left), !e.height && (e.height = e.bottom - e.top), e
                        }

                        function n(e) {
                            var t, n = e.startNode;
                            return e = e.endNode, n.setText("\u200b"), n.removeStyle("display"), e ? (e.setText("\u200b"), e.removeStyle("display"), t = [n.getClientRect(), e.getClientRect()], e.remove()) : t = [n.getClientRect(), n.getClientRect()], n.remove(), {
                                right: Math.max(t[0].right, t[1].right),
                                bottom: Math.max(t[0].bottom, t[1].bottom),
                                left: Math.min(t[0].left, t[1].left),
                                top: Math.min(t[0].top, t[1].top),
                                width: Math.abs(t[0].left - t[1].left),
                                height: Math.max(t[0].bottom, t[1].bottom) - Math.min(t[0].top, t[1].top)
                            }
                        }
                        return void 0 !== this.document.getSelection ? function(n) {
                            var r, i = this.root.getDocument().$.createRange();
                            return i.setStart(this.startContainer.$, this.startOffset), i.setEnd(this.endContainer.$, this.endOffset), (r = function(e, t) {
                                var n, r, i, o = CKEDITOR.tools.array.map(e, function(e) {
                                        return e
                                    }),
                                    a = new CKEDITOR.dom.range(t.root);
                                if (t.startContainer instanceof CKEDITOR.dom.element && (r = 0 === t.startOffset && t.startContainer.hasAttribute("data-widget")), t.endContainer instanceof CKEDITOR.dom.element && (i = (i = t.endOffset === (t.endContainer.getChildCount ? t.endContainer.getChildCount() : t.endContainer.length)) && t.endContainer.hasAttribute("data-widget")), r && a.setStart(t.startContainer.getParent(), t.startContainer.getIndex()), i && a.setEnd(t.endContainer.getParent(), t.endContainer.getIndex() + 1), (r || i) && (t = a), a = t.cloneContents(), a = CKEDITOR.dom.document.prototype.find.call(a, "[data-cke-widget-id]").toArray(), a = CKEDITOR.tools.array.map(a, function(e) {
                                        var n = t.root.editor;
                                        return e = e.getAttribute("data-cke-widget-id"), n.widgets.instances[e].element
                                    })) return a = CKEDITOR.tools.array.map(a, function(e) {
                                    var t;
                                    return t = e.getParent().hasClass("cke_widget_wrapper") ? e.getParent() : e, (n = this.root.getDocument().$.createRange()).setStart(t.getParent().$, t.getIndex()), n.setEnd(t.getParent().$, t.getIndex() + 1), (t = n.getClientRects()).widgetRect = e.getClientRect(), t
                                }, t), CKEDITOR.tools.array.forEach(a, function(e) {
                                    var t;
                                    ! function n(r) {
                                        CKEDITOR.tools.array.forEach(o, function(n, i) {
                                            var a = CKEDITOR.tools.objectCompare(e[r], n);
                                            a || (a = CKEDITOR.tools.objectCompare(e.widgetRect, n)), a && (Array.prototype.splice.call(o, i, e.length - r, e.widgetRect), t = !0)
                                        }), t || (r < o.length - 1 ? n(r + 1) : o.push(e.widgetRect))
                                    }(0)
                                }), o
                            }(r = i.getClientRects(), this)).length || (r = e(r, i, this)), CKEDITOR.tools.array.map(r, function(e) {
                                return t(e, n, this)
                            }, this)
                        } : function(e) {
                            return [t(n(this.createBookmark()), e, this)]
                        }
                    }(),
                    _setStartContainer: function(e) {
                        this.startContainer = e
                    },
                    _setEndContainer: function(e) {
                        this.endContainer = e
                    },
                    _find: function(e, t) {
                        var n, r, i, o, a = this.getCommonAncestor(),
                            s = this.getBoundaryNodes(),
                            l = [];
                        if (a && a.find)
                            for (r = a.find(e), n = 0; n < r.count(); n++) a = r.getItem(n), (t || !a.isReadOnly()) && (i = a.getPosition(s.startNode) & CKEDITOR.POSITION_FOLLOWING || s.startNode.equals(a), o = a.getPosition(s.endNode) & CKEDITOR.POSITION_PRECEDING + CKEDITOR.POSITION_IS_CONTAINED || s.endNode.equals(a), i && o && l.push(a));
                        return l
                    }
                }, CKEDITOR.dom.range.mergeRanges = function(e) {
                    return CKEDITOR.tools.array.reduce(e, function(e, t) {
                        var n = e[e.length - 1],
                            r = !1;
                        if ((t = t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT), n) {
                            var i = new CKEDITOR.dom.range(t.root),
                                o = (r = new CKEDITOR.dom.walker(i), CKEDITOR.dom.walker.whitespaces());
                            for (i.setStart(n.endContainer, n.endOffset), i.setEnd(t.startContainer, t.startOffset), i = r.next(); o(i) || t.endContainer.equals(i);) i = r.next();
                            r = !i
                        }
                        return r ? n.setEnd(t.endContainer, t.endOffset) : e.push(t), e
                    }, [])
                }
            }(), CKEDITOR.POSITION_AFTER_START = 1, CKEDITOR.POSITION_BEFORE_END = 2, CKEDITOR.POSITION_BEFORE_START = 3, CKEDITOR.POSITION_AFTER_END = 4, CKEDITOR.ENLARGE_ELEMENT = 1, CKEDITOR.ENLARGE_BLOCK_CONTENTS = 2, CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS = 3, CKEDITOR.ENLARGE_INLINE = 4, CKEDITOR.START = 1, CKEDITOR.END = 2, CKEDITOR.SHRINK_ELEMENT = 1, CKEDITOR.SHRINK_TEXT = 2, function() {
                function e(e) {
                    1 > arguments.length || (this.range = e, this.forceBrBreak = 0, this.enlargeBr = 1, this.enforceRealBlocks = 0, this._ || (this._ = {}))
                }

                function t(e, n, r, i) {
                    e: {
                        null == i && (i = function(e) {
                            var t = [];
                            return r.forEach(function(e) {
                                if ("true" == e.getAttribute("contenteditable")) return t.push(e), !1
                            }, CKEDITOR.NODE_ELEMENT, !0), t
                        }());
                        for (var o; o = i.shift();)
                            if (o.getDtd().p) {
                                i = {
                                    element: o,
                                    remaining: i
                                };
                                break e
                            }
                        i = null
                    }
                    return i ? (o = CKEDITOR.filter.instances[i.element.data("cke-filter")]) && !o.check(n) ? t(e, n, r, i.remaining) : ((n = new CKEDITOR.dom.range(i.element)).selectNodeContents(i.element), (n = n.createIterator()).enlargeBr = e.enlargeBr, n.enforceRealBlocks = e.enforceRealBlocks, n.activeFilter = n.filter = o, e._.nestedEditable = {
                        element: i.element,
                        container: r,
                        remaining: i.remaining,
                        iterator: n
                    }, 1) : 0
                }

                function n(e, t, n) {
                    return !!t && ((e = e.clone()).collapse(!n), e.checkBoundaryOfElement(t, n ? CKEDITOR.START : CKEDITOR.END))
                }
                var r = /^[\r\n\t ]+$/,
                    i = CKEDITOR.dom.walker.bookmark(!1, !0),
                    o = CKEDITOR.dom.walker.whitespaces(!0),
                    a = function(e) {
                        return i(e) && o(e)
                    },
                    s = {
                        dd: 1,
                        dt: 1,
                        li: 1
                    };
                e.prototype = {
                    getNextParagraph: function(e) {
                        var o, l, c, u, d;
                        if (e = e || "p", this._.nestedEditable) {
                            if (o = this._.nestedEditable.iterator.getNextParagraph(e)) return this.activeFilter = this._.nestedEditable.iterator.activeFilter, o;
                            if (this.activeFilter = this.filter, t(this, e, this._.nestedEditable.container, this._.nestedEditable.remaining)) return this.activeFilter = this._.nestedEditable.iterator.activeFilter, this._.nestedEditable.iterator.getNextParagraph(e);
                            this._.nestedEditable = null
                        }
                        if (!this.range.root.getDtd()[e]) return null;
                        if (!this._.started) {
                            var h = this.range.clone();
                            l = h.startPath();
                            var p = h.endPath(),
                                f = !h.collapsed && n(h, l.block),
                                m = !h.collapsed && n(h, p.block, 1);
                            h.shrink(CKEDITOR.SHRINK_ELEMENT, !0), f && h.setStartAt(l.block, CKEDITOR.POSITION_BEFORE_END), m && h.setEndAt(p.block, CKEDITOR.POSITION_AFTER_START), l = h.endContainer.hasAscendant("pre", !0) || h.startContainer.hasAscendant("pre", !0), h.enlarge(this.forceBrBreak && !l || !this.enlargeBr ? CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS : CKEDITOR.ENLARGE_BLOCK_CONTENTS), h.collapsed || (l = new CKEDITOR.dom.walker(h.clone()), p = CKEDITOR.dom.walker.bookmark(!0, !0), l.evaluator = p, this._.nextNode = l.next(), (l = new CKEDITOR.dom.walker(h.clone())).evaluator = p, l = l.previous(), this._.lastNode = l.getNextSourceNode(!0, null, h.root), this._.lastNode && this._.lastNode.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.trim(this._.lastNode.getText()) && this._.lastNode.getParent().isBlockBoundary() && ((p = this.range.clone()).moveToPosition(this._.lastNode, CKEDITOR.POSITION_AFTER_END), p.checkEndOfBlock() && (p = new CKEDITOR.dom.elementPath(p.endContainer, p.root), this._.lastNode = (p.block || p.blockLimit).getNextSourceNode(!0))), this._.lastNode && h.root.contains(this._.lastNode) || (this._.lastNode = this._.docEndMarker = h.document.createText(""), this._.lastNode.insertAfter(l)), h = null), this._.started = 1, l = h
                        }
                        for (p = this._.nextNode, h = this._.lastNode, this._.nextNode = null; p;) {
                            f = 0, m = p.hasAscendant("pre");
                            var g = p.type != CKEDITOR.NODE_ELEMENT,
                                E = 0;
                            if (g) p.type == CKEDITOR.NODE_TEXT && r.test(p.getText()) && (g = 0);
                            else {
                                var b = p.getName();
                                if (CKEDITOR.dtd.$block[b] && "false" == p.getAttribute("contenteditable")) {
                                    t(this, e, o = p);
                                    break
                                }
                                if (p.isBlockBoundary(this.forceBrBreak && !m && {
                                        br: 1
                                    })) {
                                    if ("br" == b) g = 1;
                                    else if (!l && !p.getChildCount() && "hr" != b) {
                                        o = p, c = p.equals(h);
                                        break
                                    }
                                    l && (l.setEndAt(p, CKEDITOR.POSITION_BEFORE_START), "br" != b && (this._.nextNode = p)), f = 1
                                } else {
                                    if (p.getFirst()) {
                                        l || (l = this.range.clone()).setStartAt(p, CKEDITOR.POSITION_BEFORE_START), p = p.getFirst();
                                        continue
                                    }
                                    g = 1
                                }
                            }
                            if (g && !l && (l = this.range.clone()).setStartAt(p, CKEDITOR.POSITION_BEFORE_START), c = (!f || g) && p.equals(h), l && !f)
                                for (; !p.getNext(a) && !c;) {
                                    if ((b = p.getParent()).isBlockBoundary(this.forceBrBreak && !m && {
                                            br: 1
                                        })) {
                                        f = 1, g = 0, c || b.equals(h), l.setEndAt(b, CKEDITOR.POSITION_BEFORE_END);
                                        break
                                    }
                                    g = 1, c = (p = b).equals(h), E = 1
                                }
                            if (g && l.setEndAt(p, CKEDITOR.POSITION_AFTER_END), (c = !(p = this._getNextSourceNode(p, E, h))) || f && l) break
                        }
                        if (!o) {
                            if (!l) return this._.docEndMarker && this._.docEndMarker.remove(), this._.nextNode = null;
                            p = (o = new CKEDITOR.dom.elementPath(l.startContainer, l.root)).blockLimit, f = {
                                div: 1,
                                th: 1,
                                td: 1
                            }, !(o = o.block) && p && !this.enforceRealBlocks && f[p.getName()] && l.checkStartOfBlock() && l.checkEndOfBlock() && !p.equals(l.root) ? o = p : !o || this.enforceRealBlocks && o.is(s) ? (o = this.range.document.createElement(e), l.extractContents().appendTo(o), o.trim(), l.insertNode(o), u = d = !0) : "li" != o.getName() ? l.checkStartOfBlock() && l.checkEndOfBlock() || (o = o.clone(!1), l.extractContents().appendTo(o), o.trim(), u = !(d = l.splitBlock()).wasStartOfBlock, d = !d.wasEndOfBlock, l.insertNode(o)) : c || (this._.nextNode = o.equals(h) ? null : this._getNextSourceNode(l.getBoundaryNodes().endNode, 1, h))
                        }
                        return u && (u = o.getPrevious()) && u.type == CKEDITOR.NODE_ELEMENT && ("br" == u.getName() ? u.remove() : u.getLast() && "br" == u.getLast().$.nodeName.toLowerCase() && u.getLast().remove()), d && (u = o.getLast()) && u.type == CKEDITOR.NODE_ELEMENT && "br" == u.getName() && (!CKEDITOR.env.needsBrFiller || u.getPrevious(i) || u.getNext(i)) && u.remove(), this._.nextNode || (this._.nextNode = c || o.equals(h) || !h ? null : this._getNextSourceNode(o, 1, h)), o
                    },
                    _getNextSourceNode: function(e, t, n) {
                        function r(e) {
                            return !(e.equals(n) || e.equals(o))
                        }
                        var o = this.range.root;
                        for (e = e.getNextSourceNode(t, null, r); !i(e);) e = e.getNextSourceNode(t, null, r);
                        return e
                    }
                }, CKEDITOR.dom.range.prototype.createIterator = function() {
                    return new e(this)
                }
            }(), CKEDITOR.command = function(e, t) {
                var n;
                this.uiItems = [], this.exec = function(n) {
                    return !(this.state == CKEDITOR.TRISTATE_DISABLED || !this.checkAllowed()) && (this.editorFocus && e.focus(), !1 === this.fire("exec") || !1 !== t.exec.call(this, e, n))
                }, this.refresh = function(e, n) {
                    return !(this.readOnly || !e.readOnly) || (this.context && !n.isContextFor(this.context) || !this.checkAllowed(!0) ? (this.disable(), !0) : (this.startDisabled || this.enable(), this.modes && !this.modes[e.mode] && this.disable(), !1 === this.fire("refresh", {
                        editor: e,
                        path: n
                    }) || t.refresh && !1 !== t.refresh.apply(this, arguments)))
                }, this.checkAllowed = function(t) {
                    return t || "boolean" != typeof n ? n = e.activeFilter.checkFeature(this) : n
                }, CKEDITOR.tools.extend(this, t, {
                    modes: {
                        wysiwyg: 1
                    },
                    editorFocus: 1,
                    contextSensitive: !!t.context,
                    state: CKEDITOR.TRISTATE_DISABLED
                }), CKEDITOR.event.call(this)
            }, CKEDITOR.command.prototype = {
                enable: function() {
                    this.state == CKEDITOR.TRISTATE_DISABLED && this.checkAllowed() && this.setState(this.preserveState && void 0 !== this.previousState ? this.previousState : CKEDITOR.TRISTATE_OFF)
                },
                disable: function() {
                    this.setState(CKEDITOR.TRISTATE_DISABLED)
                },
                setState: function(e) {
                    return !(this.state == e || e != CKEDITOR.TRISTATE_DISABLED && !this.checkAllowed() || (this.previousState = this.state, this.state = e, this.fire("state"), 0))
                },
                toggleState: function() {
                    this.state == CKEDITOR.TRISTATE_OFF ? this.setState(CKEDITOR.TRISTATE_ON) : this.state == CKEDITOR.TRISTATE_ON && this.setState(CKEDITOR.TRISTATE_OFF)
                }
            }, CKEDITOR.event.implementOn(CKEDITOR.command.prototype), CKEDITOR.ENTER_P = 1, CKEDITOR.ENTER_BR = 2, CKEDITOR.ENTER_DIV = 3, CKEDITOR.config = {
                customConfig: "config.js",
                autoUpdateElement: !0,
                language: "",
                defaultLanguage: "en",
                contentsLangDirection: "",
                enterMode: CKEDITOR.ENTER_P,
                forceEnterMode: !1,
                shiftEnterMode: CKEDITOR.ENTER_BR,
                docType: "<!DOCTYPE html>",
                bodyId: "",
                bodyClass: "",
                fullPage: !1,
                height: 200,
                contentsCss: CKEDITOR.getUrl("contents.css"),
                extraPlugins: "",
                removePlugins: "",
                protectedSource: [],
                tabIndex: 0,
                width: "",
                baseFloatZIndex: 1e4,
                blockedKeystrokes: [CKEDITOR.CTRL + 66, CKEDITOR.CTRL + 73, CKEDITOR.CTRL + 85]
            }, function() {
                function e(e, t, n, r, i) {
                    var o, s, l;
                    for (o in e = [], t) {
                        s = "boolean" == typeof(s = t[o]) ? {} : "function" == typeof s ? {
                            match: s
                        } : x(s), "$" != o.charAt(0) && (s.elements = o), n && (s.featureName = n.toLowerCase());
                        var c = s;
                        c.elements = a(c.elements, /\s+/) || null, c.propertiesOnly = c.propertiesOnly || !0 === c.elements;
                        var u = /\s*,\s*/,
                            d = void 0;
                        for (d in I) {
                            c[d] = a(c[d], u) || null;
                            var h = c,
                                p = S[d],
                                f = a(c[S[d]], u),
                                m = c[d],
                                E = [],
                                b = !0,
                                v = void 0;
                            for (v in f ? b = !1 : f = {}, m) "!" == v.charAt(0) && (v = v.slice(1), E.push(v), f[v] = !0, b = !1);
                            for (; v = E.pop();) m[v] = m["!" + v], delete m["!" + v];
                            h[p] = !b && f || null
                        }
                        c.match = c.match || null, r.push(s), e.push(s)
                    }
                    for (t = i.elements, i = i.generic, n = 0, r = e.length; n < r; ++n) {
                        for (u in s = !0 === (o = x(e[n])).classes || !0 === o.styles || !0 === o.attributes, c = o, d = p = u = void 0, I) c[u] = g(c[u]);
                        for (d in h = !0, S) {
                            for (m in f = [], m = void 0, p = c[u = S[d]]) - 1 < m.indexOf("*") ? f.push(new RegExp("^" + m.replace(/\*/g, ".*") + "$")) : f.push(m);
                            (p = f).length && (c[u] = p, h = !1)
                        }
                        if (c.nothingRequired = h, c.noProperties = !(c.attributes || c.classes || c.styles), !0 === o.elements || null === o.elements) i[s ? "unshift" : "push"](o);
                        else
                            for (l in c = o.elements, delete o.elements, c) t[l] ? t[l][s ? "unshift" : "push"](o) : t[l] = [o]
                    }
                }

                function t(e, t, r, i) {
                    if ((!e.match || e.match(t)) && (i || s(e, t)) && (e.propertiesOnly || (r.valid = !0), r.allAttributes || (r.allAttributes = n(e.attributes, t.attributes, r.validAttributes)), r.allStyles || (r.allStyles = n(e.styles, t.styles, r.validStyles)), !r.allClasses)) {
                        if (t = t.classes, i = r.validClasses, e = e.classes)
                            if (!0 === e) e = !0;
                            else {
                                for (var o, a = 0, l = t.length; a < l; ++a) i[o = t[a]] || (i[o] = e(o));
                                e = !1
                            }
                        else e = !1;
                        r.allClasses = e
                    }
                }

                function n(e, t, n) {
                    if (!e) return !1;
                    if (!0 === e) return !0;
                    for (var r in t) n[r] || (n[r] = e(r));
                    return !1
                }

                function r(e, t, n) {
                    if (!e.match || e.match(t)) {
                        if (e.noProperties) return !1;
                        if (n.hadInvalidAttribute = i(e.attributes, t.attributes) || n.hadInvalidAttribute, n.hadInvalidStyle = i(e.styles, t.styles) || n.hadInvalidStyle, t = t.classes, e = e.classes) {
                            for (var r = !1, o = !0 === e, a = t.length; a--;)(o || e(t[a])) && (t.splice(a, 1), r = !0);
                            e = r
                        } else e = !1;
                        n.hadInvalidClass = e || n.hadInvalidClass
                    }
                }

                function i(e, t) {
                    if (!e) return !1;
                    var n, r = !1,
                        i = !0 === e;
                    for (n in t)(i || e(n)) && (delete t[n], r = !0);
                    return r
                }

                function o(e, t, n) {
                    return !(e.disabled || e.customConfig && !n || !t || (e._.cachedChecks = {}, 0))
                }

                function a(e, t) {
                    if (!e) return !1;
                    if (!0 === e) return e;
                    if ("string" == typeof e) return "*" == (e = D(e)) || CKEDITOR.tools.convertArrayToObject(e.split(t));
                    if (CKEDITOR.tools.isArray(e)) return !!e.length && CKEDITOR.tools.convertArrayToObject(e);
                    var n, r = {},
                        i = 0;
                    for (n in e) r[n] = e[n], i++;
                    return !!i && r
                }

                function s(e, t) {
                    if (e.nothingRequired) return !0;
                    var n, r, i, o;
                    if (i = e.requiredClasses)
                        for (o = t.classes, n = 0; n < i.length; ++n)
                            if ("string" == typeof(r = i[n])) {
                                if (-1 == CKEDITOR.tools.indexOf(o, r)) return !1
                            } else if (!CKEDITOR.tools.checkIfAnyArrayItemMatches(o, r)) return !1;
                    return l(t.styles, e.requiredStyles) && l(t.attributes, e.requiredAttributes)
                }

                function l(e, t) {
                    if (!t) return !0;
                    for (var n, r = 0; r < t.length; ++r)
                        if ("string" == typeof(n = t[r])) {
                            if (!(n in e)) return !1
                        } else if (!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(e, n)) return !1;
                    return !0
                }

                function c(e) {
                    if (!e) return {};
                    e = e.split(/\s*,\s*/).sort();
                    for (var t = {}; e.length;) t[e.shift()] = "cke-test";
                    return t
                }

                function u(e) {
                    var t, n, r, i, o = {},
                        a = 1;
                    for (e = D(e); t = e.match(A);)(n = t[2]) ? (r = d(n, "styles"), i = d(n, "attrs"), n = d(n, "classes")) : r = i = n = null, o["$" + a++] = {
                        elements: t[1],
                        classes: n,
                        styles: r,
                        attributes: i
                    }, e = e.slice(t[0].length);
                    return o
                }

                function d(e, t) {
                    var n = e.match(F[t]);
                    return n ? D(n[1]) : null
                }

                function h(e) {
                    var t = e.styleBackup = e.attributes.style,
                        n = e.classBackup = e.attributes.class;
                    e.styles || (e.styles = CKEDITOR.tools.parseCssText(t || "", 1)), e.classes || (e.classes = n ? n.split(/\s+/) : [])
                }

                function p(e, n, i, o) {
                    var a, s = 0;
                    if (o.toHtml && (n.name = n.name.replace(L, "$1")), o.doCallbacks && e.elementCallbacks) {
                        e: {
                            for (var l, c = 0, u = (a = e.elementCallbacks).length; c < u; ++c)
                                if (l = a[c](n)) {
                                    a = l;
                                    break e
                                }
                            a = void 0
                        }
                        if (a) return a
                    }
                    if (o.doTransform && (a = e._.transformations[n.name])) {
                        for (h(n), c = 0; c < a.length; ++c) T(e, n, a[c]);
                        f(n)
                    }
                    if (o.doFilter) {
                        e: {
                            e = (u = e._).allowedRules.elements[c = n.name],
                            a = u.allowedRules.generic,
                            c = u.disallowedRules.elements[c],
                            u = u.disallowedRules.generic,
                            l = o.skipRequired;
                            var d, p, g = {
                                valid: !1,
                                validAttributes: {},
                                validClasses: {},
                                validStyles: {},
                                allAttributes: !1,
                                allClasses: !1,
                                allStyles: !1,
                                hadInvalidAttribute: !1,
                                hadInvalidClass: !1,
                                hadInvalidStyle: !1
                            };
                            if (e || a) {
                                if (h(n), c)
                                    for (d = 0, p = c.length; d < p; ++d)
                                        if (!1 === r(c[d], n, g)) {
                                            e = null;
                                            break e
                                        }
                                if (u)
                                    for (d = 0, p = u.length; d < p; ++d) r(u[d], n, g);
                                if (e)
                                    for (d = 0, p = e.length; d < p; ++d) t(e[d], n, g, l);
                                if (a)
                                    for (d = 0, p = a.length; d < p; ++d) t(a[d], n, g, l);
                                e = g
                            } else e = null
                        }
                        if (!e || !e.valid) return i.push(n), 1;p = e.validAttributes;
                        var E = e.validStyles;a = e.validClasses;
                        var b = n.styles;u = n.classes,
                        l = n.classBackup;
                        var v, y, C = n.styleBackup,
                            k = [],
                            w = (g = [], /^data-cke-/);
                        if (d = !1, delete(c = n.attributes).style, delete c.class, delete n.classBackup, delete n.styleBackup, !e.allAttributes)
                            for (v in c) p[v] || w.test(v) && (v == (y = v.replace(/^data-cke-saved-/, "")) || p[y]) || (delete c[v], d = !0);
                        if (!e.allStyles || e.hadInvalidStyle) {
                            for (v in b) e.allStyles || E[v] ? k.push(v + ":" + b[v]) : d = !0;
                            k.length && (c.style = k.sort().join("; "))
                        } else C && (c.style = C);
                        if (!e.allClasses || e.hadInvalidClass) {
                            for (v = 0; v < u.length; ++v)(e.allClasses || a[u[v]]) && g.push(u[v]);
                            g.length && (c.class = g.sort().join(" ")), l && g.length < l.split(/\s+/).length && (d = !0)
                        } else l && (c.class = l);
                        if (d && (s = 1), !o.skipFinalValidation && !m(n)) return i.push(n), 1
                    }
                    return o.toHtml && (n.name = n.name.replace(N, "cke:$1")), s
                }

                function f(e) {
                    var t, n = e.attributes;
                    delete n.style, delete n.class, (t = CKEDITOR.tools.writeCssText(e.styles, !0)) && (n.style = t), e.classes.length && (n.class = e.classes.sort().join(" "))
                }

                function m(e) {
                    switch (e.name) {
                        case "a":
                            if (!(e.children.length || e.attributes.name || e.attributes.id)) return !1;
                            break;
                        case "img":
                            if (!e.attributes.src) return !1
                    }
                    return !0
                }

                function g(e) {
                    if (!e) return !1;
                    if (!0 === e) return !0;
                    var t = function(e) {
                        var t, n = [];
                        for (t in e) - 1 < t.indexOf("*") && n.push(t.replace(/\*/g, ".*"));
                        return n.length ? new RegExp("^(?:" + n.join("|") + ")$") : null
                    }(e);
                    return function(n) {
                        return n in e || t && n.match(t)
                    }
                }

                function E() {
                    return new CKEDITOR.htmlParser.element("br")
                }

                function b(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && ("br" == e.name || _.$block[e.name])
                }

                function v(e, t, n) {
                    if (_.$empty[r = e.name] || !e.children.length) "hr" == r && "br" == t ? e.replaceWith(E()) : (e.parent && n.push({
                        check: "it",
                        el: e.parent
                    }), e.remove());
                    else if (_.$block[r] || "tr" == r)
                        if ("br" == t) e.previous && !b(e.previous) && (t = E()).insertBefore(e), e.next && !b(e.next) && (t = E()).insertAfter(e), e.replaceWithChildren();
                        else {
                            var r, i;
                            e: {
                                i = _[t];
                                for (var o, a = 0, s = (r = e.children).length; a < s; ++a)
                                    if ((o = r[a]).type == CKEDITOR.NODE_ELEMENT && !i[o.name]) {
                                        i = !1;
                                        break e
                                    }
                                i = !0
                            }
                            if (i) e.name = t, e.attributes = {}, n.push({
                                check: "parent-down",
                                el: e
                            });
                            else {
                                var l, c;
                                for (a = (i = e.parent).type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || "body" == i.name, s = r.length; 0 < s;) o = r[--s], a && (o.type == CKEDITOR.NODE_TEXT || o.type == CKEDITOR.NODE_ELEMENT && _.$inline[o.name]) ? (l || ((l = new CKEDITOR.htmlParser.element(t)).insertAfter(e), n.push({
                                    check: "parent-down",
                                    el: l
                                })), l.add(o, 0)) : (l = null, c = _[i.name] || _.span, o.insertAfter(e), i.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || o.type != CKEDITOR.NODE_ELEMENT || c[o.name] || n.push({
                                    check: "el-up",
                                    el: o
                                }));
                                e.remove()
                            }
                        }
                    else r in {
                        style: 1,
                        script: 1
                    } ? e.remove() : (e.parent && n.push({
                        check: "it",
                        el: e.parent
                    }), e.replaceWithChildren())
                }

                function T(e, t, n) {
                    var r, i;
                    for (r = 0; r < n.length; ++r)
                        if (!((i = n[r]).check && !e.check(i.check, !1) || i.left && !i.left(t))) {
                            i.right(t, R);
                            break
                        }
                }

                function y(e, t) {
                    var n, r, i, o, a = t.getDefinition(),
                        s = a.attributes,
                        l = a.styles;
                    if (e.name != a.element) return !1;
                    for (n in s)
                        if ("class" == n) {
                            for (a = s[n].split(/\s+/), i = e.classes.join("|"); o = a.pop();)
                                if (-1 == i.indexOf(o)) return !1
                        } else if (e.attributes[n] != s[n]) return !1;
                    for (r in l)
                        if (e.styles[r] != l[r]) return !1;
                    return !0
                }

                function C(e, t) {
                    var n, r;
                    return "string" == typeof e ? n = e : e instanceof CKEDITOR.style ? r = e : (n = e[0], r = e[1]), [{
                        element: n,
                        left: r,
                        right: function(e, n) {
                            n.transform(e, t)
                        }
                    }]
                }

                function k(e) {
                    return function(t) {
                        return y(t, e)
                    }
                }

                function w(e) {
                    return function(t, n) {
                        n[e](t)
                    }
                }
                var _ = CKEDITOR.dtd,
                    x = CKEDITOR.tools.copy,
                    D = CKEDITOR.tools.trim,
                    O = ["", "p", "br", "div"];
                CKEDITOR.FILTER_SKIP_TREE = 2, CKEDITOR.filter = function(e) {
                    if (this.allowedContent = [], this.disallowedContent = [], this.elementCallbacks = null, this.disabled = !1, this.editor = null, this.id = CKEDITOR.tools.getNextNumber(), this._ = {
                            allowedRules: {
                                elements: {},
                                generic: []
                            },
                            disallowedRules: {
                                elements: {},
                                generic: []
                            },
                            transformations: {},
                            cachedTests: {},
                            cachedChecks: {}
                        }, CKEDITOR.filter.instances[this.id] = this, e instanceof CKEDITOR.editor) {
                        e = this.editor = e, this.customConfig = !0;
                        var t = e.config.allowedContent;
                        !0 === t ? this.disabled = !0 : (t || (this.customConfig = !1), this.allow(t, "config", 1), this.allow(e.config.extraAllowedContent, "extra", 1), this.allow(O[e.enterMode] + " " + O[e.shiftEnterMode], "default", 1), this.disallow(e.config.disallowedContent))
                    } else this.customConfig = !1, this.allow(e, "default", 1)
                }, CKEDITOR.filter.instances = {}, CKEDITOR.filter.prototype = {
                    allow: function(t, n, r) {
                        if (!o(this, t, r)) return !1;
                        var i, a;
                        if ("string" == typeof t) t = u(t);
                        else if (t instanceof CKEDITOR.style) {
                            if (t.toAllowedContentRules) return this.allow(t.toAllowedContentRules(this.editor), n, r);
                            r = (i = t.getDefinition()).attributes, (t = {})[i.element] = i = {
                                styles: i.styles,
                                requiredStyles: i.styles && CKEDITOR.tools.objectKeys(i.styles)
                            }, r && (r = x(r), i.classes = r.class ? r.class.split(/\s+/) : null, i.requiredClasses = i.classes, delete r.class, i.attributes = r, i.requiredAttributes = r && CKEDITOR.tools.objectKeys(r))
                        } else if (CKEDITOR.tools.isArray(t)) {
                            for (i = 0; i < t.length; ++i) a = this.allow(t[i], n, r);
                            return a
                        }
                        return e(this, t, n, this.allowedContent, this._.allowedRules), !0
                    },
                    applyTo: function(e, t, n, r) {
                        if (this.disabled) return !1;
                        var i, o, a, s = this,
                            l = [],
                            c = this.editor && this.editor.config.protectedSource,
                            u = !1,
                            d = {
                                doFilter: !n,
                                doTransform: !0,
                                doCallbacks: !0,
                                toHtml: t
                            };
                        for (e.forEach(function(e) {
                                if (e.type == CKEDITOR.NODE_ELEMENT) {
                                    if ("off" == e.attributes["data-cke-filter"]) return !1;
                                    if (!t || "span" != e.name || !~CKEDITOR.tools.objectKeys(e.attributes).join("|").indexOf("data-cke-"))
                                        if (1 & (i = p(s, e, l, d))) u = !0;
                                        else if (2 & i) return !1
                                } else if (e.type == CKEDITOR.NODE_COMMENT && e.value.match(/^\{cke_protected\}(?!\{C\})/)) {
                                    var n;
                                    e: {
                                        var r, o, a, h = decodeURIComponent(e.value.replace(/^\{cke_protected\}/, ""));
                                        if (n = [], c)
                                            for (o = 0; o < c.length; ++o)
                                                if ((a = h.match(c[o])) && a[0].length == h.length) {
                                                    n = !0;
                                                    break e
                                                }
                                        1 == (h = CKEDITOR.htmlParser.fragment.fromHtml(h)).children.length && (r = h.children[0]).type == CKEDITOR.NODE_ELEMENT && p(s, r, n, d),
                                        n = !n.length
                                    }
                                    n || l.push(e)
                                }
                            }, null, !0), l.length && (u = !0), e = [], r = O[r || (this.editor ? this.editor.enterMode : CKEDITOR.ENTER_P)]; n = l.pop();) n.type == CKEDITOR.NODE_ELEMENT ? v(n, r, e) : n.remove();
                        for (; o = e.pop();)
                            if ((n = o.el).parent) switch (a = _[n.parent.name] || _.span, o.check) {
                                case "it":
                                    _.$removeEmpty[n.name] && !n.children.length ? v(n, r, e) : m(n) || v(n, r, e);
                                    break;
                                case "el-up":
                                    n.parent.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || a[n.name] || v(n, r, e);
                                    break;
                                case "parent-down":
                                    n.parent.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || a[n.name] || v(n.parent, r, e)
                            }
                        return u
                    },
                    checkFeature: function(e) {
                        return !(!this.disabled && e) || (e.toFeature && (e = e.toFeature(this.editor)), !e.requiredContent || this.check(e.requiredContent))
                    },
                    disable: function() {
                        this.disabled = !0
                    },
                    disallow: function(t) {
                        return !!o(this, t, !0) && ("string" == typeof t && (t = u(t)), e(this, t, null, this.disallowedContent, this._.disallowedRules), !0)
                    },
                    addContentForms: function(e) {
                        if (!this.disabled && e) {
                            var t, n, r, i = [];
                            for (t = 0; t < e.length && !r; ++t)("string" == typeof(n = e[t]) || n instanceof CKEDITOR.style) && this.check(n) && (r = n);
                            if (r) {
                                for (t = 0; t < e.length; ++t) i.push(C(e[t], r));
                                this.addTransformations(i)
                            }
                        }
                    },
                    addElementCallback: function(e) {
                        this.elementCallbacks || (this.elementCallbacks = []), this.elementCallbacks.push(e)
                    },
                    addFeature: function(e) {
                        return !(!this.disabled && e) || (e.toFeature && (e = e.toFeature(this.editor)), this.allow(e.allowedContent, e.name), this.addTransformations(e.contentTransformations), this.addContentForms(e.contentForms), !e.requiredContent || !this.customConfig && !this.disallowedContent.length || this.check(e.requiredContent))
                    },
                    addTransformations: function(e) {
                        var t, n;
                        if (!this.disabled && e) {
                            var r, i = this._.transformations;
                            for (r = 0; r < e.length; ++r) {
                                t = e[r];
                                var o = void 0,
                                    a = void 0,
                                    s = void 0,
                                    l = void 0,
                                    c = void 0,
                                    u = void 0;
                                for (n = [], a = 0; a < t.length; ++a) "string" == typeof(s = t[a]) ? (l = (s = s.split(/\s*:\s*/))[0], c = null, u = s[1]) : (l = s.check, c = s.left, u = s.right), o || (o = (o = s).element ? o.element : l ? l.match(/^([a-z0-9]+)/i)[0] : o.left.getDefinition().element), c instanceof CKEDITOR.style && (c = k(c)), n.push({
                                    check: l == o ? null : l,
                                    left: c,
                                    right: "string" == typeof u ? w(u) : u
                                });
                                i[t = o] || (i[t] = []), i[t].push(n)
                            }
                        }
                    },
                    check: function(e, t, n) {
                        if (this.disabled) return !0;
                        if (CKEDITOR.tools.isArray(e)) {
                            for (var r = e.length; r--;)
                                if (this.check(e[r], t, n)) return !0;
                            return !1
                        }
                        var i, o;
                        if ("string" == typeof e) {
                            if ((o = e + "<" + (!1 === t ? "0" : "1") + (n ? "1" : "0") + ">") in this._.cachedChecks) return this._.cachedChecks[o];
                            i = (r = u(e).$1).styles;
                            var a = r.classes;
                            r.name = r.elements, r.classes = a = a ? a.split(/\s*,\s*/) : [], r.styles = c(i), r.attributes = c(r.attributes), r.children = [], a.length && (r.attributes.class = a.join(" ")), i && (r.attributes.style = CKEDITOR.tools.writeCssText(r.styles)), i = r
                        } else i = (r = e.getDefinition()).styles, a = r.attributes || {}, i && !CKEDITOR.tools.isEmpty(i) ? (i = x(i), a.style = CKEDITOR.tools.writeCssText(i, !0)) : i = {}, i = {
                            name: r.element,
                            attributes: a,
                            classes: a.class ? a.class.split(/\s+/) : [],
                            styles: i,
                            children: []
                        };
                        a = CKEDITOR.tools.clone(i);
                        var s, l = [];
                        if (!1 !== t && (s = this._.transformations[i.name])) {
                            for (r = 0; r < s.length; ++r) T(this, i, s[r]);
                            f(i)
                        }
                        return p(this, a, l, {
                            doFilter: !0,
                            doTransform: !1 !== t,
                            skipRequired: !n,
                            skipFinalValidation: !n
                        }), t = !(0 < l.length || !CKEDITOR.tools.objectCompare(i.attributes, a.attributes, !0)), "string" == typeof e && (this._.cachedChecks[o] = t), t
                    },
                    getAllowedEnterMode: function() {
                        var e = ["p", "div", "br"],
                            t = {
                                p: CKEDITOR.ENTER_P,
                                div: CKEDITOR.ENTER_DIV,
                                br: CKEDITOR.ENTER_BR
                            };
                        return function(n, r) {
                            var i, o = e.slice();
                            if (this.check(O[n])) return n;
                            for (r || (o = o.reverse()); i = o.pop();)
                                if (this.check(i)) return t[i];
                            return CKEDITOR.ENTER_BR
                        }
                    }(),
                    clone: function() {
                        var e = new CKEDITOR.filter,
                            t = CKEDITOR.tools.clone;
                        return e.allowedContent = t(this.allowedContent), e._.allowedRules = t(this._.allowedRules), e.disallowedContent = t(this.disallowedContent), e._.disallowedRules = t(this._.disallowedRules), e._.transformations = t(this._.transformations), e.disabled = this.disabled, e.editor = this.editor, e
                    },
                    destroy: function() {
                        delete CKEDITOR.filter.instances[this.id], delete this._, delete this.allowedContent, delete this.disallowedContent
                    }
                };
                var R, I = {
                        styles: 1,
                        attributes: 1,
                        classes: 1
                    },
                    S = {
                        styles: "requiredStyles",
                        attributes: "requiredAttributes",
                        classes: "requiredClasses"
                    },
                    A = /^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,
                    F = {
                        styles: /{([^}]+)}/,
                        attrs: /\[([^\]]+)\]/,
                        classes: /\(([^\)]+)\)/
                    },
                    L = /^cke:(object|embed|param)$/,
                    N = /^(object|embed|param)$/;
                R = CKEDITOR.filter.transformationsTools = {
                    sizeToStyle: function(e) {
                        this.lengthToStyle(e, "width"), this.lengthToStyle(e, "height")
                    },
                    sizeToAttribute: function(e) {
                        this.lengthToAttribute(e, "width"), this.lengthToAttribute(e, "height")
                    },
                    lengthToStyle: function(e, t, n) {
                        if (!((n = n || t) in e.styles)) {
                            var r = e.attributes[t];
                            r && (/^\d+$/.test(r) && (r += "px"), e.styles[n] = r)
                        }
                        delete e.attributes[t]
                    },
                    lengthToAttribute: function(e, t, n) {
                        if (!((n = n || t) in e.attributes)) {
                            var r = e.styles[t],
                                i = r && r.match(/^(\d+)(?:\.\d*)?px$/);
                            i ? e.attributes[n] = i[1] : "cke-test" == r && (e.attributes[n] = "cke-test")
                        }
                        delete e.styles[t]
                    },
                    alignmentToStyle: function(e) {
                        if (!("float" in e.styles)) {
                            var t = e.attributes.align;
                            "left" != t && "right" != t || (e.styles.float = t)
                        }
                        delete e.attributes.align
                    },
                    alignmentToAttribute: function(e) {
                        if (!("align" in e.attributes)) {
                            var t = e.styles.float;
                            "left" != t && "right" != t || (e.attributes.align = t)
                        }
                        delete e.styles.float
                    },
                    splitBorderShorthand: function(e) {
                        if (e.styles.border) {
                            var t = CKEDITOR.tools.style.parse.border(e.styles.border);
                            t.color && (e.styles["border-color"] = t.color), t.style && (e.styles["border-style"] = t.style), t.width && (e.styles["border-width"] = t.width), delete e.styles.border
                        }
                    },
                    listTypeToStyle: function(e) {
                        if (e.attributes.type) switch (e.attributes.type) {
                            case "a":
                                e.styles["list-style-type"] = "lower-alpha";
                                break;
                            case "A":
                                e.styles["list-style-type"] = "upper-alpha";
                                break;
                            case "i":
                                e.styles["list-style-type"] = "lower-roman";
                                break;
                            case "I":
                                e.styles["list-style-type"] = "upper-roman";
                                break;
                            case "1":
                                e.styles["list-style-type"] = "decimal";
                                break;
                            default:
                                e.styles["list-style-type"] = e.attributes.type
                        }
                    },
                    splitMarginShorthand: function(e) {
                        function t(t) {
                            e.styles["margin-top"] = n[t[0]], e.styles["margin-right"] = n[t[1]], e.styles["margin-bottom"] = n[t[2]], e.styles["margin-left"] = n[t[3]]
                        }
                        if (e.styles.margin) {
                            var n = e.styles.margin.match(/(\-?[\.\d]+\w+)/g) || ["0px"];
                            switch (n.length) {
                                case 1:
                                    t([0, 0, 0, 0]);
                                    break;
                                case 2:
                                    t([0, 1, 0, 1]);
                                    break;
                                case 3:
                                    t([0, 1, 2, 1]);
                                    break;
                                case 4:
                                    t([0, 1, 2, 3])
                            }
                            delete e.styles.margin
                        }
                    },
                    matchesStyle: y,
                    transform: function(e, t) {
                        if ("string" == typeof t) e.name = t;
                        else {
                            var n, r, i, o, a = t.getDefinition(),
                                s = a.styles,
                                l = a.attributes;
                            for (n in e.name = a.element, l)
                                if ("class" == n)
                                    for (a = e.classes.join("|"), i = l[n].split(/\s+/); o = i.pop();) - 1 == a.indexOf(o) && e.classes.push(o);
                                else e.attributes[n] = l[n];
                            for (r in s) e.styles[r] = s[r]
                        }
                    }
                }
            }(), CKEDITOR.focusManager = function(e) {
                return e.focusManager ? e.focusManager : (this.hasFocus = !1, this.currentActive = null, this._ = {
                    editor: e
                }, this)
            }, CKEDITOR.focusManager._ = {
                blurDelay: 200
            }, CKEDITOR.focusManager.prototype = {
                focus: function(e) {
                    this._.timer && clearTimeout(this._.timer), e && (this.currentActive = e), this.hasFocus || this._.locked || ((e = CKEDITOR.currentInstance) && e.focusManager.blur(1), this.hasFocus = !0, (e = this._.editor.container) && e.addClass("cke_focus"), this._.editor.fire("focus"))
                },
                lock: function() {
                    this._.locked = 1
                },
                unlock: function() {
                    delete this._.locked
                },
                blur: function(e) {
                    function t() {
                        if (this.hasFocus) {
                            this.hasFocus = !1;
                            var e = this._.editor.container;
                            e && e.removeClass("cke_focus"), this._.editor.fire("blur")
                        }
                    }
                    if (!this._.locked) {
                        this._.timer && clearTimeout(this._.timer);
                        var n = CKEDITOR.focusManager._.blurDelay;
                        e || !n ? t.call(this) : this._.timer = CKEDITOR.tools.setTimeout(function() {
                            delete this._.timer, t.call(this)
                        }, n, this)
                    }
                },
                add: function(e, t) {
                    if (!(n = e.getCustomData("focusmanager")) || n != this) {
                        n && n.remove(e);
                        var n = "focus",
                            r = "blur";
                        t && (CKEDITOR.env.ie ? (n = "focusin", r = "focusout") : CKEDITOR.event.useCapture = 1);
                        var i = {
                            blur: function() {
                                e.equals(this.currentActive) && this.blur()
                            },
                            focus: function() {
                                this.focus(e)
                            }
                        };
                        e.on(n, i.focus, this), e.on(r, i.blur, this), t && (CKEDITOR.event.useCapture = 0), e.setCustomData("focusmanager", this), e.setCustomData("focusmanager_handlers", i)
                    }
                },
                remove: function(e) {
                    e.removeCustomData("focusmanager");
                    var t = e.removeCustomData("focusmanager_handlers");
                    e.removeListener("blur", t.blur), e.removeListener("focus", t.focus)
                }
            }, CKEDITOR.keystrokeHandler = function(e) {
                return e.keystrokeHandler ? e.keystrokeHandler : (this.keystrokes = {}, this.blockedKeystrokes = {}, this._ = {
                    editor: e
                }, this)
            }, function() {
                var e, t = function(t) {
                        var n = (t = t.data).getKeystroke(),
                            r = this.keystrokes[n],
                            i = this._.editor;
                        return (e = !1 === i.fire("key", {
                            keyCode: n,
                            domEvent: t
                        })) || (r && (e = !1 !== i.execCommand(r, {
                            from: "keystrokeHandler"
                        })), e || (e = !!this.blockedKeystrokes[n])), e && t.preventDefault(!0), !e
                    },
                    n = function(t) {
                        e && (e = !1, t.data.preventDefault(!0))
                    };
                CKEDITOR.keystrokeHandler.prototype = {
                    attach: function(e) {
                        e.on("keydown", t, this), CKEDITOR.env.gecko && CKEDITOR.env.mac && e.on("keypress", n, this)
                    }
                }
            }(), CKEDITOR.lang = {
                languages: {
                    af: 1,
                    ar: 1,
                    az: 1,
                    bg: 1,
                    bn: 1,
                    bs: 1,
                    ca: 1,
                    cs: 1,
                    cy: 1,
                    da: 1,
                    de: 1,
                    "de-ch": 1,
                    el: 1,
                    "en-au": 1,
                    "en-ca": 1,
                    "en-gb": 1,
                    en: 1,
                    eo: 1,
                    es: 1,
                    "es-mx": 1,
                    et: 1,
                    eu: 1,
                    fa: 1,
                    fi: 1,
                    fo: 1,
                    "fr-ca": 1,
                    fr: 1,
                    gl: 1,
                    gu: 1,
                    he: 1,
                    hi: 1,
                    hr: 1,
                    hu: 1,
                    id: 1,
                    is: 1,
                    it: 1,
                    ja: 1,
                    ka: 1,
                    km: 1,
                    ko: 1,
                    ku: 1,
                    lt: 1,
                    lv: 1,
                    mk: 1,
                    mn: 1,
                    ms: 1,
                    nb: 1,
                    nl: 1,
                    no: 1,
                    oc: 1,
                    pl: 1,
                    "pt-br": 1,
                    pt: 1,
                    ro: 1,
                    ru: 1,
                    si: 1,
                    sk: 1,
                    sl: 1,
                    sq: 1,
                    "sr-latn": 1,
                    sr: 1,
                    sv: 1,
                    th: 1,
                    tr: 1,
                    tt: 1,
                    ug: 1,
                    uk: 1,
                    vi: 1,
                    "zh-cn": 1,
                    zh: 1
                },
                rtl: {
                    ar: 1,
                    fa: 1,
                    he: 1,
                    ku: 1,
                    ug: 1
                },
                load: function(e, t, n) {
                    e && CKEDITOR.lang.languages[e] || (e = this.detect(t, e));
                    var r = this;
                    t = function() {
                        r[e].dir = r.rtl[e] ? "rtl" : "ltr", n(e, r[e])
                    }, this[e] ? t() : CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/" + e + ".js"), t, this)
                },
                detect: function(e, t) {
                    var n, r = this.languages,
                        i = (n = (t = t || navigator.userLanguage || navigator.language || e).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/))[1];
                    return r[i + "-" + (n = n[2])] ? i = i + "-" + n : r[i] || (i = null), CKEDITOR.lang.detect = i ? function() {
                        return i
                    } : function(e) {
                        return e
                    }, i || e
                }
            }, CKEDITOR.scriptLoader = function() {
                var e = {},
                    t = {};
                return {
                    load: function(n, r, i, o) {
                        var a = "string" == typeof n;
                        a && (n = [n]), i || (i = CKEDITOR);
                        var s = n.length,
                            l = [],
                            c = [],
                            u = function(e) {
                                r && (a ? r.call(i, e) : r.call(i, l, c))
                            };
                        if (0 === s) u(!0);
                        else {
                            var d = function(e, t) {
                                    (t ? l : c).push(e), 0 >= --s && (o && CKEDITOR.document.getDocumentElement().removeStyle("cursor"), u(t))
                                },
                                h = function(n, r) {
                                    e[n] = 1;
                                    var i = t[n];
                                    delete t[n];
                                    for (var o = 0; o < i.length; o++) i[o](n, r)
                                },
                                p = function(n) {
                                    if (e[n]) d(n, !0);
                                    else {
                                        var i = t[n] || (t[n] = []);
                                        if (i.push(d), !(1 < i.length)) {
                                            var o = new CKEDITOR.dom.element("script");
                                            o.setAttributes({
                                                type: "text/javascript",
                                                src: n
                                            }), r && (CKEDITOR.env.ie && (8 >= CKEDITOR.env.version || CKEDITOR.env.ie9Compat) ? o.$.onreadystatechange = function() {
                                                "loaded" != o.$.readyState && "complete" != o.$.readyState || (o.$.onreadystatechange = null, h(n, !0))
                                            } : (o.$.onload = function() {
                                                setTimeout(function() {
                                                    h(n, !0)
                                                }, 0)
                                            }, o.$.onerror = function() {
                                                h(n, !1)
                                            })), o.appendTo(CKEDITOR.document.getHead())
                                        }
                                    }
                                };
                            o && CKEDITOR.document.getDocumentElement().setStyle("cursor", "wait");
                            for (var f = 0; f < s; f++) p(n[f])
                        }
                    },
                    queue: function() {
                        function e() {
                            var e;
                            (e = t[0]) && this.load(e.scriptUrl, e.callback, CKEDITOR, 0)
                        }
                        var t = [];
                        return function(n, r) {
                            var i = this;
                            t.push({
                                scriptUrl: n,
                                callback: function() {
                                    r && r.apply(this, arguments), t.shift(), e.call(i)
                                }
                            }), 1 == t.length && e.call(this)
                        }
                    }()
                }
            }(), CKEDITOR.resourceManager = function(e, t) {
                this.basePath = e, this.fileName = t, this.registered = {}, this.loaded = {}, this.externals = {}, this._ = {
                    waitingList: {}
                }
            }, CKEDITOR.resourceManager.prototype = {
                add: function(e, t) {
                    if (this.registered[e]) throw Error('[CKEDITOR.resourceManager.add] The resource name "' + e + '" is already registered.');
                    var n = this.registered[e] = t || {};
                    return n.name = e, n.path = this.getPath(e), CKEDITOR.fire(e + CKEDITOR.tools.capitalize(this.fileName) + "Ready", n), this.get(e)
                },
                get: function(e) {
                    return this.registered[e] || null
                },
                getPath: function(e) {
                    var t = this.externals[e];
                    return CKEDITOR.getUrl(t && t.dir || this.basePath + e + "/")
                },
                getFilePath: function(e) {
                    var t = this.externals[e];
                    return CKEDITOR.getUrl(this.getPath(e) + (t ? t.file : this.fileName + ".js"))
                },
                addExternal: function(e, t, n) {
                    e = e.split(",");
                    for (var r = 0; r < e.length; r++) {
                        var i = e[r];
                        n || (t = t.replace(/[^\/]+$/, function(e) {
                            return n = e, ""
                        })), this.externals[i] = {
                            dir: t,
                            file: n || this.fileName + ".js"
                        }
                    }
                },
                load: function(e, t, n) {
                    CKEDITOR.tools.isArray(e) || (e = e ? [e] : []);
                    for (var r = this.loaded, i = this.registered, o = [], a = {}, s = {}, l = 0; l < e.length; l++) {
                        var c = e[l];
                        if (c)
                            if (r[c] || i[c]) s[c] = this.get(c);
                            else {
                                var u = this.getFilePath(c);
                                o.push(u), u in a || (a[u] = []), a[u].push(c)
                            }
                    }
                    CKEDITOR.scriptLoader.load(o, function(e, i) {
                        if (i.length) throw Error('[CKEDITOR.resourceManager.load] Resource name "' + a[i[0]].join(",") + '" was not found at "' + i[0] + '".');
                        for (var o = 0; o < e.length; o++)
                            for (var l = a[e[o]], c = 0; c < l.length; c++) {
                                var u = l[c];
                                s[u] = this.get(u), r[u] = 1
                            }
                        t.call(n, s)
                    }, this)
                }
            }, CKEDITOR.plugins = new CKEDITOR.resourceManager("plugins/", "plugin"), CKEDITOR.plugins.load = CKEDITOR.tools.override(CKEDITOR.plugins.load, function(e) {
                var t = {};
                return function(n, r, i) {
                    var o = {},
                        a = function(n) {
                            e.call(this, n, function(e) {
                                CKEDITOR.tools.extend(o, e);
                                var n, s = [];
                                for (n in e) {
                                    var l = e[n],
                                        c = l && l.requires;
                                    if (!t[n]) {
                                        if (l.icons)
                                            for (var u = l.icons.split(","), d = u.length; d--;) CKEDITOR.skin.addIcon(u[d], l.path + "icons/" + (CKEDITOR.env.hidpi && l.hidpi ? "hidpi/" : "") + u[d] + ".png");
                                        t[n] = 1
                                    }
                                    if (c)
                                        for (c.split && (c = c.split(",")), l = 0; l < c.length; l++) o[c[l]] || s.push(c[l])
                                }
                                if (s.length) a.call(this, s);
                                else {
                                    for (n in o)(l = o[n]).onLoad && !l.onLoad._called && (!1 === l.onLoad() && delete o[n], l.onLoad._called = 1);
                                    r && r.call(i || window, o)
                                }
                            }, this)
                        };
                    a.call(this, n)
                }
            }), CKEDITOR.plugins.setLang = function(e, t, n) {
                var r = this.get(e);
                e = r.langEntries || (r.langEntries = {}), (r = r.lang || (r.lang = [])).split && (r = r.split(",")), -1 == CKEDITOR.tools.indexOf(r, t) && r.push(t), e[t] = n
            }, CKEDITOR.ui = function(e) {
                return e.ui ? e.ui : (this.items = {}, this.instances = {}, this.editor = e, this._ = {
                    handlers: {}
                }, this)
            }, CKEDITOR.ui.prototype = {
                add: function(e, t, n) {
                    n.name = e.toLowerCase();
                    var r = this.items[e] = {
                        type: t,
                        command: n.command || null,
                        args: Array.prototype.slice.call(arguments, 2)
                    };
                    CKEDITOR.tools.extend(r, n)
                },
                get: function(e) {
                    return this.instances[e]
                },
                create: function(e) {
                    var t = this.items[e],
                        n = t && this._.handlers[t.type],
                        r = t && t.command && this.editor.getCommand(t.command);
                    return n = n && n.create.apply(this, t.args), this.instances[e] = n, r && r.uiItems.push(n), n && !n.type && (n.type = t.type), n
                },
                addHandler: function(e, t) {
                    this._.handlers[e] = t
                },
                space: function(e) {
                    return CKEDITOR.document.getById(this.spaceId(e))
                },
                spaceId: function(e) {
                    return this.editor.id + "_" + e
                }
            }, CKEDITOR.event.implementOn(CKEDITOR.ui), function() {
                function e(e, n, i) {
                    if (CKEDITOR.event.call(this), e = e && CKEDITOR.tools.clone(e), void 0 !== n) {
                        if (!(n instanceof CKEDITOR.dom.element)) throw Error("Expect element of type CKEDITOR.dom.element.");
                        if (!i) throw Error("One of the element modes must be specified.");
                        if (CKEDITOR.env.ie && CKEDITOR.env.quirks && i == CKEDITOR.ELEMENT_MODE_INLINE) throw Error("Inline element mode is not supported on IE quirks.");
                        if (! function(e, t) {
                                return t == CKEDITOR.ELEMENT_MODE_INLINE ? e.is(CKEDITOR.dtd.$editable) || e.is("textarea") : t == CKEDITOR.ELEMENT_MODE_REPLACE ? !e.is(CKEDITOR.dtd.$nonBodyContent) : 1
                            }(n, i)) throw Error('The specified element mode is not supported on element: "' + n.getName() + '".');
                        this.element = n, this.elementMode = i, this.name = this.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO && (n.getId() || n.getNameAtt())
                    } else this.elementMode = CKEDITOR.ELEMENT_MODE_NONE;
                    this._ = {}, this.commands = {}, this.templates = {}, this.name = this.name || function() {
                        do {
                            var e = "editor" + ++o
                        } while (CKEDITOR.instances[e]);
                        return e
                    }(), this.id = CKEDITOR.tools.getNextId(), this.status = "unloaded", this.config = CKEDITOR.tools.prototypedCopy(CKEDITOR.config), this.ui = new CKEDITOR.ui(this), this.focusManager = new CKEDITOR.focusManager(this), this.keystrokeHandler = new CKEDITOR.keystrokeHandler(this), this.on("readOnly", t), this.on("selectionChange", function(e) {
                        r(this, e.data.path)
                    }), this.on("activeFilterChange", function() {
                        r(this, this.elementPath(), !0)
                    }), this.on("mode", t), this.on("instanceReady", function() {
                        if (this.config.startupFocus) {
                            if ("end" === this.config.startupFocus) {
                                var e = this.createRange();
                                e.selectNodeContents(this.editable()), e.shrink(CKEDITOR.SHRINK_ELEMENT, !0), e.collapse(), this.getSelection().selectRanges([e])
                            }
                            this.focus()
                        }
                    }), CKEDITOR.fire("instanceCreated", null, this), CKEDITOR.add(this), CKEDITOR.tools.setTimeout(function() {
                        "destroyed" !== this.status ? function(e, t) {
                            e.on("customConfigLoaded", function() {
                                    if (t) {
                                        if (t.on)
                                            for (var n in t.on) e.on(n, t.on[n]);
                                        CKEDITOR.tools.extend(e.config, t, !0), delete e.config.on
                                    }
                                    e.readOnly = !!(n = e.config).readOnly || (e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? e.element.is("textarea") ? e.element.hasAttribute("disabled") || e.element.hasAttribute("readonly") : e.element.isReadOnly() : e.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE && (e.element.hasAttribute("disabled") || e.element.hasAttribute("readonly"))), e.blockless = e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE && !(e.element.is("textarea") || CKEDITOR.dtd[e.element.getName()].p), e.tabIndex = n.tabIndex || e.element && e.element.getAttribute("tabindex") || 0, e.activeEnterMode = e.enterMode = e.blockless ? CKEDITOR.ENTER_BR : n.enterMode, e.activeShiftEnterMode = e.shiftEnterMode = e.blockless ? CKEDITOR.ENTER_BR : n.shiftEnterMode, n.skin && (CKEDITOR.skinName = n.skin), e.fireOnce("configLoaded"), e.dataProcessor = new CKEDITOR.htmlDataProcessor(e), e.filter = e.activeFilter = new CKEDITOR.filter(e),
                                        function(e) {
                                            CKEDITOR.skin.loadPart("editor", function() {
                                                ! function(e) {
                                                    CKEDITOR.lang.load(e.config.language, e.config.defaultLanguage, function(t, n) {
                                                        var r = e.config.title;
                                                        e.langCode = t, e.lang = CKEDITOR.tools.prototypedCopy(n), e.title = "string" == typeof r || !1 === r ? r : [e.lang.editor, e.name].join(", "), e.config.contentsLangDirection || (e.config.contentsLangDirection = e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? e.element.getDirection(1) : e.lang.dir), e.fire("langLoaded"),
                                                            function(e) {
                                                                e.getStylesSet(function(t) {
                                                                    e.once("loaded", function() {
                                                                            e.fire("stylesSet", {
                                                                                styles: t
                                                                            })
                                                                        }, null, null, 1),
                                                                        function(e) {
                                                                            function t(e) {
                                                                                return e ? (CKEDITOR.tools.isArray(e) && (e = e.join(",")), e.replace(/\s/g, "")) : ""
                                                                            }
                                                                            var n = e.config,
                                                                                r = t(n.plugins),
                                                                                i = t(n.extraPlugins),
                                                                                o = t(n.removePlugins);
                                                                            if (i) {
                                                                                var a = new RegExp("(?:^|,)(?:" + i.replace(/,/g, "|") + ")(?=,|$)", "g");
                                                                                r = (r = r.replace(a, "")) + "," + i
                                                                            }
                                                                            if (o) {
                                                                                var s = new RegExp("(?:^|,)(?:" + o.replace(/,/g, "|") + ")(?=,|$)", "g");
                                                                                r = r.replace(s, "")
                                                                            }
                                                                            CKEDITOR.env.air && (r += ",adobeair"), CKEDITOR.plugins.load(r.split(","), function(t) {
                                                                                var r = [],
                                                                                    i = [],
                                                                                    o = [];
                                                                                for (var a in e.plugins = t, t) {
                                                                                    var l, c = t[a],
                                                                                        u = c.lang,
                                                                                        d = null,
                                                                                        h = c.requires;
                                                                                    if (CKEDITOR.tools.isArray(h) && (h = h.join(",")), h && (l = h.match(s)))
                                                                                        for (; h = l.pop();) CKEDITOR.error("editor-plugin-required", {
                                                                                            plugin: h.replace(",", ""),
                                                                                            requiredBy: a
                                                                                        });
                                                                                    u && !e.lang[a] && (u.split && (u = u.split(",")), d = 0 <= CKEDITOR.tools.indexOf(u, e.langCode) ? e.langCode : (d = e.langCode.replace(/-.*/, "")) != e.langCode && 0 <= CKEDITOR.tools.indexOf(u, d) ? d : 0 <= CKEDITOR.tools.indexOf(u, "en") ? "en" : u[0], c.langEntries && c.langEntries[d] ? (e.lang[a] = c.langEntries[d], d = null) : o.push(CKEDITOR.getUrl(c.path + "lang/" + d + ".js"))), i.push(d), r.push(c)
                                                                                }
                                                                                CKEDITOR.scriptLoader.load(o, function() {
                                                                                    for (var t = ["beforeInit", "init", "afterInit"], o = 0; o < t.length; o++)
                                                                                        for (var a = 0; a < r.length; a++) {
                                                                                            var s = r[a];
                                                                                            0 === o && i[a] && s.lang && s.langEntries && (e.lang[s.name] = s.langEntries[i[a]]), s[t[o]] && s[t[o]](e)
                                                                                        }
                                                                                    for (e.fireOnce("pluginsLoaded"), n.keystrokes && e.setKeystroke(e.config.keystrokes), a = 0; a < e.config.blockedKeystrokes.length; a++) e.keystrokeHandler.blockedKeystrokes[e.config.blockedKeystrokes[a]] = 1;
                                                                                    e.status = "loaded", e.fireOnce("loaded"), CKEDITOR.fire("instanceLoaded", null, e)
                                                                                })
                                                                            })
                                                                        }(e)
                                                                })
                                                            }(e)
                                                    })
                                                }(e)
                                            })
                                        }(e)
                                }), t && null != t.customConfig && (e.config.customConfig = t.customConfig),
                                function e(t) {
                                    if (!(n = t.config.customConfig)) return !1;
                                    var n = CKEDITOR.getUrl(n),
                                        r = a[n] || (a[n] = {});
                                    return r.fn ? (r.fn.call(t, t.config), CKEDITOR.getUrl(t.config.customConfig) != n && e(t) || t.fireOnce("customConfigLoaded")) : CKEDITOR.scriptLoader.queue(n, function() {
                                        r.fn = CKEDITOR.editorConfig ? CKEDITOR.editorConfig : function() {}, e(t)
                                    }), !0
                                }(e) || e.fireOnce("customConfigLoaded")
                        }(this, e) : CKEDITOR.warn("editor-incorrect-destroy")
                    }, 0, this)
                }

                function t() {
                    var e, t = this.commands;
                    for (e in t) n(this, t[e])
                }

                function n(e, t) {
                    t[t.startDisabled ? "disable" : e.readOnly && !t.readOnly ? "disable" : t.modes[e.mode] ? "enable" : "disable"]()
                }

                function r(e, t, n) {
                    if (t) {
                        var r, i, o = e.commands;
                        for (i in o) r = o[i], (n || r.contextSensitive) && r.refresh(e, t)
                    }
                }

                function i() {
                    var e = this.element;
                    if (e && this.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO) {
                        var t = this.getData();
                        return this.config.htmlEncodeOutput && (t = CKEDITOR.tools.htmlEncode(t)), e.is("textarea") ? e.setValue(t) : e.setHtml(t), !0
                    }
                    return !1
                }
                e.prototype = CKEDITOR.editor.prototype, CKEDITOR.editor = e;
                var o = 0,
                    a = {};
                CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                    addCommand: function(e, t) {
                        t.name = e.toLowerCase();
                        var r = t instanceof CKEDITOR.command ? t : new CKEDITOR.command(this, t);
                        return this.mode && n(this, r), this.commands[e] = r
                    },
                    _attachToForm: function() {
                        function e(e) {
                            t.updateElement(), t._.required && !n.getValue() && !1 === t.fire("required") && e.data.preventDefault()
                        }
                        var t = this,
                            n = t.element,
                            r = new CKEDITOR.dom.element(n.$.form);
                        n.is("textarea") && r && (r.on("submit", e), function(e) {
                            return !!(e && e.call && e.apply)
                        }(r.$.submit) && (r.$.submit = CKEDITOR.tools.override(r.$.submit, function(t) {
                            return function() {
                                e(), t.apply ? t.apply(this) : t()
                            }
                        })), t.on("destroy", function() {
                            r.removeListener("submit", e)
                        }))
                    },
                    destroy: function(e) {
                        this.fire("beforeDestroy"), !e && i.call(this), this.editable(null), this.filter && (this.filter.destroy(), delete this.filter), delete this.activeFilter, this.status = "destroyed", this.fire("destroy"), this.removeAllListeners(), CKEDITOR.remove(this), CKEDITOR.fire("instanceDestroyed", null, this)
                    },
                    elementPath: function(e) {
                        if (!e) {
                            if (!(e = this.getSelection())) return null;
                            e = e.getStartElement()
                        }
                        return e ? new CKEDITOR.dom.elementPath(e, this.editable()) : null
                    },
                    createRange: function() {
                        var e = this.editable();
                        return e ? new CKEDITOR.dom.range(e) : null
                    },
                    execCommand: function(e, t) {
                        var n = this.getCommand(e),
                            r = {
                                name: e,
                                commandData: t || {},
                                command: n
                            };
                        return !(!n || n.state == CKEDITOR.TRISTATE_DISABLED || !1 === this.fire("beforeCommandExec", r) || (r.returnValue = n.exec(r.commandData), n.async || !1 === this.fire("afterCommandExec", r))) && r.returnValue
                    },
                    getCommand: function(e) {
                        return this.commands[e]
                    },
                    getData: function(e) {
                        !e && this.fire("beforeGetData");
                        var t = this._.data;
                        return "string" != typeof t && (t = (t = this.element) && this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE ? t.is("textarea") ? t.getValue() : t.getHtml() : ""), t = {
                            dataValue: t
                        }, !e && this.fire("getData", t), t.dataValue
                    },
                    getSnapshot: function() {
                        var e = this.fire("getSnapshot");
                        return "string" != typeof e && (e = (e = this.element) && this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE ? e.is("textarea") ? e.getValue() : e.getHtml() : ""), e
                    },
                    loadSnapshot: function(e) {
                        this.fire("loadSnapshot", e)
                    },
                    setData: function(e, t, n) {
                        var r = !0,
                            i = t;
                        t && "object" == typeof t && (n = t.internal, i = t.callback, r = !t.noSnapshot), !n && r && this.fire("saveSnapshot"), !i && n || this.once("dataReady", function(e) {
                            !n && r && this.fire("saveSnapshot"), i && i.call(e.editor)
                        }), e = {
                            dataValue: e
                        }, !n && this.fire("setData", e), this._.data = e.dataValue, !n && this.fire("afterSetData", e)
                    },
                    setReadOnly: function(e) {
                        this.readOnly != (e = null == e || e) && (this.readOnly = e, this.keystrokeHandler.blockedKeystrokes[8] = +e, this.editable().setReadOnly(e), this.fire("readOnly"))
                    },
                    insertHtml: function(e, t, n) {
                        this.fire("insertHtml", {
                            dataValue: e,
                            mode: t,
                            range: n
                        })
                    },
                    insertText: function(e) {
                        this.fire("insertText", e)
                    },
                    insertElement: function(e) {
                        this.fire("insertElement", e)
                    },
                    getSelectedHtml: function(e) {
                        var t = this.editable(),
                            n = (n = this.getSelection()) && n.getRanges();
                        return t && n && 0 !== n.length ? (t = function(e, t) {
                            function n(e) {
                                var t = e.startContainer,
                                    n = e.endContainer;
                                return !(!t.is || !(t.is("tr") || t.is("td") && t.equals(n) && e.endOffset === t.getChildCount()))
                            }

                            function r(e) {
                                var t = e.startContainer;
                                return t.is("tr") ? e.cloneContents() : t.clone(!0)
                            }
                            for (var i, o, a, s = new CKEDITOR.dom.documentFragment, l = 0; l < e.length; l++) {
                                var c = e[l],
                                    u = c.startContainer.getAscendant("tr", !0);
                                n(c) ? (i || ((i = u.getAscendant("table").clone()).append(u.getAscendant({
                                    thead: 1,
                                    tbody: 1,
                                    tfoot: 1
                                }).clone()), s.append(i), i = i.findOne("thead, tbody, tfoot")), o && o.equals(u) || (o = u, a = u.clone(), i.append(a)), a.append(r(c))) : s.append(c.cloneContents())
                            }
                            return i ? s : t.getHtmlFromRange(e[0])
                        }(n, t), e ? t.getHtml() : t) : null
                    },
                    extractSelectedHtml: function(e, t) {
                        var n, r = this.editable(),
                            i = this.getSelection().getRanges(),
                            o = new CKEDITOR.dom.documentFragment;
                        if (!r || 0 === i.length) return null;
                        for (n = 0; n < i.length; n++) o.append(r.extractHtmlFromRange(i[n], t));
                        return t || this.getSelection().selectRanges([i[0]]), e ? o.getHtml() : o
                    },
                    focus: function() {
                        this.fire("beforeFocus")
                    },
                    checkDirty: function() {
                        return "ready" == this.status && this._.previousValue !== this.getSnapshot()
                    },
                    resetDirty: function() {
                        this._.previousValue = this.getSnapshot()
                    },
                    updateElement: function() {
                        return i.call(this)
                    },
                    setKeystroke: function() {
                        for (var e, t, n = this.keystrokeHandler.keystrokes, r = CKEDITOR.tools.isArray(arguments[0]) ? arguments[0] : [
                                [].slice.call(arguments, 0)
                            ], i = r.length; i--;) e = r[i], t = 0, CKEDITOR.tools.isArray(e) && (t = e[1], e = e[0]), t ? n[e] = t : delete n[e]
                    },
                    getCommandKeystroke: function(e) {
                        if (e = "string" == typeof e ? this.getCommand(e) : e) {
                            var t, n = CKEDITOR.tools.object.findKey(this.commands, e),
                                r = this.keystrokeHandler.keystrokes;
                            if (e.fakeKeystroke) return e.fakeKeystroke;
                            for (t in r)
                                if (r.hasOwnProperty(t) && r[t] == n) return t
                        }
                        return null
                    },
                    addFeature: function(e) {
                        return this.filter.addFeature(e)
                    },
                    setActiveFilter: function(e) {
                        e || (e = this.filter), this.activeFilter !== e && (this.activeFilter = e, this.fire("activeFilterChange"), e === this.filter ? this.setActiveEnterMode(null, null) : this.setActiveEnterMode(e.getAllowedEnterMode(this.enterMode), e.getAllowedEnterMode(this.shiftEnterMode, !0)))
                    },
                    setActiveEnterMode: function(e, t) {
                        e = e ? this.blockless ? CKEDITOR.ENTER_BR : e : this.enterMode, t = t ? this.blockless ? CKEDITOR.ENTER_BR : t : this.shiftEnterMode, this.activeEnterMode == e && this.activeShiftEnterMode == t || (this.activeEnterMode = e, this.activeShiftEnterMode = t, this.fire("activeEnterModeChange"))
                    },
                    showNotification: function(e) {
                        alert(e)
                    }
                })
            }(), CKEDITOR.ELEMENT_MODE_NONE = 0, CKEDITOR.ELEMENT_MODE_REPLACE = 1, CKEDITOR.ELEMENT_MODE_APPENDTO = 2, CKEDITOR.ELEMENT_MODE_INLINE = 3, CKEDITOR.htmlParser = function() {
                this._ = {
                    htmlPartsRegex: /<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g
                }
            }, function() {
                var e = /([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,
                    t = {
                        checked: 1,
                        compact: 1,
                        declare: 1,
                        defer: 1,
                        disabled: 1,
                        ismap: 1,
                        multiple: 1,
                        nohref: 1,
                        noresize: 1,
                        noshade: 1,
                        nowrap: 1,
                        readonly: 1,
                        selected: 1
                    };
                CKEDITOR.htmlParser.prototype = {
                    onTagOpen: function() {},
                    onTagClose: function() {},
                    onText: function() {},
                    onCDATA: function() {},
                    onComment: function() {},
                    parse: function(n) {
                        for (var r, i, o, a = 0; r = this._.htmlPartsRegex.exec(n);)
                            if ((i = r.index) > a && (a = n.substring(a, i), o ? o.push(a) : this.onText(a)), a = this._.htmlPartsRegex.lastIndex, !(i = r[1]) || (i = i.toLowerCase(), o && CKEDITOR.dtd.$cdata[i] && (this.onCDATA(o.join("")), o = null), o))
                                if (o) o.push(r[0]);
                                else if (i = r[3]) {
                            if (i = i.toLowerCase(), !/="/.test(i)) {
                                var s, l = {},
                                    c = r[4];
                                if (r = !!r[5], c)
                                    for (; s = e.exec(c);) {
                                        var u = s[1].toLowerCase();
                                        l[u] = !(s = s[2] || s[3] || s[4] || "") && t[u] ? u : CKEDITOR.tools.htmlDecodeAttr(s)
                                    }
                                this.onTagOpen(i, l, r), !o && CKEDITOR.dtd.$cdata[i] && (o = [])
                            }
                        } else(i = r[2]) && this.onComment(i);
                        else this.onTagClose(i);
                        n.length > a && this.onText(n.substring(a, n.length))
                    }
                }
            }(), CKEDITOR.htmlParser.basicWriter = CKEDITOR.tools.createClass({
                $: function() {
                    this._ = {
                        output: []
                    }
                },
                proto: {
                    openTag: function(e) {
                        this._.output.push("<", e)
                    },
                    openTagClose: function(e, t) {
                        this._.output.push(t ? " />" : ">")
                    },
                    attribute: function(e, t) {
                        "string" == typeof t && (t = CKEDITOR.tools.htmlEncodeAttr(t)), this._.output.push(" ", e, '="', t, '"')
                    },
                    closeTag: function(e) {
                        this._.output.push("</", e, ">")
                    },
                    text: function(e) {
                        this._.output.push(e)
                    },
                    comment: function(e) {
                        this._.output.push("\x3c!--", e, "--\x3e")
                    },
                    write: function(e) {
                        this._.output.push(e)
                    },
                    reset: function() {
                        this._.output = [], this._.indent = !1
                    },
                    getHtml: function(e) {
                        var t = this._.output.join("");
                        return e && this.reset(), t
                    }
                }
            }), CKEDITOR.htmlParser.node = function() {}, CKEDITOR.htmlParser.node.prototype = {
                remove: function() {
                    var e = this.parent.children,
                        t = CKEDITOR.tools.indexOf(e, this),
                        n = this.previous,
                        r = this.next;
                    n && (n.next = r), r && (r.previous = n), e.splice(t, 1), this.parent = null
                },
                replaceWith: function(e) {
                    var t = this.parent.children,
                        n = CKEDITOR.tools.indexOf(t, this),
                        r = e.previous = this.previous,
                        i = e.next = this.next;
                    r && (r.next = e), i && (i.previous = e), t[n] = e, e.parent = this.parent, this.parent = null
                },
                insertAfter: function(e) {
                    var t = e.parent.children,
                        n = CKEDITOR.tools.indexOf(t, e),
                        r = e.next;
                    t.splice(n + 1, 0, this), this.next = e.next, this.previous = e, e.next = this, r && (r.previous = this), this.parent = e.parent
                },
                insertBefore: function(e) {
                    var t = e.parent.children,
                        n = CKEDITOR.tools.indexOf(t, e);
                    t.splice(n, 0, this), this.next = e, (this.previous = e.previous) && (e.previous.next = this), e.previous = this, this.parent = e.parent
                },
                getAscendant: function(e) {
                    for (var t = "function" == typeof e ? e : "string" == typeof e ? function(t) {
                            return t.name == e
                        } : function(t) {
                            return t.name in e
                        }, n = this.parent; n && n.type == CKEDITOR.NODE_ELEMENT;) {
                        if (t(n)) return n;
                        n = n.parent
                    }
                    return null
                },
                wrapWith: function(e) {
                    return this.replaceWith(e), e.add(this), e
                },
                getIndex: function() {
                    return CKEDITOR.tools.indexOf(this.parent.children, this)
                },
                getFilterContext: function(e) {
                    return e || {}
                }
            }, CKEDITOR.htmlParser.comment = function(e) {
                this.value = e, this._ = {
                    isBlockLike: !1
                }
            }, CKEDITOR.htmlParser.comment.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node, {
                type: CKEDITOR.NODE_COMMENT,
                filter: function(e, t) {
                    var n = this.value;
                    return (n = e.onComment(t, n, this)) ? "string" != typeof n ? (this.replaceWith(n), !1) : (this.value = n, !0) : (this.remove(), !1)
                },
                writeHtml: function(e, t) {
                    t && this.filter(t), e.comment(this.value)
                }
            }), CKEDITOR.htmlParser.text = function(e) {
                this.value = e, this._ = {
                    isBlockLike: !1
                }
            }, CKEDITOR.htmlParser.text.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node, {
                type: CKEDITOR.NODE_TEXT,
                filter: function(e, t) {
                    if (!(this.value = e.onText(t, this.value, this))) return this.remove(), !1
                },
                writeHtml: function(e, t) {
                    t && this.filter(t), e.text(this.value)
                }
            }), CKEDITOR.htmlParser.cdata = function(e) {
                this.value = e
            }, CKEDITOR.htmlParser.cdata.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node, {
                type: CKEDITOR.NODE_TEXT,
                filter: function() {},
                writeHtml: function(e) {
                    e.write(this.value)
                }
            }), CKEDITOR.htmlParser.fragment = function() {
                this.children = [], this.parent = null, this._ = {
                    isBlockLike: !0,
                    hasInlineStarted: !1
                }
            }, function() {
                function e(e) {
                    return !e.attributes["data-cke-survive"] && ("a" == e.name && e.attributes.href || CKEDITOR.dtd.$removeEmpty[e.name])
                }
                var t = CKEDITOR.tools.extend({
                        table: 1,
                        ul: 1,
                        ol: 1,
                        dl: 1
                    }, CKEDITOR.dtd.table, CKEDITOR.dtd.ul, CKEDITOR.dtd.ol, CKEDITOR.dtd.dl),
                    n = {
                        ol: 1,
                        ul: 1
                    },
                    r = CKEDITOR.tools.extend({}, {
                        html: 1
                    }, CKEDITOR.dtd.html, CKEDITOR.dtd.body, CKEDITOR.dtd.head, {
                        style: 1,
                        script: 1
                    }),
                    i = {
                        ul: "li",
                        ol: "li",
                        dl: "dd",
                        table: "tbody",
                        tbody: "tr",
                        thead: "tr",
                        tfoot: "tr",
                        tr: "td"
                    };
                CKEDITOR.htmlParser.fragment.fromHtml = function(o, a, s) {
                    function l(e) {
                        var t;
                        if (0 < g.length)
                            for (var n = 0; n < g.length; n++) {
                                var r = g[n],
                                    i = r.name,
                                    o = CKEDITOR.dtd[i],
                                    a = b.name && CKEDITOR.dtd[b.name];
                                a && !a[i] || e && o && !o[e] && CKEDITOR.dtd[e] ? i == b.name && (d(b, b.parent, 1), n--) : (t || (c(), t = 1), (r = r.clone()).parent = b, b = r, g.splice(n, 1), n--)
                            }
                    }

                    function c() {
                        for (; E.length;) d(E.shift(), b)
                    }

                    function u(e) {
                        if (e._.isBlockLike && "pre" != e.name && "textarea" != e.name) {
                            var t, n = e.children.length,
                                r = e.children[n - 1];
                            r && r.type == CKEDITOR.NODE_TEXT && ((t = CKEDITOR.tools.rtrim(r.value)) ? r.value = t : e.children.length = n - 1)
                        }
                    }

                    function d(t, n, r) {
                        n = n || b || m;
                        var i = b;
                        void 0 === t.previous && (h(n, t) && (b = n, f.onTagOpen(s, {}), t.returnPoint = n = b), u(t), e(t) && !t.children.length || n.add(t), "pre" == t.name && (T = !1), "textarea" == t.name && (v = !1)), t.returnPoint ? (b = t.returnPoint, delete t.returnPoint) : b = r ? n : i
                    }

                    function h(e, t) {
                        var n, r;
                        if ((e == m || "body" == e.name) && s && (!e.name || CKEDITOR.dtd[e.name][s])) return (n = t.attributes && (r = t.attributes["data-cke-real-element-type"]) ? r : t.name) && n in CKEDITOR.dtd.$inline && !(n in CKEDITOR.dtd.head) && !t.isOrphan || t.type == CKEDITOR.NODE_TEXT
                    }

                    function p(e, t) {
                        return (e in CKEDITOR.dtd.$listItem || e in CKEDITOR.dtd.$tableContent) && (e == t || "dt" == e && "dd" == t || "dd" == e && "dt" == t)
                    }
                    var f = new CKEDITOR.htmlParser,
                        m = a instanceof CKEDITOR.htmlParser.element ? a : "string" == typeof a ? new CKEDITOR.htmlParser.element(a) : new CKEDITOR.htmlParser.fragment,
                        g = [],
                        E = [],
                        b = m,
                        v = "textarea" == m.name,
                        T = "pre" == m.name;
                    for (f.onTagOpen = function(i, o, a, s) {
                            if ((o = new CKEDITOR.htmlParser.element(i, o)).isUnknown && a && (o.isEmpty = !0), o.isOptionalClose = s, e(o)) g.push(o);
                            else {
                                if ("pre" == i) T = !0;
                                else {
                                    if ("br" == i && T) return void b.add(new CKEDITOR.htmlParser.text("\n"));
                                    "textarea" == i && (v = !0)
                                }
                                if ("br" == i) E.push(o);
                                else {
                                    for (; s = (a = b.name) ? CKEDITOR.dtd[a] || (b._.isBlockLike ? CKEDITOR.dtd.div : CKEDITOR.dtd.span) : r, !(o.isUnknown || b.isUnknown || s[i]);)
                                        if (b.isOptionalClose) f.onTagClose(a);
                                        else if (i in n && a in n)(a = (a = b.children)[a.length - 1]) && "li" == a.name || d(a = new CKEDITOR.htmlParser.element("li"), b), !o.returnPoint && (o.returnPoint = b), b = a;
                                    else if (i in CKEDITOR.dtd.$listItem && !p(i, a)) f.onTagOpen("li" == i ? "ul" : "dl", {}, 0, 1);
                                    else if (a in t && !p(i, a)) !o.returnPoint && (o.returnPoint = b), b = b.parent;
                                    else {
                                        if (a in CKEDITOR.dtd.$inline && g.unshift(b), !b.parent) {
                                            o.isOrphan = 1;
                                            break
                                        }
                                        d(b, b.parent, 1)
                                    }
                                    l(i), c(), o.parent = b, o.isEmpty ? d(o) : b = o
                                }
                            }
                        }, f.onTagClose = function(e) {
                            for (var t = g.length - 1; 0 <= t; t--)
                                if (e == g[t].name) return void g.splice(t, 1);
                            for (var n = [], r = [], i = b; i != m && i.name != e;) i._.isBlockLike || r.unshift(i), n.push(i), i = i.returnPoint || i.parent;
                            if (i != m) {
                                for (t = 0; t < n.length; t++) {
                                    var o = n[t];
                                    d(o, o.parent)
                                }
                                b = i, i._.isBlockLike && c(), d(i, i.parent), i == b && (b = b.parent), g = g.concat(r)
                            }
                            "body" == e && (s = !1)
                        }, f.onText = function(e) {
                            if (b._.hasInlineStarted && !E.length || T || v || 0 !== (e = CKEDITOR.tools.ltrim(e)).length) {
                                var n = b.name,
                                    o = n ? CKEDITOR.dtd[n] || (b._.isBlockLike ? CKEDITOR.dtd.div : CKEDITOR.dtd.span) : r;
                                !v && !o["#"] && n in t ? (f.onTagOpen(i[n] || ""), f.onText(e)) : (c(), l(), T || v || (e = e.replace(/[\t\r\n ]{2,}|[\t\r\n]/g, " ")), e = new CKEDITOR.htmlParser.text(e), h(b, e) && this.onTagOpen(s, {}, 0, 1), b.add(e))
                            }
                        }, f.onCDATA = function(e) {
                            b.add(new CKEDITOR.htmlParser.cdata(e))
                        }, f.onComment = function(e) {
                            c(), l(), b.add(new CKEDITOR.htmlParser.comment(e))
                        }, f.parse(o), c(); b != m;) d(b, b.parent, 1);
                    return u(m), m
                }, CKEDITOR.htmlParser.fragment.prototype = {
                    type: CKEDITOR.NODE_DOCUMENT_FRAGMENT,
                    add: function(e, t) {
                        isNaN(t) && (t = this.children.length);
                        var n = 0 < t ? this.children[t - 1] : null;
                        if (n) {
                            if (e._.isBlockLike && n.type == CKEDITOR.NODE_TEXT && (n.value = CKEDITOR.tools.rtrim(n.value), 0 === n.value.length)) return this.children.pop(), void this.add(e);
                            n.next = e
                        }
                        e.previous = n, e.parent = this, this.children.splice(t, 0, e), this._.hasInlineStarted || (this._.hasInlineStarted = e.type == CKEDITOR.NODE_TEXT || e.type == CKEDITOR.NODE_ELEMENT && !e._.isBlockLike)
                    },
                    filter: function(e, t) {
                        t = this.getFilterContext(t), e.onRoot(t, this), this.filterChildren(e, !1, t)
                    },
                    filterChildren: function(e, t, n) {
                        if (this.childrenFilteredBy != e.id)
                            for (n = this.getFilterContext(n), t && !this.parent && e.onRoot(n, this), this.childrenFilteredBy = e.id, t = 0; t < this.children.length; t++) !1 === this.children[t].filter(e, n) && t--
                    },
                    writeHtml: function(e, t) {
                        t && this.filter(t), this.writeChildrenHtml(e)
                    },
                    writeChildrenHtml: function(e, t, n) {
                        var r = this.getFilterContext();
                        for (n && !this.parent && t && t.onRoot(r, this), t && this.filterChildren(t, !1, r), t = 0, r = (n = this.children).length; t < r; t++) n[t].writeHtml(e)
                    },
                    forEach: function(e, t, n) {
                        if (!(n || t && this.type != t)) var r = e(this);
                        if (!1 !== r) {
                            n = this.children;
                            for (var i = 0; i < n.length; i++)(r = n[i]).type == CKEDITOR.NODE_ELEMENT ? r.forEach(e, t) : t && r.type != t || e(r)
                        }
                    },
                    getFilterContext: function(e) {
                        return e || {}
                    }
                }
            }(), function() {
                function e() {
                    this.rules = []
                }

                function t(t, n, r, i) {
                    var o, a;
                    for (o in n)(a = t[o]) || (a = t[o] = new e), a.add(n[o], r, i)
                }
                CKEDITOR.htmlParser.filter = CKEDITOR.tools.createClass({
                    $: function(t) {
                        this.id = CKEDITOR.tools.getNextNumber(), this.elementNameRules = new e, this.attributeNameRules = new e, this.elementsRules = {}, this.attributesRules = {}, this.textRules = new e, this.commentRules = new e, this.rootRules = new e, t && this.addRules(t, 10)
                    },
                    proto: {
                        addRules: function(e, n) {
                            var r;
                            "number" == typeof n ? r = n : n && "priority" in n && (r = n.priority), "number" != typeof r && (r = 10), "object" != typeof n && (n = {}), e.elementNames && this.elementNameRules.addMany(e.elementNames, r, n), e.attributeNames && this.attributeNameRules.addMany(e.attributeNames, r, n), e.elements && t(this.elementsRules, e.elements, r, n), e.attributes && t(this.attributesRules, e.attributes, r, n), e.text && this.textRules.add(e.text, r, n), e.comment && this.commentRules.add(e.comment, r, n), e.root && this.rootRules.add(e.root, r, n)
                        },
                        applyTo: function(e) {
                            e.filter(this)
                        },
                        onElementName: function(e, t) {
                            return this.elementNameRules.execOnName(e, t)
                        },
                        onAttributeName: function(e, t) {
                            return this.attributeNameRules.execOnName(e, t)
                        },
                        onText: function(e, t, n) {
                            return this.textRules.exec(e, t, n)
                        },
                        onComment: function(e, t, n) {
                            return this.commentRules.exec(e, t, n)
                        },
                        onRoot: function(e, t) {
                            return this.rootRules.exec(e, t)
                        },
                        onElement: function(e, t) {
                            for (var n, r = [this.elementsRules["^"], this.elementsRules[t.name], this.elementsRules.$], i = 0; 3 > i; i++)
                                if (n = r[i]) {
                                    if (!1 === (n = n.exec(e, t, this))) return null;
                                    if (n && n != t) return this.onNode(e, n);
                                    if (t.parent && !t.name) break
                                }
                            return t
                        },
                        onNode: function(e, t) {
                            var n = t.type;
                            return n == CKEDITOR.NODE_ELEMENT ? this.onElement(e, t) : n == CKEDITOR.NODE_TEXT ? new CKEDITOR.htmlParser.text(this.onText(e, t.value)) : n == CKEDITOR.NODE_COMMENT ? new CKEDITOR.htmlParser.comment(this.onComment(e, t.value)) : null
                        },
                        onAttribute: function(e, t, n, r) {
                            return (n = this.attributesRules[n]) ? n.exec(e, r, t, this) : r
                        }
                    }
                }), CKEDITOR.htmlParser.filterRulesGroup = e, e.prototype = {
                    add: function(e, t, n) {
                        this.rules.splice(this.findIndex(t), 0, {
                            value: e,
                            priority: t,
                            options: n
                        })
                    },
                    addMany: function(e, t, n) {
                        for (var r = [this.findIndex(t), 0], i = 0, o = e.length; i < o; i++) r.push({
                            value: e[i],
                            priority: t,
                            options: n
                        });
                        this.rules.splice.apply(this.rules, r)
                    },
                    findIndex: function(e) {
                        for (var t = this.rules, n = t.length - 1; 0 <= n && e < t[n].priority;) n--;
                        return n + 1
                    },
                    exec: function(e, t) {
                        var n, r, i, o, a = t instanceof CKEDITOR.htmlParser.node || t instanceof CKEDITOR.htmlParser.fragment,
                            s = Array.prototype.slice.call(arguments, 1),
                            l = this.rules,
                            c = l.length;
                        for (o = 0; o < c; o++)
                            if (a && (n = t.type, r = t.name), i = l[o], !(e.nonEditable && !i.options.applyToAll || e.nestedEditable && i.options.excludeNestedEditable)) {
                                if (!1 === (i = i.value.apply(null, s)) || a && i && (i.name != r || i.type != n)) return i;
                                null != i && (s[0] = t = i)
                            }
                        return t
                    },
                    execOnName: function(e, t) {
                        for (var n, r = 0, i = this.rules, o = i.length; t && r < o; r++) n = i[r], e.nonEditable && !n.options.applyToAll || e.nestedEditable && n.options.excludeNestedEditable || (t = t.replace(n.value[0], n.value[1]));
                        return t
                    }
                }
            }(), function() {
                function e(e, t) {
                    function s(e) {
                        return e || CKEDITOR.env.needsNbspFiller ? new CKEDITOR.htmlParser.text("\xa0") : new CKEDITOR.htmlParser.element("br", {
                            "data-cke-bogus": 1
                        })
                    }

                    function l(e, t) {
                        return function(i) {
                            if (i.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
                                var a, l, u = [],
                                    d = n(i);
                                if (d)
                                    for (c(d, 1) && u.push(d); d;) o(d) && (a = r(d)) && c(a) && ((l = r(a)) && !o(l) ? u.push(a) : (s(p).insertAfter(a), a.remove())), d = d.previous;
                                for (d = 0; d < u.length; d++) u[d].remove();
                                (u = !e || !1 !== ("function" == typeof t ? t(i) : t)) && (u = !(!p && !CKEDITOR.env.needsBrFiller && i.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || !p && !CKEDITOR.env.needsBrFiller && (7 < document.documentMode || i.name in CKEDITOR.dtd.tr || i.name in CKEDITOR.dtd.$listItem) || (u = n(i)) && ("form" != i.name || "input" != u.name))), u && i.add(s(e))
                            }
                        }
                    }

                    function c(e, t) {
                        return !(p && !CKEDITOR.env.needsBrFiller || e.type != CKEDITOR.NODE_ELEMENT || "br" != e.name || e.attributes["data-cke-eol"]) || !!(e.type == CKEDITOR.NODE_TEXT && (n = e.value.match(h)) && (n.index && (new CKEDITOR.htmlParser.text(e.value.substring(0, n.index)).insertBefore(e), e.value = n[0]), !CKEDITOR.env.needsBrFiller && p && (!t || e.parent.name in m) || !p && ((n = e.previous) && "br" == n.name || !n || o(n))));
                        var n
                    }
                    var u, d = {
                            elements: {}
                        },
                        p = "html" == t,
                        m = CKEDITOR.tools.extend({}, g);
                    for (u in m) "#" in f[u] || delete m[u];
                    for (u in m) d.elements[u] = l(p, e.config.fillEmptyBlocks);
                    return d.root = l(p, !1), d.elements.br = function(e) {
                        return function(t) {
                            if (t.parent.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
                                var n = t.attributes;
                                if ("data-cke-bogus" in n || "data-cke-eol" in n) delete n["data-cke-bogus"];
                                else {
                                    for (n = t.next; n && i(n);) n = n.next;
                                    var l = r(t);
                                    !n && o(t.parent) ? a(t.parent, s(e)) : o(n) && l && !o(l) && s(e).insertBefore(n)
                                }
                            }
                        }
                    }(p), d
                }

                function t(e, t) {
                    return e != CKEDITOR.ENTER_BR && !1 !== t && (e == CKEDITOR.ENTER_DIV ? "div" : "p")
                }

                function n(e) {
                    for (e = e.children[e.children.length - 1]; e && i(e);) e = e.previous;
                    return e
                }

                function r(e) {
                    for (e = e.previous; e && i(e);) e = e.previous;
                    return e
                }

                function i(e) {
                    return e.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.trim(e.value) || e.type == CKEDITOR.NODE_ELEMENT && e.attributes["data-cke-bookmark"]
                }

                function o(e) {
                    return e && (e.type == CKEDITOR.NODE_ELEMENT && e.name in g || e.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT)
                }

                function a(e, t) {
                    var n = e.children[e.children.length - 1];
                    e.children.push(t), t.parent = e, n && (n.next = t, t.previous = n)
                }

                function s(e) {
                    "false" != (e = e.attributes).contenteditable && (e["data-cke-editable"] = e.contenteditable ? "true" : 1), e.contenteditable = "false"
                }

                function l(e) {
                    switch ((e = e.attributes)["data-cke-editable"]) {
                        case "true":
                            e.contenteditable = "true";
                            break;
                        case "1":
                            delete e.contenteditable
                    }
                }

                function c(e, t) {
                    return e.replace(t, function(e, t, n) {
                        return 0 === e.indexOf("<textarea") && (e = t + u(n).replace(/</g, "&lt;").replace(/>/g, "&gt;") + "</textarea>"), "<cke:encoded>" + encodeURIComponent(e) + "</cke:encoded>"
                    })
                }

                function u(e) {
                    return e.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g, function(e, t) {
                        return decodeURIComponent(t)
                    })
                }

                function d(e, t) {
                    var n = t._.dataStore;
                    return e.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g, function(e, t) {
                        return decodeURIComponent(t)
                    }).replace(/\{cke_protected_(\d+)\}/g, function(e, t) {
                        return n && n[t] || ""
                    })
                }
                CKEDITOR.htmlDataProcessor = function(n) {
                    var r, i, o = this;
                    this.editor = n, this.dataFilter = r = new CKEDITOR.htmlParser.filter, this.htmlFilter = i = new CKEDITOR.htmlParser.filter, this.writer = new CKEDITOR.htmlParser.basicWriter, r.addRules(E), r.addRules(b, {
                        applyToAll: !0
                    }), r.addRules(e(n, "data"), {
                        applyToAll: !0
                    }), i.addRules(v), i.addRules(T, {
                        applyToAll: !0
                    }), i.addRules(e(n, "html"), {
                        applyToAll: !0
                    }), n.on("toHtml", function(e) {
                        var r, i, o = function(e, t) {
                            var n = [],
                                r = t.config.protectedSource,
                                i = t._.dataStore || (t._.dataStore = {
                                    id: 1
                                }),
                                o = /<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g;
                            r = [/<script[\s\S]*?(<\/script>|$)/gi, /<noscript[\s\S]*?<\/noscript>/gi, /<meta[\s\S]*?\/?>/gi].concat(r), e = e.replace(/\x3c!--[\s\S]*?--\x3e/g, function(e) {
                                return "\x3c!--{cke_tempcomment}" + (n.push(e) - 1) + "--\x3e"
                            });
                            for (var a = 0; a < r.length; a++) e = e.replace(r[a], function(e) {
                                return e = e.replace(o, function(e, t, r) {
                                    return n[r]
                                }), /cke_temp(comment)?/.test(e) ? e : "\x3c!--{cke_temp}" + (n.push(e) - 1) + "--\x3e"
                            });
                            return (e = (e = e.replace(o, function(e, t, r) {
                                return "\x3c!--" + p + (t ? "{C}" : "") + encodeURIComponent(n[r]).replace(/--/g, "%2D%2D") + "--\x3e"
                            })).replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g, function(e) {
                                return e.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g, function(e, t) {
                                    return i[i.id] = decodeURIComponent(t), "{cke_protected_" + i.id++ + "}"
                                })
                            })).replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g, function(e, n, r, i) {
                                return "<" + n + r + ">" + d(u(i), t) + "</" + n + ">"
                            })
                        }(o = (e = e.data).dataValue, n);
                        o = (o = (o = (o = (o = c(o = (o = c(o, _)).replace(y, function(e, t, n) {
                            return "<" + t + n.replace(C, function(e, t) {
                                return k.test(t) && -1 == n.indexOf("data-cke-saved-" + t) ? " data-cke-saved-" + e + " data-cke-" + CKEDITOR.rnd + "-" + e : e
                            }) + ">"
                        }), w)).replace(D, "$1cke:$2")).replace(R, "<cke:$1$2></cke:$1>")).replace(/(<pre\b[^>]*>)(\r\n|\n)/g, "$1$2$2")).replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi, "$1data-cke-" + CKEDITOR.rnd + "-$2"), r = e.context || n.editable().getName(), CKEDITOR.env.ie && 9 > CKEDITOR.env.version && "pre" == r && (r = "div", o = "<pre>" + o + "</pre>", i = 1), (r = n.document.createElement(r)).setHtml("a" + o), o = (o = r.getHtml().substr(1)).replace(new RegExp("data-cke-" + CKEDITOR.rnd + "-", "ig"), ""), i && (o = o.replace(/^<pre>|<\/pre>$/gi, "")), o = u(o = (o = o.replace(O, "$1$2")).replace(x, function(e, t) {
                            return decodeURIComponent(t)
                        })), r = !1 !== e.fixForBody && t(e.enterMode, n.config.autoParagraph), o = CKEDITOR.htmlParser.fragment.fromHtml(o, e.context, r), r && !(i = o).children.length && CKEDITOR.dtd[i.name][r] && (r = new CKEDITOR.htmlParser.element(r), i.add(r)), e.dataValue = o
                    }, null, null, 5), n.on("toHtml", function(e) {
                        e.data.filter.applyTo(e.data.dataValue, !0, e.data.dontFilter, e.data.enterMode) && n.fire("dataFiltered")
                    }, null, null, 6), n.on("toHtml", function(e) {
                        e.data.dataValue.filterChildren(o.dataFilter, !0)
                    }, null, null, 10), n.on("toHtml", function(e) {
                        var t = (e = e.data).dataValue,
                            n = new CKEDITOR.htmlParser.basicWriter;
                        t.writeChildrenHtml(n), t = n.getHtml(!0), e.dataValue = t.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g, function(e) {
                            return "\x3c!--" + p + "{C}" + encodeURIComponent(e).replace(/--/g, "%2D%2D") + "--\x3e"
                        })
                    }, null, null, 15), n.on("toDataFormat", function(e) {
                        var r = e.data.dataValue;
                        e.data.enterMode != CKEDITOR.ENTER_BR && (r = r.replace(/^<br *\/?>/i, "")), e.data.dataValue = CKEDITOR.htmlParser.fragment.fromHtml(r, e.data.context, t(e.data.enterMode, n.config.autoParagraph))
                    }, null, null, 5), n.on("toDataFormat", function(e) {
                        e.data.dataValue.filterChildren(o.htmlFilter, !0)
                    }, null, null, 10), n.on("toDataFormat", function(e) {
                        e.data.filter.applyTo(e.data.dataValue, !1, !0)
                    }, null, null, 11), n.on("toDataFormat", function(e) {
                        var t = e.data.dataValue,
                            r = o.writer;
                        r.reset(), t.writeChildrenHtml(r), t = d(t = u(t = r.getHtml(!0)), n), e.data.dataValue = t
                    }, null, null, 15)
                }, CKEDITOR.htmlDataProcessor.prototype = {
                    toHtml: function(e, t, n, r) {
                        var i, o, a, s, l = this.editor;
                        return t && "object" == typeof t ? (i = t.context, n = t.fixForBody, r = t.dontFilter, o = t.filter, a = t.enterMode, s = t.protectedWhitespaces) : i = t, i || null === i || (i = l.editable().getName()), l.fire("toHtml", {
                            dataValue: e,
                            context: i,
                            fixForBody: n,
                            dontFilter: r,
                            filter: o || l.filter,
                            enterMode: a || l.enterMode,
                            protectedWhitespaces: s
                        }).dataValue
                    },
                    toDataFormat: function(e, t) {
                        var n, r, i;
                        return t && (n = t.context, r = t.filter, i = t.enterMode), n || null === n || (n = this.editor.editable().getName()), this.editor.fire("toDataFormat", {
                            dataValue: e,
                            filter: r || this.editor.filter,
                            context: n,
                            enterMode: i || this.editor.enterMode
                        }).dataValue
                    }
                };
                var h = /(?:&nbsp;|\xa0)$/,
                    p = "{cke_protected}",
                    f = CKEDITOR.dtd,
                    m = "caption colgroup col thead tfoot tbody".split(" "),
                    g = CKEDITOR.tools.extend({}, f.$blockLimit, f.$block),
                    E = {
                        elements: {
                            input: s,
                            textarea: s
                        }
                    },
                    b = {
                        attributeNames: [
                            [/^on/, "data-cke-pa-on"],
                            [/^srcdoc/, "data-cke-pa-srcdoc"],
                            [/^data-cke-expando$/, ""]
                        ],
                        elements: {
                            iframe: function(e) {
                                if (e.attributes && e.attributes.src) {
                                    var t = e.attributes.src.toLowerCase().replace(/[^a-z]/gi, "");
                                    0 !== t.indexOf("javascript") && 0 !== t.indexOf("data") || (e.attributes["data-cke-pa-src"] = e.attributes.src, delete e.attributes.src)
                                }
                            }
                        }
                    },
                    v = {
                        elements: {
                            embed: function(e) {
                                if ((n = e.parent) && "object" == n.name) {
                                    var t = n.attributes.width,
                                        n = n.attributes.height;
                                    t && (e.attributes.width = t), n && (e.attributes.height = n)
                                }
                            },
                            a: function(e) {
                                var t = e.attributes;
                                if (!(e.children.length || t.name || t.id || e.attributes["data-cke-saved-name"])) return !1
                            }
                        }
                    },
                    T = {
                        elementNames: [
                            [/^cke:/, ""],
                            [/^\?xml:namespace$/, ""]
                        ],
                        attributeNames: [
                            [/^data-cke-(saved|pa)-/, ""],
                            [/^data-cke-.*/, ""],
                            ["hidefocus", ""]
                        ],
                        elements: {
                            $: function(e) {
                                var t = e.attributes;
                                if (t) {
                                    if (t["data-cke-temp"]) return !1;
                                    for (var n = ["name", "href", "src"], r = 0; r < n.length; r++) "data-cke-saved-" + n[r] in t && delete t[n[r]]
                                }
                                return e
                            },
                            table: function(e) {
                                e.children.slice(0).sort(function(e, t) {
                                    var n, r;
                                    return e.type == CKEDITOR.NODE_ELEMENT && t.type == e.type && (n = CKEDITOR.tools.indexOf(m, e.name), r = CKEDITOR.tools.indexOf(m, t.name)), -1 < n && -1 < r && n != r || (n = e.parent ? e.getIndex() : -1, r = t.parent ? t.getIndex() : -1), n > r ? 1 : -1
                                })
                            },
                            param: function(e) {
                                return e.children = [], e.isEmpty = !0, e
                            },
                            span: function(e) {
                                "Apple-style-span" == e.attributes.class && delete e.name
                            },
                            html: function(e) {
                                delete e.attributes.contenteditable, delete e.attributes.class
                            },
                            body: function(e) {
                                delete e.attributes.spellcheck, delete e.attributes.contenteditable
                            },
                            style: function(e) {
                                var t = e.children[0];
                                t && t.value && (t.value = CKEDITOR.tools.trim(t.value)), e.attributes.type || (e.attributes.type = "text/css")
                            },
                            title: function(e) {
                                var t = e.children[0];
                                !t && a(e, t = new CKEDITOR.htmlParser.text), t.value = e.attributes["data-cke-title"] || ""
                            },
                            input: l,
                            textarea: l
                        },
                        attributes: {
                            class: function(e) {
                                return CKEDITOR.tools.ltrim(e.replace(/(?:^|\s+)cke_[^\s]*/g, "")) || !1
                            }
                        }
                    };
                CKEDITOR.env.ie && (T.attributes.style = function(e) {
                    return e.replace(/(^|;)([^\:]+)/g, function(e) {
                        return e.toLowerCase()
                    })
                });
                var y = /<(a|area|img|input|source)\b([^>]*)>/gi,
                    C = /([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,
                    k = /^(href|src|name)$/i,
                    w = /(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,
                    _ = /(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,
                    x = /<cke:encoded>([^<]*)<\/cke:encoded>/gi,
                    D = /(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,
                    O = /(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,
                    R = /<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi
            }(), CKEDITOR.htmlParser.element = function(e, t) {
                this.name = e, this.attributes = t || {}, this.children = [];
                var n = e || "",
                    r = n.match(/^cke:(.*)/);
                r && (n = r[1]), n = !!(CKEDITOR.dtd.$nonBodyContent[n] || CKEDITOR.dtd.$block[n] || CKEDITOR.dtd.$listItem[n] || CKEDITOR.dtd.$tableContent[n] || CKEDITOR.dtd.$nonEditable[n] || "br" == n), this.isEmpty = !!CKEDITOR.dtd.$empty[e], this.isUnknown = !CKEDITOR.dtd[e], this._ = {
                    isBlockLike: n,
                    hasInlineStarted: this.isEmpty || !n
                }
            }, CKEDITOR.htmlParser.cssStyle = function(e) {
                var t = {};
                return ((e instanceof CKEDITOR.htmlParser.element ? e.attributes.style : e) || "").replace(/&quot;/g, '"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g, function(e, n, r) {
                    "font-family" == n && (r = r.replace(/["']/g, "")), t[n.toLowerCase()] = r
                }), {
                    rules: t,
                    populate: function(e) {
                        var t = this.toString();
                        t && (e instanceof CKEDITOR.dom.element ? e.setAttribute("style", t) : e instanceof CKEDITOR.htmlParser.element ? e.attributes.style = t : e.style = t)
                    },
                    toString: function() {
                        var e, n = [];
                        for (e in t) t[e] && n.push(e, ":", t[e], ";");
                        return n.join("")
                    }
                }
            }, function() {
                var e = function(e, t) {
                        return (e = e[0]) < (t = t[0]) ? -1 : e > t ? 1 : 0
                    },
                    t = CKEDITOR.htmlParser.fragment.prototype;
                CKEDITOR.htmlParser.element.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node, {
                    type: CKEDITOR.NODE_ELEMENT,
                    add: t.add,
                    clone: function() {
                        return new CKEDITOR.htmlParser.element(this.name, this.attributes)
                    },
                    filter: function(e, t) {
                        var n, r, i, o, a = this;
                        if ((t = a.getFilterContext(t)).off) return !0;
                        for (a.parent || e.onRoot(t, a);;) {
                            if (!(r = e.onElementName(t, n = a.name))) return this.remove(), !1;
                            if (a.name = r, !(a = e.onElement(t, a))) return this.remove(), !1;
                            if (a !== this) return this.replaceWith(a), !1;
                            if (a.name == n) break;
                            if (a.type != CKEDITOR.NODE_ELEMENT) return this.replaceWith(a), !1;
                            if (!a.name) return this.replaceWithChildren(), !1
                        }
                        for (i in n = a.attributes) {
                            for (r = n[i];;) {
                                if (!(o = e.onAttributeName(t, i))) {
                                    delete n[i];
                                    break
                                }
                                if (o == i) break;
                                delete n[i], i = o
                            }
                            o && (!1 === (r = e.onAttribute(t, a, o, r)) ? delete n[o] : n[o] = r)
                        }
                        return a.isEmpty || this.filterChildren(e, !1, t), !0
                    },
                    filterChildren: t.filterChildren,
                    writeHtml: function(t, n) {
                        n && this.filter(n);
                        var r, i, o = this.name,
                            a = [],
                            s = this.attributes;
                        for (r in t.openTag(o, s), s) a.push([r, s[r]]);
                        for (t.sortAttributes && a.sort(e), r = 0, i = a.length; r < i; r++) t.attribute((s = a[r])[0], s[1]);
                        t.openTagClose(o, this.isEmpty), this.writeChildrenHtml(t), this.isEmpty || t.closeTag(o)
                    },
                    writeChildrenHtml: t.writeChildrenHtml,
                    replaceWithChildren: function() {
                        for (var e = this.children, t = e.length; t;) e[--t].insertAfter(this);
                        this.remove()
                    },
                    forEach: t.forEach,
                    getFirst: function(e) {
                        if (!e) return this.children.length ? this.children[0] : null;
                        "function" != typeof e && (e = function(e) {
                            return function(t) {
                                return t.type == CKEDITOR.NODE_ELEMENT && ("string" == typeof e ? t.name == e : t.name in e)
                            }
                        }(e));
                        for (var t = 0, n = this.children.length; t < n; ++t)
                            if (e(this.children[t])) return this.children[t];
                        return null
                    },
                    getHtml: function() {
                        var e = new CKEDITOR.htmlParser.basicWriter;
                        return this.writeChildrenHtml(e), e.getHtml()
                    },
                    setHtml: function(e) {
                        for (var t = 0, n = (e = this.children = CKEDITOR.htmlParser.fragment.fromHtml(e).children).length; t < n; ++t) e[t].parent = this
                    },
                    getOuterHtml: function() {
                        var e = new CKEDITOR.htmlParser.basicWriter;
                        return this.writeHtml(e), e.getHtml()
                    },
                    split: function(e) {
                        for (var t = this.children.splice(e, this.children.length - e), n = this.clone(), r = 0; r < t.length; ++r) t[r].parent = n;
                        return n.children = t, t[0] && (t[0].previous = null), 0 < e && (this.children[e - 1].next = null), this.parent.add(n, this.getIndex() + 1), n
                    },
                    find: function(e, t) {
                        void 0 === t && (t = !1);
                        var n, r = [];
                        for (n = 0; n < this.children.length; n++) {
                            var i = this.children[n];
                            "function" == typeof e && e(i) ? r.push(i) : "string" == typeof e && i.name === e && r.push(i), t && i.find && (r = r.concat(i.find(e, t)))
                        }
                        return r
                    },
                    addClass: function(e) {
                        if (!this.hasClass(e)) {
                            var t = this.attributes.class || "";
                            this.attributes.class = t + (t ? " " : "") + e
                        }
                    },
                    removeClass: function(e) {
                        var t = this.attributes.class;
                        t && ((t = CKEDITOR.tools.trim(t.replace(new RegExp("(?:\\s+|^)" + e + "(?:\\s+|$)"), " "))) ? this.attributes.class = t : delete this.attributes.class)
                    },
                    hasClass: function(e) {
                        var t = this.attributes.class;
                        return !!t && new RegExp("(?:^|\\s)" + e + "(?=\\s|$)").test(t)
                    },
                    getFilterContext: function(e) {
                        var t = [];
                        if (e || (e = {
                                off: !1,
                                nonEditable: !1,
                                nestedEditable: !1
                            }), e.off || "off" != this.attributes["data-cke-processor"] || t.push("off", !0), e.nonEditable || "false" != this.attributes.contenteditable ? e.nonEditable && !e.nestedEditable && "true" == this.attributes.contenteditable && t.push("nestedEditable", !0) : t.push("nonEditable", !0), t.length) {
                            e = CKEDITOR.tools.copy(e);
                            for (var n = 0; n < t.length; n += 2) e[t[n]] = t[n + 1]
                        }
                        return e
                    }
                }, !0)
            }(), function() {
                var e = /{([^}]+)}/g;
                CKEDITOR.template = function(e) {
                    this.source = String(e)
                }, CKEDITOR.template.prototype.output = function(t, n) {
                    var r = this.source.replace(e, function(e, n) {
                        return void 0 !== t[n] ? t[n] : e
                    });
                    return n ? n.push(r) : r
                }
            }(), delete CKEDITOR.loadFullCore, CKEDITOR.instances = {}, CKEDITOR.document = new CKEDITOR.dom.document(document), CKEDITOR.add = function(e) {
                CKEDITOR.instances[e.name] = e, e.on("focus", function() {
                    CKEDITOR.currentInstance != e && (CKEDITOR.currentInstance = e, CKEDITOR.fire("currentInstance"))
                }), e.on("blur", function() {
                    CKEDITOR.currentInstance == e && (CKEDITOR.currentInstance = null, CKEDITOR.fire("currentInstance"))
                }), CKEDITOR.fire("instance", null, e)
            }, CKEDITOR.remove = function(e) {
                delete CKEDITOR.instances[e.name]
            }, function() {
                var e = {};
                CKEDITOR.addTemplate = function(t, n) {
                    var r = e[t];
                    return r || (r = {
                        name: t,
                        source: n
                    }, CKEDITOR.fire("template", r), e[t] = new CKEDITOR.template(r.source))
                }, CKEDITOR.getTemplate = function(t) {
                    return e[t]
                }
            }(), function() {
                var e = [];
                CKEDITOR.addCss = function(t) {
                    e.push(t)
                }, CKEDITOR.getCss = function() {
                    return e.join("\n")
                }
            }(), CKEDITOR.on("instanceDestroyed", function() {
                CKEDITOR.tools.isEmpty(this.instances) && CKEDITOR.fire("reset")
            }), CKEDITOR.TRISTATE_ON = 1, CKEDITOR.TRISTATE_OFF = 2, CKEDITOR.TRISTATE_DISABLED = 0, CKEDITOR.inline = function(e, t) {
                if (!CKEDITOR.env.isCompatible) return null;
                if ((e = CKEDITOR.dom.element.get(e)).getEditor()) throw 'The editor instance "' + e.getEditor().name + '" is already attached to the provided element.';
                var n = new CKEDITOR.editor(t, e, CKEDITOR.ELEMENT_MODE_INLINE),
                    r = e.is("textarea") ? e : null;
                return r ? (n.setData(r.getValue(), null, !0), (e = CKEDITOR.dom.element.createFromHtml('<div contenteditable="' + !!n.readOnly + '" class="cke_textarea_inline">' + r.getValue() + "</div>", CKEDITOR.document)).insertAfter(r), r.hide(), r.$.form && n._attachToForm()) : n.setData(e.getHtml(), null, !0), n.on("loaded", function() {
                    n.fire("uiReady"), n.editable(e), n.container = e, n.ui.contentsElement = e, n.setData(n.getData(1)), n.resetDirty(), n.fire("contentDom"), n.mode = "wysiwyg", n.fire("mode"), n.status = "ready", n.fireOnce("instanceReady"), CKEDITOR.fire("instanceReady", null, n)
                }, null, null, 1e4), n.on("destroy", function() {
                    r && (n.container.clearCustomData(), n.container.remove(), r.show()), n.element.clearCustomData(), delete n.element
                }), n
            }, CKEDITOR.inlineAll = function() {
                var e, t, n;
                for (n in CKEDITOR.dtd.$editable)
                    for (var r = CKEDITOR.document.getElementsByTag(n), i = 0, o = r.count(); i < o; i++) "true" == (e = r.getItem(i)).getAttribute("contenteditable") && (t = {
                        element: e,
                        config: {}
                    }, !1 !== CKEDITOR.fire("inline", t) && CKEDITOR.inline(e, t.config))
            }, CKEDITOR.domReady(function() {
                !CKEDITOR.disableAutoInline && CKEDITOR.inlineAll()
            }), CKEDITOR.replaceClass = "ckeditor", function() {
                function e(e, n, r, i) {
                    if (!CKEDITOR.env.isCompatible) return null;
                    if ((e = CKEDITOR.dom.element.get(e)).getEditor()) throw 'The editor instance "' + e.getEditor().name + '" is already attached to the provided element.';
                    var o = new CKEDITOR.editor(n, e, i);
                    return i == CKEDITOR.ELEMENT_MODE_REPLACE && (e.setStyle("visibility", "hidden"), o._.required = e.hasAttribute("required"), e.removeAttribute("required")), r && o.setData(r, null, !0), o.on("loaded", function() {
                        ! function(e) {
                            var t = e.name,
                                n = e.element,
                                r = e.elementMode,
                                i = e.fire("uiSpace", {
                                    space: "top",
                                    html: ""
                                }).html,
                                o = e.fire("uiSpace", {
                                    space: "bottom",
                                    html: ""
                                }).html,
                                a = new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} ' + CKEDITOR.env.cssClass + '"  dir="{langDir}" lang="{langCode}" role="application"' + (e.title ? ' aria-labelledby="cke_{name}_arialbl"' : "") + ">" + (e.title ? '<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>' : "") + '<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>');
                            t = CKEDITOR.dom.element.createFromHtml(a.output({
                                id: e.id,
                                name: t,
                                langDir: e.lang.dir,
                                langCode: e.langCode,
                                voiceLabel: e.title,
                                topHtml: i ? '<span id="' + e.ui.spaceId("top") + '" class="cke_top cke_reset_all" role="presentation" style="height:auto">' + i + "</span>" : "",
                                contentId: e.ui.spaceId("contents"),
                                bottomHtml: o ? '<span id="' + e.ui.spaceId("bottom") + '" class="cke_bottom cke_reset_all" role="presentation">' + o + "</span>" : "",
                                outerEl: CKEDITOR.env.ie ? "span" : "div"
                            })), r == CKEDITOR.ELEMENT_MODE_REPLACE ? (n.hide(), t.insertAfter(n)) : n.append(t), e.container = t, e.ui.contentsElement = e.ui.space("contents"), i && e.ui.space("top").unselectable(), o && e.ui.space("bottom").unselectable(), r = e.config.height, (n = e.config.width) && t.setStyle("width", CKEDITOR.tools.cssLength(n)), r && e.ui.space("contents").setStyle("height", CKEDITOR.tools.cssLength(r)), t.disableContextMenu(), CKEDITOR.env.webkit && t.on("focus", function() {
                                e.focus()
                            }), e.fireOnce("uiReady")
                        }(o), i == CKEDITOR.ELEMENT_MODE_REPLACE && o.config.autoUpdateElement && e.$.form && o._attachToForm(), o.setMode(o.config.startupMode, function() {
                            o.resetDirty(), o.status = "ready", o.fireOnce("instanceReady"), CKEDITOR.fire("instanceReady", null, o)
                        })
                    }), o.on("destroy", t), o
                }

                function t() {
                    var e = this.container,
                        t = this.element;
                    e && (e.clearCustomData(), e.remove()), t && (t.clearCustomData(), this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE && (t.show(), this._.required && t.setAttribute("required", "required")), delete this.element)
                }
                CKEDITOR.replace = function(t, n) {
                    return e(t, n, null, CKEDITOR.ELEMENT_MODE_REPLACE)
                }, CKEDITOR.appendTo = function(t, n, r) {
                    return e(t, n, r, CKEDITOR.ELEMENT_MODE_APPENDTO)
                }, CKEDITOR.replaceAll = function() {
                    for (var e = document.getElementsByTagName("textarea"), t = 0; t < e.length; t++) {
                        var n = null,
                            r = e[t];
                        if (r.name || r.id) {
                            if ("string" == typeof arguments[0]) {
                                if (!new RegExp("(?:^|\\s)" + arguments[0] + "(?:$|\\s)").test(r.className)) continue
                            } else if ("function" == typeof arguments[0] && !1 === arguments[0](r, n = {})) continue;
                            this.replace(r, n)
                        }
                    }
                }, CKEDITOR.editor.prototype.addMode = function(e, t) {
                    (this._.modes || (this._.modes = {}))[e] = t
                }, CKEDITOR.editor.prototype.setMode = function(e, t) {
                    var n = this,
                        r = this._.modes;
                    if (e != n.mode && r && r[e]) {
                        if (n.fire("beforeSetMode", e), n.mode) {
                            var i, o = n.checkDirty(),
                                a = (r = n._.previousModeData, 0);
                            n.fire("beforeModeUnload"), n.editable(0), n._.previousMode = n.mode, n._.previousModeData = i = n.getData(1), "source" == n.mode && r == i && (n.fire("lockSnapshot", {
                                forceUpdate: !0
                            }), a = 1), n.ui.space("contents").setHtml(""), n.mode = ""
                        } else n._.previousModeData = n.getData(1);
                        this._.modes[e](function() {
                            n.mode = e, void 0 !== o && !o && n.resetDirty(), a ? n.fire("unlockSnapshot") : "wysiwyg" == e && n.fire("saveSnapshot"), setTimeout(function() {
                                n.fire("mode"), t && t.call(n)
                            }, 0)
                        })
                    }
                }, CKEDITOR.editor.prototype.resize = function(e, t, n, r) {
                    var i = this.container,
                        o = this.ui.space("contents"),
                        a = CKEDITOR.env.webkit && this.document && this.document.getWindow().$.frameElement;
                    (r = r ? this.container.getFirst(function(e) {
                        return e.type == CKEDITOR.NODE_ELEMENT && e.hasClass("cke_inner")
                    }) : i).setSize("width", e, !0), a && (a.style.width = "1%");
                    var s = (r.$.offsetHeight || 0) - (o.$.clientHeight || 0);
                    i = Math.max(t - (n ? 0 : s), 0), t = n ? t + s : t, o.setStyle("height", i + "px"), a && (a.style.width = "100%"), this.fire("resize", {
                        outerHeight: t,
                        contentsHeight: i,
                        outerWidth: e || r.getSize("width")
                    })
                }, CKEDITOR.editor.prototype.getResizable = function(e) {
                    return e ? this.ui.space("contents") : this.container
                }, CKEDITOR.domReady(function() {
                    CKEDITOR.replaceClass && CKEDITOR.replaceAll(CKEDITOR.replaceClass)
                })
            }(), CKEDITOR.config.startupMode = "wysiwyg", function() {
                function e(e) {
                    var t, r = e.editor,
                        o = e.data.path,
                        a = o.blockLimit,
                        s = e.data.selection,
                        l = s.getRanges()[0];
                    (CKEDITOR.env.gecko || CKEDITOR.env.ie && CKEDITOR.env.needsBrFiller) && (s = function(e, t) {
                        if (s.isFake) return 0;
                        var r = t.block || t.blockLimit,
                            i = r && r.getLast(n);
                        return !r || !r.isBlockBoundary() || i && i.type == CKEDITOR.NODE_ELEMENT && i.isBlockBoundary() || r.is("pre") || r.getBogus() ? void 0 : r
                    }(0, o)) && (s.appendBogus(), t = CKEDITOR.env.ie), i(r, o.block, a) && l.collapsed && !l.getCommonAncestor().isReadOnly() && ((o = l.clone()).enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS), (a = new CKEDITOR.dom.walker(o)).guard = function(e) {
                        return !n(e) || e.type == CKEDITOR.NODE_COMMENT || e.isReadOnly()
                    }, !a.checkForward() || o.checkStartOfBlock() && o.checkEndOfBlock()) && (r = l.fixBlock(!0, r.activeEnterMode == CKEDITOR.ENTER_DIV ? "div" : "p"), CKEDITOR.env.needsBrFiller || (r = r.getFirst(n)) && r.type == CKEDITOR.NODE_TEXT && CKEDITOR.tools.trim(r.getText()).match(/^(?:&nbsp;|\xa0)$/) && r.remove(), t = 1, e.cancel()), t && l.select()
                }

                function t(e) {
                    var t = e.data.getTarget();
                    t.is("input") && ("submit" != (t = t.getAttribute("type")) && "reset" != t || e.data.preventDefault())
                }

                function n(e) {
                    return l(e) && c(e)
                }

                function r(e) {
                    function t(e) {
                        return function(t, i) {
                            if (i && t.type == CKEDITOR.NODE_ELEMENT && t.is(o) && (r = t), !(i || !n(t) || e && d(t))) return !1
                        }
                    }
                    var r, i = e.getRanges()[0];
                    e = e.root;
                    var o = {
                        table: 1,
                        ul: 1,
                        ol: 1,
                        dl: 1
                    };
                    if (i.startPath().contains(o)) {
                        var a = i.clone();
                        if (a.collapse(1), a.setStartAt(e, CKEDITOR.POSITION_AFTER_START), (e = new CKEDITOR.dom.walker(a)).guard = t(), e.checkBackward(), r) return (a = i.clone()).collapse(), a.setEndAt(r, CKEDITOR.POSITION_AFTER_END), (e = new CKEDITOR.dom.walker(a)).guard = t(!0), r = !1, e.checkForward(), r
                    }
                    return null
                }

                function i(e, t, n) {
                    return !1 !== e.config.autoParagraph && e.activeEnterMode != CKEDITOR.ENTER_BR && (e.editable().equals(n) && !t || t && "true" == t.getAttribute("contenteditable"))
                }

                function o(e) {
                    return e.activeEnterMode != CKEDITOR.ENTER_BR && !1 !== e.config.autoParagraph && (e.activeEnterMode == CKEDITOR.ENTER_DIV ? "div" : "p")
                }

                function a(e) {
                    var t = e.editor;
                    t.getSelection().scrollIntoView(), setTimeout(function() {
                        t.fire("saveSnapshot")
                    }, 0)
                }

                function s(e, t, n) {
                    var r = e.getCommonAncestor(t);
                    for (t = e = n ? t : e;
                        (e = e.getParent()) && !r.equals(e) && 1 == e.getChildCount();) t = e;
                    t.remove()
                }
                var l, c, u, d, h, p, f, m, g, E;
                CKEDITOR.editable = CKEDITOR.tools.createClass({
                    base: CKEDITOR.dom.element,
                    $: function(e, t) {
                        this.base(t.$ || t), this.editor = e, this.status = "unloaded", this.hasFocus = !1, this.setup()
                    },
                    proto: {
                        focus: function() {
                            var e;
                            if (CKEDITOR.env.webkit && !this.hasFocus && (e = this.editor._.previousActive || this.getDocument().getActive(), this.contains(e))) e.focus();
                            else {
                                CKEDITOR.env.edge && 14 < CKEDITOR.env.version && !this.hasFocus && this.getDocument().equals(CKEDITOR.document) && (this.editor._.previousScrollTop = this.$.scrollTop);
                                try {
                                    if (!CKEDITOR.env.ie || CKEDITOR.env.edge && 14 < CKEDITOR.env.version || !this.getDocument().equals(CKEDITOR.document))
                                        if (CKEDITOR.env.chrome) {
                                            var t = this.$.scrollTop;
                                            this.$.focus(), this.$.scrollTop = t
                                        } else this.$.focus();
                                    else this.$.setActive()
                                } catch (e) {
                                    if (!CKEDITOR.env.ie) throw e
                                }
                                CKEDITOR.env.safari && !this.isInline() && ((e = CKEDITOR.document.getActive()).equals(this.getWindow().getFrame()) || this.getWindow().focus())
                            }
                        },
                        on: function(e, t) {
                            var n = Array.prototype.slice.call(arguments, 0);
                            return CKEDITOR.env.ie && /^focus|blur$/.exec(e) && (e = "focus" == e ? "focusin" : "focusout", t = function(e, t) {
                                return function(n) {
                                    var r = n.data.$.toElement || n.data.$.fromElement || n.data.$.relatedTarget;
                                    (r = r && r.nodeType == CKEDITOR.NODE_ELEMENT ? new CKEDITOR.dom.element(r) : null) && (t.equals(r) || t.contains(r)) || e.call(this, n)
                                }
                            }(t, this), n[0] = e, n[1] = t), CKEDITOR.dom.element.prototype.on.apply(this, n)
                        },
                        attachListener: function(e) {
                            !this._.listeners && (this._.listeners = []);
                            var t = Array.prototype.slice.call(arguments, 1);
                            return t = e.on.apply(e, t), this._.listeners.push(t), t
                        },
                        clearListeners: function() {
                            var e = this._.listeners;
                            try {
                                for (; e.length;) e.pop().removeListener()
                            } catch (e) {}
                        },
                        restoreAttrs: function() {
                            var e, t, n = this._.attrChanges;
                            for (t in n) n.hasOwnProperty(t) && (null !== (e = n[t]) ? this.setAttribute(t, e) : this.removeAttribute(t))
                        },
                        attachClass: function(e) {
                            var t = this.getCustomData("classes");
                            this.hasClass(e) || (!t && (t = []), t.push(e), this.setCustomData("classes", t), this.addClass(e))
                        },
                        changeAttr: function(e, t) {
                            var n = this.getAttribute(e);
                            t !== n && (!this._.attrChanges && (this._.attrChanges = {}), e in this._.attrChanges || (this._.attrChanges[e] = n), this.setAttribute(e, t))
                        },
                        insertText: function(e) {
                            this.editor.focus(), this.insertHtml(this.transformPlainTextToHtml(e), "text")
                        },
                        transformPlainTextToHtml: function(e) {
                            var t = this.editor.getSelection().getStartElement().hasAscendant("pre", !0) ? CKEDITOR.ENTER_BR : this.editor.activeEnterMode;
                            return CKEDITOR.tools.transformPlainTextToHtml(e, t)
                        },
                        insertHtml: function(e, t, n) {
                            var r = this.editor;
                            r.focus(), r.fire("saveSnapshot"), n || (n = r.getSelection().getRanges()[0]), p(this, t || "html", e, n), n.select(), a(this), this.editor.fire("afterInsertHtml", {})
                        },
                        insertHtmlIntoRange: function(e, t, n) {
                            p(this, n || "html", e, t), this.editor.fire("afterInsertHtml", {
                                intoRange: t
                            })
                        },
                        insertElement: function(e, t) {
                            (i = this.editor).focus(), i.fire("saveSnapshot");
                            var r = i.activeEnterMode,
                                i = i.getSelection(),
                                o = e.getName();
                            o = CKEDITOR.dtd.$block[o], t || (t = i.getRanges()[0]), this.insertElementIntoRange(e, t) && (t.moveToPosition(e, CKEDITOR.POSITION_AFTER_END), o && ((o = e.getNext(function(e) {
                                return n(e) && !d(e)
                            })) && o.type == CKEDITOR.NODE_ELEMENT && o.is(CKEDITOR.dtd.$block) ? o.getDtd()["#"] ? t.moveToElementEditStart(o) : t.moveToElementEditEnd(e) : o || r == CKEDITOR.ENTER_BR || (o = t.fixBlock(!0, r == CKEDITOR.ENTER_DIV ? "div" : "p"), t.moveToElementEditStart(o)))), i.selectRanges([t]), a(this)
                        },
                        insertElementIntoSelection: function(e) {
                            this.insertElement(e)
                        },
                        insertElementIntoRange: function(e, t) {
                            var n, r, i = this.editor,
                                o = i.config.enterMode,
                                a = e.getName(),
                                s = CKEDITOR.dtd.$block[a];
                            if (t.checkReadOnly()) return !1;
                            if (t.deleteContents(1), t.startContainer.type == CKEDITOR.NODE_ELEMENT && (t.startContainer.is({
                                    tr: 1,
                                    table: 1,
                                    tbody: 1,
                                    thead: 1,
                                    tfoot: 1
                                }) ? f(t) : t.startContainer.is(CKEDITOR.dtd.$list) && m(t)), s)
                                for (;
                                    (n = t.getCommonAncestor(0, 1)) && (r = CKEDITOR.dtd[n.getName()]) && (!r || !r[a]);) n.getName() in CKEDITOR.dtd.span ? t.splitElement(n) : t.checkStartOfBlock() && t.checkEndOfBlock() ? (t.setStartBefore(n), t.collapse(!0), n.remove()) : t.splitBlock(o == CKEDITOR.ENTER_DIV ? "div" : "p", i.editable());
                            return t.insertNode(e), !0
                        },
                        setData: function(e, t) {
                            t || (e = this.editor.dataProcessor.toHtml(e)), this.setHtml(e), this.fixInitialSelection(), "unloaded" == this.status && (this.status = "ready"), this.editor.fire("dataReady")
                        },
                        getData: function(e) {
                            var t = this.getHtml();
                            return e || (t = this.editor.dataProcessor.toDataFormat(t)), t
                        },
                        setReadOnly: function(e) {
                            this.setAttribute("contenteditable", !e)
                        },
                        detach: function() {
                            this.removeClass("cke_editable"), this.status = "detached";
                            var e = this.editor;
                            this._.detach(), delete e.document, delete e.window
                        },
                        isInline: function() {
                            return this.getDocument().equals(CKEDITOR.document)
                        },
                        fixInitialSelection: function() {
                            function e() {
                                var e, n = t.getDocument().$,
                                    r = n.getSelection();
                                e: if (r.anchorNode && r.anchorNode == t.$) e = !0;
                                    else {
                                        if (CKEDITOR.env.webkit && (e = t.getDocument().getActive()) && e.equals(t) && !r.anchorNode) {
                                            e = !0;
                                            break e
                                        }
                                        e = void 0
                                    }
                                e && ((e = new CKEDITOR.dom.range(t)).moveToElementEditStart(t), (n = n.createRange()).setStart(e.startContainer.$, e.startOffset), n.collapse(!0), r.removeAllRanges(), r.addRange(n))
                            }
                            var t = this;
                            CKEDITOR.env.ie && (9 > CKEDITOR.env.version || CKEDITOR.env.quirks) ? this.hasFocus && (this.focus(), function() {
                                var e = t.getDocument().$,
                                    n = e.selection,
                                    r = t.getDocument().getActive();
                                "None" == n.type && r.equals(t) && (n = new CKEDITOR.dom.range(t), e = e.body.createTextRange(), n.moveToElementEditStart(t), (n = n.startContainer).type != CKEDITOR.NODE_ELEMENT && (n = n.getParent()), e.moveToElementText(n.$), e.collapse(!0), e.select())
                            }()) : this.hasFocus ? (this.focus(), e()) : this.once("focus", function() {
                                e()
                            }, null, null, -999)
                        },
                        getHtmlFromRange: function(e) {
                            return e.collapsed ? new CKEDITOR.dom.documentFragment(e.document) : (e = {
                                doc: this.getDocument(),
                                range: e.clone()
                            }, g.eol.detect(e, this), g.bogus.exclude(e), g.cell.shrink(e), e.fragment = e.range.cloneContents(), g.tree.rebuild(e, this), g.eol.fix(e, this), new CKEDITOR.dom.documentFragment(e.fragment.$))
                        },
                        extractHtmlFromRange: function(e, t) {
                            var n = E,
                                r = {
                                    range: e,
                                    doc: e.document
                                },
                                i = this.getHtmlFromRange(e);
                            if (e.collapsed) return e.optimize(), i;
                            if (e.enlarge(CKEDITOR.ENLARGE_INLINE, 1), n.table.detectPurge(r), r.bookmark = e.createBookmark(), delete r.range, (a = this.editor.createRange()).moveToPosition(r.bookmark.startNode, CKEDITOR.POSITION_BEFORE_START), r.targetBookmark = a.createBookmark(), n.list.detectMerge(r, this), n.table.detectRanges(r, this), n.block.detectMerge(r, this), r.tableContentsRanges ? (n.table.deleteRanges(r), e.moveToBookmark(r.bookmark), r.range = e) : (e.moveToBookmark(r.bookmark), r.range = e, e.extractContents(n.detectExtractMerge(r))), e.moveToBookmark(r.targetBookmark), e.optimize(), n.fixUneditableRangePosition(e), n.list.merge(r, this), n.table.purge(r, this), n.block.merge(r, this), t) {
                                if (n = e.startPath(), r = e.checkStartOfBlock() && e.checkEndOfBlock() && n.block && !e.root.equals(n.block)) {
                                    e: {
                                        var o, a = 0;
                                        if (r = n.block.getElementsByTag("span"))
                                            for (; o = r.getItem(a++);)
                                                if (!c(o)) {
                                                    r = !0;
                                                    break e
                                                }
                                        r = !1
                                    }
                                    r = !r
                                }
                                r && (e.moveToPosition(n.block, CKEDITOR.POSITION_BEFORE_START), n.block.remove())
                            } else n.autoParagraph(this.editor, e), u(e.startContainer) && e.startContainer.appendBogus();
                            return e.startContainer.mergeSiblings(), i
                        },
                        setup: function() {
                            var e = this.editor;
                            if (this.attachListener(e, "beforeGetData", function() {
                                    var t = this.getData();
                                    this.is("textarea") || !1 !== e.config.ignoreEmptyParagraph && (t = t.replace(h, function(e, t) {
                                        return t
                                    })), e.setData(t, null, 1)
                                }, this), this.attachListener(e, "getSnapshot", function(e) {
                                    e.data = this.getData(1)
                                }, this), this.attachListener(e, "afterSetData", function() {
                                    this.setData(e.getData(1))
                                }, this), this.attachListener(e, "loadSnapshot", function(e) {
                                    this.setData(e.data, 1)
                                }, this), this.attachListener(e, "beforeFocus", function() {
                                    var t = e.getSelection();
                                    (t = t && t.getNative()) && "Control" == t.type || this.focus()
                                }, this), this.attachListener(e, "insertHtml", function(e) {
                                    this.insertHtml(e.data.dataValue, e.data.mode, e.data.range)
                                }, this), this.attachListener(e, "insertElement", function(e) {
                                    this.insertElement(e.data)
                                }, this), this.attachListener(e, "insertText", function(e) {
                                    this.insertText(e.data)
                                }, this), this.setReadOnly(e.readOnly), this.attachClass("cke_editable"), e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? this.attachClass("cke_editable_inline") : e.elementMode != CKEDITOR.ELEMENT_MODE_REPLACE && e.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO || this.attachClass("cke_editable_themed"), this.attachClass("cke_contents_" + e.config.contentsLangDirection), e.keystrokeHandler.blockedKeystrokes[8] = +e.readOnly, e.keystrokeHandler.attach(this), this.on("blur", function() {
                                    this.hasFocus = !1
                                }, null, null, -1), this.on("focus", function() {
                                    this.hasFocus = !0
                                }, null, null, -1), CKEDITOR.env.webkit && this.on("scroll", function() {
                                    e._.previousScrollTop = e.editable().$.scrollTop
                                }, null, null, -1), CKEDITOR.env.edge && 14 < CKEDITOR.env.version) {
                                var i = function() {
                                    var t = e.editable();
                                    null != e._.previousScrollTop && t.getDocument().equals(CKEDITOR.document) && (t.$.scrollTop = e._.previousScrollTop, e._.previousScrollTop = null, this.removeListener("scroll", i))
                                };
                                this.on("scroll", i)
                            }
                            if (e.focusManager.add(this), this.equals(CKEDITOR.document.getActive()) && (this.hasFocus = !0, e.once("contentDom", function() {
                                    e.focusManager.focus(this)
                                }, this)), this.isInline() && this.changeAttr("tabindex", e.tabIndex), !this.is("textarea")) {
                                e.document = this.getDocument(), e.window = this.getWindow();
                                var o = e.document;
                                this.changeAttr("spellcheck", !e.config.disableNativeSpellChecker);
                                var a = e.config.contentsLangDirection;
                                this.getDirection(1) != a && this.changeAttr("dir", a);
                                var c = CKEDITOR.getCss();
                                if (c) {
                                    var u = (a = o.getHead()).getCustomData("stylesheet");
                                    u ? c != u.getText() && (CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? u.$.styleSheet.cssText = c : u.setText(c)) : (c = o.appendStyleText(c), c = new CKEDITOR.dom.element(c.ownerNode || c.owningElement), a.setCustomData("stylesheet", c), c.data("cke-temp", 1))
                                }
                                a = o.getCustomData("stylesheet_ref") || 0, o.setCustomData("stylesheet_ref", a + 1), this.setCustomData("cke_includeReadonly", !e.config.disableReadonlyStyling), this.attachListener(this, "click", function(e) {
                                    e = e.data;
                                    var t = new CKEDITOR.dom.elementPath(e.getTarget(), this).contains("a");
                                    t && 2 != e.$.button && t.isReadOnly() && e.preventDefault()
                                });
                                var d = {
                                    8: 1,
                                    46: 1
                                };
                                this.attachListener(e, "key", function(t) {
                                    if (e.readOnly) return !0;
                                    var n, i = t.data.domEvent.getKey();
                                    if (0 !== (t = e.getSelection()).getRanges().length) {
                                        if (i in d) {
                                            var o, a, s, c, u = t.getRanges()[0],
                                                h = u.startPath();
                                            i = 8 == i, CKEDITOR.env.ie && 11 > CKEDITOR.env.version && (o = t.getSelectedElement()) || (o = r(t)) ? (e.fire("saveSnapshot"), u.moveToPosition(o, CKEDITOR.POSITION_BEFORE_START), o.remove(), u.select(), e.fire("saveSnapshot"), n = 1) : u.collapsed && ((a = h.block) && (c = a[i ? "getPrevious" : "getNext"](l)) && c.type == CKEDITOR.NODE_ELEMENT && c.is("table") && u[i ? "checkStartOfBlock" : "checkEndOfBlock"]() ? (e.fire("saveSnapshot"), u[i ? "checkEndOfBlock" : "checkStartOfBlock"]() && a.remove(), u["moveToElementEdit" + (i ? "End" : "Start")](c), u.select(), e.fire("saveSnapshot"), n = 1) : h.blockLimit && h.blockLimit.is("td") && (s = h.blockLimit.getAscendant("table")) && u.checkBoundaryOfElement(s, i ? CKEDITOR.START : CKEDITOR.END) && (c = s[i ? "getPrevious" : "getNext"](l)) ? (e.fire("saveSnapshot"), u["moveToElementEdit" + (i ? "End" : "Start")](c), u.checkStartOfBlock() && u.checkEndOfBlock() ? c.remove() : u.select(), e.fire("saveSnapshot"), n = 1) : (s = h.contains(["td", "th", "caption"])) && u.checkBoundaryOfElement(s, i ? CKEDITOR.START : CKEDITOR.END) && (n = 1))
                                        }
                                        return !n
                                    }
                                }), e.blockless && CKEDITOR.env.ie && CKEDITOR.env.needsBrFiller && this.attachListener(this, "keyup", function(t) {
                                    t.data.getKeystroke() in d && !this.getFirst(n) && (this.appendBogus(), (t = e.createRange()).moveToPosition(this, CKEDITOR.POSITION_AFTER_START), t.select())
                                }), this.attachListener(this, "dblclick", function(t) {
                                    if (e.readOnly) return !1;
                                    t = {
                                        element: t.data.getTarget()
                                    }, e.fire("doubleclick", t)
                                }), CKEDITOR.env.ie && this.attachListener(this, "click", t), CKEDITOR.env.ie && !CKEDITOR.env.edge || this.attachListener(this, "mousedown", function(t) {
                                    var n = t.data.getTarget();
                                    n.is("img", "hr", "input", "textarea", "select") && !n.isReadOnly() && (e.getSelection().selectElement(n), n.is("input", "textarea", "select") && t.data.preventDefault())
                                }), CKEDITOR.env.edge && this.attachListener(this, "mouseup", function(t) {
                                    (t = t.data.getTarget()) && t.is("img") && !t.isReadOnly() && e.getSelection().selectElement(t)
                                }), CKEDITOR.env.gecko && this.attachListener(this, "mouseup", function(t) {
                                    if (2 == t.data.$.button && !(t = t.data.getTarget()).getOuterHtml().replace(h, "")) {
                                        var n = e.createRange();
                                        n.moveToElementEditStart(t), n.select(!0)
                                    }
                                }), CKEDITOR.env.webkit && (this.attachListener(this, "click", function(e) {
                                    e.data.getTarget().is("input", "select") && e.data.preventDefault()
                                }), this.attachListener(this, "mouseup", function(e) {
                                    e.data.getTarget().is("input", "textarea") && e.data.preventDefault()
                                })), CKEDITOR.env.webkit && this.attachListener(e, "key", function(t) {
                                    if (e.readOnly) return !0;
                                    if ((n = t.data.domEvent.getKey()) in d && 0 !== (t = e.getSelection()).getRanges().length) {
                                        var n = 8 == n,
                                            r = t.getRanges()[0];
                                        if (t = r.startPath(), r.collapsed) e: {
                                            var i = t.block;
                                            if (i && r[n ? "checkStartOfBlock" : "checkEndOfBlock"]() && r.moveToClosestEditablePosition(i, !n) && r.collapsed) {
                                                if (r.startContainer.type == CKEDITOR.NODE_ELEMENT) {
                                                    var o = r.startContainer.getChild(r.startOffset - (n ? 1 : 0));
                                                    if (o && o.type == CKEDITOR.NODE_ELEMENT && o.is("hr")) {
                                                        e.fire("saveSnapshot"), o.remove(), t = !0;
                                                        break e
                                                    }
                                                }
                                                var a;
                                                !(r = r.startPath().block) || r && r.contains(i) ? t = void 0 : (e.fire("saveSnapshot"), (a = (n ? r : i).getBogus()) && a.remove(), o = (a = e.getSelection()).createBookmarks(), (n ? i : r).moveChildren(n ? r : i, !1), t.lastElement.mergeSiblings(), s(i, r, !n), a.selectBookmarks(o), t = !0)
                                            } else t = !1
                                        }
                                        else a = t.block, r = (n = r).endPath().block, a && r && !a.equals(r) ? (e.fire("saveSnapshot"), (i = a.getBogus()) && i.remove(), n.enlarge(CKEDITOR.ENLARGE_INLINE), n.deleteContents(), r.getParent() && (r.moveChildren(a, !1), t.lastElement.mergeSiblings(), s(a, r, !0)), (n = e.getSelection().getRanges()[0]).collapse(1), n.optimize(), "" === n.startContainer.getHtml() && n.startContainer.appendBogus(), n.select(), t = !0) : t = !1;
                                        if (!t) return;
                                        return e.getSelection().scrollIntoView(), e.fire("saveSnapshot"), !1
                                    }
                                }, this, null, 100)
                            }
                        }
                    },
                    _: {
                        detach: function() {
                            var e;
                            if (this.editor.setData(this.editor.getData(), 0, 1), this.clearListeners(), this.restoreAttrs(), e = this.removeCustomData("classes"))
                                for (; e.length;) this.removeClass(e.pop());
                            if (!this.is("textarea")) {
                                var t = (e = this.getDocument()).getHead();
                                if (t.getCustomData("stylesheet")) {
                                    var n = e.getCustomData("stylesheet_ref");
                                    --n ? e.setCustomData("stylesheet_ref", n) : (e.removeCustomData("stylesheet_ref"), t.removeCustomData("stylesheet").remove())
                                }
                            }
                            this.editor.fire("contentDomUnload"), delete this.editor
                        }
                    }
                }), CKEDITOR.editor.prototype.editable = function(e) {
                    var t = this._.editable;
                    return t && e ? 0 : (arguments.length && (t = this._.editable = e ? e instanceof CKEDITOR.editable ? e : new CKEDITOR.editable(this, e) : (t && t.detach(), null)), t)
                }, CKEDITOR.on("instanceLoaded", function(t) {
                    var n = t.editor;
                    n.on("insertElement", function(e) {
                        (e = e.data).type == CKEDITOR.NODE_ELEMENT && (e.is("input") || e.is("textarea")) && ("false" != e.getAttribute("contentEditable") && e.data("cke-editable", e.hasAttribute("contenteditable") ? "true" : "1"), e.setAttribute("contentEditable", !1))
                    }), n.on("selectionChange", function(t) {
                        if (!n.readOnly) {
                            var r = n.getSelection();
                            r && !r.isLocked && (r = n.checkDirty(), n.fire("lockSnapshot"), e(t), n.fire("unlockSnapshot"), !r && n.resetDirty())
                        }
                    })
                }), CKEDITOR.on("instanceCreated", function(e) {
                    var t = e.editor;
                    t.on("mode", function() {
                        var e = t.editable();
                        if (e && e.isInline()) {
                            var n = t.title;
                            if (e.changeAttr("role", "textbox"), e.changeAttr("aria-multiline", "true"), e.changeAttr("aria-label", n), n && e.changeAttr("title", n), (i = t.fire("ariaEditorHelpLabel", {}).label) && (n = this.ui.space(this.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? "top" : "contents"))) {
                                var r = CKEDITOR.tools.getNextId(),
                                    i = CKEDITOR.dom.element.createFromHtml('<span id="' + r + '" class="cke_voice_label">' + i + "</span>");
                                n.append(i), e.changeAttr("aria-describedby", r)
                            }
                        }
                    })
                }), CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"), l = CKEDITOR.dom.walker.whitespaces(!0), c = CKEDITOR.dom.walker.bookmark(!1, !0), u = CKEDITOR.dom.walker.empty(), d = CKEDITOR.dom.walker.bogus(), h = /(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi, p = function() {
                    function e(e) {
                        return e.type == CKEDITOR.NODE_ELEMENT
                    }

                    function t(n, r) {
                        var i, o = [],
                            a = n.getChildren(),
                            s = a.count(),
                            c = 0,
                            u = l[r],
                            d = !n.is(l.$inline) || n.is("br");
                        for (d && o.push(" "); c < s; c++) e(i = a.getItem(c)) && !i.is(u) ? o = o.concat(t(i, r)) : o.push(i);
                        return d && o.push(" "), o
                    }

                    function r(t) {
                        return e(t.startContainer) && t.startContainer.getChild(t.startOffset - 1)
                    }

                    function a(t) {
                        return t && e(t) && (t.is(l.$removeEmpty) || t.is("a") && !t.isBlockBoundary())
                    }

                    function s(t, n, r, i) {
                        var o, a, l = t.clone();
                        l.setEndAt(n, CKEDITOR.POSITION_BEFORE_END), (o = new CKEDITOR.dom.walker(l).next()) && e(o) && c[o.getName()] && (a = o.getPrevious()) && e(a) && !a.getParent().equals(t.startContainer) && r.contains(a) && i.contains(o) && o.isIdentical(a) && (o.moveChildren(a), o.remove(), s(t, n, r, i))
                    }
                    var l = CKEDITOR.dtd,
                        c = {
                            p: 1,
                            div: 1,
                            h1: 1,
                            h2: 1,
                            h3: 1,
                            h4: 1,
                            h5: 1,
                            h6: 1,
                            ul: 1,
                            ol: 1,
                            li: 1,
                            pre: 1,
                            dl: 1,
                            blockquote: 1
                        },
                        u = {
                            p: 1,
                            div: 1,
                            h1: 1,
                            h2: 1,
                            h3: 1,
                            h4: 1,
                            h5: 1,
                            h6: 1
                        },
                        d = CKEDITOR.tools.extend({}, l.$inline);
                    return delete d.br,
                        function(c, h, p, f) {
                            var m = c.editor,
                                g = !1;
                            if ("unfiltered_html" == h && (h = "html", g = !0), !f.checkReadOnly()) {
                                var E, b, v;
                                if (h = (c = {
                                        type: h,
                                        dontFilter: g,
                                        editable: c,
                                        editor: m,
                                        range: f,
                                        blockLimit: I = new CKEDITOR.dom.elementPath(f.startContainer, f.root).blockLimit || f.root,
                                        mergeCandidates: [],
                                        zombies: []
                                    }).range, f = c.mergeCandidates, "text" == c.type && h.shrink(CKEDITOR.SHRINK_ELEMENT, !0, !1) && (E = CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>", h.document), h.insertNode(E), h.setStartAfter(E)), g = new CKEDITOR.dom.elementPath(h.startContainer), c.endPath = I = new CKEDITOR.dom.elementPath(h.endContainer), !h.collapsed) {
                                    m = I.block || I.blockLimit;
                                    var T = h.getCommonAncestor();
                                    m && !m.equals(T) && !m.contains(T) && h.checkEndOfBlock() && c.zombies.push(m), h.deleteContents()
                                }
                                for (;
                                    (b = r(h)) && e(b) && b.isBlockBoundary() && g.contains(b);) h.moveToPosition(b, CKEDITOR.POSITION_BEFORE_END);
                                for (s(h, c.blockLimit, g, I), E && (h.setEndBefore(E), h.collapse(), E.remove()), (m = (E = h.startPath()).contains(a, !1, 1)) && (h.splitElement(m), c.inlineStylesRoot = m, c.inlineStylesPeak = E.lastElement), (m = (E = h.createBookmark()).startNode.getPrevious(n)) && e(m) && a(m) && f.push(m), (m = E.startNode.getNext(n)) && e(m) && a(m) && f.push(m), m = E.startNode;
                                    (m = m.getParent()) && a(m);) f.push(m);
                                if (h.moveToBookmark(E), E = p) {
                                    if (E = c.range, "text" == c.type && c.inlineStylesRoot) {
                                        for (h = (b = c.inlineStylesPeak).getDocument().createText("{cke-peak}"), f = c.inlineStylesRoot.getParent(); !b.equals(f);) h = h.appendTo(b.clone()), b = b.getParent();
                                        p = h.getOuterHtml().split("{cke-peak}").join(p)
                                    }
                                    if (b = c.blockLimit.getName(), /^\s+|\s+$/.test(p) && "span" in CKEDITOR.dtd[b] && (p = (O = '<span data-cke-marker="1">&nbsp;</span>') + p + O), p = c.editor.dataProcessor.toHtml(p, {
                                            context: null,
                                            fixForBody: !1,
                                            protectedWhitespaces: !!O,
                                            dontFilter: c.dontFilter,
                                            filter: c.editor.activeFilter,
                                            enterMode: c.editor.activeEnterMode
                                        }), (b = E.document.createElement("body")).setHtml(p), O && (b.getFirst().remove(), b.getLast().remove()), (O = E.startPath().block) && (1 != O.getChildCount() || !O.getBogus())) e: {
                                        var y;
                                        if (1 == b.getChildCount() && e(y = b.getFirst()) && y.is(u) && !y.hasAttribute("contenteditable")) {
                                            for (E = 0, f = (O = y.getElementsByTag("*")).count(); E < f; E++)
                                                if (!(h = O.getItem(E)).is(d)) break e;
                                            y.moveChildren(y.getParent(1)), y.remove()
                                        }
                                    }
                                    c.dataWrapper = b, E = p
                                }
                                if (E) {
                                    var C;
                                    E = (y = c.range).document, b = c.blockLimit, f = 0;
                                    var k, w, _, x, D, O = [];
                                    p = m = 0;
                                    var R, I = (g = c.endPath.elements[0]).getPosition(h = y.startContainer);
                                    for (T = !(!g.getCommonAncestor(h) || I == CKEDITOR.POSITION_IDENTICAL || I & CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_IS_CONTAINED), function(t, n) {
                                            function r(t, n) {
                                                if (n.isBlock && n.isElement && !n.node.is("br") && e(t) && t.is("br")) return t.remove(), 1
                                            }
                                            var i = n.endContainer.getChild(n.endOffset),
                                                o = n.endContainer.getChild(n.endOffset - 1);
                                            i && r(i, t[t.length - 1]), o && r(o, t[0]) && (n.setEnd(n.endContainer, n.endOffset - 1), n.collapse())
                                        }(h = function t(n, r) {
                                            var i, o, a, s, c = [],
                                                u = r.range.startContainer;
                                            i = r.range.startPath(), u = l[u.getName()];
                                            for (var d = 0, h = n.getChildren(), p = h.count(), f = -1, m = -1, g = 0, E = i.contains(l.$list); d < p; ++d) e(i = h.getItem(d)) ? (a = i.getName(), E && a in CKEDITOR.dtd.$list ? c = c.concat(t(i, r)) : (s = !!u[a], "br" != a || !i.data("cke-eol") || d && d != p - 1 || (g = (o = d ? c[d - 1].node : h.getItem(d + 1)) && (!e(o) || !o.is("br")), o = o && e(o) && l.$block[o.getName()]), -1 != f || s || (f = d), s || (m = d), c.push({
                                                isElement: 1,
                                                isLineBreak: g,
                                                isBlock: i.isBlockBoundary(),
                                                hasBlockSibling: o,
                                                node: i,
                                                name: a,
                                                allowed: s
                                            }), o = g = 0)) : c.push({
                                                isElement: 0,
                                                node: i,
                                                allowed: 1
                                            });
                                            return -1 < f && (c[f].firstNotAllowed = 1), -1 < m && (c[m].lastNotAllowed = 1), c
                                        }(c.dataWrapper, c), y); f < h.length; f++) {
                                        if (C = (I = h[f]).isLineBreak) {
                                            C = y, x = b;
                                            var S = void 0,
                                                A = void 0;
                                            I.hasBlockSibling ? C = 1 : (S = C.startContainer.getAscendant(l.$block, 1)) && S.is({
                                                div: 1,
                                                p: 1
                                            }) ? (A = S.getPosition(x)) == CKEDITOR.POSITION_IDENTICAL || A == CKEDITOR.POSITION_CONTAINS ? C = 0 : (x = C.splitElement(S), C.moveToPosition(x, CKEDITOR.POSITION_AFTER_START), C = 1) : C = 0
                                        }
                                        if (C) p = 0 < f;
                                        else {
                                            if (C = y.startPath(), !I.isBlock && i(c.editor, C.block, C.blockLimit) && (_ = o(c.editor)) && ((_ = E.createElement(_)).appendBogus(), y.insertNode(_), CKEDITOR.env.needsBrFiller && (k = _.getBogus()) && k.remove(), y.moveToPosition(_, CKEDITOR.POSITION_BEFORE_END)), (C = y.startPath().block) && !C.equals(w) && ((k = C.getBogus()) && (k.remove(), O.push(C)), w = C), I.firstNotAllowed && (m = 1), m && I.isElement) {
                                                for (C = y.startContainer, x = null; C && !l[C.getName()][I.name];) {
                                                    if (C.equals(b)) {
                                                        C = null;
                                                        break
                                                    }
                                                    x = C, C = C.getParent()
                                                }
                                                if (C) x && (D = y.splitElement(x), c.zombies.push(D), c.zombies.push(x));
                                                else {
                                                    x = b.getName(), R = !f, C = f == h.length - 1, S = [], A = (x = t(I.node, x)).length;
                                                    for (var F = 0, L = void 0, N = 0, K = -1; F < A; F++) " " == (L = x[F]) ? (N || R && !F || (S.push(new CKEDITOR.dom.text(" ")), K = S.length), N = 1) : (S.push(L), N = 0);
                                                    C && K == S.length && S.pop(), R = S
                                                }
                                            }
                                            if (R) {
                                                for (; C = R.pop();) y.insertNode(C);
                                                R = 0
                                            } else y.insertNode(I.node);
                                            I.lastNotAllowed && f < h.length - 1 && ((D = T ? g : D) && y.setEndAt(D, CKEDITOR.POSITION_AFTER_START), m = 0), y.collapse()
                                        }
                                    }(k = 1 == h.length && (k = h[0]).isElement && "false" == k.node.getAttribute("contenteditable")) && (p = !0, y.setStartAt(C = h[0].node, CKEDITOR.POSITION_BEFORE_START), y.setEndAt(C, CKEDITOR.POSITION_AFTER_END)), c.dontMoveCaret = p, c.bogusNeededBlocks = O
                                }
                                for (D = c.bogusNeededBlocks, R = (k = c.range).createBookmark(); w = c.zombies.pop();) w.getParent() && ((_ = k.clone()).moveToElementEditStart(w), _.removeEmptyBlocksAtEnd());
                                if (D)
                                    for (; w = D.pop();) CKEDITOR.env.needsBrFiller ? w.appendBogus() : w.append(k.document.createText("\xa0"));
                                for (; w = c.mergeCandidates.pop();) w.mergeSiblings();
                                if (k.moveToBookmark(R), !c.dontMoveCaret) {
                                    for (w = r(k); w && e(w) && !w.is(l.$empty);) {
                                        if (w.isBlockBoundary()) k.moveToPosition(w, CKEDITOR.POSITION_BEFORE_END);
                                        else {
                                            if (a(w) && w.getHtml().match(/(\s|&nbsp;)$/g)) {
                                                v = null;
                                                break
                                            }(v = k.clone()).moveToPosition(w, CKEDITOR.POSITION_BEFORE_END)
                                        }
                                        w = w.getLast(n)
                                    }
                                    v && k.moveToRange(v)
                                }
                            }
                        }
                }(), f = function() {
                    function e(e) {
                        return (e = new CKEDITOR.dom.walker(e)).guard = function(e, t) {
                            return !t && (e.type == CKEDITOR.NODE_ELEMENT ? e.is(CKEDITOR.dtd.$tableContent) : void 0)
                        }, e.evaluator = function(e) {
                            return e.type == CKEDITOR.NODE_ELEMENT
                        }, e
                    }

                    function t(e, t, n) {
                        return t = e.getDocument().createElement(t), e.append(t, n), t
                    }

                    function n(e) {
                        for (var t, n = e.count(); 0 < n--;) t = e.getItem(n), CKEDITOR.tools.trim(t.getHtml()) || (t.appendBogus(), CKEDITOR.env.ie && 9 > CKEDITOR.env.version && t.getChildCount() && t.getFirst().remove())
                    }
                    return function(r) {
                        var i = r.startContainer,
                            o = i.getAscendant("table", 1),
                            a = !1;
                        n(o.getElementsByTag("td")), n(o.getElementsByTag("th")), (o = r.clone()).setStart(i, 0), (o = e(o).lastBackward()) || ((o = r.clone()).setEndAt(i, CKEDITOR.POSITION_BEFORE_END), o = e(o).lastForward(), a = !0), o || (o = i), o.is("table") ? (r.setStartAt(o, CKEDITOR.POSITION_BEFORE_START), r.collapse(!0), o.remove()) : (o.is({
                            tbody: 1,
                            thead: 1,
                            tfoot: 1
                        }) && (o = t(o, "tr", a)), o.is("tr") && (o = t(o, o.getParent().is("thead") ? "th" : "td", a)), (i = o.getBogus()) && i.remove(), r.moveToPosition(o, a ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END))
                    }
                }(), m = function() {
                    function e(e) {
                        return (e = new CKEDITOR.dom.walker(e)).guard = function(e, t) {
                            return !t && (e.type == CKEDITOR.NODE_ELEMENT ? e.is(CKEDITOR.dtd.$list) || e.is(CKEDITOR.dtd.$listItem) : void 0)
                        }, e.evaluator = function(e) {
                            return e.type == CKEDITOR.NODE_ELEMENT && e.is(CKEDITOR.dtd.$listItem)
                        }, e
                    }
                    return function(t) {
                        var n, r = t.startContainer,
                            i = !1;
                        (n = t.clone()).setStart(r, 0), (n = e(n).lastBackward()) || ((n = t.clone()).setEndAt(r, CKEDITOR.POSITION_BEFORE_END), n = e(n).lastForward(), i = !0), n || (n = r), n.is(CKEDITOR.dtd.$list) ? (t.setStartAt(n, CKEDITOR.POSITION_BEFORE_START), t.collapse(!0), n.remove()) : ((r = n.getBogus()) && r.remove(), t.moveToPosition(n, i ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END), t.select())
                    }
                }(), g = {
                    eol: {
                        detect: function(e, t) {
                            var n = e.range,
                                r = n.clone(),
                                i = n.clone(),
                                o = new CKEDITOR.dom.elementPath(n.startContainer, t),
                                a = new CKEDITOR.dom.elementPath(n.endContainer, t);
                            r.collapse(1), i.collapse(), o.block && r.checkBoundaryOfElement(o.block, CKEDITOR.END) && (n.setStartAfter(o.block), e.prependEolBr = 1), a.block && i.checkBoundaryOfElement(a.block, CKEDITOR.START) && (n.setEndBefore(a.block), e.appendEolBr = 1)
                        },
                        fix: function(e, t) {
                            var n, r = t.getDocument();
                            e.appendEolBr && (n = this.createEolBr(r), e.fragment.append(n)), !e.prependEolBr || n && !n.getPrevious() || e.fragment.append(this.createEolBr(r), 1)
                        },
                        createEolBr: function(e) {
                            return e.createElement("br", {
                                attributes: {
                                    "data-cke-eol": 1
                                }
                            })
                        }
                    },
                    bogus: {
                        exclude: function(e) {
                            var t, n = (t = e.range.getBoundaryNodes()).startNode;
                            !(t = t.endNode) || !d(t) || n && n.equals(t) || e.range.setEndBefore(t)
                        }
                    },
                    tree: {
                        rebuild: function(e, t) {
                            var n, r = (a = e.range).getCommonAncestor(),
                                i = new CKEDITOR.dom.elementPath(r, t),
                                o = new CKEDITOR.dom.elementPath(a.startContainer, t),
                                a = new CKEDITOR.dom.elementPath(a.endContainer, t);
                            if (r.type == CKEDITOR.NODE_TEXT && (r = r.getParent()), i.blockLimit.is({
                                    tr: 1,
                                    table: 1
                                })) {
                                var s = i.contains("table").getParent();
                                n = function(e) {
                                    return !e.equals(s)
                                }
                            } else if (i.block && i.block.is(CKEDITOR.dtd.$listItem) && (o = o.contains(CKEDITOR.dtd.$list), a = a.contains(CKEDITOR.dtd.$list), !o.equals(a))) {
                                var l = i.contains(CKEDITOR.dtd.$list).getParent();
                                n = function(e) {
                                    return !e.equals(l)
                                }
                            }
                            n || (n = function(e) {
                                return !e.equals(i.block) && !e.equals(i.blockLimit)
                            }), this.rebuildFragment(e, t, r, n)
                        },
                        rebuildFragment: function(e, t, n, r) {
                            for (var i; n && !n.equals(t) && r(n);) i = n.clone(0, 1), e.fragment.appendTo(i), e.fragment = i, n = n.getParent()
                        }
                    },
                    cell: {
                        shrink: function(e) {
                            var t = (e = e.range).startContainer,
                                n = e.startOffset,
                                r = e.endOffset;
                            t.type == CKEDITOR.NODE_ELEMENT && t.equals(e.endContainer) && t.is("tr") && ++n == r && e.shrink(CKEDITOR.SHRINK_TEXT)
                        }
                    }
                }, E = function() {
                    function e(e, t) {
                        var n = e.getParent();
                        n.is(CKEDITOR.dtd.$inline) && e[t ? "insertBefore" : "insertAfter"](n)
                    }

                    function t(t, n, r) {
                        e(n), e(r, 1);
                        for (var i; i = r.getNext();) i.insertAfter(n), n = i;
                        u(t) && t.remove()
                    }

                    function n(e, t) {
                        var n = new CKEDITOR.dom.range(e);
                        return n.setStartAfter(t.startNode), n.setEndBefore(t.endNode), n
                    }
                    return {
                        list: {
                            detectMerge: function(e, t) {
                                var r = n(t, e.bookmark),
                                    i = r.startPath(),
                                    o = r.endPath(),
                                    a = i.contains(CKEDITOR.dtd.$list),
                                    s = o.contains(CKEDITOR.dtd.$list);
                                e.mergeList = a && s && a.getParent().equals(s.getParent()) && !a.equals(s), e.mergeListItems = i.block && o.block && i.block.is(CKEDITOR.dtd.$listItem) && o.block.is(CKEDITOR.dtd.$listItem), (e.mergeList || e.mergeListItems) && ((r = r.clone()).setStartBefore(e.bookmark.startNode), r.setEndAfter(e.bookmark.endNode), e.mergeListBookmark = r.createBookmark())
                            },
                            merge: function(e, n) {
                                if (e.mergeListBookmark) {
                                    var r = e.mergeListBookmark.startNode,
                                        i = e.mergeListBookmark.endNode,
                                        o = new CKEDITOR.dom.elementPath(r, n),
                                        a = new CKEDITOR.dom.elementPath(i, n);
                                    if (e.mergeList) {
                                        var s = o.contains(CKEDITOR.dtd.$list),
                                            l = a.contains(CKEDITOR.dtd.$list);
                                        s.equals(l) || (l.moveChildren(s), l.remove())
                                    }
                                    e.mergeListItems && (o = o.contains(CKEDITOR.dtd.$listItem), a = a.contains(CKEDITOR.dtd.$listItem), o.equals(a) || t(a, r, i)), r.remove(), i.remove()
                                }
                            }
                        },
                        block: {
                            detectMerge: function(e, t) {
                                if (!e.tableContentsRanges && !e.mergeListBookmark) {
                                    var n = new CKEDITOR.dom.range(t);
                                    n.setStartBefore(e.bookmark.startNode), n.setEndAfter(e.bookmark.endNode), e.mergeBlockBookmark = n.createBookmark()
                                }
                            },
                            merge: function(e, n) {
                                if (e.mergeBlockBookmark && !e.purgeTableBookmark) {
                                    var r = e.mergeBlockBookmark.startNode,
                                        i = e.mergeBlockBookmark.endNode,
                                        o = new CKEDITOR.dom.elementPath(r, n),
                                        a = (a = new CKEDITOR.dom.elementPath(i, n)).block;
                                    (o = o.block) && a && !o.equals(a) && t(a, r, i), r.remove(), i.remove()
                                }
                            }
                        },
                        table: function() {
                            function e(e) {
                                var n, i = [],
                                    o = new CKEDITOR.dom.walker(e),
                                    a = e.startPath().contains(r),
                                    s = e.endPath().contains(r),
                                    l = {};
                                return o.guard = function(o, c) {
                                    if (o.type == CKEDITOR.NODE_ELEMENT) {
                                        if (o.getCustomData(u = "visited_" + (c ? "out" : "in"))) return;
                                        CKEDITOR.dom.element.setMarker(l, o, u, 1)
                                    }
                                    if (c && a && o.equals(a))(n = e.clone()).setEndAt(a, CKEDITOR.POSITION_BEFORE_END), i.push(n);
                                    else if (!c && s && o.equals(s))(n = e.clone()).setStartAt(s, CKEDITOR.POSITION_AFTER_START), i.push(n);
                                    else {
                                        if ((u = !c) && (u = o.type == CKEDITOR.NODE_ELEMENT && o.is(r) && (!a || t(o, a)) && (!s || t(o, s))), !u && (u = c))
                                            if (o.is(r)) {
                                                var u = a && a.getAscendant("table", !0),
                                                    d = s && s.getAscendant("table", !0),
                                                    h = o.getAscendant("table", !0);
                                                u = u && u.contains(h) || d && d.contains(h)
                                            } else u = void 0;
                                        u && ((n = e.clone()).selectNodeContents(o), i.push(n))
                                    }
                                }, o.lastForward(), CKEDITOR.dom.element.clearAllMarkers(l), i
                            }

                            function t(e, t) {
                                var n = CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_IS_CONTAINED,
                                    r = e.getPosition(t);
                                return r !== CKEDITOR.POSITION_IDENTICAL && 0 == (r & n)
                            }
                            var r = {
                                td: 1,
                                th: 1,
                                caption: 1
                            };
                            return {
                                detectPurge: function(e) {
                                    var t = e.range;
                                    (i = t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT);
                                    var n = 0;
                                    if ((i = new CKEDITOR.dom.walker(i)).evaluator = function(e) {
                                            e.type == CKEDITOR.NODE_ELEMENT && e.is(r) && ++n
                                        }, i.checkForward(), 1 < n) {
                                        var i = t.startPath().contains("table"),
                                            o = t.endPath().contains("table");
                                        i && o && t.checkBoundaryOfElement(i, CKEDITOR.START) && t.checkBoundaryOfElement(o, CKEDITOR.END) && ((t = e.range.clone()).setStartBefore(i), t.setEndAfter(o), e.purgeTableBookmark = t.createBookmark())
                                    }
                                },
                                detectRanges: function(i, o) {
                                    var a, s, l = n(o, i.bookmark),
                                        c = l.clone(),
                                        u = l.getCommonAncestor();
                                    u.is(CKEDITOR.dtd.$tableContent) && !u.is(r) && (u = u.getAscendant("table", !0)), s = u, u = new CKEDITOR.dom.elementPath(l.startContainer, s), s = new CKEDITOR.dom.elementPath(l.endContainer, s), u = u.contains("table"), s = s.contains("table"), (u || s) && (u && s && t(u, s) ? (i.tableSurroundingRange = c, c.setStartAt(u, CKEDITOR.POSITION_AFTER_END), c.setEndAt(s, CKEDITOR.POSITION_BEFORE_START), (c = l.clone()).setEndAt(u, CKEDITOR.POSITION_AFTER_END), (a = l.clone()).setStartAt(s, CKEDITOR.POSITION_BEFORE_START), a = e(c).concat(e(a))) : u ? s || (i.tableSurroundingRange = c, c.setStartAt(u, CKEDITOR.POSITION_AFTER_END), l.setEndAt(u, CKEDITOR.POSITION_AFTER_END)) : (i.tableSurroundingRange = c, c.setEndAt(s, CKEDITOR.POSITION_BEFORE_START), l.setStartAt(s, CKEDITOR.POSITION_AFTER_START)), i.tableContentsRanges = a || e(l))
                                },
                                deleteRanges: function(e) {
                                    for (var t; t = e.tableContentsRanges.pop();) t.extractContents(), u(t.startContainer) && t.startContainer.appendBogus();
                                    e.tableSurroundingRange && e.tableSurroundingRange.extractContents()
                                },
                                purge: function(e) {
                                    if (e.purgeTableBookmark) {
                                        var t = e.doc,
                                            n = e.range.clone();
                                        (t = t.createElement("p")).insertBefore(e.purgeTableBookmark.startNode), n.moveToBookmark(e.purgeTableBookmark), n.deleteContents(), e.range.moveToPosition(t, CKEDITOR.POSITION_AFTER_START)
                                    }
                                }
                            }
                        }(),
                        detectExtractMerge: function(e) {
                            return !(e.range.startPath().contains(CKEDITOR.dtd.$listItem) && e.range.endPath().contains(CKEDITOR.dtd.$listItem))
                        },
                        fixUneditableRangePosition: function(e) {
                            e.startContainer.getDtd()["#"] || e.moveToClosestEditablePosition(null, !0)
                        },
                        autoParagraph: function(e, t) {
                            var n, r = t.startPath();
                            i(e, r.block, r.blockLimit) && (n = o(e)) && ((n = t.document.createElement(n)).appendBogus(), t.insertNode(n), t.moveToPosition(n, CKEDITOR.POSITION_AFTER_START))
                        }
                    }
                }()
            }(), function() {
                function e(e) {
                    return CKEDITOR.plugins.widget && CKEDITOR.plugins.widget.isDomWidget(e)
                }

                function t(t, n) {
                    if (0 === t.length || e(t[0].getEnclosedNode())) return !1;
                    var r, i;
                    if ((r = !n && 1 === t.length) && !(r = t[0].collapsed)) {
                        var o = t[0];
                        r = o.startContainer.getAscendant({
                            td: 1,
                            th: 1
                        }, !0);
                        var a = o.endContainer.getAscendant({
                            td: 1,
                            th: 1
                        }, !0);
                        i = CKEDITOR.tools.trim, r = !(!r || !r.equals(a) || r.findOne("td, th, tr, tbody, table") || (o = o.cloneContents()).getFirst() && i(o.getFirst().getText()) === i(r.getText()))
                    }
                    if (r) return !1;
                    for (i = 0; i < t.length; i++)
                        if (!(r = t[i]._getTableElement())) return !1;
                    return !0
                }

                function n(e) {
                    var t = this.root.editor,
                        n = t.getSelection(1);
                    this.reset(), d = !0, n.root.once("selectionchange", function(e) {
                        e.cancel()
                    }, null, null, 0), n.selectRanges([e[0]]), (n = this._.cache).ranges = new CKEDITOR.dom.rangeList(e), n.type = CKEDITOR.SELECTION_TEXT, n.selectedElement = e[0]._getTableElement(), n.selectedText = function(e) {
                        e = function(e) {
                            function t(e) {
                                e = e.find("td, th");
                                var t, n = [];
                                for (t = 0; t < e.count(); t++) n.push(e.getItem(t));
                                return n
                            }
                            var n, r, i = [];
                            for (r = 0; r < e.length; r++)(n = e[r]._getTableElement()).is && n.is({
                                td: 1,
                                th: 1
                            }) ? i.push(n) : i = i.concat(t(n));
                            return i
                        }(e);
                        var t, n, r = "",
                            i = [];
                        for (n = 0; n < e.length; n++) t && !t.equals(e[n].getAscendant("tr")) ? (r += i.join("\t") + "\n", t = e[n].getAscendant("tr"), i = []) : 0 === n && (t = e[n].getAscendant("tr")), i.push(e[n].getText());
                        return r + i.join("\t")
                    }(e), n.nativeSel = null, this.isFake = 1, this.rev = m++, t._.fakeSelection = this, d = !1, this.root.fire("selectionchange")
                }

                function r() {
                    var n, r = this._.fakeSelection;
                    if (r) {
                        var i;
                        if (!(i = !(n = this.getSelection(1))) && (i = !n.isHidden())) {
                            i = r;
                            var o = n.getRanges(),
                                a = i.getRanges(),
                                s = o.length && o[0]._getTableElement() && o[0]._getTableElement().getAscendant("table", !0),
                                l = a.length && a[0]._getTableElement() && a[0]._getTableElement().getAscendant("table", !0),
                                c = 1 === o.length && o[0]._getTableElement() && o[0]._getTableElement().is("table"),
                                u = 1 === a.length && a[0]._getTableElement() && a[0]._getTableElement().is("table");
                            if (e(i.getSelectedElement())) i = !1;
                            else {
                                var d = 1 === o.length && o[0].collapsed;
                                a = t(o, !!CKEDITOR.env.webkit) && t(a), (s = !(!s || !l) && (s.equals(l) || l.contains(s))) && (d || a) ? (c && !u && i.selectRanges(o), i = !0) : i = !1
                            }
                            i = !i
                        }
                        i && (r.reset(), r = 0)
                    }(r || (r = n || this.getSelection(1)) && r.getType() != CKEDITOR.SELECTION_NONE) && (this.fire("selectionCheck", r), (n = this.elementPath()).compare(this._.selectionPreviousPath) || (i = this._.selectionPreviousPath && this._.selectionPreviousPath.blockLimit.equals(n.blockLimit), CKEDITOR.env.webkit && !i && (this._.previousActive = this.document.getActive()), this._.selectionPreviousPath = n, this.fire("selectionChange", {
                        selection: r,
                        path: n
                    })))
                }

                function i() {
                    p = !0, h || (o.call(this), h = CKEDITOR.tools.setTimeout(o, 200, this))
                }

                function o() {
                    h = null, p && (CKEDITOR.tools.setTimeout(r, 0, this), p = !1)
                }

                function a(e) {
                    return !(!b(e) && (e.type != CKEDITOR.NODE_ELEMENT || e.is(CKEDITOR.dtd.$empty)))
                }

                function s(e) {
                    function t(t, n) {
                        return !(!t || t.type == CKEDITOR.NODE_TEXT) && e.clone()["moveToElementEdit" + (n ? "End" : "Start")](t)
                    }
                    if (!(e.root instanceof CKEDITOR.editable)) return !1;
                    var n = e.startContainer,
                        r = e.getPreviousNode(a, null, n),
                        i = e.getNextNode(a, null, n);
                    return !(!t(r) && !t(i, 1) && (r || i || n.type == CKEDITOR.NODE_ELEMENT && n.isBlockBoundary() && n.getBogus()))
                }

                function l(e) {
                    c(e, !1);
                    var t = e.getDocument().createText(g);
                    return e.setCustomData("cke-fillingChar", t), t
                }

                function c(e, t) {
                    var n = e && e.removeCustomData("cke-fillingChar");
                    if (n) {
                        if (!1 !== t) {
                            var r = e.getDocument().getSelection().getNative(),
                                i = r && "None" != r.type && r.getRangeAt(0),
                                o = g.length;
                            if (n.getLength() > o && i && i.intersectsNode(n.$)) {
                                var a = [{
                                    node: r.anchorNode,
                                    offset: r.anchorOffset
                                }, {
                                    node: r.focusNode,
                                    offset: r.focusOffset
                                }];
                                r.anchorNode == n.$ && r.anchorOffset > o && (a[0].offset -= o), r.focusNode == n.$ && r.focusOffset > o && (a[1].offset -= o)
                            }
                        }
                        n.setText(u(n.getText(), 1)), a && (r = (n = e.getDocument().$).getSelection(), (n = n.createRange()).setStart(a[0].node, a[0].offset), n.collapse(!0), r.removeAllRanges(), r.addRange(n), r.extend(a[1].node, a[1].offset))
                    }
                }

                function u(e, t) {
                    return t ? e.replace(E, function(e, t) {
                        return t ? "\xa0" : ""
                    }) : e.replace(g, "")
                }
                var d, h, p, f = "function" != typeof window.getSelection,
                    m = 1,
                    g = CKEDITOR.tools.repeat("\u200b", 7),
                    E = new RegExp(g + "( )?", "g"),
                    b = CKEDITOR.dom.walker.invisible(1),
                    v = function() {
                        function e(e) {
                            return function(t) {
                                var n = t.editor.createRange();
                                return n.moveToClosestEditablePosition(t.selected, e) && t.editor.getSelection().selectRanges([n]), !1
                            }
                        }

                        function t(e) {
                            return function(t) {
                                var n, r = t.editor,
                                    i = r.createRange();
                                if (!r.readOnly) return (n = i.moveToClosestEditablePosition(t.selected, e)) || (n = i.moveToClosestEditablePosition(t.selected, !e)), n && r.getSelection().selectRanges([i]), r.fire("saveSnapshot"), t.selected.remove(), n || (i.moveToElementEditablePosition(r.editable()), r.getSelection().selectRanges([i])), r.fire("saveSnapshot"), !1
                            }
                        }
                        var n = e(),
                            r = e(1);
                        return {
                            37: n,
                            38: n,
                            39: r,
                            40: r,
                            8: t(),
                            46: t(1)
                        }
                    }();
                CKEDITOR.on("instanceCreated", function(e) {
                    function t() {
                        var e = n.getSelection();
                        e && e.removeAllRanges()
                    }
                    var n = e.editor;
                    n.on("contentDom", function() {
                        function e() {
                            (s = new CKEDITOR.dom.selection(n.getSelection())).lock()
                        }

                        function t() {
                            m.removeListener("mouseup", t), b.removeListener("mouseup", t);
                            var e = CKEDITOR.document.$.selection,
                                n = e.createRange();
                            "None" != e.type && n.parentElement() && n.parentElement().ownerDocument == p.$ && n.select()
                        }

                        function o(e) {
                            if (CKEDITOR.env.ie) {
                                var t = (e = e.getRanges()[0]) ? e.startContainer.getAscendant(function(e) {
                                    return e.type == CKEDITOR.NODE_ELEMENT && ("false" == e.getAttribute("contenteditable") || "true" == e.getAttribute("contenteditable"))
                                }, !0) : null;
                                return e && "false" == t.getAttribute("contenteditable") && t
                            }
                        }
                        var a, s, l, u, d, h, p = n.document,
                            m = CKEDITOR.document,
                            g = n.editable(),
                            E = p.getBody(),
                            b = p.getDocumentElement(),
                            v = g.isInline();
                        CKEDITOR.env.gecko && g.attachListener(g, "focus", function(e) {
                            e.removeListener(), 0 !== a && (e = n.getSelection().getNative()) && e.isCollapsed && e.anchorNode == g.$ && ((e = n.createRange()).moveToElementEditStart(g), e.select())
                        }, null, null, -2), g.attachListener(g, CKEDITOR.env.webkit ? "DOMFocusIn" : "focus", function() {
                            a && CKEDITOR.env.webkit && (a = n._.previousActive && n._.previousActive.equals(p.getActive())) && null != n._.previousScrollTop && n._.previousScrollTop != g.$.scrollTop && (g.$.scrollTop = n._.previousScrollTop), n.unlockSelection(a), a = 0
                        }, null, null, -1), g.attachListener(g, "mousedown", function() {
                            a = 0
                        }), (CKEDITOR.env.ie || v) && (f ? g.attachListener(g, "beforedeactivate", e, null, null, -1) : g.attachListener(n, "selectionCheck", e, null, null, -1), g.attachListener(g, CKEDITOR.env.webkit ? "DOMFocusOut" : "blur", function() {
                            n.lockSelection(s), a = 1
                        }, null, null, -1), g.attachListener(g, "mousedown", function() {
                            a = 0
                        })), CKEDITOR.env.ie && !v && (g.attachListener(g, "mousedown", function(e) {
                            2 == e.data.$.button && ((e = n.document.getSelection()) && e.getType() != CKEDITOR.SELECTION_NONE || (l = n.window.getScrollPosition()))
                        }), g.attachListener(g, "mouseup", function(e) {
                            2 == e.data.$.button && l && (n.document.$.documentElement.scrollLeft = l.x, n.document.$.documentElement.scrollTop = l.y), l = null
                        }), "BackCompat" != p.$.compatMode) && ((CKEDITOR.env.ie7Compat || CKEDITOR.env.ie6Compat) && b.on("mousedown", function(e) {
                            function t(e) {
                                if (e = e.data.$, d) {
                                    var t = E.$.createTextRange();
                                    try {
                                        t.moveToPoint(e.clientX, e.clientY)
                                    } catch (e) {}
                                    d.setEndPoint(0 > h.compareEndPoints("StartToStart", t) ? "EndToEnd" : "StartToStart", t), d.select()
                                }
                            }

                            function n() {
                                b.removeListener("mousemove", t), m.removeListener("mouseup", n), b.removeListener("mouseup", n), d.select()
                            }
                            if ((e = e.data).getTarget().is("html") && e.$.y < b.$.clientHeight && e.$.x < b.$.clientWidth) {
                                d = E.$.createTextRange();
                                try {
                                    d.moveToPoint(e.$.clientX, e.$.clientY)
                                } catch (e) {}
                                h = d.duplicate(), b.on("mousemove", t), m.on("mouseup", n), b.on("mouseup", n)
                            }
                        }), 7 < CKEDITOR.env.version && 11 > CKEDITOR.env.version && b.on("mousedown", function(e) {
                            e.data.getTarget().is("html") && (m.on("mouseup", t), b.on("mouseup", t))
                        })), g.attachListener(g, "selectionchange", r, n), g.attachListener(g, "keyup", i, n), g.attachListener(g, "keydown", function(e) {
                            var t = this.getSelection(1);
                            o(t) && (t.selectElement(o(t)), e.data.preventDefault())
                        }, n), g.attachListener(g, CKEDITOR.env.webkit ? "DOMFocusIn" : "focus", function() {
                            n.forceNextSelectionCheck(), n.selectionChange(1)
                        }), v && (CKEDITOR.env.webkit || CKEDITOR.env.gecko) ? (g.attachListener(g, "mousedown", function() {
                            u = 1
                        }), g.attachListener(p.getDocumentElement(), "mouseup", function() {
                            u && i.call(n), u = 0
                        })) : g.attachListener(CKEDITOR.env.ie ? g : p.getDocumentElement(), "mouseup", i, n), CKEDITOR.env.webkit && g.attachListener(p, "keydown", function(e) {
                            switch (e.data.getKey()) {
                                case 13:
                                case 33:
                                case 34:
                                case 35:
                                case 36:
                                case 37:
                                case 39:
                                case 8:
                                case 45:
                                case 46:
                                    g.hasFocus && c(g)
                            }
                        }, null, null, -1), g.attachListener(g, "keydown", function(e) {
                            var t = {
                                37: 1,
                                39: 1,
                                8: 1,
                                46: 1
                            };
                            return function(n) {
                                var r = n.data.getKeystroke();
                                if (t[r]) {
                                    var i = e.getSelection().getRanges(),
                                        o = i[0];
                                    1 == i.length && o.collapsed && (r = o[38 > r ? "getPreviousEditableNode" : "getNextEditableNode"]()) && r.type == CKEDITOR.NODE_ELEMENT && "false" == r.getAttribute("contenteditable") && (e.getSelection().fake(r), n.data.preventDefault(), n.cancel())
                                }
                            }
                        }(n), null, null, -1)
                    }), n.on("setData", function() {
                        n.unlockSelection(), CKEDITOR.env.webkit && t()
                    }), n.on("contentDomUnload", function() {
                        n.unlockSelection()
                    }), CKEDITOR.env.ie9Compat && n.on("beforeDestroy", t, null, null, 9), n.on("dataReady", function() {
                        delete n._.fakeSelection, delete n._.hiddenSelectionContainer, n.selectionChange(1)
                    }), n.on("loadSnapshot", function() {
                        var e = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),
                            t = n.editable().getLast(e);
                        t && t.hasAttribute("data-cke-hidden-sel") && (t.remove(), CKEDITOR.env.gecko && (e = n.editable().getFirst(e)) && e.is("br") && e.getAttribute("_moz_editor_bogus_node") && e.remove())
                    }, null, null, 100), n.on("key", function(e) {
                        if ("wysiwyg" == n.mode) {
                            var t = n.getSelection();
                            if (t.isFake) {
                                var r = v[e.data.keyCode];
                                if (r) return r({
                                    editor: n,
                                    selected: t.getSelectedElement(),
                                    selection: t,
                                    keyEvent: e
                                })
                            }
                        }
                    })
                }), CKEDITOR.env.webkit && CKEDITOR.on("instanceReady", function(e) {
                    var t = e.editor;
                    t.on("selectionChange", function() {
                        var e = t.editable(),
                            n = e.getCustomData("cke-fillingChar");
                        n && (n.getCustomData("ready") ? (c(e), e.editor.fire("selectionCheck")) : n.setCustomData("ready", 1))
                    }, null, null, -1), t.on("beforeSetMode", function() {
                        c(t.editable())
                    }, null, null, -1), t.on("getSnapshot", function(e) {
                        e.data && (e.data = u(e.data))
                    }, t, null, 20), t.on("toDataFormat", function(e) {
                        e.data.dataValue = u(e.data.dataValue)
                    }, null, null, 0)
                }), CKEDITOR.editor.prototype.selectionChange = function(e) {
                    (e ? r : i).call(this)
                }, CKEDITOR.editor.prototype.getSelection = function(e) {
                    return !this._.savedSelection && !this._.fakeSelection || e ? (e = this.editable()) && "wysiwyg" == this.mode ? new CKEDITOR.dom.selection(e) : null : this._.savedSelection || this._.fakeSelection
                }, CKEDITOR.editor.prototype.lockSelection = function(e) {
                    return (e = e || this.getSelection(1)).getType() != CKEDITOR.SELECTION_NONE && (!e.isLocked && e.lock(), this._.savedSelection = e, !0)
                }, CKEDITOR.editor.prototype.unlockSelection = function(e) {
                    var t = this._.savedSelection;
                    return !!t && (t.unlock(e), delete this._.savedSelection, !0)
                }, CKEDITOR.editor.prototype.forceNextSelectionCheck = function() {
                    delete this._.selectionPreviousPath
                }, CKEDITOR.dom.document.prototype.getSelection = function() {
                    return new CKEDITOR.dom.selection(this)
                }, CKEDITOR.dom.range.prototype.select = function() {
                    var e = this.root instanceof CKEDITOR.editable ? this.root.editor.getSelection() : new CKEDITOR.dom.selection(this.root);
                    return e.selectRanges([this]), e
                }, CKEDITOR.SELECTION_NONE = 1, CKEDITOR.SELECTION_TEXT = 2, CKEDITOR.SELECTION_ELEMENT = 3, CKEDITOR.dom.selection = function(e) {
                    if (e instanceof CKEDITOR.dom.selection) {
                        var t = e;
                        e = e.root
                    }
                    var n, r, i = e instanceof CKEDITOR.dom.element;
                    if (this.rev = t ? t.rev : m++, this.document = e instanceof CKEDITOR.dom.document ? e : e.getDocument(), this.root = i ? e : this.document.getBody(), this.isLocked = 0, this._ = {
                            cache: {}
                        }, t) return CKEDITOR.tools.extend(this._.cache, t._.cache), this.isFake = t.isFake, this.isLocked = t.isLocked, this;
                    if (e = this.getNative())
                        if (e.getRangeAt) n = (r = e.rangeCount && e.getRangeAt(0)) && new CKEDITOR.dom.node(r.commonAncestorContainer);
                        else {
                            try {
                                r = e.createRange()
                            } catch (e) {}
                            n = r && CKEDITOR.dom.element.get(r.item && r.item(0) || r.parentElement())
                        }
                    return (!n || n.type != CKEDITOR.NODE_ELEMENT && n.type != CKEDITOR.NODE_TEXT || !this.root.equals(n) && !this.root.contains(n)) && (this._.cache.type = CKEDITOR.SELECTION_NONE, this._.cache.startElement = null, this._.cache.selectedElement = null, this._.cache.selectedText = "", this._.cache.ranges = new CKEDITOR.dom.rangeList), this
                };
                var T = {
                    img: 1,
                    hr: 1,
                    li: 1,
                    table: 1,
                    tr: 1,
                    td: 1,
                    th: 1,
                    embed: 1,
                    object: 1,
                    ol: 1,
                    ul: 1,
                    a: 1,
                    input: 1,
                    form: 1,
                    select: 1,
                    textarea: 1,
                    button: 1,
                    fieldset: 1,
                    thead: 1,
                    tfoot: 1
                };
                CKEDITOR.tools.extend(CKEDITOR.dom.selection, {
                    _removeFillingCharSequenceString: u,
                    _createFillingCharSequenceNode: l,
                    FILLING_CHAR_SEQUENCE: g
                }), CKEDITOR.dom.selection.prototype = {
                    getNative: function() {
                        return void 0 !== this._.cache.nativeSel ? this._.cache.nativeSel : this._.cache.nativeSel = f ? this.document.$.selection : this.document.getWindow().$.getSelection()
                    },
                    getType: f ? function() {
                        var e = this._.cache;
                        if (e.type) return e.type;
                        var t = CKEDITOR.SELECTION_NONE;
                        try {
                            var n = this.getNative(),
                                r = n.type;
                            "Text" == r && (t = CKEDITOR.SELECTION_TEXT), "Control" == r && (t = CKEDITOR.SELECTION_ELEMENT), n.createRange().parentElement() && (t = CKEDITOR.SELECTION_TEXT)
                        } catch (e) {}
                        return e.type = t
                    } : function() {
                        var e = this._.cache;
                        if (e.type) return e.type;
                        var t = CKEDITOR.SELECTION_TEXT;
                        if ((n = this.getNative()) && n.rangeCount) {
                            if (1 == n.rangeCount) {
                                var n, r = (n = n.getRangeAt(0)).startContainer;
                                r == n.endContainer && 1 == r.nodeType && 1 == n.endOffset - n.startOffset && T[r.childNodes[n.startOffset].nodeName.toLowerCase()] && (t = CKEDITOR.SELECTION_ELEMENT)
                            }
                        } else t = CKEDITOR.SELECTION_NONE;
                        return e.type = t
                    },
                    getRanges: function() {
                        var e = f ? function() {
                            function e(e) {
                                return new CKEDITOR.dom.node(e).getIndex()
                            }
                            var t = function(t, n) {
                                (t = t.duplicate()).collapse(n);
                                var r = t.parentElement();
                                if (!r.hasChildNodes()) return {
                                    container: r,
                                    offset: 0
                                };
                                for (var i, o, a, s, l = r.children, c = t.duplicate(), u = 0, d = l.length - 1, h = -1; u <= d;)
                                    if (h = Math.floor((u + d) / 2), c.moveToElementText(i = l[h]), 0 < (a = c.compareEndPoints("StartToStart", t))) d = h - 1;
                                    else {
                                        if (!(0 > a)) return {
                                            container: r,
                                            offset: e(i)
                                        };
                                        u = h + 1
                                    }
                                if (-1 == h || h == l.length - 1 && 0 > a) {
                                    if (c.moveToElementText(r), c.setEndPoint("StartToStart", t), c = c.text.replace(/(\r\n|\r)/g, "\n").length, l = r.childNodes, !c) return (i = l[l.length - 1]).nodeType != CKEDITOR.NODE_TEXT ? {
                                        container: r,
                                        offset: l.length
                                    } : {
                                        container: i,
                                        offset: i.nodeValue.length
                                    };
                                    for (r = l.length; 0 < c && 0 < r;)(o = l[--r]).nodeType == CKEDITOR.NODE_TEXT && (s = o, c -= o.nodeValue.length);
                                    return {
                                        container: s,
                                        offset: -c
                                    }
                                }
                                if (c.collapse(0 < a), c.setEndPoint(0 < a ? "StartToStart" : "EndToStart", t), !(c = c.text.replace(/(\r\n|\r)/g, "\n").length)) return {
                                    container: r,
                                    offset: e(i) + (0 < a ? 0 : 1)
                                };
                                for (; 0 < c;) try {
                                    (o = i[0 < a ? "previousSibling" : "nextSibling"]).nodeType == CKEDITOR.NODE_TEXT && (c -= o.nodeValue.length, s = o), i = o
                                } catch (t) {
                                    return {
                                        container: r,
                                        offset: e(i)
                                    }
                                }
                                return {
                                    container: s,
                                    offset: 0 < a ? -c : s.nodeValue.length + c
                                }
                            };
                            return function() {
                                var e = (s = this.getNative()) && s.createRange(),
                                    n = this.getType();
                                if (!s) return [];
                                if (n == CKEDITOR.SELECTION_TEXT) return s = new CKEDITOR.dom.range(this.root), n = t(e, !0), s.setStart(new CKEDITOR.dom.node(n.container), n.offset), n = t(e), s.setEnd(new CKEDITOR.dom.node(n.container), n.offset), s.endContainer.getPosition(s.startContainer) & CKEDITOR.POSITION_PRECEDING && s.endOffset <= s.startContainer.getIndex() && s.collapse(), [s];
                                if (n == CKEDITOR.SELECTION_ELEMENT) {
                                    n = [];
                                    for (var r = 0; r < e.length; r++) {
                                        for (var i = e.item(r), o = i.parentNode, a = 0, s = new CKEDITOR.dom.range(this.root); a < o.childNodes.length && o.childNodes[a] != i; a++);
                                        s.setStart(new CKEDITOR.dom.node(o), a), s.setEnd(new CKEDITOR.dom.node(o), a + 1), n.push(s)
                                    }
                                    return n
                                }
                                return []
                            }
                        }() : function() {
                            var e, t = [],
                                n = this.getNative();
                            if (!n) return t;
                            for (var r = 0; r < n.rangeCount; r++) {
                                var i = n.getRangeAt(r);
                                (e = new CKEDITOR.dom.range(this.root)).setStart(new CKEDITOR.dom.node(i.startContainer), i.startOffset), e.setEnd(new CKEDITOR.dom.node(i.endContainer), i.endOffset), t.push(e)
                            }
                            return t
                        };
                        return function(t) {
                            var n = this._.cache,
                                r = n.ranges;
                            return r || (n.ranges = r = new CKEDITOR.dom.rangeList(e.call(this))), t ? function(e) {
                                for (var t = 0; t < e.length; t++) {
                                    var n = e[t];
                                    if (n.getCommonAncestor().isReadOnly() && e.splice(t, 1), !n.collapsed) {
                                        if (n.startContainer.isReadOnly())
                                            for (var r, i = n.startContainer; i && !((r = i.type == CKEDITOR.NODE_ELEMENT) && i.is("body") || !i.isReadOnly());) r && "false" == i.getAttribute("contentEditable") && n.setStartAfter(i), i = i.getParent();
                                        i = n.startContainer, r = n.endContainer;
                                        var o = n.startOffset,
                                            a = n.endOffset,
                                            s = n.clone();
                                        i && i.type == CKEDITOR.NODE_TEXT && (o >= i.getLength() ? s.setStartAfter(i) : s.setStartBefore(i)), r && r.type == CKEDITOR.NODE_TEXT && (a ? s.setEndAfter(r) : s.setEndBefore(r)), (i = new CKEDITOR.dom.walker(s)).evaluator = function(r) {
                                            if (r.type == CKEDITOR.NODE_ELEMENT && r.isReadOnly()) {
                                                var i = n.clone();
                                                return n.setEndBefore(r), n.collapsed && e.splice(t--, 1), r.getPosition(s.endContainer) & CKEDITOR.POSITION_CONTAINS || (i.setStartAfter(r), i.collapsed || e.splice(t + 1, 0, i)), !0
                                            }
                                            return !1
                                        }, i.next()
                                    }
                                }
                                return e
                            }(new CKEDITOR.dom.rangeList(r.slice())) : r
                        }
                    }(),
                    getStartElement: function() {
                        var e, t = this._.cache;
                        if (void 0 !== t.startElement) return t.startElement;
                        switch (this.getType()) {
                            case CKEDITOR.SELECTION_ELEMENT:
                                return this.getSelectedElement();
                            case CKEDITOR.SELECTION_TEXT:
                                var n = this.getRanges()[0];
                                if (n) {
                                    if (n.collapsed)(e = n.startContainer).type != CKEDITOR.NODE_ELEMENT && (e = e.getParent());
                                    else {
                                        for (n.optimize(); n.startOffset == ((e = n.startContainer).getChildCount ? e.getChildCount() : e.getLength()) && !e.isBlockBoundary();) n.setStartAfter(e);
                                        if ((e = n.startContainer).type != CKEDITOR.NODE_ELEMENT) return e.getParent();
                                        if ((e = e.getChild(n.startOffset)) && e.type == CKEDITOR.NODE_ELEMENT)
                                            for (n = e.getFirst(); n && n.type == CKEDITOR.NODE_ELEMENT;) e = n, n = n.getFirst();
                                        else e = n.startContainer
                                    }
                                    e = e.$
                                }
                        }
                        return t.startElement = e ? new CKEDITOR.dom.element(e) : null
                    },
                    getSelectedElement: function() {
                        var e = this._.cache;
                        if (void 0 !== e.selectedElement) return e.selectedElement;
                        var t = this,
                            n = CKEDITOR.tools.tryThese(function() {
                                return t.getNative().createRange().item(0)
                            }, function() {
                                for (var e, n, r = t.getRanges()[0].clone(), i = 2; i && !((e = r.getEnclosedNode()) && e.type == CKEDITOR.NODE_ELEMENT && T[e.getName()] && (n = e)); i--) r.shrink(CKEDITOR.SHRINK_ELEMENT);
                                return n && n.$
                            });
                        return e.selectedElement = n ? new CKEDITOR.dom.element(n) : null
                    },
                    getSelectedText: function() {
                        var e = this._.cache;
                        if (void 0 !== e.selectedText) return e.selectedText;
                        var t = this.getNative();
                        return t = f ? "Control" == t.type ? "" : t.createRange().text : t.toString(), e.selectedText = t
                    },
                    lock: function() {
                        this.getRanges(), this.getStartElement(), this.getSelectedElement(), this.getSelectedText(), this._.cache.nativeSel = null, this.isLocked = 1
                    },
                    unlock: function(e) {
                        if (this.isLocked) {
                            if (e) var r = this.getSelectedElement(),
                                i = this.getRanges(),
                                o = this.isFake;
                            this.isLocked = 0, this.reset(), e && (e = r || i[0] && i[0].getCommonAncestor()) && e.getAscendant("body", 1) && (t(i) ? n.call(this, i) : o ? this.fake(r) : r ? this.selectElement(r) : this.selectRanges(i))
                        }
                    },
                    reset: function() {
                        this._.cache = {}, this.isFake = 0;
                        var e = this.root.editor;
                        if (e && e._.fakeSelection)
                            if (this.rev == e._.fakeSelection.rev) {
                                delete e._.fakeSelection;
                                var t = e._.hiddenSelectionContainer;
                                if (t) {
                                    var n = e.checkDirty();
                                    e.fire("lockSnapshot"), t.remove(), e.fire("unlockSnapshot"), !n && e.resetDirty()
                                }
                                delete e._.hiddenSelectionContainer
                            } else CKEDITOR.warn("selection-fake-reset");
                        this.rev = m++
                    },
                    selectElement: function(e) {
                        var t = new CKEDITOR.dom.range(this.root);
                        t.setStartBefore(e), t.setEndAfter(e), this.selectRanges([t])
                    },
                    selectRanges: function(e) {
                        var r = this.root.editor,
                            i = r && r._.hiddenSelectionContainer;
                        if (this.reset(), i) {
                            i = this.root;
                            for (var o, a = 0; a < e.length; ++a)(o = e[a]).endContainer.equals(i) && (o.endOffset = Math.min(o.endOffset, i.getChildCount()))
                        }
                        if (e.length)
                            if (this.isLocked) {
                                var u = CKEDITOR.document.getActive();
                                this.unlock(), this.selectRanges(e), this.lock(), u && !u.equals(this.root) && u.focus()
                            } else {
                                var h, p, m;
                                if (1 == e.length && !(m = e[0]).collapsed && (h = m.getEnclosedNode()) && h.type == CKEDITOR.NODE_ELEMENT && ((m = m.clone()).shrink(CKEDITOR.SHRINK_ELEMENT, !0), (p = m.getEnclosedNode()) && p.type == CKEDITOR.NODE_ELEMENT && (h = p), "false" == h.getAttribute("contenteditable")) || (h = void 0), h) this.fake(h);
                                else if (r && r.plugins.tableselection && CKEDITOR.plugins.tableselection.isSupportedEnvironment && t(e) && !d) n.call(this, e);
                                else {
                                    if (f) {
                                        var g, E, b;
                                        if (p = CKEDITOR.dom.walker.whitespaces(!0), h = /\ufeff|\u00a0/, m = {
                                                table: 1,
                                                tbody: 1,
                                                tr: 1
                                            }, 1 < e.length && e[0].setEnd((r = e[e.length - 1]).endContainer, r.endOffset), e = (r = e[0]).collapsed, (i = r.getEnclosedNode()) && i.type == CKEDITOR.NODE_ELEMENT && i.getName() in T && (!i.is("a") || !i.getText())) try {
                                            return (b = i.$.createControlRange()).addElement(i.$), void b.select()
                                        } catch (e) {}(r.startContainer.type == CKEDITOR.NODE_ELEMENT && r.startContainer.getName() in m || r.endContainer.type == CKEDITOR.NODE_ELEMENT && r.endContainer.getName() in m) && (r.shrink(CKEDITOR.NODE_ELEMENT, !0), e = r.collapsed), m = (b = r.createBookmark()).startNode, e || (u = b.endNode), (b = r.document.$.body.createTextRange()).moveToElementText(m.$), b.moveStart("character", 1), u ? ((h = r.document.$.body.createTextRange()).moveToElementText(u.$), b.setEndPoint("EndToEnd", h), b.moveEnd("character", -1)) : (g = m.getNext(p), E = m.hasAscendant("pre"), g = !(g && g.getText && g.getText().match(h)) && (E || !m.hasPrevious() || m.getPrevious().is && m.getPrevious().is("br")), (E = r.document.createElement("span")).setHtml("&#65279;"), E.insertBefore(m), g && r.document.createText("\ufeff").insertBefore(m)), r.setStartBefore(m), m.remove(), e ? (g ? (b.moveStart("character", -1), b.select(), r.document.$.selection.clear()) : b.select(), r.moveToPosition(E, CKEDITOR.POSITION_BEFORE_START), E.remove()) : (r.setEndBefore(u), u.remove(), b.select())
                                    } else {
                                        if (!(u = this.getNative())) return;
                                        for (this.removeAllRanges(), b = 0; b < e.length; b++)
                                            if (b < e.length - 1 && (E = e[b + 1], (h = (g = e[b]).clone()).setStart(g.endContainer, g.endOffset), h.setEnd(E.startContainer, E.startOffset), !h.collapsed && (h.shrink(CKEDITOR.NODE_ELEMENT, !0), r = h.getCommonAncestor(), h = h.getEnclosedNode(), r.isReadOnly() || h && h.isReadOnly()))) E.setStart(g.startContainer, g.startOffset), e.splice(b--, 1);
                                            else {
                                                r = e[b], E = this.document.$.createRange(), r.collapsed && CKEDITOR.env.webkit && s(r) && (h = l(this.root), r.insertNode(h), (g = h.getNext()) && !h.getPrevious() && g.type == CKEDITOR.NODE_ELEMENT && "br" == g.getName() ? (c(this.root), r.moveToPosition(g, CKEDITOR.POSITION_BEFORE_START)) : r.moveToPosition(h, CKEDITOR.POSITION_AFTER_END)), E.setStart(r.startContainer.$, r.startOffset);
                                                try {
                                                    E.setEnd(r.endContainer.$, r.endOffset)
                                                } catch (e) {
                                                    if (!(0 <= e.toString().indexOf("NS_ERROR_ILLEGAL_VALUE"))) throw e;
                                                    r.collapse(1), E.setEnd(r.endContainer.$, r.endOffset)
                                                }
                                                u.addRange(E)
                                            }
                                    }
                                    this.reset(), this.root.fire("selectionchange")
                                }
                            }
                    },
                    fake: function(e, t) {
                        var n = this.root.editor;
                        void 0 === t && e.hasAttribute("aria-label") && (t = e.getAttribute("aria-label")), this.reset(),
                            function(e, t) {
                                var n = t && CKEDITOR.tools.htmlEncode(t) || "&nbsp;";
                                n = CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="' + (CKEDITOR.env.ie && 14 > CKEDITOR.env.version ? "display:none" : "position:fixed;top:0;left:-1000px") + '">' + n + "</div>", e.document), e.fire("lockSnapshot"), e.editable().append(n);
                                var r = e.getSelection(1),
                                    i = e.createRange(),
                                    o = r.root.on("selectionchange", function(e) {
                                        e.cancel()
                                    }, null, null, 0);
                                i.setStartAt(n, CKEDITOR.POSITION_AFTER_START), i.setEndAt(n, CKEDITOR.POSITION_BEFORE_END), r.selectRanges([i]), o.removeListener(), e.fire("unlockSnapshot"), e._.hiddenSelectionContainer = n
                            }(n, t);
                        var r = this._.cache,
                            i = new CKEDITOR.dom.range(this.root);
                        i.setStartBefore(e), i.setEndAfter(e), r.ranges = new CKEDITOR.dom.rangeList(i), r.selectedElement = r.startElement = e, r.type = CKEDITOR.SELECTION_ELEMENT, r.selectedText = r.nativeSel = null, this.isFake = 1, this.rev = m++, n._.fakeSelection = this, this.root.fire("selectionchange")
                    },
                    isHidden: function() {
                        var e = this.getCommonAncestor();
                        return e && e.type == CKEDITOR.NODE_TEXT && (e = e.getParent()), !(!e || !e.data("cke-hidden-sel"))
                    },
                    isInTable: function(e) {
                        return t(this.getRanges(), e)
                    },
                    isCollapsed: function() {
                        var e = this.getRanges();
                        return 1 === e.length && e[0].collapsed
                    },
                    createBookmarks: function(e) {
                        return e = this.getRanges().createBookmarks(e), this.isFake && (e.isFake = 1), e
                    },
                    createBookmarks2: function(e) {
                        return e = this.getRanges().createBookmarks2(e), this.isFake && (e.isFake = 1), e
                    },
                    selectBookmarks: function(e) {
                        for (var n, r = [], i = 0; i < e.length; i++) {
                            var o = new CKEDITOR.dom.range(this.root);
                            o.moveToBookmark(e[i]), r.push(o)
                        }
                        return e.isFake && ((n = t(r) ? r[0]._getTableElement() : r[0].getEnclosedNode()) && n.type == CKEDITOR.NODE_ELEMENT || (CKEDITOR.warn("selection-not-fake"), e.isFake = 0)), e.isFake && !t(r) ? this.fake(n) : this.selectRanges(r), this
                    },
                    getCommonAncestor: function() {
                        var e = this.getRanges();
                        return e.length ? e[0].startContainer.getCommonAncestor(e[e.length - 1].endContainer) : null
                    },
                    scrollIntoView: function() {
                        this.type != CKEDITOR.SELECTION_NONE && this.getRanges()[0].scrollIntoView()
                    },
                    removeAllRanges: function() {
                        if (this.getType() != CKEDITOR.SELECTION_NONE) {
                            var e = this.getNative();
                            try {
                                e && e[f ? "empty" : "removeAllRanges"]()
                            } catch (e) {}
                            this.reset()
                        }
                    }
                }
            }(), CKEDITOR.STYLE_BLOCK = 1, CKEDITOR.STYLE_INLINE = 2, CKEDITOR.STYLE_OBJECT = 3, function() {
                function e(e, t) {
                    for (var n, r;
                        (e = e.getParent()) && !e.equals(t);)
                        if (e.getAttribute("data-nostyle")) n = e;
                        else if (!r) {
                        var i = e.getAttribute("contentEditable");
                        "false" == i ? n = e : "true" == i && (r = 1)
                    }
                    return n
                }

                function t(e, t, n, r) {
                    return (e.getPosition(t) | r) == r && (!n.childRule || n.childRule(e))
                }

                function n(r) {
                    var o = r.document;
                    if (r.collapsed) o = m(this, o), r.insertNode(o), r.moveToPosition(o, CKEDITOR.POSITION_BEFORE_END);
                    else {
                        var a, s = this.element,
                            l = this._.definition,
                            c = (b = l.ignoreReadonly) || l.includeReadonly;
                        null == c && (c = r.root.getCustomData("cke_includeReadonly"));
                        var u = CKEDITOR.dtd[s];
                        u || (a = !0, u = CKEDITOR.dtd.span), r.enlarge(CKEDITOR.ENLARGE_INLINE, 1), r.trim();
                        var d, p = r.createBookmark(),
                            f = p.startNode,
                            g = p.endNode,
                            E = f;
                        if (!b) {
                            var b = e(f, v = r.getCommonAncestor()),
                                v = e(g, v);
                            b && (E = b.getNextSourceNode(!0)), v && (g = v)
                        }
                        for (E.getPosition(g) == CKEDITOR.POSITION_FOLLOWING && (E = 0); E;) {
                            if (b = !1, E.equals(g)) E = null, b = !0;
                            else {
                                v = (D = E.type == CKEDITOR.NODE_ELEMENT ? E.getName() : null) && "false" == E.getAttribute("contentEditable");
                                var T = D && E.getAttribute("data-nostyle");
                                if (D && E.data("cke-bookmark")) {
                                    E = E.getNextSourceNode(!0);
                                    continue
                                }
                                if (v && c && CKEDITOR.dtd.$block[D])
                                    for (var y = void 0, C = 0, k = (L = (F = i(k = E)).length) && new CKEDITOR.dom.range(k.getDocument()); C < L; ++C) {
                                        y = F[C];
                                        var w = CKEDITOR.filter.instances[y.data("cke-filter")];
                                        w && !w.check(this) || (k.selectNodeContents(y), n.call(this, k))
                                    }
                                if (F = D ? !u[D] || T ? 0 : v && !c ? 0 : t(E, g, l, O) : 1) {
                                    if (F = l, L = s, C = a, !(y = E.getParent()) || !(y.getDtd() || CKEDITOR.dtd.span)[L] && !C || F.parentRule && !F.parentRule(y)) b = !0;
                                    else if (d || D && CKEDITOR.dtd.$removeEmpty[D] && (E.getPosition(g) | O) != O || (d = r.clone()).setStartBefore(E), (D = E.type) == CKEDITOR.NODE_TEXT || v || D == CKEDITOR.NODE_ELEMENT && !E.getChildCount()) {
                                        for (var _, D = E;
                                            (b = !D.getNext(x)) && u[(_ = D.getParent()).getName()] && t(_, f, l, R);) D = _;
                                        d.setEndAfter(D)
                                    }
                                } else b = !0;
                                E = E.getNextSourceNode(T || v)
                            }
                            if (b && d && !d.collapsed) {
                                v = (b = m(this, o)).hasAttributes(), T = d.getCommonAncestor(), D = {};
                                for (var I, S, A, F = {}, L = (y = {}, {}); b && T;) {
                                    if (T.getName() == s) {
                                        for (I in l.attributes) !L[I] && (A = T.getAttribute(S)) && (b.getAttribute(I) == A ? F[I] = 1 : L[I] = 1);
                                        for (S in l.styles) !y[S] && (A = T.getStyle(S)) && (b.getStyle(S) == A ? D[S] = 1 : y[S] = 1)
                                    }
                                    T = T.getParent()
                                }
                                for (I in F) b.removeAttribute(I);
                                for (S in D) b.removeStyle(S);
                                v && !b.hasAttributes() && (b = null), b ? (d.extractContents().appendTo(b), d.insertNode(b), h.call(this, b), b.mergeSiblings(), CKEDITOR.env.ie || b.$.normalize()) : (b = new CKEDITOR.dom.element("span"), d.extractContents().appendTo(b), d.insertNode(b), h.call(this, b), b.remove(!0)), d = null
                            }
                        }
                        r.moveToBookmark(p), r.shrink(CKEDITOR.SHRINK_TEXT), r.shrink(CKEDITOR.NODE_ELEMENT, !0)
                    }
                }

                function r(e) {
                    function t() {
                        for (var e = new CKEDITOR.dom.elementPath(r.getParent()), t = new CKEDITOR.dom.elementPath(u.getParent()), n = null, i = null, o = 0; o < e.elements.length; o++) {
                            var a = e.elements[o];
                            if (a == e.block || a == e.blockLimit) break;
                            h.checkElementRemovable(a, !0) && (n = a)
                        }
                        for (o = 0; o < t.elements.length && (a = t.elements[o]) != t.block && a != t.blockLimit; o++) h.checkElementRemovable(a, !0) && (i = a);
                        i && u.breakParent(i), n && r.breakParent(n)
                    }
                    e.enlarge(CKEDITOR.ENLARGE_INLINE, 1);
                    var n = e.createBookmark(),
                        r = n.startNode,
                        i = this._.definition.alwaysRemoveElement;
                    if (e.collapsed) {
                        for (var o, a, s = new CKEDITOR.dom.elementPath(r.getParent(), e.root), l = 0; l < s.elements.length && (a = s.elements[l]) && a != s.block && a != s.blockLimit; l++)
                            if (this.checkElementRemovable(a)) {
                                var c;
                                !i && e.collapsed && (e.checkBoundaryOfElement(a, CKEDITOR.END) || (c = e.checkBoundaryOfElement(a, CKEDITOR.START))) ? (o = a).match = c ? "start" : "end" : (a.mergeSiblings(), a.is(this.element) ? d.call(this, a) : p(a, b(this)[a.getName()]))
                            }
                        if (o) {
                            for (i = r, l = 0; !(a = s.elements[l]).equals(o); l++) a.match || ((a = a.clone()).append(i), i = a);
                            i["start" == o.match ? "insertBefore" : "insertAfter"](o)
                        }
                    } else {
                        var u = n.endNode,
                            h = this;
                        for (t(), s = r; !s.equals(u);) o = s.getNextSourceNode(), s.type == CKEDITOR.NODE_ELEMENT && this.checkElementRemovable(s) && (s.getName() == this.element ? d.call(this, s) : p(s, b(this)[s.getName()]), o.type == CKEDITOR.NODE_ELEMENT && o.contains(r) && (t(), o = r.getNext())), s = o
                    }
                    e.moveToBookmark(n), e.shrink(CKEDITOR.NODE_ELEMENT, !0)
                }

                function i(e) {
                    var t = [];
                    return e.forEach(function(e) {
                        if ("true" == e.getAttribute("contenteditable")) return t.push(e), !1
                    }, CKEDITOR.NODE_ELEMENT, !0), t
                }

                function o(e) {
                    var t = e.getEnclosedNode() || e.getCommonAncestor(!1, !0);
                    (e = new CKEDITOR.dom.elementPath(t, e.root).contains(this.element, 1)) && !e.isReadOnly() && g(e, this)
                }

                function a(e) {
                    var t = e.getCommonAncestor(!0, !0);
                    if (e = new CKEDITOR.dom.elementPath(t, e.root).contains(this.element, 1)) {
                        var n = (t = this._.definition).attributes;
                        if (n)
                            for (var r in n) e.removeAttribute(r, n[r]);
                        if (t.styles)
                            for (var i in t.styles) t.styles.hasOwnProperty(i) && e.removeStyle(i)
                    }
                }

                function s(e) {
                    var t = e.createBookmark(!0),
                        n = e.createIterator();
                    n.enforceRealBlocks = !0, this._.enterMode && (n.enlargeBr = this._.enterMode != CKEDITOR.ENTER_BR);
                    for (var r, i = e.document; r = n.getNextParagraph();) !r.isReadOnly() && (!n.activeFilter || n.activeFilter.check(this)) && c(r, m(this, i, r));
                    e.moveToBookmark(t)
                }

                function l(e) {
                    var t, n, r = e.createBookmark(1),
                        i = e.createIterator();
                    for (i.enforceRealBlocks = !0, i.enlargeBr = this._.enterMode != CKEDITOR.ENTER_BR; t = i.getNextParagraph();) this.checkElementRemovable(t) && (t.is("pre") ? ((n = this._.enterMode == CKEDITOR.ENTER_BR ? null : e.document.createElement(this._.enterMode == CKEDITOR.ENTER_P ? "p" : "div")) && t.copyAttributes(n), c(t, n)) : d.call(this, t));
                    e.moveToBookmark(r)
                }

                function c(e, t) {
                    (n = !t) && (t = e.getDocument().createElement("div"), e.copyAttributes(t));
                    var n, r, i = t && t.is("pre"),
                        o = e.is("pre"),
                        a = !i && o;
                    if (i && !o) {
                        if (o = t, (a = e.getBogus()) && a.remove(), a = (a = (a = (a = u(a = e.getHtml(), /(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g, "")).replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi, "$1")).replace(/([ \t\n\r]+|&nbsp;)/g, " ")).replace(/<br\b[^>]*>/gi, "\n"), CKEDITOR.env.ie) {
                            var s = e.getDocument().createElement("div");
                            s.append(o), o.$.outerHTML = "<pre>" + a + "</pre>", o.copyAttributes(s.getFirst()), o = s.getFirst().remove()
                        } else o.setHtml(a);
                        t = o
                    } else a ? t = function(e, t) {
                        var n;
                        1 < e.length && (n = new CKEDITOR.dom.documentFragment(t.getDocument()));
                        for (var r = 0; r < e.length; r++) {
                            var i = (i = (i = u(i = u(i = u(i = (i = e[r]).replace(/(\r\n|\r)/g, "\n"), /^[ \t]*\n/, ""), /\n$/, ""), /^[ \t]+|[ \t]+$/g, function(e, t) {
                                return 1 == e.length ? "&nbsp;" : t ? " " + CKEDITOR.tools.repeat("&nbsp;", e.length - 1) : CKEDITOR.tools.repeat("&nbsp;", e.length - 1) + " "
                            })).replace(/\n/g, "<br>")).replace(/[ \t]{2,}/g, function(e) {
                                return CKEDITOR.tools.repeat("&nbsp;", e.length - 1) + " "
                            });
                            if (n) {
                                var o = t.clone();
                                o.setHtml(i), n.append(o)
                            } else t.setHtml(i)
                        }
                        return n || t
                    }(n ? [e.getHtml()] : function(e) {
                        var t = [];
                        return u(e.getOuterHtml(), /(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi, function(e, t, n) {
                            return t + "</pre>" + n + "<pre>"
                        }).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi, function(e, n) {
                            t.push(n)
                        }), t
                    }(e), t) : e.moveChildren(t);
                    t.replace(e), i ? (r = (n = t).getPrevious(D)) && r.type == CKEDITOR.NODE_ELEMENT && r.is("pre") && (i = u(r.getHtml(), /\n$/, "") + "\n\n" + u(n.getHtml(), /^\n/, ""), CKEDITOR.env.ie ? n.$.outerHTML = "<pre>" + i + "</pre>" : n.setHtml(i), r.remove()) : n && f(t)
                }

                function u(e, t, n) {
                    var r = "",
                        i = "";
                    return e = e.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi, function(e, t, n) {
                        return t && (r = t), n && (i = n), ""
                    }), r + e.replace(t, n) + i
                }

                function d(e, t) {
                    var n, r = (i = this._.definition).attributes,
                        i = i.styles,
                        o = b(this)[e.getName()],
                        a = CKEDITOR.tools.isEmpty(r) && CKEDITOR.tools.isEmpty(i);
                    for (n in r)("class" != n && !this._.definition.fullMatch || e.getAttribute(n) == v(n, r[n])) && (t && "data-" == n.slice(0, 5) || (a = e.hasAttribute(n), e.removeAttribute(n)));
                    for (var s in i) this._.definition.fullMatch && e.getStyle(s) != v(s, i[s], !0) || (a = a || !!e.getStyle(s), e.removeStyle(s));
                    p(e, o, C[e.getName()]), a && (this._.definition.alwaysRemoveElement ? f(e, 1) : !CKEDITOR.dtd.$block[e.getName()] || this._.enterMode == CKEDITOR.ENTER_BR && !e.hasAttributes() ? f(e) : e.renameNode(this._.enterMode == CKEDITOR.ENTER_P ? "p" : "div"))
                }

                function h(e) {
                    for (var t, n = b(this), r = e.getElementsByTag(this.element), i = r.count(); 0 <= --i;)(t = r.getItem(i)).isReadOnly() || d.call(this, t, !0);
                    for (var o in n)
                        if (o != this.element)
                            for (i = (r = e.getElementsByTag(o)).count() - 1; 0 <= i; i--)(t = r.getItem(i)).isReadOnly() || p(t, n[o])
                }

                function p(e, t, n) {
                    if (t = t && t.attributes)
                        for (var r = 0; r < t.length; r++) {
                            var i, o = t[r][0];
                            if (i = e.getAttribute(o)) {
                                var a = t[r][1];
                                (null === a || a.test && a.test(i) || "string" == typeof a && i == a) && e.removeAttribute(o)
                            }
                        }
                    n || f(e)
                }

                function f(e, t) {
                    if (!e.hasAttributes() || t)
                        if (CKEDITOR.dtd.$block[e.getName()]) {
                            var n = e.getPrevious(D),
                                r = e.getNext(D);
                            !n || n.type != CKEDITOR.NODE_TEXT && n.isBlockBoundary({
                                br: 1
                            }) || e.append("br", 1), !r || r.type != CKEDITOR.NODE_TEXT && r.isBlockBoundary({
                                br: 1
                            }) || e.append("br"), e.remove(!0)
                        } else n = e.getFirst(), r = e.getLast(), e.remove(!0), n && (n.type == CKEDITOR.NODE_ELEMENT && n.mergeSiblings(), r && !n.equals(r) && r.type == CKEDITOR.NODE_ELEMENT && r.mergeSiblings())
                }

                function m(e, t, n) {
                    var r;
                    return "*" == (r = e.element) && (r = "span"), r = new CKEDITOR.dom.element(r, t), n && n.copyAttributes(r), r = g(r, e), t.getCustomData("doc_processing_style") && r.hasAttribute("id") ? r.removeAttribute("id") : t.setCustomData("doc_processing_style", 1), r
                }

                function g(e, t) {
                    var n = (r = t._.definition).attributes,
                        r = CKEDITOR.style.getStyleText(r);
                    if (n)
                        for (var i in n) e.setAttribute(i, n[i]);
                    return r && e.setAttribute("style", r), e
                }

                function E(e, t) {
                    for (var n in e) e[n] = e[n].replace(_, function(e, n) {
                        return t[n]
                    })
                }

                function b(e) {
                    if (e._.overrides) return e._.overrides;
                    var t = e._.overrides = {},
                        n = e._.definition.overrides;
                    if (n) {
                        CKEDITOR.tools.isArray(n) || (n = [n]);
                        for (var r = 0; r < n.length; r++) {
                            var i, o;
                            if ("string" == typeof(s = n[r]) ? i = s.toLowerCase() : (i = s.element ? s.element.toLowerCase() : e.element, o = s.attributes), s = t[i] || (t[i] = {}), o) {
                                var a, s = s.attributes = s.attributes || [];
                                for (a in o) s.push([a.toLowerCase(), o[a]])
                            }
                        }
                    }
                    return t
                }

                function v(e, t, n) {
                    var r = new CKEDITOR.dom.element("span");
                    return r[n ? "setStyle" : "setAttribute"](e, t), r[n ? "getStyle" : "getAttribute"](e)
                }

                function T(e, t) {
                    function n(e, t) {
                        return "font-family" == t.toLowerCase() ? e.replace(/["']/g, "") : e
                    }
                    for (var r in "string" == typeof e && (e = CKEDITOR.tools.parseCssText(e)), "string" == typeof t && (t = CKEDITOR.tools.parseCssText(t, !0)), e)
                        if (!(r in t) || n(t[r], r) != n(e[r], r) && "inherit" != e[r] && "inherit" != t[r]) return !1;
                    return !0
                }

                function y(e, t, n) {
                    var r, i, o = e.document,
                        a = e.getRanges();
                    if (t = t ? this.removeFromRange : this.applyToRange, e.isFake && e.isInTable())
                        for (r = [], i = 0; i < a.length; i++) r.push(a[i].clone());
                    for (var s = a.createIterator(); i = s.getNextRange();) t.call(this, i, n);
                    e.selectRanges(r || a), o.removeCustomData("doc_processing_style")
                }
                var C = {
                        address: 1,
                        div: 1,
                        h1: 1,
                        h2: 1,
                        h3: 1,
                        h4: 1,
                        h5: 1,
                        h6: 1,
                        p: 1,
                        pre: 1,
                        section: 1,
                        header: 1,
                        footer: 1,
                        nav: 1,
                        article: 1,
                        aside: 1,
                        figure: 1,
                        dialog: 1,
                        hgroup: 1,
                        time: 1,
                        meter: 1,
                        menu: 1,
                        command: 1,
                        keygen: 1,
                        output: 1,
                        progress: 1,
                        details: 1,
                        datagrid: 1,
                        datalist: 1
                    },
                    k = {
                        a: 1,
                        blockquote: 1,
                        embed: 1,
                        hr: 1,
                        img: 1,
                        li: 1,
                        object: 1,
                        ol: 1,
                        table: 1,
                        td: 1,
                        tr: 1,
                        th: 1,
                        ul: 1,
                        dl: 1,
                        dt: 1,
                        dd: 1,
                        form: 1,
                        audio: 1,
                        video: 1
                    },
                    w = /\s*(?:;\s*|$)/,
                    _ = /#\((.+?)\)/g,
                    x = CKEDITOR.dom.walker.bookmark(0, 1),
                    D = CKEDITOR.dom.walker.whitespaces(1);
                CKEDITOR.style = function(e, t) {
                    if ("string" == typeof e.type) return new CKEDITOR.style.customHandlers[e.type](e);
                    var n = e.attributes;
                    n && n.style && (e.styles = CKEDITOR.tools.extend({}, e.styles, CKEDITOR.tools.parseCssText(n.style)), delete n.style), t && (E((e = CKEDITOR.tools.clone(e)).attributes, t), E(e.styles, t)), n = this.element = e.element ? "string" == typeof e.element ? e.element.toLowerCase() : e.element : "*", this.type = e.type || (C[n] ? CKEDITOR.STYLE_BLOCK : k[n] ? CKEDITOR.STYLE_OBJECT : CKEDITOR.STYLE_INLINE), "object" == typeof this.element && (this.type = CKEDITOR.STYLE_OBJECT), this._ = {
                        definition: e
                    }
                }, CKEDITOR.style.prototype = {
                    apply: function(e) {
                        if (e instanceof CKEDITOR.dom.document) return y.call(this, e.getSelection());
                        if (this.checkApplicable(e.elementPath(), e)) {
                            var t = this._.enterMode;
                            t || (this._.enterMode = e.activeEnterMode), y.call(this, e.getSelection(), 0, e), this._.enterMode = t
                        }
                    },
                    remove: function(e) {
                        if (e instanceof CKEDITOR.dom.document) return y.call(this, e.getSelection(), 1);
                        if (this.checkApplicable(e.elementPath(), e)) {
                            var t = this._.enterMode;
                            t || (this._.enterMode = e.activeEnterMode), y.call(this, e.getSelection(), 1, e), this._.enterMode = t
                        }
                    },
                    applyToRange: function(e) {
                        return this.applyToRange = this.type == CKEDITOR.STYLE_INLINE ? n : this.type == CKEDITOR.STYLE_BLOCK ? s : this.type == CKEDITOR.STYLE_OBJECT ? o : null, this.applyToRange(e)
                    },
                    removeFromRange: function(e) {
                        return this.removeFromRange = this.type == CKEDITOR.STYLE_INLINE ? r : this.type == CKEDITOR.STYLE_BLOCK ? l : this.type == CKEDITOR.STYLE_OBJECT ? a : null, this.removeFromRange(e)
                    },
                    applyToObject: function(e) {
                        g(e, this)
                    },
                    checkActive: function(e, t) {
                        switch (this.type) {
                            case CKEDITOR.STYLE_BLOCK:
                                return this.checkElementRemovable(e.block || e.blockLimit, !0, t);
                            case CKEDITOR.STYLE_OBJECT:
                            case CKEDITOR.STYLE_INLINE:
                                for (var n, r = e.elements, i = 0; i < r.length; i++)
                                    if (n = r[i], this.type != CKEDITOR.STYLE_INLINE || n != e.block && n != e.blockLimit) {
                                        if (this.type == CKEDITOR.STYLE_OBJECT) {
                                            var o = n.getName();
                                            if (!("string" == typeof this.element ? o == this.element : o in this.element)) continue
                                        }
                                        if (this.checkElementRemovable(n, !0, t)) return !0
                                    }
                        }
                        return !1
                    },
                    checkApplicable: function(e, t, n) {
                        if (t && t instanceof CKEDITOR.filter && (n = t), n && !n.check(this)) return !1;
                        switch (this.type) {
                            case CKEDITOR.STYLE_OBJECT:
                                return !!e.contains(this.element);
                            case CKEDITOR.STYLE_BLOCK:
                                return !!e.blockLimit.getDtd()[this.element]
                        }
                        return !0
                    },
                    checkElementMatch: function(e, t) {
                        var n = this._.definition;
                        if (!e || !n.ignoreReadonly && e.isReadOnly()) return !1;
                        var r = e.getName();
                        if ("string" == typeof this.element ? r == this.element : r in this.element) {
                            if (!t && !e.hasAttributes()) return !0;
                            if (r = n._AC) n = r;
                            else {
                                r = {};
                                var i = 0,
                                    o = n.attributes;
                                if (o)
                                    for (var a in o) i++, r[a] = o[a];
                                (a = CKEDITOR.style.getStyleText(n)) && (r.style || i++, r.style = a), r._length = i, n = n._AC = r
                            }
                            if (!n._length) return !0;
                            for (var s in n)
                                if ("_length" != s)
                                    if (r = e.getAttribute(s) || "", "style" == s ? T(n[s], r) : n[s] == r) {
                                        if (!t) return !0
                                    } else if (t) return !1;
                            if (t) return !0
                        }
                        return !1
                    },
                    checkElementRemovable: function(e, t, n) {
                        if (this.checkElementMatch(e, t, n)) return !0;
                        if (t = b(this)[e.getName()]) {
                            var r;
                            if (!(t = t.attributes)) return !0;
                            for (n = 0; n < t.length; n++)
                                if (r = e.getAttribute(r = t[n][0])) {
                                    var i = t[n][1];
                                    if (null === i) return !0;
                                    if ("string" == typeof i) {
                                        if (r == i) return !0
                                    } else if (i.test(r)) return !0
                                }
                        }
                        return !1
                    },
                    buildPreview: function(e) {
                        var t = this._.definition,
                            n = [],
                            r = t.element;
                        "bdo" == r && (r = "span"), n = ["<", r];
                        var i = t.attributes;
                        if (i)
                            for (var o in i) n.push(" ", o, '="', i[o], '"');
                        return (i = CKEDITOR.style.getStyleText(t)) && n.push(' style="', i, '"'), n.push(">", e || t.name, "</", r, ">"), n.join("")
                    },
                    getDefinition: function() {
                        return this._.definition
                    }
                }, CKEDITOR.style.getStyleText = function(e) {
                    if (t = e._ST) return t;
                    var t = e.styles,
                        n = e.attributes && e.attributes.style || "",
                        r = "";
                    for (var i in n.length && (n = n.replace(w, ";")), t) {
                        var o = t[i],
                            a = (i + ":" + o).replace(w, ";");
                        "inherit" == o ? r += a : n += a
                    }
                    return n.length && (n = CKEDITOR.tools.normalizeCssText(n, !0)), e._ST = n + r
                }, CKEDITOR.style.customHandlers = {}, CKEDITOR.style.addCustomHandler = function(e) {
                    var t = function(e) {
                        this._ = {
                            definition: e
                        }, this.setup && this.setup(e)
                    };
                    return t.prototype = CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype), {
                        assignedTo: CKEDITOR.STYLE_OBJECT
                    }, e, !0), this.customHandlers[e.type] = t
                };
                var O = CKEDITOR.POSITION_PRECEDING | CKEDITOR.POSITION_IDENTICAL | CKEDITOR.POSITION_IS_CONTAINED,
                    R = CKEDITOR.POSITION_FOLLOWING | CKEDITOR.POSITION_IDENTICAL | CKEDITOR.POSITION_IS_CONTAINED
            }(), CKEDITOR.styleCommand = function(e, t) {
                this.requiredContent = this.allowedContent = this.style = e, CKEDITOR.tools.extend(this, t, !0)
            }, CKEDITOR.styleCommand.prototype.exec = function(e) {
                e.focus(), this.state == CKEDITOR.TRISTATE_OFF ? e.applyStyle(this.style) : this.state == CKEDITOR.TRISTATE_ON && e.removeStyle(this.style)
            }, CKEDITOR.stylesSet = new CKEDITOR.resourceManager("", "stylesSet"), CKEDITOR.addStylesSet = CKEDITOR.tools.bind(CKEDITOR.stylesSet.add, CKEDITOR.stylesSet), CKEDITOR.loadStylesSet = function(e, t, n) {
                CKEDITOR.stylesSet.addExternal(e, t, ""), CKEDITOR.stylesSet.load(e, n)
            }, CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                attachStyleStateChange: function(e, t) {
                    var n = this._.styleStateChangeCallbacks;
                    n || (n = this._.styleStateChangeCallbacks = [], this.on("selectionChange", function(e) {
                        for (var t = 0; t < n.length; t++) {
                            var r = n[t],
                                i = r.style.checkActive(e.data.path, this) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF;
                            r.fn.call(this, i)
                        }
                    })), n.push({
                        style: e,
                        fn: t
                    })
                },
                applyStyle: function(e) {
                    e.apply(this)
                },
                removeStyle: function(e) {
                    e.remove(this)
                },
                getStylesSet: function(e) {
                    if (this._.stylesDefinitions) e(this._.stylesDefinitions);
                    else {
                        var t = this;
                        if (!1 === (n = t.config.stylesCombo_stylesSet || t.config.stylesSet)) e(null);
                        else if (n instanceof Array) t._.stylesDefinitions = n, e(n);
                        else {
                            n || (n = "default");
                            var n, r = (n = n.split(":"))[0];
                            CKEDITOR.stylesSet.addExternal(r, n[1] ? n.slice(1).join(":") : CKEDITOR.getUrl("styles.js"), ""), CKEDITOR.stylesSet.load(r, function(n) {
                                t._.stylesDefinitions = n[r], e(t._.stylesDefinitions)
                            })
                        }
                    }
                }
            }), CKEDITOR.dom.comment = function(e, t) {
                "string" == typeof e && (e = (t ? t.$ : document).createComment(e)), CKEDITOR.dom.domObject.call(this, e)
            }, CKEDITOR.dom.comment.prototype = new CKEDITOR.dom.node, CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype, {
                type: CKEDITOR.NODE_COMMENT,
                getOuterHtml: function() {
                    return "\x3c!--" + this.$.nodeValue + "--\x3e"
                }
            }), function() {
                var e, t = {},
                    n = {};
                for (e in CKEDITOR.dtd.$blockLimit) e in CKEDITOR.dtd.$list || (t[e] = 1);
                for (e in CKEDITOR.dtd.$block) e in CKEDITOR.dtd.$blockLimit || e in CKEDITOR.dtd.$empty || (n[e] = 1);
                CKEDITOR.dom.elementPath = function(e, r) {
                    var i, o = null,
                        a = null,
                        s = [],
                        l = e;
                    r = r || e.getDocument().getBody(), l || (l = r);
                    do {
                        if (l.type == CKEDITOR.NODE_ELEMENT) {
                            if (s.push(l), !this.lastElement && (this.lastElement = l, l.is(CKEDITOR.dtd.$object) || "false" == l.getAttribute("contenteditable"))) continue;
                            if (l.equals(r)) break;
                            if (!a && (i = l.getName(), "true" == l.getAttribute("contenteditable") ? a = l : !o && n[i] && (o = l), t[i])) {
                                if (i = !o && "div" == i) {
                                    e: {
                                        for (var c = 0, u = (i = l.getChildren()).count(); c < u; c++) {
                                            var d = i.getItem(c);
                                            if (d.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$block[d.getName()]) {
                                                i = !0;
                                                break e
                                            }
                                        }
                                        i = !1
                                    }
                                    i = !i
                                }
                                i ? o = l : a = l
                            }
                        }
                    } while (l = l.getParent());
                    a || (a = r), this.block = o, this.blockLimit = a, this.root = r, this.elements = s
                }
            }(), CKEDITOR.dom.elementPath.prototype = {
                compare: function(e) {
                    var t = this.elements;
                    if (!(e = e && e.elements) || t.length != e.length) return !1;
                    for (var n = 0; n < t.length; n++)
                        if (!t[n].equals(e[n])) return !1;
                    return !0
                },
                contains: function(e, t, n) {
                    var r, i = 0;
                    "string" == typeof e && (r = function(t) {
                        return t.getName() == e
                    }), e instanceof CKEDITOR.dom.element ? r = function(t) {
                        return t.equals(e)
                    } : CKEDITOR.tools.isArray(e) ? r = function(t) {
                        return -1 < CKEDITOR.tools.indexOf(e, t.getName())
                    } : "function" == typeof e ? r = e : "object" == typeof e && (r = function(t) {
                        return t.getName() in e
                    });
                    var o = this.elements,
                        a = o.length;
                    for (t && (n ? i += 1 : --a), n && (o = Array.prototype.slice.call(o, 0)).reverse(); i < a; i++)
                        if (r(o[i])) return o[i];
                    return null
                },
                isContextFor: function(e) {
                    return !(e in CKEDITOR.dtd.$block && !(this.contains(CKEDITOR.dtd.$intermediate) || this.root.equals(this.block) && this.block || this.blockLimit).getDtd()[e])
                },
                direction: function() {
                    return (this.block || this.blockLimit || this.root).getDirection(1)
                }
            }, CKEDITOR.dom.text = function(e, t) {
                "string" == typeof e && (e = (t ? t.$ : document).createTextNode(e)), this.$ = e
            }, CKEDITOR.dom.text.prototype = new CKEDITOR.dom.node, CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype, {
                type: CKEDITOR.NODE_TEXT,
                getLength: function() {
                    return this.$.nodeValue.length
                },
                getText: function() {
                    return this.$.nodeValue
                },
                setText: function(e) {
                    this.$.nodeValue = e
                },
                split: function(e) {
                    var t = this.$.parentNode,
                        n = t.childNodes.length,
                        r = this.getLength(),
                        i = this.getDocument(),
                        o = new CKEDITOR.dom.text(this.$.splitText(e), i);
                    return t.childNodes.length == n && (e >= r ? (o = i.createText("")).insertAfter(this) : ((e = i.createText("")).insertAfter(o), e.remove())), o
                },
                substring: function(e, t) {
                    return "number" != typeof t ? this.$.nodeValue.substr(e) : this.$.nodeValue.substring(e, t)
                }
            }), function() {
                function e(e, t, n) {
                    var r = e.serializable,
                        i = t[n ? "endContainer" : "startContainer"],
                        o = n ? "endOffset" : "startOffset",
                        a = r ? t.document.getById(e.startNode) : e.startNode;
                    return e = r ? t.document.getById(e.endNode) : e.endNode, i.equals(a.getPrevious()) ? (t.startOffset = t.startOffset - i.getLength() - e.getPrevious().getLength(), i = e.getNext()) : i.equals(e.getPrevious()) && (t.startOffset -= i.getLength(), i = e.getNext()), i.equals(a.getParent()) && t[o]++, i.equals(e.getParent()) && t[o]++, t[n ? "endContainer" : "startContainer"] = i, t
                }
                CKEDITOR.dom.rangeList = function(e) {
                    return e instanceof CKEDITOR.dom.rangeList ? e : (e ? e instanceof CKEDITOR.dom.range && (e = [e]) : e = [], CKEDITOR.tools.extend(e, t))
                };
                var t = {
                    createIterator: function() {
                        var e, t = this,
                            n = CKEDITOR.dom.walker.bookmark(),
                            r = [];
                        return {
                            getNextRange: function(i) {
                                var o = t[e = void 0 === e ? 0 : e + 1];
                                if (o && 1 < t.length) {
                                    if (!e)
                                        for (var a = t.length - 1; 0 <= a; a--) r.unshift(t[a].createBookmark(!0));
                                    if (i)
                                        for (var s = 0; t[e + s + 1];) {
                                            var l = o.document;
                                            for (i = 0, a = l.getById(r[s].endNode), l = l.getById(r[s + 1].startNode);;) {
                                                if (a = a.getNextSourceNode(!1), l.equals(a)) i = 1;
                                                else if (n(a) || a.type == CKEDITOR.NODE_ELEMENT && a.isBlockBoundary()) continue;
                                                break
                                            }
                                            if (!i) break;
                                            s++
                                        }
                                    for (o.moveToBookmark(r.shift()); s--;)(a = t[++e]).moveToBookmark(r.shift()), o.setEnd(a.endContainer, a.endOffset)
                                }
                                return o
                            }
                        }
                    },
                    createBookmarks: function(t) {
                        for (var n, r = [], i = 0; i < this.length; i++) {
                            r.push(n = this[i].createBookmark(t, !0));
                            for (var o = i + 1; o < this.length; o++) this[o] = e(n, this[o]), this[o] = e(n, this[o], !0)
                        }
                        return r
                    },
                    createBookmarks2: function(e) {
                        for (var t = [], n = 0; n < this.length; n++) t.push(this[n].createBookmark2(e));
                        return t
                    },
                    moveToBookmarks: function(e) {
                        for (var t = 0; t < this.length; t++) this[t].moveToBookmark(e[t])
                    }
                }
            }(), function() {
                function e() {
                    return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1] || "skins/" + CKEDITOR.skinName.split(",")[0] + "/")
                }

                function t(t) {
                    var n = CKEDITOR.skin["ua_" + t],
                        r = CKEDITOR.env;
                    if (n) {
                        n = n.split(",").sort(function(e, t) {
                            return e > t ? -1 : 1
                        });
                        for (var i, o = 0; o < n.length; o++)
                            if (i = n[o], r.ie && (i.replace(/^ie/, "") == r.version || r.quirks && "iequirks" == i) && (i = "ie"), r[i]) {
                                t += "_" + n[o];
                                break
                            }
                    }
                    return CKEDITOR.getUrl(e() + t + ".css")
                }

                function n(e, n) {
                    o[e] || (CKEDITOR.document.appendStyleSheet(t(e)), o[e] = 1), n && n()
                }

                function r(e) {
                    var t = e.getById(a);
                    return t || ((t = e.getHead().append("style")).setAttribute("id", a), t.setAttribute("type", "text/css")), t
                }

                function i(e, t, n) {
                    var r, i, o;
                    if (CKEDITOR.env.webkit)
                        for (t = t.split("}").slice(0, -1), i = 0; i < t.length; i++) t[i] = t[i].split("{");
                    for (var a = 0; a < e.length; a++)
                        if (CKEDITOR.env.webkit)
                            for (i = 0; i < t.length; i++) {
                                for (o = t[i][1], r = 0; r < n.length; r++) o = o.replace(n[r][0], n[r][1]);
                                e[a].$.sheet.addRule(t[i][0], o)
                            } else {
                                for (o = t, r = 0; r < n.length; r++) o = o.replace(n[r][0], n[r][1]);
                                CKEDITOR.env.ie && 11 > CKEDITOR.env.version ? e[a].$.styleSheet.cssText += o : e[a].$.innerHTML += o
                            }
                }
                var o = {};
                CKEDITOR.skin = {
                    path: e,
                    loadPart: function(t, r) {
                        CKEDITOR.skin.name != CKEDITOR.skinName.split(",")[0] ? CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e() + "skin.js"), function() {
                            n(t, r)
                        }) : n(t, r)
                    },
                    getPath: function(e) {
                        return CKEDITOR.getUrl(t(e))
                    },
                    icons: {},
                    addIcon: function(e, t, n, r) {
                        e = e.toLowerCase(), this.icons[e] || (this.icons[e] = {
                            path: t,
                            offset: n || 0,
                            bgsize: r || "16px"
                        })
                    },
                    getIconStyle: function(e, t, n, r, i) {
                        var o;
                        return e && (e = e.toLowerCase(), t && (o = this.icons[e + "-rtl"]), o || (o = this.icons[e])), e = n || o && o.path || "", r = r || o && o.offset, i = i || o && o.bgsize || "16px", e && (e = e.replace(/'/g, "\\'")), e && "background-image:url('" + CKEDITOR.getUrl(e) + "');background-position:0 " + r + "px;background-size:" + i + ";"
                    }
                }, CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                    getUiColor: function() {
                        return this.uiColor
                    },
                    setUiColor: function(e) {
                        var t = r(CKEDITOR.document);
                        return (this.setUiColor = function(e) {
                            this.uiColor = e;
                            var n = CKEDITOR.skin.chameleon,
                                r = "",
                                o = "";
                            "function" == typeof n && (r = n(this, "editor"), o = n(this, "panel")), i([t], r, e = [
                                [l, e]
                            ]), i(s, o, e)
                        }).call(this, e)
                    }
                });
                var a = "cke_ui_color",
                    s = [],
                    l = /\$color/g;
                CKEDITOR.on("instanceLoaded", function(e) {
                    if (!CKEDITOR.env.ie || !CKEDITOR.env.quirks) {
                        var t = e.editor;
                        t.on("panelShow", e = function(e) {
                            if (!(e = (e.data[0] || e.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument()).getById("cke_ui_color")) {
                                e = r(e), s.push(e);
                                var n = t.getUiColor();
                                n && i([e], CKEDITOR.skin.chameleon(t, "panel"), [
                                    [l, n]
                                ])
                            }
                        }), t.on("menuShow", e), t.config.uiColor && t.setUiColor(t.config.uiColor)
                    }
                })
            }(), function() {
                if (CKEDITOR.env.webkit) CKEDITOR.env.hc = !1;
                else {
                    var e = CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>', CKEDITOR.document);
                    e.appendTo(CKEDITOR.document.getHead());
                    try {
                        var t = e.getComputedStyle("border-top-color"),
                            n = e.getComputedStyle("border-right-color");
                        CKEDITOR.env.hc = !(!t || t != n)
                    } catch (e) {
                        CKEDITOR.env.hc = !1
                    }
                    e.remove()
                }
                if (CKEDITOR.env.hc && (CKEDITOR.env.cssClass += " cke_hc"), CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"), CKEDITOR.status = "loaded", CKEDITOR.fireOnce("loaded"), e = CKEDITOR._.pending)
                    for (delete CKEDITOR._.pending, t = 0; t < e.length; t++) CKEDITOR.editor.prototype.constructor.apply(e[t][0], e[t][1]), CKEDITOR.add(e[t][0])
            }(), CKEDITOR.skin.name = "moono-lisa", CKEDITOR.skin.ua_editor = "ie,iequirks,ie8,gecko", CKEDITOR.skin.ua_dialog = "ie,iequirks,ie8", CKEDITOR.skin.chameleon = function() {
                var e = function(e, t) {
                        for (var n = e.match(/[^#]./g), r = 0; 3 > r; r++) {
                            var i, o = r;
                            i = parseInt(n[r], 16), i = ("0" + (0 > t ? 0 | i * (1 + t) : 0 | i + (255 - i) * t).toString(16)).slice(-2), n[o] = i
                        }
                        return "#" + n.join("")
                    },
                    t = {
                        editor: new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),
                        panel: new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")
                    };
                return function(n, r) {
                    var i = e(n.uiColor, .4);
                    return i = {
                        id: "." + n.id,
                        defaultBorder: e(i, -.2),
                        toolbarElementsBorder: e(i, -.25),
                        defaultBackground: i,
                        lightBackground: e(i, .8),
                        darkBackground: e(i, -.15),
                        ckeButtonOn: e(i, .4),
                        ckeResizer: e(i, -.4),
                        ckeColorauto: e(i, .8),
                        dialogBody: e(i, .7),
                        dialogTab: e(i, .65),
                        dialogTabSelected: "#FFF",
                        dialogTabSelectedBorder: "#FFF",
                        elementsPathColor: e(i, -.6),
                        menubuttonHover: e(i, .1),
                        menubuttonIcon: e(i, .5),
                        menubuttonIconHover: e(i, .3)
                    }, t[r].output(i).replace(/\[/g, "{").replace(/\]/g, "}")
                }
            }(), CKEDITOR.plugins.add("dialogui", {
                onLoad: function() {
                    var e = function(e) {
                            this._ || (this._ = {}), this._.default = this._.initValue = e.default || "", this._.required = e.required || !1;
                            for (var t = [this._], n = 1; n < arguments.length; n++) t.push(arguments[n]);
                            return t.push(!0), CKEDITOR.tools.extend.apply(CKEDITOR.tools, t), this._
                        },
                        t = {
                            build: function(e, t, n) {
                                return new CKEDITOR.ui.dialog.textInput(e, t, n)
                            }
                        },
                        n = {
                            build: function(e, t, n) {
                                return new CKEDITOR.ui.dialog[t.type](e, t, n)
                            }
                        },
                        r = {
                            isChanged: function() {
                                return this.getValue() != this.getInitValue()
                            },
                            reset: function(e) {
                                this.setValue(this.getInitValue(), e)
                            },
                            setInitValue: function() {
                                this._.initValue = this.getValue()
                            },
                            resetInitValue: function() {
                                this._.initValue = this._.default
                            },
                            getInitValue: function() {
                                return this._.initValue
                            }
                        },
                        i = CKEDITOR.tools.extend({}, CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors, {
                            onChange: function(e, t) {
                                this._.domOnChangeRegistered || (e.on("load", function() {
                                    this.getInputElement().on("change", function() {
                                        e.parts.dialog.isVisible() && this.fire("change", {
                                            value: this.getValue()
                                        })
                                    }, this)
                                }, this), this._.domOnChangeRegistered = !0), this.on("change", t)
                            }
                        }, !0),
                        o = /^on([A-Z]\w+)/,
                        a = function(e) {
                            for (var t in e)(o.test(t) || "title" == t || "type" == t) && delete e[t];
                            return e
                        },
                        s = function(e) {
                            (e = e.data.getKeystroke()) == CKEDITOR.SHIFT + CKEDITOR.ALT + 36 ? this.setDirectionMarker("ltr") : e == CKEDITOR.SHIFT + CKEDITOR.ALT + 35 && this.setDirectionMarker("rtl")
                        };
                    CKEDITOR.tools.extend(CKEDITOR.ui.dialog, {
                        labeledElement: function(t, n, r, i) {
                            if (!(4 > arguments.length)) {
                                var o = e.call(this, n);
                                o.labelId = CKEDITOR.tools.getNextId() + "_label", this._.children = [];
                                var a = {
                                    role: n.role || "presentation"
                                };
                                n.includeLabel && (a["aria-labelledby"] = o.labelId), CKEDITOR.ui.dialog.uiElement.call(this, t, n, r, "div", null, a, function() {
                                    var e = [],
                                        r = n.required ? " cke_required" : "";
                                    return "horizontal" != n.labelLayout ? e.push('<label class="cke_dialog_ui_labeled_label' + r + '" ', ' id="' + o.labelId + '"', o.inputId ? ' for="' + o.inputId + '"' : "", (n.labelStyle ? ' style="' + n.labelStyle + '"' : "") + ">", n.label, "</label>", '<div class="cke_dialog_ui_labeled_content"', n.controlStyle ? ' style="' + n.controlStyle + '"' : "", ' role="presentation">', i.call(this, t, n), "</div>") : (r = {
                                        type: "hbox",
                                        widths: n.widths,
                                        padding: 0,
                                        children: [{
                                            type: "html",
                                            html: '<label class="cke_dialog_ui_labeled_label' + r + '" id="' + o.labelId + '" for="' + o.inputId + '"' + (n.labelStyle ? ' style="' + n.labelStyle + '"' : "") + ">" + CKEDITOR.tools.htmlEncode(n.label) + "</label>"
                                        }, {
                                            type: "html",
                                            html: '<span class="cke_dialog_ui_labeled_content"' + (n.controlStyle ? ' style="' + n.controlStyle + '"' : "") + ">" + i.call(this, t, n) + "</span>"
                                        }]
                                    }, CKEDITOR.dialog._.uiElementBuilders.hbox.build(t, r, e)), e.join("")
                                })
                            }
                        },
                        textInput: function(t, n, r) {
                            if (!(3 > arguments.length)) {
                                e.call(this, n);
                                var i = this._.inputId = CKEDITOR.tools.getNextId() + "_textInput",
                                    o = {
                                        class: "cke_dialog_ui_input_" + n.type,
                                        id: i,
                                        type: n.type
                                    };
                                n.validate && (this.validate = n.validate), n.maxLength && (o.maxlength = n.maxLength), n.size && (o.size = n.size), n.inputStyle && (o.style = n.inputStyle);
                                var a = this,
                                    l = !1;
                                t.on("load", function() {
                                    a.getInputElement().on("keydown", function(e) {
                                        13 == e.data.getKeystroke() && (l = !0)
                                    }), a.getInputElement().on("keyup", function(e) {
                                        13 == e.data.getKeystroke() && l && (t.getButton("ok") && setTimeout(function() {
                                            t.getButton("ok").click()
                                        }, 0), l = !1), a.bidi && s.call(a, e)
                                    }, null, null, 1e3)
                                }), CKEDITOR.ui.dialog.labeledElement.call(this, t, n, r, function() {
                                    var e = ['<div class="cke_dialog_ui_input_', n.type, '" role="presentation"'];
                                    for (var t in n.width && e.push('style="width:' + n.width + '" '), e.push("><input "), o["aria-labelledby"] = this._.labelId, this._.required && (o["aria-required"] = this._.required), o) e.push(t + '="' + o[t] + '" ');
                                    return e.push(" /></div>"), e.join("")
                                })
                            }
                        },
                        textarea: function(t, n, r) {
                            if (!(3 > arguments.length)) {
                                e.call(this, n);
                                var i = this,
                                    o = this._.inputId = CKEDITOR.tools.getNextId() + "_textarea",
                                    a = {};
                                n.validate && (this.validate = n.validate), a.rows = n.rows || 5, a.cols = n.cols || 20, a.class = "cke_dialog_ui_input_textarea " + (n.class || ""), void 0 !== n.inputStyle && (a.style = n.inputStyle), n.dir && (a.dir = n.dir), i.bidi && t.on("load", function() {
                                    i.getInputElement().on("keyup", s)
                                }, i), CKEDITOR.ui.dialog.labeledElement.call(this, t, n, r, function() {
                                    a["aria-labelledby"] = this._.labelId, this._.required && (a["aria-required"] = this._.required);
                                    var e, t = ['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="', o, '" '];
                                    for (e in a) t.push(e + '="' + CKEDITOR.tools.htmlEncode(a[e]) + '" ');
                                    return t.push(">", CKEDITOR.tools.htmlEncode(i._.default), "</textarea></div>"), t.join("")
                                })
                            }
                        },
                        checkbox: function(t, n, r) {
                            if (!(3 > arguments.length)) {
                                var i = e.call(this, n, {
                                    default: !!n.default
                                });
                                n.validate && (this.validate = n.validate), CKEDITOR.ui.dialog.uiElement.call(this, t, n, r, "span", null, null, function() {
                                    var e = CKEDITOR.tools.extend({}, n, {
                                            id: n.id ? n.id + "_checkbox" : CKEDITOR.tools.getNextId() + "_checkbox"
                                        }, !0),
                                        r = [],
                                        o = CKEDITOR.tools.getNextId() + "_label",
                                        s = {
                                            class: "cke_dialog_ui_checkbox_input",
                                            type: "checkbox",
                                            "aria-labelledby": o
                                        };
                                    return a(e), n.default && (s.checked = "checked"), void 0 !== e.inputStyle && (e.style = e.inputStyle), i.checkbox = new CKEDITOR.ui.dialog.uiElement(t, e, r, "input", null, s), r.push(' <label id="', o, '" for="', s.id, '"' + (n.labelStyle ? ' style="' + n.labelStyle + '"' : "") + ">", CKEDITOR.tools.htmlEncode(n.label), "</label>"), r.join("")
                                })
                            }
                        },
                        radio: function(t, n, r) {
                            if (!(3 > arguments.length)) {
                                e.call(this, n), this._.default || (this._.default = this._.initValue = n.items[0][1]), n.validate && (this.validate = n.validate);
                                var i = [],
                                    o = this;
                                n.role = "radiogroup", n.includeLabel = !0, CKEDITOR.ui.dialog.labeledElement.call(this, t, n, r, function() {
                                    for (var e = [], r = [], s = (n.id ? n.id : CKEDITOR.tools.getNextId()) + "_radio", l = 0; l < n.items.length; l++) {
                                        var c = n.items[l],
                                            u = void 0 !== c[2] ? c[2] : c[0],
                                            d = void 0 !== c[1] ? c[1] : c[0],
                                            h = (p = CKEDITOR.tools.getNextId() + "_radio_input") + "_label",
                                            p = CKEDITOR.tools.extend({}, n, {
                                                id: p,
                                                title: null,
                                                type: null
                                            }, !0),
                                            f = (u = CKEDITOR.tools.extend({}, p, {
                                                title: u
                                            }, !0), {
                                                type: "radio",
                                                class: "cke_dialog_ui_radio_input",
                                                name: s,
                                                value: d,
                                                "aria-labelledby": h
                                            }),
                                            m = [];
                                        o._.default == d && (f.checked = "checked"), a(p), a(u), void 0 !== p.inputStyle && (p.style = p.inputStyle), p.keyboardFocusable = !0, i.push(new CKEDITOR.ui.dialog.uiElement(t, p, m, "input", null, f)), m.push(" "), new CKEDITOR.ui.dialog.uiElement(t, u, m, "label", null, {
                                            id: h,
                                            for: f.id
                                        }, c[0]), e.push(m.join(""))
                                    }
                                    return new CKEDITOR.ui.dialog.hbox(t, i, e, r), r.join("")
                                }), this._.children = i
                            }
                        },
                        button: function(t, n, r) {
                            if (arguments.length) {
                                "function" == typeof n && (n = n(t.getParentEditor())), e.call(this, n, {
                                    disabled: n.disabled || !1
                                }), CKEDITOR.event.implementOn(this);
                                var i = this;
                                t.on("load", function() {
                                    var e = this.getElement();
                                    e.on("click", function(e) {
                                        i.click(), e.data.preventDefault()
                                    }), e.on("keydown", function(e) {
                                        e.data.getKeystroke() in {
                                            32: 1
                                        } && (i.click(), e.data.preventDefault())
                                    }), e.unselectable()
                                }, this);
                                var o = CKEDITOR.tools.extend({}, n);
                                delete o.style;
                                var a = CKEDITOR.tools.getNextId() + "_label";
                                CKEDITOR.ui.dialog.uiElement.call(this, t, o, r, "a", null, {
                                    style: n.style,
                                    href: "javascript:void(0)",
                                    title: n.label,
                                    hidefocus: "true",
                                    class: n.class,
                                    role: "button",
                                    "aria-labelledby": a
                                }, '<span id="' + a + '" class="cke_dialog_ui_button">' + CKEDITOR.tools.htmlEncode(n.label) + "</span>")
                            }
                        },
                        select: function(t, n, r) {
                            if (!(3 > arguments.length)) {
                                var i = e.call(this, n);
                                n.validate && (this.validate = n.validate), i.inputId = CKEDITOR.tools.getNextId() + "_select", CKEDITOR.ui.dialog.labeledElement.call(this, t, n, r, function() {
                                    var e = CKEDITOR.tools.extend({}, n, {
                                            id: n.id ? n.id + "_select" : CKEDITOR.tools.getNextId() + "_select"
                                        }, !0),
                                        r = [],
                                        o = [],
                                        s = {
                                            id: i.inputId,
                                            class: "cke_dialog_ui_input_select",
                                            "aria-labelledby": this._.labelId
                                        };
                                    r.push('<div class="cke_dialog_ui_input_', n.type, '" role="presentation"'), n.width && r.push('style="width:' + n.width + '" '), r.push(">"), void 0 !== n.size && (s.size = n.size), void 0 !== n.multiple && (s.multiple = n.multiple), a(e);
                                    for (var l, c = 0; c < n.items.length && (l = n.items[c]); c++) o.push('<option value="', CKEDITOR.tools.htmlEncode(void 0 !== l[1] ? l[1] : l[0]).replace(/"/g, "&quot;"), '" /> ', CKEDITOR.tools.htmlEncode(l[0]));
                                    return void 0 !== e.inputStyle && (e.style = e.inputStyle), i.select = new CKEDITOR.ui.dialog.uiElement(t, e, r, "select", null, s, o.join("")), r.push("</div>"), r.join("")
                                })
                            }
                        },
                        file: function(t, n, r) {
                            if (!(3 > arguments.length)) {
                                void 0 === n.default && (n.default = "");
                                var i = CKEDITOR.tools.extend(e.call(this, n), {
                                    definition: n,
                                    buttons: []
                                });
                                n.validate && (this.validate = n.validate), t.on("load", function() {
                                    CKEDITOR.document.getById(i.frameId).getParent().addClass("cke_dialog_ui_input_file")
                                }), CKEDITOR.ui.dialog.labeledElement.call(this, t, n, r, function() {
                                    i.frameId = CKEDITOR.tools.getNextId() + "_fileInput";
                                    var e = ['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="', i.frameId, '" title="', n.label, '" src="javascript:void('];
                                    return e.push(CKEDITOR.env.ie ? "(function(){" + encodeURIComponent("document.open();(" + CKEDITOR.tools.fixDomain + ")();document.close();") + "})()" : "0"), e.push(')"></iframe>'), e.join("")
                                })
                            }
                        },
                        fileButton: function(t, n, r) {
                            var i = this;
                            if (!(3 > arguments.length)) {
                                e.call(this, n), n.validate && (this.validate = n.validate);
                                var o = CKEDITOR.tools.extend({}, n),
                                    a = o.onClick;
                                o.className = (o.className ? o.className + " " : "") + "cke_dialog_ui_button", o.onClick = function(e) {
                                    var r = n.for;
                                    !1 !== (e = !!a && a.call(this, e)) && ("xhr" !== e && t.getContentElement(r[0], r[1]).submit(), this.disable())
                                }, t.on("load", function() {
                                    t.getContentElement(n.for[0], n.for[1])._.buttons.push(i)
                                }), CKEDITOR.ui.dialog.button.call(this, t, o, r)
                            }
                        },
                        html: function() {
                            var e = /^\s*<[\w:]+\s+([^>]*)?>/,
                                t = /^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,
                                n = /\/$/;
                            return function(r, i, o) {
                                if (!(3 > arguments.length)) {
                                    var a = [],
                                        s = i.html;
                                    "<" != s.charAt(0) && (s = "<span>" + s + "</span>");
                                    var l = i.focus;
                                    if (l) {
                                        var c = this.focus;
                                        this.focus = function() {
                                            ("function" == typeof l ? l : c).call(this), this.fire("focus")
                                        }, i.isFocusable && (this.isFocusable = this.isFocusable), this.keyboardFocusable = !0
                                    }
                                    CKEDITOR.ui.dialog.uiElement.call(this, r, i, a, "span", null, null, ""), a = a.join("").match(e), s = s.match(t) || ["", "", ""], n.test(s[1]) && (s[1] = s[1].slice(0, -1), s[2] = "/" + s[2]), o.push([s[1], " ", a[1] || "", s[2]].join(""))
                                }
                            }
                        }(),
                        fieldset: function(e, t, n, r, i) {
                            var o = i.label;
                            this._ = {
                                children: t
                            }, CKEDITOR.ui.dialog.uiElement.call(this, e, i, r, "fieldset", null, null, function() {
                                var e = [];
                                o && e.push("<legend" + (i.labelStyle ? ' style="' + i.labelStyle + '"' : "") + ">" + o + "</legend>");
                                for (var t = 0; t < n.length; t++) e.push(n[t]);
                                return e.join("")
                            })
                        }
                    }, !0), CKEDITOR.ui.dialog.html.prototype = new CKEDITOR.ui.dialog.uiElement, CKEDITOR.ui.dialog.labeledElement.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement, {
                        setLabel: function(e) {
                            var t = CKEDITOR.document.getById(this._.labelId);
                            return 1 > t.getChildCount() ? new CKEDITOR.dom.text(e, CKEDITOR.document).appendTo(t) : t.getChild(0).$.nodeValue = e, this
                        },
                        getLabel: function() {
                            var e = CKEDITOR.document.getById(this._.labelId);
                            return !e || 1 > e.getChildCount() ? "" : e.getChild(0).getText()
                        },
                        eventProcessors: i
                    }, !0), CKEDITOR.ui.dialog.button.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement, {
                        click: function() {
                            return !this._.disabled && this.fire("click", {
                                dialog: this._.dialog
                            })
                        },
                        enable: function() {
                            this._.disabled = !1;
                            var e = this.getElement();
                            e && e.removeClass("cke_disabled")
                        },
                        disable: function() {
                            this._.disabled = !0, this.getElement().addClass("cke_disabled")
                        },
                        isVisible: function() {
                            return this.getElement().getFirst().isVisible()
                        },
                        isEnabled: function() {
                            return !this._.disabled
                        },
                        eventProcessors: CKEDITOR.tools.extend({}, CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors, {
                            onClick: function(e, t) {
                                this.on("click", function() {
                                    t.apply(this, arguments)
                                })
                            }
                        }, !0),
                        accessKeyUp: function() {
                            this.click()
                        },
                        accessKeyDown: function() {
                            this.focus()
                        },
                        keyboardFocusable: !0
                    }, !0), CKEDITOR.ui.dialog.textInput.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement, {
                        getInputElement: function() {
                            return CKEDITOR.document.getById(this._.inputId)
                        },
                        focus: function() {
                            var e = this.selectParentTab();
                            setTimeout(function() {
                                var t = e.getInputElement();
                                t && t.$.focus()
                            }, 0)
                        },
                        select: function() {
                            var e = this.selectParentTab();
                            setTimeout(function() {
                                var t = e.getInputElement();
                                t && (t.$.focus(), t.$.select())
                            }, 0)
                        },
                        accessKeyUp: function() {
                            this.select()
                        },
                        setValue: function(e) {
                            if (this.bidi) {
                                var t = e && e.charAt(0);
                                (t = "\u202a" == t ? "ltr" : "\u202b" == t ? "rtl" : null) && (e = e.slice(1)), this.setDirectionMarker(t)
                            }
                            return e || (e = ""), CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this, arguments)
                        },
                        getValue: function() {
                            var e = CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);
                            if (this.bidi && e) {
                                var t = this.getDirectionMarker();
                                t && (e = ("ltr" == t ? "\u202a" : "\u202b") + e)
                            }
                            return e
                        },
                        setDirectionMarker: function(e) {
                            var t = this.getInputElement();
                            e ? t.setAttributes({
                                dir: e,
                                "data-cke-dir-marker": e
                            }) : this.getDirectionMarker() && t.removeAttributes(["dir", "data-cke-dir-marker"])
                        },
                        getDirectionMarker: function() {
                            return this.getInputElement().data("cke-dir-marker")
                        },
                        keyboardFocusable: !0
                    }, r, !0), CKEDITOR.ui.dialog.textarea.prototype = new CKEDITOR.ui.dialog.textInput, CKEDITOR.ui.dialog.select.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement, {
                        getInputElement: function() {
                            return this._.select.getElement()
                        },
                        add: function(e, t, n) {
                            var r = new CKEDITOR.dom.element("option", this.getDialog().getParentEditor().document),
                                i = this.getInputElement().$;
                            return r.$.text = e, r.$.value = void 0 === t || null === t ? e : t, void 0 === n || null === n ? CKEDITOR.env.ie ? i.add(r.$) : i.add(r.$, null) : i.add(r.$, n), this
                        },
                        remove: function(e) {
                            return this.getInputElement().$.remove(e), this
                        },
                        clear: function() {
                            for (var e = this.getInputElement().$; 0 < e.length;) e.remove(0);
                            return this
                        },
                        keyboardFocusable: !0
                    }, r, !0), CKEDITOR.ui.dialog.checkbox.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement, {
                        getInputElement: function() {
                            return this._.checkbox.getElement()
                        },
                        setValue: function(e, t) {
                            this.getInputElement().$.checked = e, !t && this.fire("change", {
                                value: e
                            })
                        },
                        getValue: function() {
                            return this.getInputElement().$.checked
                        },
                        accessKeyUp: function() {
                            this.setValue(!this.getValue())
                        },
                        eventProcessors: {
                            onChange: function(e, t) {
                                return !CKEDITOR.env.ie || 8 < CKEDITOR.env.version ? i.onChange.apply(this, arguments) : (e.on("load", function() {
                                    var e = this._.checkbox.getElement();
                                    e.on("propertychange", function(t) {
                                        "checked" == (t = t.data.$).propertyName && this.fire("change", {
                                            value: e.$.checked
                                        })
                                    }, this)
                                }, this), this.on("change", t), null)
                            }
                        },
                        keyboardFocusable: !0
                    }, r, !0), CKEDITOR.ui.dialog.radio.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement, {
                        setValue: function(e, t) {
                            for (var n, r = this._.children, i = 0; i < r.length && (n = r[i]); i++) n.getElement().$.checked = n.getValue() == e;
                            !t && this.fire("change", {
                                value: e
                            })
                        },
                        getValue: function() {
                            for (var e = this._.children, t = 0; t < e.length; t++)
                                if (e[t].getElement().$.checked) return e[t].getValue();
                            return null
                        },
                        accessKeyUp: function() {
                            var e, t = this._.children;
                            for (e = 0; e < t.length; e++)
                                if (t[e].getElement().$.checked) return void t[e].getElement().focus();
                            t[0].getElement().focus()
                        },
                        eventProcessors: {
                            onChange: function(e, t) {
                                return !CKEDITOR.env.ie || 8 < CKEDITOR.env.version ? i.onChange.apply(this, arguments) : (e.on("load", function() {
                                    for (var e = this._.children, t = this, n = 0; n < e.length; n++) e[n].getElement().on("propertychange", function(e) {
                                        "checked" == (e = e.data.$).propertyName && this.$.checked && t.fire("change", {
                                            value: this.getAttribute("value")
                                        })
                                    })
                                }, this), this.on("change", t), null)
                            }
                        }
                    }, r, !0), CKEDITOR.ui.dialog.file.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement, r, {
                        getInputElement: function() {
                            var e = CKEDITOR.document.getById(this._.frameId).getFrameDocument();
                            return 0 < e.$.forms.length ? new CKEDITOR.dom.element(e.$.forms[0].elements[0]) : this.getElement()
                        },
                        submit: function() {
                            return this.getInputElement().getParent().$.submit(), this
                        },
                        getAction: function() {
                            return this.getInputElement().getParent().$.action
                        },
                        registerEvents: function(e) {
                            var t, n, r = /^on([A-Z]\w+)/,
                                i = function(e, t, n, r) {
                                    e.on("formLoaded", function() {
                                        e.getInputElement().on(n, r, e)
                                    })
                                };
                            for (n in e)(t = n.match(r)) && (this.eventProcessors[n] ? this.eventProcessors[n].call(this, this._.dialog, e[n]) : i(this, 0, t[1].toLowerCase(), e[n]));
                            return this
                        },
                        reset: function() {
                            function e() {
                                n.$.open();
                                var e = "";
                                r.size && (e = r.size - (CKEDITOR.env.ie ? 7 : 0));
                                var c = t.frameId + "_input";
                                for (n.$.write(['<html dir="' + s + '" lang="' + l + '"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">', '<form enctype="multipart/form-data" method="POST" dir="' + s + '" lang="' + l + '" action="', CKEDITOR.tools.htmlEncode(r.action), '"><label id="', t.labelId, '" for="', c, '" style="display:none">', CKEDITOR.tools.htmlEncode(r.label), '</label><input style="width:100%" id="', c, '" aria-labelledby="', t.labelId, '" type="file" name="', CKEDITOR.tools.htmlEncode(r.id || "cke_upload"), '" size="', CKEDITOR.tools.htmlEncode(0 < e ? e : ""), '" /></form></body></html><script>', CKEDITOR.env.ie ? "(" + CKEDITOR.tools.fixDomain + ")();" : "", "window.parent.CKEDITOR.tools.callFunction(" + o + ");", "window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction(" + a + ")}", "<\/script>"].join("")), n.$.close(), e = 0; e < i.length; e++) i[e].enable()
                            }
                            var t = this._,
                                n = CKEDITOR.document.getById(t.frameId).getFrameDocument(),
                                r = t.definition,
                                i = t.buttons,
                                o = this.formLoadedNumber,
                                a = this.formUnloadNumber,
                                s = t.dialog._.editor.lang.dir,
                                l = t.dialog._.editor.langCode;
                            o || (o = this.formLoadedNumber = CKEDITOR.tools.addFunction(function() {
                                this.fire("formLoaded")
                            }, this), a = this.formUnloadNumber = CKEDITOR.tools.addFunction(function() {
                                this.getInputElement().clearCustomData()
                            }, this), this.getDialog()._.editor.on("destroy", function() {
                                CKEDITOR.tools.removeFunction(o), CKEDITOR.tools.removeFunction(a)
                            })), CKEDITOR.env.gecko ? setTimeout(e, 500) : e()
                        },
                        getValue: function() {
                            return this.getInputElement().$.value || ""
                        },
                        setInitValue: function() {
                            this._.initValue = ""
                        },
                        eventProcessors: {
                            onChange: function(e, t) {
                                this._.domOnChangeRegistered || (this.on("formLoaded", function() {
                                    this.getInputElement().on("change", function() {
                                        this.fire("change", {
                                            value: this.getValue()
                                        })
                                    }, this)
                                }, this), this._.domOnChangeRegistered = !0), this.on("change", t)
                            }
                        },
                        keyboardFocusable: !0
                    }, !0), CKEDITOR.ui.dialog.fileButton.prototype = new CKEDITOR.ui.dialog.button, CKEDITOR.ui.dialog.fieldset.prototype = CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype), CKEDITOR.dialog.addUIElement("text", t), CKEDITOR.dialog.addUIElement("password", t), CKEDITOR.dialog.addUIElement("textarea", n), CKEDITOR.dialog.addUIElement("checkbox", n), CKEDITOR.dialog.addUIElement("radio", n), CKEDITOR.dialog.addUIElement("button", n), CKEDITOR.dialog.addUIElement("select", n), CKEDITOR.dialog.addUIElement("file", n), CKEDITOR.dialog.addUIElement("fileButton", n), CKEDITOR.dialog.addUIElement("html", n), CKEDITOR.dialog.addUIElement("fieldset", {
                        build: function(e, t, n) {
                            for (var r, i = t.children, o = [], a = [], s = 0; s < i.length && (r = i[s]); s++) {
                                var l = [];
                                o.push(l), a.push(CKEDITOR.dialog._.uiElementBuilders[r.type].build(e, r, l))
                            }
                            return new CKEDITOR.ui.dialog[t.type](e, a, o, n, t)
                        }
                    })
                }
            }), CKEDITOR.DIALOG_RESIZE_NONE = 0, CKEDITOR.DIALOG_RESIZE_WIDTH = 1, CKEDITOR.DIALOG_RESIZE_HEIGHT = 2, CKEDITOR.DIALOG_RESIZE_BOTH = 3, CKEDITOR.DIALOG_STATE_IDLE = 1, CKEDITOR.DIALOG_STATE_BUSY = 2, function() {
                function e() {
                    for (var e = this._.tabIdList.length, t = CKEDITOR.tools.indexOf(this._.tabIdList, this._.currentTabId) + e, n = t - 1; n > t - e; n--)
                        if (this._.tabs[this._.tabIdList[n % e]][0].$.offsetHeight) return this._.tabIdList[n % e];
                    return null
                }

                function t(e, t) {
                    for (var n = e.$.getElementsByTagName("input"), r = 0, i = n.length; r < i; r++) {
                        var o = new CKEDITOR.dom.element(n[r]);
                        "text" == o.getAttribute("type").toLowerCase() && (t ? (o.setAttribute("value", o.getCustomData("fake_value") || ""), o.removeCustomData("fake_value")) : (o.setCustomData("fake_value", o.getAttribute("value")), o.setAttribute("value", "")))
                    }
                }

                function n(e) {
                    var t = CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog", d).output({
                            id: CKEDITOR.tools.getNextNumber(),
                            editorId: e.id,
                            langDir: e.lang.dir,
                            langCode: e.langCode,
                            editorDialogClass: "cke_editor_" + e.name.replace(/\./g, "\\.") + "_dialog",
                            closeTitle: e.lang.common.close,
                            hidpi: CKEDITOR.env.hidpi ? "cke_hidpi" : ""
                        })),
                        n = t.getChild([0, 0, 0, 0, 0]),
                        r = n.getChild(0),
                        i = n.getChild(1);
                    return e.plugins.clipboard && CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n), !CKEDITOR.env.ie || CKEDITOR.env.quirks || CKEDITOR.env.edge || (e = "javascript:void(function(){" + encodeURIComponent("document.open();(" + CKEDITOR.tools.fixDomain + ")();document.close();") + "}())", CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="' + e + '" tabIndex="-1"></iframe>').appendTo(n.getParent())), r.unselectable(), i.unselectable(), {
                        element: t,
                        parts: {
                            dialog: t.getChild(0),
                            title: r,
                            close: i,
                            tabs: n.getChild(2),
                            contents: n.getChild([3, 0, 0, 0]),
                            footer: n.getChild([3, 0, 1, 0])
                        }
                    }
                }

                function r(e, t, n) {
                    this.element = t, this.focusIndex = n, this.tabIndex = 0, this.isFocusable = function() {
                        return !t.getAttribute("disabled") && t.isVisible()
                    }, this.focus = function() {
                        e._.currentFocusIndex = this.focusIndex, this.element.focus()
                    }, t.on("keydown", function(e) {
                        e.data.getKeystroke() in {
                            32: 1,
                            13: 1
                        } && this.fire("click")
                    }), t.on("focus", function() {
                        this.fire("mouseover")
                    }), t.on("blur", function() {
                        this.fire("mouseout")
                    })
                }

                function i(e, t) {
                    this._ = {
                        dialog: e
                    }, CKEDITOR.tools.extend(this, t)
                }

                function o(e) {
                    function t(t) {
                        var n = e.getSize(),
                            l = CKEDITOR.document.getWindow().getViewPaneSize(),
                            c = t.data.$.screenX,
                            u = t.data.$.screenY,
                            d = c - r.x,
                            h = u - r.y;
                        r = {
                            x: c,
                            y: u
                        }, i.x += d, i.y += h, e.move(i.x + s[3] < a ? -s[3] : i.x - s[1] > l.width - n.width - a ? l.width - n.width + ("rtl" == o.lang.dir ? 0 : s[1]) : i.x, i.y + s[0] < a ? -s[0] : i.y - s[2] > l.height - n.height - a ? l.height - n.height + s[2] : i.y, 1), t.data.preventDefault()
                    }

                    function n() {
                        if (CKEDITOR.document.removeListener("mousemove", t), CKEDITOR.document.removeListener("mouseup", n), CKEDITOR.env.ie6Compat) {
                            var e = b.getChild(0).getFrameDocument();
                            e.removeListener("mousemove", t), e.removeListener("mouseup", n)
                        }
                    }
                    var r = null,
                        i = null,
                        o = e.getParentEditor(),
                        a = o.config.dialog_magnetDistance,
                        s = CKEDITOR.skin.margins || [0, 0, 0, 0];
                    void 0 === a && (a = 20), e.parts.title.on("mousedown", function(o) {
                        if (r = {
                                x: o.data.$.screenX,
                                y: o.data.$.screenY
                            }, CKEDITOR.document.on("mousemove", t), CKEDITOR.document.on("mouseup", n), i = e.getPosition(), CKEDITOR.env.ie6Compat) {
                            var a = b.getChild(0).getFrameDocument();
                            a.on("mousemove", t), a.on("mouseup", n)
                        }
                        o.data.preventDefault()
                    }, e)
                }

                function a(e) {
                    function t(t) {
                        var n = "rtl" == d.lang.dir,
                            u = c.width,
                            h = c.height,
                            p = u + (t.data.$.screenX - l.x) * (n ? -1 : 1) * (e._.moved ? 1 : 2),
                            f = h + (t.data.$.screenY - l.y) * (e._.moved ? 1 : 2),
                            m = e._.element.getFirst(),
                            g = (m = n && m.getComputedStyle("right"), e.getPosition());
                        g.y + f > s.height && (f = s.height - g.y), (n ? m : g.x) + p > s.width && (p = s.width - (n ? m : g.x)), i != CKEDITOR.DIALOG_RESIZE_WIDTH && i != CKEDITOR.DIALOG_RESIZE_BOTH || (u = Math.max(r.minWidth || 0, p - o)), i != CKEDITOR.DIALOG_RESIZE_HEIGHT && i != CKEDITOR.DIALOG_RESIZE_BOTH || (h = Math.max(r.minHeight || 0, f - a)), e.resize(u, h), e._.moved || e.layout(), t.data.preventDefault()
                    }

                    function n() {
                        if (CKEDITOR.document.removeListener("mouseup", n), CKEDITOR.document.removeListener("mousemove", t), u && (u.remove(), u = null), CKEDITOR.env.ie6Compat) {
                            var e = b.getChild(0).getFrameDocument();
                            e.removeListener("mouseup", n), e.removeListener("mousemove", t)
                        }
                    }
                    var r = e.definition,
                        i = r.resizable;
                    if (i != CKEDITOR.DIALOG_RESIZE_NONE) {
                        var o, a, s, l, c, u, d = e.getParentEditor(),
                            h = CKEDITOR.tools.addFunction(function(r) {
                                c = e.getSize();
                                var i = e.parts.contents;
                                i.$.getElementsByTagName("iframe").length && (u = CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'), i.append(u)), a = c.height - e.parts.contents.getSize("height", !(CKEDITOR.env.gecko || CKEDITOR.env.ie && CKEDITOR.env.quirks)), o = c.width - e.parts.contents.getSize("width", 1), l = {
                                    x: r.screenX,
                                    y: r.screenY
                                }, s = CKEDITOR.document.getWindow().getViewPaneSize(), CKEDITOR.document.on("mousemove", t), CKEDITOR.document.on("mouseup", n), CKEDITOR.env.ie6Compat && ((i = b.getChild(0).getFrameDocument()).on("mousemove", t), i.on("mouseup", n)), r.preventDefault && r.preventDefault()
                            });
                        e.on("load", function() {
                            var t = "";
                            i == CKEDITOR.DIALOG_RESIZE_WIDTH ? t = " cke_resizer_horizontal" : i == CKEDITOR.DIALOG_RESIZE_HEIGHT && (t = " cke_resizer_vertical"), t = CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer' + t + " cke_resizer_" + d.lang.dir + '" title="' + CKEDITOR.tools.htmlEncode(d.lang.common.resize) + '" onmousedown="CKEDITOR.tools.callFunction(' + h + ', event )">' + ("ltr" == d.lang.dir ? "\u25e2" : "\u25e3") + "</div>"), e.parts.footer.append(t, 1)
                        }), d.on("destroy", function() {
                            CKEDITOR.tools.removeFunction(h)
                        })
                    }
                }

                function s(e) {
                    e.data.preventDefault(1)
                }

                function l(e) {
                    var t = CKEDITOR.document.getWindow(),
                        n = e.config,
                        r = CKEDITOR.skinName || e.config.skin,
                        i = n.dialog_backgroundCoverColor || ("moono-lisa" == r ? "black" : "white"),
                        o = (r = n.dialog_backgroundCoverOpacity, n.baseFloatZIndex),
                        a = (n = CKEDITOR.tools.genKey(i, r, o), v[n]);
                    a ? a.show() : (o = ['<div tabIndex="-1" style="position: ', CKEDITOR.env.ie6Compat ? "absolute" : "fixed", "; z-index: ", o, "; top: 0px; left: 0px; ", CKEDITOR.env.ie6Compat ? "" : "background-color: " + i, '" class="cke_dialog_background_cover">'], CKEDITOR.env.ie6Compat && (i = "<html><body style=\\'background-color:" + i + ";\\'></body></html>", o.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'), o.push("void((function(){" + encodeURIComponent("document.open();(" + CKEDITOR.tools.fixDomain + ")();document.write( '" + i + "' );document.close();") + "})())"), o.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')), o.push("</div>"), (a = CKEDITOR.dom.element.createFromHtml(o.join(""))).setOpacity(void 0 !== r ? r : .5), a.on("keydown", s), a.on("keypress", s), a.on("keyup", s), a.appendTo(CKEDITOR.document.getBody()), v[n] = a), e.focusManager.add(a), b = a;
                    var l = function() {
                        var e = t.getScrollPosition(),
                            n = CKEDITOR.dialog._.currentTop;
                        if (a.setStyles({
                                left: e.x + "px",
                                top: e.y + "px"
                            }), n)
                            do {
                                e = n.getPosition(), n.move(e.x, e.y)
                            } while (n = n._.parentDialog)
                    };
                    if (E = e = function() {
                            var e = t.getViewPaneSize();
                            a.setStyles({
                                width: e.width + "px",
                                height: e.height + "px"
                            })
                        }, t.on("resize", e), e(), CKEDITOR.env.mac && CKEDITOR.env.webkit || a.focus(), CKEDITOR.env.ie6Compat) {
                        var c = function() {
                            l(), arguments.callee.prevScrollHandler.apply(this, arguments)
                        };
                        t.$.setTimeout(function() {
                            c.prevScrollHandler = window.onscroll || function() {}, window.onscroll = c
                        }, 0), l()
                    }
                }

                function c(e) {
                    b && (e.focusManager.remove(b), e = CKEDITOR.document.getWindow(), b.hide(), e.removeListener("resize", E), CKEDITOR.env.ie6Compat && e.$.setTimeout(function() {
                        window.onscroll = window.onscroll && window.onscroll.prevScrollHandler || null
                    }, 0), E = null)
                }
                var u = CKEDITOR.tools.cssLength,
                    d = '<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog ' + CKEDITOR.env.cssClass + ' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';
                CKEDITOR.dialog = function(t, r) {
                    function i(e) {
                        var t = v._.focusList;
                        if (e = e || 0, !(1 > t.length)) {
                            var n = v._.currentFocusIndex;
                            v._.tabBarMode && 0 > e && (n = 0);
                            try {
                                t[n].getInputElement().$.blur()
                            } catch (e) {}
                            var r = n,
                                i = 1 < v._.pageCount;
                            do {
                                if (r += e, i && !v._.tabBarMode && (r == t.length || -1 == r)) return v._.tabBarMode = !0, v._.tabs[v._.currentTabId][0].focus(), void(v._.currentFocusIndex = -1);
                                if ((r = (r + t.length) % t.length) == n) break
                            } while (e && !t[r].isFocusable());
                            t[r].focus(), "text" == t[r].type && t[r].select()
                        }
                    }

                    function s(n) {
                        if (v == CKEDITOR.dialog._.currentTop) {
                            var r = n.data.getKeystroke(),
                                o = "rtl" == t.lang.dir;
                            if (c = u = 0, 9 == r || r == CKEDITOR.SHIFT + 9) i(r == CKEDITOR.SHIFT + 9 ? -1 : 1), c = 1;
                            else if (r == CKEDITOR.ALT + 121 && !v._.tabBarMode && 1 < v.getPageCount()) v._.tabBarMode = !0, v._.tabs[v._.currentTabId][0].focus(), v._.currentFocusIndex = -1, c = 1;
                            else if (-1 != CKEDITOR.tools.indexOf([37, 38, 39, 40], r) && v._.tabBarMode) r = -1 != CKEDITOR.tools.indexOf([o ? 39 : 37, 38], r) ? e.call(v) : (function() {
                                for (var e = this._.tabIdList.length, t = CKEDITOR.tools.indexOf(this._.tabIdList, this._.currentTabId), n = t + 1; n < t + e; n++)
                                    if (this._.tabs[this._.tabIdList[n % e]][0].$.offsetHeight) return this._.tabIdList[n % e];
                                return null
                            }).call(v), v.selectPage(r), v._.tabs[r][0].focus(), c = 1;
                            else if (13 != r && 32 != r || !v._.tabBarMode)
                                if (13 == r)(r = n.data.getTarget()).is("a", "button", "select", "textarea") || r.is("input") && "button" == r.$.type || ((r = this.getButton("ok")) && CKEDITOR.tools.setTimeout(r.click, 0, r), c = 1), u = 1;
                                else {
                                    if (27 != r) return;
                                    (r = this.getButton("cancel")) ? CKEDITOR.tools.setTimeout(r.click, 0, r): !1 !== this.fire("cancel", {
                                        hide: !0
                                    }).hide && this.hide(), u = 1
                                }
                            else this.selectPage(this._.currentTabId), this._.tabBarMode = !1, this._.currentFocusIndex = -1, i(1), c = 1;
                            l(n)
                        }
                    }

                    function l(e) {
                        c ? e.data.preventDefault(1) : u && e.data.stopPropagation()
                    }
                    var c, u, d = CKEDITOR.dialog._.dialogDefinitions[r],
                        p = CKEDITOR.tools.clone(h),
                        f = t.config.dialog_buttonsOrder || "OS",
                        m = t.lang.dir,
                        E = {};
                    if (("OS" == f && CKEDITOR.env.mac || "rtl" == f && "ltr" == m || "ltr" == f && "rtl" == m) && p.buttons.reverse(), d = CKEDITOR.tools.extend(d(t), p), d = CKEDITOR.tools.clone(d), d = new g(this, d), p = n(t), this._ = {
                            editor: t,
                            element: p.element,
                            name: r,
                            contentSize: {
                                width: 0,
                                height: 0
                            },
                            size: {
                                width: 0,
                                height: 0
                            },
                            contents: {},
                            buttons: {},
                            accessKeyMap: {},
                            tabs: {},
                            tabIdList: [],
                            currentTabId: null,
                            currentTabIndex: null,
                            pageCount: 0,
                            lastTab: null,
                            tabBarMode: !1,
                            focusList: [],
                            currentFocusIndex: 0,
                            hasFocus: !1
                        }, this.parts = p.parts, CKEDITOR.tools.setTimeout(function() {
                            t.fire("ariaWidget", this.parts.contents)
                        }, 0, this), (p = {
                            position: CKEDITOR.env.ie6Compat ? "absolute" : "fixed",
                            top: 0,
                            visibility: "hidden"
                        })["rtl" == m ? "right" : "left"] = 0, this.parts.dialog.setStyles(p), CKEDITOR.event.call(this), this.definition = d = CKEDITOR.fire("dialogDefinition", {
                            name: r,
                            definition: d
                        }, t).definition, !("removeDialogTabs" in t._) && t.config.removeDialogTabs) {
                        for (p = t.config.removeDialogTabs.split(";"), m = 0; m < p.length; m++)
                            if (2 == (f = p[m].split(":")).length) {
                                var b = f[0];
                                E[b] || (E[b] = []), E[b].push(f[1])
                            }
                        t._.removeDialogTabs = E
                    }
                    if (t._.removeDialogTabs && (E = t._.removeDialogTabs[r]))
                        for (m = 0; m < E.length; m++) d.removeContents(E[m]);
                    d.onLoad && this.on("load", d.onLoad), d.onShow && this.on("show", d.onShow), d.onHide && this.on("hide", d.onHide), d.onOk && this.on("ok", function(e) {
                        t.fire("saveSnapshot"), setTimeout(function() {
                            t.fire("saveSnapshot")
                        }, 0), !1 === d.onOk.call(this, e) && (e.data.hide = !1)
                    }), this.state = CKEDITOR.DIALOG_STATE_IDLE, d.onCancel && this.on("cancel", function(e) {
                        !1 === d.onCancel.call(this, e) && (e.data.hide = !1)
                    });
                    var v = this,
                        T = function(e) {
                            var t, n = v._.contents;
                            for (t in n)
                                for (var r in n[t])
                                    if (e.call(this, n[t][r])) return
                        };
                    this.on("ok", function(e) {
                        T(function(t) {
                            if (t.validate) {
                                var n = t.validate(this),
                                    r = "string" == typeof n || !1 === n;
                                return r && (e.data.hide = !1, e.stop()), (function(e, t) {
                                    var n = this.getInputElement();
                                    n && (e ? n.removeAttribute("aria-invalid") : n.setAttribute("aria-invalid", !0)), e || (this.select ? this.select() : this.focus()), t && alert(t), this.fire("validated", {
                                        valid: e,
                                        msg: t
                                    })
                                }).call(t, !r, "string" == typeof n ? n : void 0), r
                            }
                        })
                    }, this, null, 0), this.on("cancel", function(e) {
                        T(function(n) {
                            if (n.isChanged()) return t.config.dialog_noConfirmCancel || confirm(t.lang.common.confirmCancel) || (e.data.hide = !1), !0
                        })
                    }, this, null, 0), this.parts.close.on("click", function(e) {
                        !1 !== this.fire("cancel", {
                            hide: !0
                        }).hide && this.hide(), e.data.preventDefault()
                    }, this), this.changeFocus = i;
                    var y = this._.element;
                    for (t.focusManager.add(y, 1), this.on("show", function() {
                            y.on("keydown", s, this), CKEDITOR.env.gecko && y.on("keypress", l, this)
                        }), this.on("hide", function() {
                            y.removeListener("keydown", s), CKEDITOR.env.gecko && y.removeListener("keypress", l), T(function(e) {
                                (function() {
                                    var e = this.getInputElement();
                                    e && e.removeAttribute("aria-invalid")
                                }).apply(e)
                            })
                        }), this.on("iframeAdded", function(e) {
                            new CKEDITOR.dom.document(e.data.iframe.$.contentWindow.document).on("keydown", s, this, null, 0)
                        }), this.on("show", function() {
                            ! function() {
                                var e = v._.focusList;
                                e.sort(function(e, t) {
                                    return e.tabIndex != t.tabIndex ? t.tabIndex - e.tabIndex : e.focusIndex - t.focusIndex
                                });
                                for (var t = e.length, n = 0; n < t; n++) e[n].focusIndex = n
                            }();
                            var e = 1 < v._.pageCount;
                            t.config.dialog_startupFocusTab && e ? (v._.tabBarMode = !0, v._.tabs[v._.currentTabId][0].focus(), v._.currentFocusIndex = -1) : this._.hasFocus || (this._.currentFocusIndex = e ? -1 : this._.focusList.length - 1, d.onFocus ? (e = d.onFocus.call(this)) && e.focus() : i(1))
                        }, this, null, 4294967295), CKEDITOR.env.ie6Compat && this.on("load", function() {
                            var e = this.getElement(),
                                t = e.getFirst();
                            t.remove(), t.appendTo(e)
                        }, this), o(this), a(this), new CKEDITOR.dom.text(d.title, CKEDITOR.document).appendTo(this.parts.title), m = 0; m < d.contents.length; m++)(E = d.contents[m]) && this.addPage(E);
                    for (this.parts.tabs.on("click", function(e) {
                            var t = e.data.getTarget();
                            t.hasClass("cke_dialog_tab") && (this.selectPage((t = t.$.id).substring(4, t.lastIndexOf("_"))), this._.tabBarMode && (this._.tabBarMode = !1, this._.currentFocusIndex = -1, i(1)), e.data.preventDefault())
                        }, this), m = [], E = CKEDITOR.dialog._.uiElementBuilders.hbox.build(this, {
                            type: "hbox",
                            className: "cke_dialog_footer_buttons",
                            widths: [],
                            children: d.buttons
                        }, m).getChild(), this.parts.footer.setHtml(m.join("")), m = 0; m < E.length; m++) this._.buttons[E[m].id] = E[m]
                }, CKEDITOR.dialog.prototype = {
                    destroy: function() {
                        this.hide(), this._.element.remove()
                    },
                    resize: function(e, t) {
                        this._.contentSize && this._.contentSize.width == e && this._.contentSize.height == t || (CKEDITOR.dialog.fire("resize", {
                            dialog: this,
                            width: e,
                            height: t
                        }, this._.editor), this.fire("resize", {
                            width: e,
                            height: t
                        }, this._.editor), this.parts.contents.setStyles({
                            width: e + "px",
                            height: t + "px"
                        }), "rtl" == this._.editor.lang.dir && this._.position && (this._.position.x = CKEDITOR.document.getWindow().getViewPaneSize().width - this._.contentSize.width - parseInt(this._.element.getFirst().getStyle("right"), 10)), this._.contentSize = {
                            width: e,
                            height: t
                        })
                    },
                    getSize: function() {
                        var e = this._.element.getFirst();
                        return {
                            width: e.$.offsetWidth || 0,
                            height: e.$.offsetHeight || 0
                        }
                    },
                    move: function(e, t, n) {
                        var r = this._.element.getFirst(),
                            i = "rtl" == this._.editor.lang.dir,
                            o = "fixed" == r.getComputedStyle("position");
                        CKEDITOR.env.ie && r.setStyle("zoom", "100%"), o && this._.position && this._.position.x == e && this._.position.y == t || (this._.position = {
                            x: e,
                            y: t
                        }, o || (e += (o = CKEDITOR.document.getWindow().getScrollPosition()).x, t += o.y), i && (o = this.getSize(), e = CKEDITOR.document.getWindow().getViewPaneSize().width - o.width - e), (t = {
                            top: (0 < t ? t : 0) + "px"
                        })[i ? "right" : "left"] = (0 < e ? e : 0) + "px", r.setStyles(t), n && (this._.moved = 1))
                    },
                    getPosition: function() {
                        return CKEDITOR.tools.extend({}, this._.position)
                    },
                    show: function() {
                        var e = this._.element,
                            t = this.definition;
                        for (var n in e.getParent() && e.getParent().equals(CKEDITOR.document.getBody()) ? e.setStyle("display", "block") : e.appendTo(CKEDITOR.document.getBody()), this.resize(this._.contentSize && this._.contentSize.width || t.width || t.minWidth, this._.contentSize && this._.contentSize.height || t.height || t.minHeight), this.reset(), null === this._.currentTabId && this.selectPage(this.definition.contents[0].id), null === CKEDITOR.dialog._.currentZIndex && (CKEDITOR.dialog._.currentZIndex = this._.editor.config.baseFloatZIndex), this._.element.getFirst().setStyle("z-index", CKEDITOR.dialog._.currentZIndex += 10), null === CKEDITOR.dialog._.currentTop ? (CKEDITOR.dialog._.currentTop = this, this._.parentDialog = null, l(this._.editor)) : (this._.parentDialog = CKEDITOR.dialog._.currentTop, this._.parentDialog.getElement().getFirst().$.style.zIndex -= Math.floor(this._.editor.config.baseFloatZIndex / 2), CKEDITOR.dialog._.currentTop = this), e.on("keydown", y), e.on("keyup", C), this._.hasFocus = !1, t.contents)
                            if (t.contents[n]) {
                                var r = this._.tabs[(e = t.contents[n]).id],
                                    i = e.requiredContent,
                                    o = 0;
                                if (r) {
                                    for (var a in this._.contents[e.id]) {
                                        var s = this._.contents[e.id][a];
                                        "hbox" != s.type && "vbox" != s.type && s.getInputElement() && (s.requiredContent && !this._.editor.activeFilter.check(s.requiredContent) ? s.disable() : (s.enable(), o++))
                                    }!o || i && !this._.editor.activeFilter.check(i) ? r[0].addClass("cke_dialog_tab_disabled") : r[0].removeClass("cke_dialog_tab_disabled")
                                }
                            }
                        CKEDITOR.tools.setTimeout(function() {
                            this.layout(),
                                function(e) {
                                    function t() {
                                        e.layout()
                                    }
                                    var n = CKEDITOR.document.getWindow();
                                    n.on("resize", t), e.on("hide", function() {
                                        n.removeListener("resize", t)
                                    })
                                }(this), this.parts.dialog.setStyle("visibility", ""), this.fireOnce("load", {}), CKEDITOR.ui.fire("ready", this), this.fire("show", {}), this._.editor.fire("dialogShow", this), this._.parentDialog || this._.editor.focusManager.lock(), this.foreach(function(e) {
                                    e.setInitValue && e.setInitValue()
                                })
                        }, 100, this)
                    },
                    layout: function() {
                        var e = this.parts.dialog,
                            t = this.getSize(),
                            n = CKEDITOR.document.getWindow().getViewPaneSize(),
                            r = (n.width - t.width) / 2,
                            i = (n.height - t.height) / 2;
                        CKEDITOR.env.ie6Compat || e.setStyle("position", t.height + (0 < i ? i : 0) > n.height || t.width + (0 < r ? r : 0) > n.width ? "absolute" : "fixed"), this.move(this._.moved ? this._.position.x : r, this._.moved ? this._.position.y : i)
                    },
                    foreach: function(e) {
                        for (var t in this._.contents)
                            for (var n in this._.contents[t]) e.call(this, this._.contents[t][n]);
                        return this
                    },
                    reset: function() {
                        var e = function(e) {
                            e.reset && e.reset(1)
                        };
                        return function() {
                            return this.foreach(e), this
                        }
                    }(),
                    setupContent: function() {
                        var e = arguments;
                        this.foreach(function(t) {
                            t.setup && t.setup.apply(t, e)
                        })
                    },
                    commitContent: function() {
                        var e = arguments;
                        this.foreach(function(t) {
                            CKEDITOR.env.ie && this._.currentFocusIndex == t.focusIndex && t.getInputElement().$.blur(), t.commit && t.commit.apply(t, e)
                        })
                    },
                    hide: function() {
                        if (this.parts.dialog.isVisible()) {
                            this.fire("hide", {}), this._.editor.fire("dialogHide", this), this.selectPage(this._.tabIdList[0]);
                            var e = this._.element;
                            for (e.setStyle("display", "none"), this.parts.dialog.setStyle("visibility", "hidden"), w(this); CKEDITOR.dialog._.currentTop != this;) CKEDITOR.dialog._.currentTop.hide();
                            if (this._.parentDialog) {
                                var t = this._.parentDialog.getElement().getFirst();
                                t.setStyle("z-index", parseInt(t.$.style.zIndex, 10) + Math.floor(this._.editor.config.baseFloatZIndex / 2))
                            } else c(this._.editor);
                            if (CKEDITOR.dialog._.currentTop = this._.parentDialog) CKEDITOR.dialog._.currentZIndex -= 10;
                            else {
                                CKEDITOR.dialog._.currentZIndex = null, e.removeListener("keydown", y), e.removeListener("keyup", C);
                                var n = this._.editor;
                                n.focus(), setTimeout(function() {
                                    n.focusManager.unlock(), CKEDITOR.env.iOS && n.window.focus()
                                }, 0)
                            }
                            delete this._.parentDialog, this.foreach(function(e) {
                                e.resetInitValue && e.resetInitValue()
                            }), this.setState(CKEDITOR.DIALOG_STATE_IDLE)
                        }
                    },
                    addPage: function(e) {
                        if (!e.requiredContent || this._.editor.filter.check(e.requiredContent)) {
                            for (var t = [], n = e.label ? ' title="' + CKEDITOR.tools.htmlEncode(e.label) + '"' : "", r = CKEDITOR.dialog._.uiElementBuilders.vbox.build(this, {
                                    type: "vbox",
                                    className: "cke_dialog_page_contents",
                                    children: e.elements,
                                    expand: !!e.expand,
                                    padding: e.padding,
                                    style: e.style || "width: 100%;"
                                }, t), i = this._.contents[e.id] = {}, o = r.getChild(), a = 0; r = o.shift();) r.notAllowed || "hbox" == r.type || "vbox" == r.type || a++, i[r.id] = r, "function" == typeof r.getChild && o.push.apply(o, r.getChild());
                            a || (e.hidden = !0), (t = CKEDITOR.dom.element.createFromHtml(t.join(""))).setAttribute("role", "tabpanel"), r = CKEDITOR.env, i = "cke_" + e.id + "_" + CKEDITOR.tools.getNextNumber(), n = CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"', 0 < this._.pageCount ? " cke_last" : "cke_first", n, e.hidden ? ' style="display:none"' : "", ' id="', i, '"', r.gecko && !r.hc ? "" : ' href="javascript:void(0)"', ' tabIndex="-1" hidefocus="true" role="tab">', e.label, "</a>"].join("")), t.setAttribute("aria-labelledby", i), this._.tabs[e.id] = [n, t], this._.tabIdList.push(e.id), !e.hidden && this._.pageCount++, this._.lastTab = n, this.updateStyle(), t.setAttribute("name", e.id), t.appendTo(this.parts.contents), n.unselectable(), this.parts.tabs.append(n), e.accessKey && (k(this, this, "CTRL+" + e.accessKey, x, _), this._.accessKeyMap["CTRL+" + e.accessKey] = e.id)
                        }
                    },
                    selectPage: function(e) {
                        if (this._.currentTabId != e && !this._.tabs[e][0].hasClass("cke_dialog_tab_disabled") && !1 !== this.fire("selectPage", {
                                page: e,
                                currentPage: this._.currentTabId
                            })) {
                            for (var n in this._.tabs) {
                                var r = this._.tabs[n][1];
                                n != e && (this._.tabs[n][0].removeClass("cke_dialog_tab_selected"), r.hide()), r.setAttribute("aria-hidden", n != e)
                            }
                            var i = this._.tabs[e];
                            i[0].addClass("cke_dialog_tab_selected"), CKEDITOR.env.ie6Compat || CKEDITOR.env.ie7Compat ? (t(i[1]), i[1].show(), setTimeout(function() {
                                t(i[1], 1)
                            }, 0)) : i[1].show(), this._.currentTabId = e, this._.currentTabIndex = CKEDITOR.tools.indexOf(this._.tabIdList, e)
                        }
                    },
                    updateStyle: function() {
                        this.parts.dialog[(1 === this._.pageCount ? "add" : "remove") + "Class"]("cke_single_page")
                    },
                    hidePage: function(t) {
                        var n = this._.tabs[t] && this._.tabs[t][0];
                        n && 1 != this._.pageCount && n.isVisible() && (t == this._.currentTabId && this.selectPage(e.call(this)), n.hide(), this._.pageCount--, this.updateStyle())
                    },
                    showPage: function(e) {
                        (e = this._.tabs[e] && this._.tabs[e][0]) && (e.show(), this._.pageCount++, this.updateStyle())
                    },
                    getElement: function() {
                        return this._.element
                    },
                    getName: function() {
                        return this._.name
                    },
                    getContentElement: function(e, t) {
                        var n = this._.contents[e];
                        return n && n[t]
                    },
                    getValueOf: function(e, t) {
                        return this.getContentElement(e, t).getValue()
                    },
                    setValueOf: function(e, t, n) {
                        return this.getContentElement(e, t).setValue(n)
                    },
                    getButton: function(e) {
                        return this._.buttons[e]
                    },
                    click: function(e) {
                        return this._.buttons[e].click()
                    },
                    disableButton: function(e) {
                        return this._.buttons[e].disable()
                    },
                    enableButton: function(e) {
                        return this._.buttons[e].enable()
                    },
                    getPageCount: function() {
                        return this._.pageCount
                    },
                    getParentEditor: function() {
                        return this._.editor
                    },
                    getSelectedElement: function() {
                        return this.getParentEditor().getSelection().getSelectedElement()
                    },
                    addFocusable: function(e, t) {
                        if (void 0 === t) this._.focusList.push(new r(this, e, t = this._.focusList.length));
                        else {
                            this._.focusList.splice(t, 0, new r(this, e, t));
                            for (var n = t + 1; n < this._.focusList.length; n++) this._.focusList[n].focusIndex++
                        }
                    },
                    setState: function(e) {
                        if (this.state != e) {
                            if (this.state = e, e == CKEDITOR.DIALOG_STATE_BUSY) {
                                if (!this.parts.spinner) {
                                    var t = this.getParentEditor().lang.dir,
                                        n = {
                                            attributes: {
                                                class: "cke_dialog_spinner"
                                            },
                                            styles: {
                                                float: "rtl" == t ? "right" : "left"
                                            }
                                        };
                                    n.styles["margin-" + ("rtl" == t ? "left" : "right")] = "8px", this.parts.spinner = CKEDITOR.document.createElement("div", n), this.parts.spinner.setHtml("&#8987;"), this.parts.spinner.appendTo(this.parts.title, 1)
                                }
                                this.parts.spinner.show(), this.getButton("ok").disable()
                            } else e == CKEDITOR.DIALOG_STATE_IDLE && (this.parts.spinner && this.parts.spinner.hide(), this.getButton("ok").enable());
                            this.fire("state", e)
                        }
                    }
                }, CKEDITOR.tools.extend(CKEDITOR.dialog, {
                    add: function(e, t) {
                        this._.dialogDefinitions[e] && "function" != typeof t || (this._.dialogDefinitions[e] = t)
                    },
                    exists: function(e) {
                        return !!this._.dialogDefinitions[e]
                    },
                    getCurrent: function() {
                        return CKEDITOR.dialog._.currentTop
                    },
                    isTabEnabled: function(e, t, n) {
                        return !((e = e.config.removeDialogTabs) && e.match(new RegExp("(?:^|;)" + t + ":" + n + "(?:$|;)", "i")))
                    },
                    okButton: function() {
                        var e = function(e, t) {
                            return t = t || {}, CKEDITOR.tools.extend({
                                id: "ok",
                                type: "button",
                                label: e.lang.common.ok,
                                class: "cke_dialog_ui_button_ok",
                                onClick: function(e) {
                                    !1 !== (e = e.data.dialog).fire("ok", {
                                        hide: !0
                                    }).hide && e.hide()
                                }
                            }, t, !0)
                        };
                        return e.type = "button", e.override = function(t) {
                            return CKEDITOR.tools.extend(function(n) {
                                return e(n, t)
                            }, {
                                type: "button"
                            }, !0)
                        }, e
                    }(),
                    cancelButton: function() {
                        var e = function(e, t) {
                            return t = t || {}, CKEDITOR.tools.extend({
                                id: "cancel",
                                type: "button",
                                label: e.lang.common.cancel,
                                class: "cke_dialog_ui_button_cancel",
                                onClick: function(e) {
                                    !1 !== (e = e.data.dialog).fire("cancel", {
                                        hide: !0
                                    }).hide && e.hide()
                                }
                            }, t, !0)
                        };
                        return e.type = "button", e.override = function(t) {
                            return CKEDITOR.tools.extend(function(n) {
                                return e(n, t)
                            }, {
                                type: "button"
                            }, !0)
                        }, e
                    }(),
                    addUIElement: function(e, t) {
                        this._.uiElementBuilders[e] = t
                    }
                }), CKEDITOR.dialog._ = {
                    uiElementBuilders: {},
                    dialogDefinitions: {},
                    currentTop: null,
                    currentZIndex: null
                }, CKEDITOR.event.implementOn(CKEDITOR.dialog), CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);
                var h = {
                        resizable: CKEDITOR.DIALOG_RESIZE_BOTH,
                        minWidth: 600,
                        minHeight: 400,
                        buttons: [CKEDITOR.dialog.okButton, CKEDITOR.dialog.cancelButton]
                    },
                    p = function(e, t, n) {
                        for (var r, i = 0; r = e[i]; i++)
                            if (r.id == t || n && r[n] && (r = p(r[n], t, n))) return r;
                        return null
                    },
                    f = function(e, t, n, r, i) {
                        if (n) {
                            for (var o, a = 0; o = e[a]; a++) {
                                if (o.id == n) return e.splice(a, 0, t), t;
                                if (r && o[r] && (o = f(o[r], t, n, r, !0))) return o
                            }
                            if (i) return null
                        }
                        return e.push(t), t
                    },
                    m = function(e, t, n) {
                        for (var r, i = 0; r = e[i]; i++) {
                            if (r.id == t) return e.splice(i, 1);
                            if (n && r[n] && (r = m(r[n], t, n))) return r
                        }
                        return null
                    },
                    g = function(e, t) {
                        this.dialog = e;
                        for (var n, r = t.contents, o = 0; n = r[o]; o++) r[o] = n && new i(e, n);
                        CKEDITOR.tools.extend(this, t)
                    };
                g.prototype = {
                    getContents: function(e) {
                        return p(this.contents, e)
                    },
                    getButton: function(e) {
                        return p(this.buttons, e)
                    },
                    addContents: function(e, t) {
                        return f(this.contents, e, t)
                    },
                    addButton: function(e, t) {
                        return f(this.buttons, e, t)
                    },
                    removeContents: function(e) {
                        m(this.contents, e)
                    },
                    removeButton: function(e) {
                        m(this.buttons, e)
                    }
                }, i.prototype = {
                    get: function(e) {
                        return p(this.elements, e, "children")
                    },
                    add: function(e, t) {
                        return f(this.elements, e, t, "children")
                    },
                    remove: function(e) {
                        m(this.elements, e, "children")
                    }
                };
                var E, b, v = {},
                    T = {},
                    y = function(e) {
                        var t = e.data.$.ctrlKey || e.data.$.metaKey,
                            n = e.data.$.altKey,
                            r = e.data.$.shiftKey,
                            i = String.fromCharCode(e.data.$.keyCode);
                        (t = T[(t ? "CTRL+" : "") + (n ? "ALT+" : "") + (r ? "SHIFT+" : "") + i]) && t.length && ((t = t[t.length - 1]).keydown && t.keydown.call(t.uiElement, t.dialog, t.key), e.data.preventDefault())
                    },
                    C = function(e) {
                        var t = e.data.$.ctrlKey || e.data.$.metaKey,
                            n = e.data.$.altKey,
                            r = e.data.$.shiftKey,
                            i = String.fromCharCode(e.data.$.keyCode);
                        (t = T[(t ? "CTRL+" : "") + (n ? "ALT+" : "") + (r ? "SHIFT+" : "") + i]) && t.length && (t = t[t.length - 1]).keyup && (t.keyup.call(t.uiElement, t.dialog, t.key), e.data.preventDefault())
                    },
                    k = function(e, t, n, r, i) {
                        (T[n] || (T[n] = [])).push({
                            uiElement: e,
                            dialog: t,
                            key: n,
                            keyup: i || e.accessKeyUp,
                            keydown: r || e.accessKeyDown
                        })
                    },
                    w = function(e) {
                        for (var t in T) {
                            for (var n = T[t], r = n.length - 1; 0 <= r; r--) n[r].dialog != e && n[r].uiElement != e || n.splice(r, 1);
                            0 === n.length && delete T[t]
                        }
                    },
                    _ = function(e, t) {
                        e._.accessKeyMap[t] && e.selectPage(e._.accessKeyMap[t])
                    },
                    x = function() {};
                CKEDITOR.ui.dialog = {
                        uiElement: function(e, t, n, r, i, o, a) {
                            if (!(4 > arguments.length)) {
                                var s = (r.call ? r(t) : r) || "div",
                                    l = ["<", s, " "],
                                    c = (i && i.call ? i(t) : i) || {},
                                    u = (o && o.call ? o(t) : o) || {},
                                    d = (a && a.call ? a.call(this, e, t) : a) || "",
                                    h = this.domId = u.id || CKEDITOR.tools.getNextId() + "_uiElement";
                                t.requiredContent && !e.getParentEditor().filter.check(t.requiredContent) && (c.display = "none", this.notAllowed = !0), u.id = h;
                                var p = {};
                                t.type && (p["cke_dialog_ui_" + t.type] = 1), t.className && (p[t.className] = 1), t.disabled && (p.cke_disabled = 1);
                                var f = u.class && u.class.split ? u.class.split(" ") : [];
                                for (h = 0; h < f.length; h++) f[h] && (p[f[h]] = 1);
                                for (h in f = [], p) f.push(h);
                                for (h in u.class = f.join(" "), t.title && (u.title = t.title), p = (t.style || "").split(";"), t.align && (c["margin-left"] = "left" == (f = t.align) ? 0 : "auto", c["margin-right"] = "right" == f ? 0 : "auto"), c) p.push(h + ":" + c[h]);
                                for (t.hidden && p.push("display:none"), h = p.length - 1; 0 <= h; h--) "" === p[h] && p.splice(h, 1);
                                for (h in 0 < p.length && (u.style = (u.style ? u.style + "; " : "") + p.join("; ")), u) l.push(h + '="' + CKEDITOR.tools.htmlEncode(u[h]) + '" ');
                                l.push(">", d, "</", s, ">"), n.push(l.join("")), (this._ || (this._ = {})).dialog = e, "boolean" == typeof t.isChanged && (this.isChanged = function() {
                                    return t.isChanged
                                }), "function" == typeof t.isChanged && (this.isChanged = t.isChanged), "function" == typeof t.setValue && (this.setValue = CKEDITOR.tools.override(this.setValue, function(e) {
                                    return function(n) {
                                        e.call(this, t.setValue.call(this, n))
                                    }
                                })), "function" == typeof t.getValue && (this.getValue = CKEDITOR.tools.override(this.getValue, function(e) {
                                    return function() {
                                        return t.getValue.call(this, e.call(this))
                                    }
                                })), CKEDITOR.event.implementOn(this), this.registerEvents(t), this.accessKeyUp && this.accessKeyDown && t.accessKey && k(this, e, "CTRL+" + t.accessKey);
                                var m = this;
                                e.on("load", function() {
                                    var t = m.getInputElement();
                                    if (t) {
                                        var n = m.type in {
                                            checkbox: 1,
                                            ratio: 1
                                        } && CKEDITOR.env.ie && 8 > CKEDITOR.env.version ? "cke_dialog_ui_focused" : "";
                                        t.on("focus", function() {
                                            e._.tabBarMode = !1, e._.hasFocus = !0, m.fire("focus"), n && this.addClass(n)
                                        }), t.on("blur", function() {
                                            m.fire("blur"), n && this.removeClass(n)
                                        })
                                    }
                                }), CKEDITOR.tools.extend(this, t), this.keyboardFocusable && (this.tabIndex = t.tabIndex || 0, this.focusIndex = e._.focusList.push(this) - 1, this.on("focus", function() {
                                    e._.currentFocusIndex = m.focusIndex
                                }))
                            }
                        },
                        hbox: function(e, t, n, r, i) {
                            if (!(4 > arguments.length)) {
                                this._ || (this._ = {});
                                var o, a = this._.children = t,
                                    s = i && i.widths || null,
                                    l = i && i.height || null,
                                    c = {
                                        role: "presentation"
                                    };
                                i && i.align && (c.align = i.align), CKEDITOR.ui.dialog.uiElement.call(this, e, i || {
                                    type: "hbox"
                                }, r, "table", {}, c, function() {
                                    var e = ['<tbody><tr class="cke_dialog_ui_hbox">'];
                                    for (o = 0; o < n.length; o++) {
                                        var t = "cke_dialog_ui_hbox_child",
                                            r = [];
                                        0 === o && (t = "cke_dialog_ui_hbox_first"), o == n.length - 1 && (t = "cke_dialog_ui_hbox_last"), e.push('<td class="', t, '" role="presentation" '), s ? s[o] && r.push("width:" + u(s[o])) : r.push("width:" + Math.floor(100 / n.length) + "%"), l && r.push("height:" + u(l)), i && void 0 !== i.padding && r.push("padding:" + u(i.padding)), CKEDITOR.env.ie && CKEDITOR.env.quirks && a[o].align && r.push("text-align:" + a[o].align), 0 < r.length && e.push('style="' + r.join("; ") + '" '), e.push(">", n[o], "</td>")
                                    }
                                    return e.push("</tr></tbody>"), e.join("")
                                })
                            }
                        },
                        vbox: function(e, t, n, r, i) {
                            if (!(3 > arguments.length)) {
                                this._ || (this._ = {});
                                var o = this._.children = t,
                                    a = i && i.width || null,
                                    s = i && i.heights || null;
                                CKEDITOR.ui.dialog.uiElement.call(this, e, i || {
                                    type: "vbox"
                                }, r, "div", null, {
                                    role: "presentation"
                                }, function() {
                                    var t = ['<table role="presentation" cellspacing="0" border="0" '];
                                    t.push('style="'), i && i.expand && t.push("height:100%;"), t.push("width:" + u(a || "100%"), ";"), CKEDITOR.env.webkit && t.push("float:none;"), t.push('"'), t.push('align="', CKEDITOR.tools.htmlEncode(i && i.align || ("ltr" == e.getParentEditor().lang.dir ? "left" : "right")), '" '), t.push("><tbody>");
                                    for (var r = 0; r < n.length; r++) {
                                        var l = [];
                                        t.push('<tr><td role="presentation" '), a && l.push("width:" + u(a || "100%")), s ? l.push("height:" + u(s[r])) : i && i.expand && l.push("height:" + Math.floor(100 / n.length) + "%"), i && void 0 !== i.padding && l.push("padding:" + u(i.padding)), CKEDITOR.env.ie && CKEDITOR.env.quirks && o[r].align && l.push("text-align:" + o[r].align), 0 < l.length && t.push('style="', l.join("; "), '" '), t.push(' class="cke_dialog_ui_vbox_child">', n[r], "</td></tr>")
                                    }
                                    return t.push("</tbody></table>"), t.join("")
                                })
                            }
                        }
                    }, CKEDITOR.ui.dialog.uiElement.prototype = {
                        getElement: function() {
                            return CKEDITOR.document.getById(this.domId)
                        },
                        getInputElement: function() {
                            return this.getElement()
                        },
                        getDialog: function() {
                            return this._.dialog
                        },
                        setValue: function(e, t) {
                            return this.getInputElement().setValue(e), !t && this.fire("change", {
                                value: e
                            }), this
                        },
                        getValue: function() {
                            return this.getInputElement().getValue()
                        },
                        isChanged: function() {
                            return !1
                        },
                        selectParentTab: function() {
                            for (var e = this.getInputElement();
                                (e = e.getParent()) && -1 == e.$.className.search("cke_dialog_page_contents"););
                            return e ? (e = e.getAttribute("name"), this._.dialog._.currentTabId != e && this._.dialog.selectPage(e), this) : this
                        },
                        focus: function() {
                            return this.selectParentTab().getInputElement().focus(), this
                        },
                        registerEvents: function(e) {
                            var t, n, r = /^on([A-Z]\w+)/,
                                i = function(e, t, n, r) {
                                    t.on("load", function() {
                                        e.getInputElement().on(n, r, e)
                                    })
                                };
                            for (n in e)(t = n.match(r)) && (this.eventProcessors[n] ? this.eventProcessors[n].call(this, this._.dialog, e[n]) : i(this, this._.dialog, t[1].toLowerCase(), e[n]));
                            return this
                        },
                        eventProcessors: {
                            onLoad: function(e, t) {
                                e.on("load", t, this)
                            },
                            onShow: function(e, t) {
                                e.on("show", t, this)
                            },
                            onHide: function(e, t) {
                                e.on("hide", t, this)
                            }
                        },
                        accessKeyDown: function() {
                            this.focus()
                        },
                        accessKeyUp: function() {},
                        disable: function() {
                            var e = this.getElement();
                            this.getInputElement().setAttribute("disabled", "true"), e.addClass("cke_disabled")
                        },
                        enable: function() {
                            var e = this.getElement();
                            this.getInputElement().removeAttribute("disabled"), e.removeClass("cke_disabled")
                        },
                        isEnabled: function() {
                            return !this.getElement().hasClass("cke_disabled")
                        },
                        isVisible: function() {
                            return this.getInputElement().isVisible()
                        },
                        isFocusable: function() {
                            return !(!this.isEnabled() || !this.isVisible())
                        }
                    }, CKEDITOR.ui.dialog.hbox.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement, {
                        getChild: function(e) {
                            return 1 > arguments.length ? this._.children.concat() : (e.splice || (e = [e]), 2 > e.length ? this._.children[e[0]] : this._.children[e[0]] && this._.children[e[0]].getChild ? this._.children[e[0]].getChild(e.slice(1, e.length)) : null)
                        }
                    }, !0), CKEDITOR.ui.dialog.vbox.prototype = new CKEDITOR.ui.dialog.hbox,
                    function() {
                        var e = {
                            build: function(e, t, n) {
                                for (var r, i = t.children, o = [], a = [], s = 0; s < i.length && (r = i[s]); s++) {
                                    var l = [];
                                    o.push(l), a.push(CKEDITOR.dialog._.uiElementBuilders[r.type].build(e, r, l))
                                }
                                return new CKEDITOR.ui.dialog[t.type](e, a, o, n, t)
                            }
                        };
                        CKEDITOR.dialog.addUIElement("hbox", e), CKEDITOR.dialog.addUIElement("vbox", e)
                    }(), CKEDITOR.dialogCommand = function(e, t) {
                        this.dialogName = e, CKEDITOR.tools.extend(this, t, !0)
                    }, CKEDITOR.dialogCommand.prototype = {
                        exec: function(e) {
                            var t = this.tabId;
                            e.openDialog(this.dialogName, function(e) {
                                t && e.selectPage(t)
                            })
                        },
                        canUndo: !1,
                        editorFocus: 1
                    },
                    function() {
                        var e = /^([a]|[^a])+$/,
                            t = /^\d*$/,
                            n = /^\d*(?:\.\d+)?$/,
                            r = /^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,
                            i = /^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,
                            o = /^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;
                        CKEDITOR.VALIDATE_OR = 1, CKEDITOR.VALIDATE_AND = 2, CKEDITOR.dialog.validate = {
                            functions: function() {
                                var e = arguments;
                                return function() {
                                    var t, n, r = this && this.getValue ? this.getValue() : e[0],
                                        i = CKEDITOR.VALIDATE_AND,
                                        o = [];
                                    for (n = 0; n < e.length && "function" == typeof e[n]; n++) o.push(e[n]);
                                    n < e.length && "string" == typeof e[n] && (t = e[n], n++), n < e.length && "number" == typeof e[n] && (i = e[n]);
                                    var a = i == CKEDITOR.VALIDATE_AND;
                                    for (n = 0; n < o.length; n++) a = i == CKEDITOR.VALIDATE_AND ? a && o[n](r) : a || o[n](r);
                                    return !!a || t
                                }
                            },
                            regex: function(e, t) {
                                return function(n) {
                                    return n = this && this.getValue ? this.getValue() : n, !!e.test(n) || t
                                }
                            },
                            notEmpty: function(t) {
                                return this.regex(e, t)
                            },
                            integer: function(e) {
                                return this.regex(t, e)
                            },
                            number: function(e) {
                                return this.regex(n, e)
                            },
                            cssLength: function(e) {
                                return this.functions(function(e) {
                                    return i.test(CKEDITOR.tools.trim(e))
                                }, e)
                            },
                            htmlLength: function(e) {
                                return this.functions(function(e) {
                                    return r.test(CKEDITOR.tools.trim(e))
                                }, e)
                            },
                            inlineStyle: function(e) {
                                return this.functions(function(e) {
                                    return o.test(CKEDITOR.tools.trim(e))
                                }, e)
                            },
                            equals: function(e, t) {
                                return this.functions(function(t) {
                                    return t == e
                                }, t)
                            },
                            notEqual: function(e, t) {
                                return this.functions(function(t) {
                                    return t != e
                                }, t)
                            }
                        }, CKEDITOR.on("instanceDestroyed", function(e) {
                            if (CKEDITOR.tools.isEmpty(CKEDITOR.instances)) {
                                for (var t; t = CKEDITOR.dialog._.currentTop;) t.hide();
                                for (var n in v) v[n].remove();
                                v = {}
                            }
                            for (var r in e = e.editor._.storedDialogs) e[r].destroy()
                        })
                    }(), CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                        openDialog: function(e, t) {
                            var n = null,
                                r = CKEDITOR.dialog._.dialogDefinitions[e];
                            if (null === CKEDITOR.dialog._.currentTop && l(this), "function" == typeof r) n = (n = this._.storedDialogs || (this._.storedDialogs = {}))[e] || (n[e] = new CKEDITOR.dialog(this, e)), t && t.call(n, n), n.show();
                            else {
                                if ("failed" == r) throw c(this), Error('[CKEDITOR.dialog.openDialog] Dialog "' + e + '" failed when loading definition.');
                                "string" == typeof r && CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(r), function() {
                                    "function" != typeof CKEDITOR.dialog._.dialogDefinitions[e] && (CKEDITOR.dialog._.dialogDefinitions[e] = "failed"), this.openDialog(e, t)
                                }, this, 0, 1)
                            }
                            return CKEDITOR.skin.loadPart("dialog"), n
                        }
                    })
            }(), CKEDITOR.plugins.add("dialog", {
                requires: "dialogui",
                init: function(e) {
                    e.on("doubleclick", function(t) {
                        t.data.dialog && e.openDialog(t.data.dialog)
                    }, null, null, 999)
                }
            }), CKEDITOR.plugins.add("a11yhelp", {
                requires: "dialog",
                availableLangs: {
                    af: 1,
                    ar: 1,
                    az: 1,
                    bg: 1,
                    ca: 1,
                    cs: 1,
                    cy: 1,
                    da: 1,
                    de: 1,
                    "de-ch": 1,
                    el: 1,
                    en: 1,
                    "en-au": 1,
                    "en-gb": 1,
                    eo: 1,
                    es: 1,
                    "es-mx": 1,
                    et: 1,
                    eu: 1,
                    fa: 1,
                    fi: 1,
                    fo: 1,
                    fr: 1,
                    "fr-ca": 1,
                    gl: 1,
                    gu: 1,
                    he: 1,
                    hi: 1,
                    hr: 1,
                    hu: 1,
                    id: 1,
                    it: 1,
                    ja: 1,
                    km: 1,
                    ko: 1,
                    ku: 1,
                    lt: 1,
                    lv: 1,
                    mk: 1,
                    mn: 1,
                    nb: 1,
                    nl: 1,
                    no: 1,
                    oc: 1,
                    pl: 1,
                    pt: 1,
                    "pt-br": 1,
                    ro: 1,
                    ru: 1,
                    si: 1,
                    sk: 1,
                    sl: 1,
                    sq: 1,
                    sr: 1,
                    "sr-latn": 1,
                    sv: 1,
                    th: 1,
                    tr: 1,
                    tt: 1,
                    ug: 1,
                    uk: 1,
                    vi: 1,
                    zh: 1,
                    "zh-cn": 1
                },
                init: function(e) {
                    var t = this;
                    e.addCommand("a11yHelp", {
                        exec: function() {
                            var n = t.availableLangs[n = e.langCode] ? n : t.availableLangs[n.replace(/-.*/, "")] ? n.replace(/-.*/, "") : "en";
                            CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path + "dialogs/lang/" + n + ".js"), function() {
                                e.lang.a11yhelp = t.langEntries[n], e.openDialog("a11yHelp")
                            })
                        },
                        modes: {
                            wysiwyg: 1,
                            source: 1
                        },
                        readOnly: 1,
                        canUndo: !1
                    }), e.setKeystroke(CKEDITOR.ALT + 48, "a11yHelp"), CKEDITOR.dialog.add("a11yHelp", this.path + "dialogs/a11yhelp.js"), e.on("ariaEditorHelpLabel", function(t) {
                        t.data.label = e.lang.common.editorHelp
                    })
                }
            }), CKEDITOR.plugins.add("about", {
                requires: "dialog",
                init: function(e) {
                    var t = e.addCommand("about", new CKEDITOR.dialogCommand("about"));
                    t.modes = {
                        wysiwyg: 1,
                        source: 1
                    }, t.canUndo = !1, t.readOnly = 1, e.ui.addButton && e.ui.addButton("About", {
                        label: e.lang.about.dlgTitle,
                        command: "about",
                        toolbar: "about"
                    }), CKEDITOR.dialog.add("about", this.path + "dialogs/about.js")
                }
            }), CKEDITOR.plugins.add("basicstyles", {
                init: function(e) {
                    var t = 0,
                        n = function(n, i, o, a) {
                            if (a) {
                                a = new CKEDITOR.style(a);
                                var s = r[o];
                                s.unshift(a), e.attachStyleStateChange(a, function(t) {
                                    !e.readOnly && e.getCommand(o).setState(t)
                                }), e.addCommand(o, new CKEDITOR.styleCommand(a, {
                                    contentForms: s
                                })), e.ui.addButton && e.ui.addButton(n, {
                                    label: i,
                                    command: o,
                                    toolbar: "basicstyles," + (t += 10)
                                })
                            }
                        },
                        r = {
                            bold: ["strong", "b", ["span", function(e) {
                                return "bold" == (e = e.styles["font-weight"]) || 700 <= +e
                            }]],
                            italic: ["em", "i", ["span", function(e) {
                                return "italic" == e.styles["font-style"]
                            }]],
                            underline: ["u", ["span", function(e) {
                                return "underline" == e.styles["text-decoration"]
                            }]],
                            strike: ["s", "strike", ["span", function(e) {
                                return "line-through" == e.styles["text-decoration"]
                            }]],
                            subscript: ["sub"],
                            superscript: ["sup"]
                        },
                        i = e.config,
                        o = e.lang.basicstyles;
                    n("Bold", o.bold, "bold", i.coreStyles_bold), n("Italic", o.italic, "italic", i.coreStyles_italic), n("Underline", o.underline, "underline", i.coreStyles_underline), n("Strike", o.strike, "strike", i.coreStyles_strike), n("Subscript", o.subscript, "subscript", i.coreStyles_subscript), n("Superscript", o.superscript, "superscript", i.coreStyles_superscript), e.setKeystroke([
                        [CKEDITOR.CTRL + 66, "bold"],
                        [CKEDITOR.CTRL + 73, "italic"],
                        [CKEDITOR.CTRL + 85, "underline"]
                    ])
                }
            }), CKEDITOR.config.coreStyles_bold = {
                element: "strong",
                overrides: "b"
            }, CKEDITOR.config.coreStyles_italic = {
                element: "em",
                overrides: "i"
            }, CKEDITOR.config.coreStyles_underline = {
                element: "u"
            }, CKEDITOR.config.coreStyles_strike = {
                element: "s",
                overrides: "strike"
            }, CKEDITOR.config.coreStyles_subscript = {
                element: "sub"
            }, CKEDITOR.config.coreStyles_superscript = {
                element: "sup"
            }, function() {
                var e = {
                    exec: function(e) {
                        var t = e.getCommand("blockquote").state,
                            n = e.getSelection(),
                            r = n && n.getRanges()[0];
                        if (r) {
                            var i = n.createBookmarks();
                            if (CKEDITOR.env.ie) {
                                var o, a = i[0].startNode,
                                    s = i[0].endNode;
                                if (a && "blockquote" == a.getParent().getName())
                                    for (o = a; o = o.getNext();)
                                        if (o.type == CKEDITOR.NODE_ELEMENT && o.isBlockBoundary()) {
                                            a.move(o, !0);
                                            break
                                        }
                                if (s && "blockquote" == s.getParent().getName())
                                    for (o = s; o = o.getPrevious();)
                                        if (o.type == CKEDITOR.NODE_ELEMENT && o.isBlockBoundary()) {
                                            s.move(o);
                                            break
                                        }
                            }
                            if ((l = r.createIterator()).enlargeBr = e.config.enterMode != CKEDITOR.ENTER_BR, t == CKEDITOR.TRISTATE_OFF) {
                                for (a = []; t = l.getNextParagraph();) a.push(t);
                                for (1 > a.length && (t = e.document.createElement(e.config.enterMode == CKEDITOR.ENTER_P ? "p" : "div"), s = i.shift(), r.insertNode(t), t.append(new CKEDITOR.dom.text("\ufeff", e.document)), r.moveToBookmark(s), r.selectNodeContents(t), r.collapse(!0), s = r.createBookmark(), a.push(t), i.unshift(s)), o = a[0].getParent(), r = [], s = 0; s < a.length; s++) o = o.getCommonAncestor((t = a[s]).getParent());
                                for (t = {
                                        table: 1,
                                        tbody: 1,
                                        tr: 1,
                                        ol: 1,
                                        ul: 1
                                    }; t[o.getName()];) o = o.getParent();
                                for (s = null; 0 < a.length;) {
                                    for (t = a.shift(); !t.getParent().equals(o);) t = t.getParent();
                                    t.equals(s) || r.push(t), s = t
                                }
                                for (; 0 < r.length;)
                                    if ("blockquote" == (t = r.shift()).getName()) {
                                        for (s = new CKEDITOR.dom.documentFragment(e.document); t.getFirst();) s.append(t.getFirst().remove()), a.push(s.getLast());
                                        s.replace(t)
                                    } else a.push(t);
                                for ((r = e.document.createElement("blockquote")).insertBefore(a[0]); 0 < a.length;) t = a.shift(), r.append(t)
                            } else if (t == CKEDITOR.TRISTATE_ON) {
                                for (s = [], o = {}; t = l.getNextParagraph();) {
                                    for (a = r = null; t.getParent();) {
                                        if ("blockquote" == t.getParent().getName()) {
                                            r = t.getParent(), a = t;
                                            break
                                        }
                                        t = t.getParent()
                                    }
                                    r && a && !a.getCustomData("blockquote_moveout") && (s.push(a), CKEDITOR.dom.element.setMarker(o, a, "blockquote_moveout", !0))
                                }
                                for (CKEDITOR.dom.element.clearAllMarkers(o), t = [], a = [], o = {}; 0 < s.length;) r = (l = s.shift()).getParent(), l.getPrevious() ? l.getNext() ? (l.breakParent(l.getParent()), a.push(l.getNext())) : l.remove().insertAfter(r) : l.remove().insertBefore(r), r.getCustomData("blockquote_processed") || (a.push(r), CKEDITOR.dom.element.setMarker(o, r, "blockquote_processed", !0)), t.push(l);
                                for (CKEDITOR.dom.element.clearAllMarkers(o), s = a.length - 1; 0 <= s; s--) {
                                    e: {
                                        for (var l = 0, c = (o = r = a[s]).getChildCount(), u = void 0; l < c && (u = o.getChild(l)); l++)
                                            if (u.type == CKEDITOR.NODE_ELEMENT && u.isBlockBoundary()) {
                                                o = !1;
                                                break e
                                            }
                                        o = !0
                                    }
                                    o && r.remove()
                                }
                                if (e.config.enterMode == CKEDITOR.ENTER_BR)
                                    for (r = !0; t.length;)
                                        if ("div" == (l = t.shift()).getName()) {
                                            for (s = new CKEDITOR.dom.documentFragment(e.document), !r || !l.getPrevious() || l.getPrevious().type == CKEDITOR.NODE_ELEMENT && l.getPrevious().isBlockBoundary() || s.append(e.document.createElement("br")), r = l.getNext() && !(l.getNext().type == CKEDITOR.NODE_ELEMENT && l.getNext().isBlockBoundary()); l.getFirst();) l.getFirst().remove().appendTo(s);
                                            r && s.append(e.document.createElement("br")), s.replace(l), r = !1
                                        }
                            }
                            n.selectBookmarks(i), e.focus()
                        }
                    },
                    refresh: function(e, t) {
                        this.setState(e.elementPath(t.block || t.blockLimit).contains("blockquote", 1) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF)
                    },
                    context: "blockquote",
                    allowedContent: "blockquote",
                    requiredContent: "blockquote"
                };
                CKEDITOR.plugins.add("blockquote", {
                    init: function(t) {
                        t.blockless || (t.addCommand("blockquote", e), t.ui.addButton && t.ui.addButton("Blockquote", {
                            label: t.lang.blockquote.toolbar,
                            command: "blockquote",
                            toolbar: "blocks,10"
                        }))
                    }
                })
            }(), function() {
                function e(e, t) {
                    CKEDITOR.tools.extend(this, t, {
                        editor: e,
                        id: "cke-" + CKEDITOR.tools.getUniqueId(),
                        area: e._.notificationArea
                    }), t.type || (this.type = "info"), this.element = this._createElement(), e.plugins.clipboard && CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)
                }

                function t(e) {
                    var t = this;
                    this.editor = e, this.notifications = [], this.element = this._createElement(), this._uiBuffer = CKEDITOR.tools.eventsBuffer(10, this._layout, this), this._changeBuffer = CKEDITOR.tools.eventsBuffer(500, this._layout, this), e.on("destroy", function() {
                        t._removeListeners(), t.element.remove()
                    })
                }
                CKEDITOR.plugins.add("notification", {
                    init: function(e) {
                        e._.notificationArea = new t(e), e.showNotification = function(t, n, r) {
                            var i, o;
                            return "progress" == n ? i = r : o = r, (t = new CKEDITOR.plugins.notification(e, {
                                message: t,
                                type: n,
                                progress: i,
                                duration: o
                            })).show(), t
                        }, e.on("key", function(t) {
                            if (27 == t.data.keyCode) {
                                var n = e._.notificationArea.notifications;
                                n.length && (function(e) {
                                    var t = new CKEDITOR.dom.element("div");
                                    t.setStyles({
                                        position: "fixed",
                                        "margin-left": "-9999px"
                                    }), t.setAttributes({
                                        "aria-live": "assertive",
                                        "aria-atomic": "true"
                                    }), t.setText(e), CKEDITOR.document.getBody().append(t), setTimeout(function() {
                                        t.remove()
                                    }, 100)
                                }(e.lang.notification.closed), n[n.length - 1].hide(), t.cancel())
                            }
                        })
                    }
                }), e.prototype = {
                    show: function() {
                        !1 !== this.editor.fire("notificationShow", {
                            notification: this
                        }) && (this.area.add(this), this._hideAfterTimeout())
                    },
                    update: function(e) {
                        var t = !0;
                        !1 === this.editor.fire("notificationUpdate", {
                            notification: this,
                            options: e
                        }) && (t = !1);
                        var n = this.element,
                            r = n.findOne(".cke_notification_message"),
                            i = n.findOne(".cke_notification_progress"),
                            o = e.type;
                        n.removeAttribute("role"), e.progress && "progress" != this.type && (o = "progress"), o && (n.removeClass(this._getClass()), n.removeAttribute("aria-label"), this.type = o, n.addClass(this._getClass()), n.setAttribute("aria-label", this.type), "progress" != this.type || i ? "progress" != this.type && i && i.remove() : (i = this._createProgressElement()).insertBefore(r)), void 0 !== e.message && (this.message = e.message, r.setHtml(this.message)), void 0 !== e.progress && (this.progress = e.progress, i && i.setStyle("width", this._getPercentageProgress())), t && e.important && (n.setAttribute("role", "alert"), this.isVisible() || this.area.add(this)), this.duration = e.duration, this._hideAfterTimeout()
                    },
                    hide: function() {
                        !1 !== this.editor.fire("notificationHide", {
                            notification: this
                        }) && this.area.remove(this)
                    },
                    isVisible: function() {
                        return 0 <= CKEDITOR.tools.indexOf(this.area.notifications, this)
                    },
                    _createElement: function() {
                        var e, t, n = this,
                            r = this.editor.lang.common.close;
                        return (e = new CKEDITOR.dom.element("div")).addClass("cke_notification"), e.addClass(this._getClass()), e.setAttributes({
                            id: this.id,
                            role: "alert",
                            "aria-label": this.type
                        }), "progress" == this.type && e.append(this._createProgressElement()), (t = new CKEDITOR.dom.element("p")).addClass("cke_notification_message"), t.setHtml(this.message), e.append(t), t = CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="' + r + '" role="button" tabindex="-1"><span class="cke_label">X</span></a>'), e.append(t), t.on("click", function() {
                            n.editor.focus(), n.hide()
                        }), e
                    },
                    _getClass: function() {
                        return "progress" == this.type ? "cke_notification_info" : "cke_notification_" + this.type
                    },
                    _createProgressElement: function() {
                        var e = new CKEDITOR.dom.element("span");
                        return e.addClass("cke_notification_progress"), e.setStyle("width", this._getPercentageProgress()), e
                    },
                    _getPercentageProgress: function() {
                        return Math.round(100 * (this.progress || 0)) + "%"
                    },
                    _hideAfterTimeout: function() {
                        var e, t = this;
                        this._hideTimeoutId && clearTimeout(this._hideTimeoutId), "number" == typeof this.duration ? e = this.duration : "info" != this.type && "success" != this.type || (e = "number" == typeof this.editor.config.notification_duration ? this.editor.config.notification_duration : 5e3), e && (t._hideTimeoutId = setTimeout(function() {
                            t.hide()
                        }, e))
                    }
                }, t.prototype = {
                    add: function(e) {
                        this.notifications.push(e), this.element.append(e.element), 1 == this.element.getChildCount() && (CKEDITOR.document.getBody().append(this.element), this._attachListeners()), this._layout()
                    },
                    remove: function(e) {
                        var t = CKEDITOR.tools.indexOf(this.notifications, e);
                        0 > t || (this.notifications.splice(t, 1), e.element.remove(), this.element.getChildCount() || (this._removeListeners(), this.element.remove()))
                    },
                    _createElement: function() {
                        var e = this.editor,
                            t = e.config,
                            n = new CKEDITOR.dom.element("div");
                        return n.addClass("cke_notifications_area"), n.setAttribute("id", "cke_notifications_area_" + e.name), n.setStyle("z-index", t.baseFloatZIndex - 2), n
                    },
                    _attachListeners: function() {
                        var e = CKEDITOR.document.getWindow(),
                            t = this.editor;
                        e.on("scroll", this._uiBuffer.input), e.on("resize", this._uiBuffer.input), t.on("change", this._changeBuffer.input), t.on("floatingSpaceLayout", this._layout, this, null, 20), t.on("blur", this._layout, this, null, 20)
                    },
                    _removeListeners: function() {
                        var e = CKEDITOR.document.getWindow(),
                            t = this.editor;
                        e.removeListener("scroll", this._uiBuffer.input), e.removeListener("resize", this._uiBuffer.input), t.removeListener("change", this._changeBuffer.input), t.removeListener("floatingSpaceLayout", this._layout), t.removeListener("blur", this._layout)
                    },
                    _layout: function() {
                        function e() {
                            i.setStyle("left", m(g + a.width - c - u))
                        }
                        var t, n, r, i = this.element,
                            o = this.editor,
                            a = o.ui.contentsElement.getClientRect(),
                            s = o.ui.contentsElement.getDocumentPosition(),
                            l = i.getClientRect(),
                            c = this._notificationWidth,
                            u = this._notificationMargin,
                            d = (r = CKEDITOR.document.getWindow()).getScrollPosition(),
                            h = r.getViewPaneSize(),
                            p = CKEDITOR.document.getBody(),
                            f = p.getDocumentPosition(),
                            m = CKEDITOR.tools.cssLength;
                        c && u || (r = this.element.getChild(0), c = this._notificationWidth = r.getClientRect().width, u = this._notificationMargin = parseInt(r.getComputedStyle("margin-left"), 10) + parseInt(r.getComputedStyle("margin-right"), 10)), o.toolbar && (n = (t = o.ui.space("top")).getClientRect()), t && t.isVisible() && n.bottom > a.top && n.bottom < a.bottom - l.height ? i.setStyles({
                            position: "fixed",
                            top: m(n.bottom)
                        }) : i.setStyles(0 < a.top ? {
                            position: "absolute",
                            top: m(s.y)
                        } : s.y + a.height - l.height > d.y ? {
                            position: "fixed",
                            top: 0
                        } : {
                            position: "absolute",
                            top: m(s.y + a.height - l.height)
                        });
                        var g = "fixed" == i.getStyle("position") ? a.left : "static" != p.getComputedStyle("position") ? s.x - f.x : s.x;
                        a.width < c + u ? s.x + c + u > d.x + h.width ? e() : i.setStyle("left", m(g)) : s.x + c + u > d.x + h.width ? i.setStyle("left", m(g)) : s.x + a.width / 2 + c / 2 + u > d.x + h.width ? i.setStyle("left", m(g - s.x + d.x + h.width - c - u)) : 0 > a.left + a.width - c - u ? e() : i.setStyle("left", m(0 > a.left + a.width / 2 - c / 2 ? g - s.x + d.x : g + a.width / 2 - c / 2 - u / 2))
                    }
                }, CKEDITOR.plugins.notification = e
            }(), function() {
                var e = '<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"' + (CKEDITOR.env.gecko && !CKEDITOR.env.hc ? "" : " href=\"javascript:void('{titleJs}')\"") + ' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';
                CKEDITOR.env.gecko && CKEDITOR.env.mac && (e += ' onkeypress="return false;"'), CKEDITOR.env.gecko && (e += ' onblur="this.style.cssText = this.style.cssText;"'), e = (e = e + ' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" ' + (CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : "onclick") + '="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"') + '>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcut}</span>{arrowHtml}</a>';
                var t = CKEDITOR.addTemplate("buttonArrow", '<span class="cke_button_arrow">' + (CKEDITOR.env.hc ? "&#9660;" : "") + "</span>"),
                    n = CKEDITOR.addTemplate("button", e);
                CKEDITOR.plugins.add("button", {
                    beforeInit: function(e) {
                        e.ui.addHandler(CKEDITOR.UI_BUTTON, CKEDITOR.ui.button.handler)
                    }
                }), CKEDITOR.UI_BUTTON = "button", CKEDITOR.ui.button = function(e) {
                    CKEDITOR.tools.extend(this, e, {
                        title: e.label,
                        click: e.click || function(t) {
                            t.execCommand(e.command)
                        }
                    }), this._ = {}
                }, CKEDITOR.ui.button.handler = {
                    create: function(e) {
                        return new CKEDITOR.ui.button(e)
                    }
                }, CKEDITOR.ui.button.prototype = {
                    render: function(e, r) {
                        function i() {
                            var t = e.mode;
                            t && (t = this.modes[t] ? void 0 !== l[t] ? l[t] : CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED, t = e.readOnly && !this.readOnly ? CKEDITOR.TRISTATE_DISABLED : t, this.setState(t), this.refresh && this.refresh())
                        }
                        var o, a, s, l = null,
                            c = CKEDITOR.env,
                            u = this._.id = CKEDITOR.tools.getNextId(),
                            d = "",
                            h = this.command;
                        this._.editor = e;
                        var p, f = {
                                id: u,
                                button: this,
                                editor: e,
                                focus: function() {
                                    CKEDITOR.document.getById(u).focus()
                                },
                                execute: function() {
                                    this.button.click(e)
                                },
                                attach: function(e) {
                                    this.button.attach(e)
                                }
                            },
                            m = CKEDITOR.tools.addFunction(function(e) {
                                if (f.onkey) return e = new CKEDITOR.dom.event(e), !1 !== f.onkey(f, e.getKeystroke())
                            }),
                            g = CKEDITOR.tools.addFunction(function(e) {
                                var t;
                                return f.onfocus && (t = !1 !== f.onfocus(f, new CKEDITOR.dom.event(e))), t
                            }),
                            E = 0;
                        f.clickFn = o = CKEDITOR.tools.addFunction(function() {
                            E && (e.unlockSelection(1), E = 0), f.execute(), c.iOS && e.focus()
                        }), this.modes ? (l = {}, e.on("beforeModeUnload", function() {
                            e.mode && this._.state != CKEDITOR.TRISTATE_DISABLED && (l[e.mode] = this._.state)
                        }, this), e.on("activeFilterChange", i, this), e.on("mode", i, this), !this.readOnly && e.on("readOnly", i, this)) : h && (h = e.getCommand(h)) && (h.on("state", function() {
                            this.setState(h.state)
                        }, this), d += h.state == CKEDITOR.TRISTATE_ON ? "on" : h.state == CKEDITOR.TRISTATE_DISABLED ? "disabled" : "off"), this.directional && e.on("contentDirChanged", function(t) {
                            var n = CKEDITOR.document.getById(this._.id),
                                r = n.getFirst();
                            (t = t.data) != e.lang.dir ? n.addClass("cke_" + t) : n.removeClass("cke_ltr").removeClass("cke_rtl"), r.setAttribute("style", CKEDITOR.skin.getIconStyle(p, "rtl" == t, this.icon, this.iconOffset))
                        }, this), h ? (a = e.getCommandKeystroke(h)) && (s = CKEDITOR.tools.keystrokeToString(e.lang.common.keyboard, a)) : d += "off";
                        var b = null,
                            v = this.icon;
                        return p = a = this.name || this.command, this.icon && !/\./.test(this.icon) ? (p = this.icon, v = null) : (this.icon && (b = this.icon), CKEDITOR.env.hidpi && this.iconHiDpi && (b = this.iconHiDpi)), b ? (CKEDITOR.skin.addIcon(b, b), v = null) : b = p, d = {
                            id: u,
                            name: a,
                            iconName: p,
                            label: this.label,
                            cls: this.className || "",
                            state: d,
                            ariaDisabled: "disabled" == d ? "true" : "false",
                            title: this.title + (s ? " (" + s.display + ")" : ""),
                            ariaShortcut: s ? e.lang.common.keyboardShortcut + " " + s.aria : "",
                            titleJs: c.gecko && !c.hc ? "" : (this.title || "").replace("'", ""),
                            hasArrow: this.hasArrow ? "true" : "false",
                            keydownFn: m,
                            focusFn: g,
                            clickFn: o,
                            style: CKEDITOR.skin.getIconStyle(b, "rtl" == e.lang.dir, v, this.iconOffset),
                            arrowHtml: this.hasArrow ? t.output() : ""
                        }, n.output(d, r), this.onRender && this.onRender(), f
                    },
                    setState: function(e) {
                        if (this._.state == e) return !1;
                        this._.state = e;
                        var t = CKEDITOR.document.getById(this._.id);
                        return !!t && (t.setState(e, "cke_button"), e == CKEDITOR.TRISTATE_DISABLED ? t.setAttribute("aria-disabled", !0) : t.removeAttribute("aria-disabled"), this.hasArrow ? (e = e == CKEDITOR.TRISTATE_ON ? this._.editor.lang.button.selectedLabel.replace(/%1/g, this.label) : this.label, CKEDITOR.document.getById(this._.id + "_label").setText(e)) : e == CKEDITOR.TRISTATE_ON ? t.setAttribute("aria-pressed", !0) : t.removeAttribute("aria-pressed"), !0)
                    },
                    getState: function() {
                        return this._.state
                    },
                    toFeature: function(e) {
                        if (this._.feature) return this._.feature;
                        var t = this;
                        return this.allowedContent || this.requiredContent || !this.command || (t = e.getCommand(this.command) || t), this._.feature = t
                    }
                }, CKEDITOR.ui.prototype.addButton = function(e, t) {
                    this.add(e, CKEDITOR.UI_BUTTON, t)
                }
            }(), function() {
                function e(e) {
                    function n(t, n) {
                        if (n.length) {
                            t.items ? t.items.push(e.ui.create("-")) : t.items = [];
                            for (var i; i = n.shift();) i = "string" == typeof i ? i : i.name, r && -1 != CKEDITOR.tools.indexOf(r, i) || (i = e.ui.create(i)) && e.addFeature(i) && t.items.push(i)
                        }
                    }
                    var r = (r = e.config.removeButtons) && r.split(","),
                        i = e.config.toolbar;
                    return "string" == typeof i && (i = e.config["toolbar_" + i]), e.toolbar = i ? function(e) {
                        var t, r, i, o = [];
                        for (t = 0; t < e.length; ++t) i = {}, "/" == (r = e[t]) ? o.push(r) : CKEDITOR.tools.isArray(r) ? (n(i, CKEDITOR.tools.clone(r)), o.push(i)) : r.items && (n(i, CKEDITOR.tools.clone(r.items)), i.name = r.name, o.push(i));
                        return o
                    }(i) : function() {
                        for (var r = function() {
                                var t, n, r, i = {};
                                for (t in e.ui.items) r = (r = (n = e.ui.items[t]).toolbar || "others").split(","), n = r[0], r = parseInt(r[1] || -1, 10), i[n] || (i[n] = []), i[n].push({
                                    name: t,
                                    order: r
                                });
                                for (n in i) i[n] = i[n].sort(function(e, t) {
                                    return e.order == t.order ? 0 : 0 > t.order ? -1 : 0 > e.order ? 1 : e.order < t.order ? -1 : 1
                                });
                                return i
                            }(), i = CKEDITOR.tools.clone(e.config.toolbarGroups) || t(e), o = 0; o < i.length; o++) {
                            var a = i[o];
                            if ("/" != a) {
                                "string" == typeof a && (a = i[o] = {
                                    name: a
                                });
                                var s, l = a.groups;
                                if (l)
                                    for (var c = 0; c < l.length; c++)(s = r[s = l[c]]) && n(a, s);
                                (s = r[a.name]) && n(a, s)
                            }
                        }
                        return i
                    }()
                }

                function t(e) {
                    return e._.toolbarGroups || (e._.toolbarGroups = [{
                        name: "document",
                        groups: ["mode", "document", "doctools"]
                    }, {
                        name: "clipboard",
                        groups: ["clipboard", "undo"]
                    }, {
                        name: "editing",
                        groups: ["find", "selection", "spellchecker"]
                    }, {
                        name: "forms"
                    }, "/", {
                        name: "basicstyles",
                        groups: ["basicstyles", "cleanup"]
                    }, {
                        name: "paragraph",
                        groups: ["list", "indent", "blocks", "align", "bidi"]
                    }, {
                        name: "links"
                    }, {
                        name: "insert"
                    }, "/", {
                        name: "styles"
                    }, {
                        name: "colors"
                    }, {
                        name: "tools"
                    }, {
                        name: "others"
                    }, {
                        name: "about"
                    }])
                }
                var n = function() {
                    this.toolbars = [], this.focusCommandExecuted = !1
                };
                n.prototype.focus = function() {
                    for (var e, t = 0; e = this.toolbars[t++];)
                        for (var n, r = 0; n = e.items[r++];)
                            if (n.focus) return void n.focus()
                };
                var r = {
                    modes: {
                        wysiwyg: 1,
                        source: 1
                    },
                    readOnly: 1,
                    exec: function(e) {
                        e.toolbox && (e.toolbox.focusCommandExecuted = !0, CKEDITOR.env.ie || CKEDITOR.env.air ? setTimeout(function() {
                            e.toolbox.focus()
                        }, 100) : e.toolbox.focus())
                    }
                };
                CKEDITOR.plugins.add("toolbar", {
                    requires: "button",
                    init: function(t) {
                        var i, o = function(e, n) {
                            var r, a = t.config.toolbarGroupCycling,
                                s = (l = "rtl" == t.lang.dir) ? 37 : 39,
                                l = l ? 39 : 37;
                            switch (a = void 0 === a || a, n) {
                                case 9:
                                case CKEDITOR.SHIFT + 9:
                                    for (; !r || !r.items.length;)
                                        if ((r = 9 == n ? (r ? r.next : e.toolbar.next) || t.toolbox.toolbars[0] : (r ? r.previous : e.toolbar.previous) || t.toolbox.toolbars[t.toolbox.toolbars.length - 1]).items.length)
                                            for (e = r.items[i ? r.items.length - 1 : 0]; e && !e.focus;)(e = i ? e.previous : e.next) || (r = 0);
                                    return e && e.focus(), !1;
                                case s:
                                    r = e;
                                    do {
                                        !(r = r.next) && a && (r = e.toolbar.items[0])
                                    } while (r && !r.focus);
                                    return r ? r.focus() : o(e, 9), !1;
                                case 40:
                                    return e.button && e.button.hasArrow ? e.execute() : o(e, 40 == n ? s : l), !1;
                                case l:
                                case 38:
                                    r = e;
                                    do {
                                        !(r = r.previous) && a && (r = e.toolbar.items[e.toolbar.items.length - 1])
                                    } while (r && !r.focus);
                                    return r ? r.focus() : (i = 1, o(e, CKEDITOR.SHIFT + 9), i = 0), !1;
                                case 27:
                                    return t.focus(), !1;
                                case 13:
                                case 32:
                                    return e.execute(), !1
                            }
                            return !0
                        };
                        t.on("uiSpace", function(r) {
                            if (r.data.space == t.config.toolbarLocation) {
                                r.removeListener(), t.toolbox = new n;
                                var i, a, s = ['<span id="', l = CKEDITOR.tools.getNextId(), '" class="cke_voice_label">', t.lang.toolbar.toolbars, "</span>", '<span id="' + t.ui.spaceId("toolbox") + '" class="cke_toolbox" role="group" aria-labelledby="', l, '" onmousedown="return false;">'],
                                    l = !1 !== t.config.toolbarStartupExpanded;
                                t.config.toolbarCanCollapse && t.elementMode != CKEDITOR.ELEMENT_MODE_INLINE && s.push('<span class="cke_toolbox_main"' + (l ? ">" : ' style="display:none">'));
                                for (var c = t.toolbox.toolbars, u = e(t), d = u.length, h = 0; h < d; h++) {
                                    var p, f, m, g = 0,
                                        E = u[h],
                                        b = "/" !== E && ("/" === u[h + 1] || h == d - 1);
                                    if (E)
                                        if (i && (s.push("</span>"), a = i = 0), "/" === E) s.push('<span class="cke_toolbar_break"></span>');
                                        else {
                                            m = E.items || E;
                                            for (var v = 0; v < m.length; v++) {
                                                var T, y = m[v];
                                                if (y) {
                                                    var C = function(e) {
                                                        e = e.render(t, s), 0 < (k = g.items.push(e) - 1) && (e.previous = g.items[k - 1], e.previous.next = e), e.toolbar = g, e.onkey = o, e.onfocus = function() {
                                                            t.toolbox.focusCommandExecuted || t.focus()
                                                        }
                                                    };
                                                    if (y.type == CKEDITOR.UI_SEPARATOR) a = i && y;
                                                    else {
                                                        if (T = !1 !== y.canGroup, !g) {
                                                            p = CKEDITOR.tools.getNextId(), g = {
                                                                id: p,
                                                                items: []
                                                            }, f = E.name && (t.lang.toolbar.toolbarGroups[E.name] || E.name), s.push('<span id="', p, '" class="cke_toolbar' + (b ? ' cke_toolbar_last"' : '"'), f ? ' aria-labelledby="' + p + '_label"' : "", ' role="toolbar">'), f && s.push('<span id="', p, '_label" class="cke_voice_label">', f, "</span>"), s.push('<span class="cke_toolbar_start"></span>');
                                                            var k = c.push(g) - 1;
                                                            0 < k && (g.previous = c[k - 1], g.previous.next = g)
                                                        }
                                                        T ? i || (s.push('<span class="cke_toolgroup" role="presentation">'), i = 1) : i && (s.push("</span>"), i = 0), a && (C(a), a = 0), C(y)
                                                    }
                                                }
                                            }
                                            i && (s.push("</span>"), a = i = 0), g && s.push('<span class="cke_toolbar_end"></span></span>')
                                        }
                                }
                                if (t.config.toolbarCanCollapse && s.push("</span>"), t.config.toolbarCanCollapse && t.elementMode != CKEDITOR.ELEMENT_MODE_INLINE) {
                                    var w = CKEDITOR.tools.addFunction(function() {
                                        t.execCommand("toolbarCollapse")
                                    });
                                    t.on("destroy", function() {
                                        CKEDITOR.tools.removeFunction(w)
                                    }), t.addCommand("toolbarCollapse", {
                                        readOnly: 1,
                                        exec: function(e) {
                                            var t = e.ui.space("toolbar_collapser"),
                                                n = t.getPrevious(),
                                                r = e.ui.space("contents"),
                                                i = n.getParent(),
                                                o = parseInt(r.$.style.height, 10),
                                                a = i.$.offsetHeight,
                                                s = t.hasClass("cke_toolbox_collapser_min");
                                            s ? (n.show(), t.removeClass("cke_toolbox_collapser_min"), t.setAttribute("title", e.lang.toolbar.toolbarCollapse)) : (n.hide(), t.addClass("cke_toolbox_collapser_min"), t.setAttribute("title", e.lang.toolbar.toolbarExpand)), t.getFirst().setText(s ? "\u25b2" : "\u25c0"), r.setStyle("height", o - (i.$.offsetHeight - a) + "px"), e.fire("resize", {
                                                outerHeight: e.container.$.offsetHeight,
                                                contentsHeight: r.$.offsetHeight,
                                                outerWidth: e.container.$.offsetWidth
                                            })
                                        },
                                        modes: {
                                            wysiwyg: 1,
                                            source: 1
                                        }
                                    }), t.setKeystroke(CKEDITOR.ALT + (CKEDITOR.env.ie || CKEDITOR.env.webkit ? 189 : 109), "toolbarCollapse"), s.push('<a title="' + (l ? t.lang.toolbar.toolbarCollapse : t.lang.toolbar.toolbarExpand) + '" id="' + t.ui.spaceId("toolbar_collapser") + '" tabIndex="-1" class="cke_toolbox_collapser'), l || s.push(" cke_toolbox_collapser_min"), s.push('" onclick="CKEDITOR.tools.callFunction(' + w + ')">', '<span class="cke_arrow">&#9650;</span>', "</a>")
                                }
                                s.push("</span>"), r.data.html += s.join("")
                            }
                        }), t.on("destroy", function() {
                            if (this.toolbox) {
                                var e, t, n, r, i = 0;
                                for (e = this.toolbox.toolbars; i < e.length; i++)
                                    for (n = e[i].items, t = 0; t < n.length; t++)(r = n[t]).clickFn && CKEDITOR.tools.removeFunction(r.clickFn), r.keyDownFn && CKEDITOR.tools.removeFunction(r.keyDownFn)
                            }
                        }), t.on("uiReady", function() {
                            var e = t.ui.space("toolbox");
                            e && t.focusManager.add(e, 1)
                        }), t.addCommand("toolbarFocus", r), t.setKeystroke(CKEDITOR.ALT + 121, "toolbarFocus"), t.ui.add("-", CKEDITOR.UI_SEPARATOR, {}), t.ui.addHandler(CKEDITOR.UI_SEPARATOR, {
                            create: function() {
                                return {
                                    render: function(e, t) {
                                        return t.push('<span class="cke_toolbar_separator" role="separator"></span>'), {}
                                    }
                                }
                            }
                        })
                    }
                }), CKEDITOR.ui.prototype.addToolbarGroup = function(e, n, r) {
                    var i = t(this.editor),
                        o = 0 === n,
                        a = {
                            name: e
                        };
                    if (r) {
                        if (r = CKEDITOR.tools.search(i, function(e) {
                                return e.name == r
                            })) return !r.groups && (r.groups = []), n && 0 <= (n = CKEDITOR.tools.indexOf(r.groups, n)) ? void r.groups.splice(n + 1, 0, e) : void(o ? r.groups.splice(0, 0, e) : r.groups.push(e));
                        n = null
                    }
                    n && (n = CKEDITOR.tools.indexOf(i, function(e) {
                        return e.name == n
                    })), o ? i.splice(0, 0, e) : "number" == typeof n ? i.splice(n + 1, 0, a) : i.push(e)
                }
            }(), CKEDITOR.UI_SEPARATOR = "separator", CKEDITOR.config.toolbarLocation = "top", function() {
                function e(e, t, n) {
                    return t.type || (t.type = "auto"), !(n && !1 === e.fire("beforePaste", t) || !t.dataValue && t.dataTransfer.isEmpty()) && (t.dataValue || (t.dataValue = ""), CKEDITOR.env.gecko && "drop" == t.method && e.toolbox && e.once("afterPaste", function() {
                        e.toolbox.focus()
                    }), e.fire("paste", t))
                }

                function t(t) {
                    function n() {
                        var e, n = t.editable();
                        if (CKEDITOR.plugins.clipboard.isCustomCopyCutSupported) {
                            var r = function(e) {
                                t.getSelection().isCollapsed() || (t.readOnly && "cut" == e.name || f.initPasteDataTransfer(e, t), e.data.preventDefault())
                            };
                            n.on("copy", r), n.on("cut", r), n.on("cut", function() {
                                t.readOnly || t.extractSelectedHtml()
                            }, null, null, 999)
                        }
                        n.on(f.mainPasteEvent, function(e) {
                            "beforepaste" == f.mainPasteEvent && m || d(e)
                        }), "beforepaste" == f.mainPasteEvent && (n.on("paste", function(e) {
                            g || (o(), e.data.preventDefault(), d(e), s("paste"))
                        }), n.on("contextmenu", a, null, null, 0), n.on("beforepaste", function(e) {
                            !e.data || e.data.$.ctrlKey || e.data.$.shiftKey || a()
                        }, null, null, 0)), n.on("beforecut", function() {
                            !m && l()
                        }), n.attachListener(CKEDITOR.env.ie ? n : t.document.getDocumentElement(), "mouseup", function() {
                            e = setTimeout(function() {
                                h()
                            }, 0)
                        }), t.on("destroy", function() {
                            clearTimeout(e)
                        }), n.on("keyup", h)
                    }

                    function r(e) {
                        return {
                            type: e,
                            canUndo: "cut" == e,
                            startDisabled: !0,
                            fakeKeystroke: "cut" == e ? CKEDITOR.CTRL + 88 : CKEDITOR.CTRL + 67,
                            exec: function() {
                                var e;
                                "cut" == this.type && l();
                                var n = this.type;
                                if (CKEDITOR.env.ie) e = s(n);
                                else try {
                                    e = t.document.$.execCommand(n, !1, null)
                                } catch (t) {
                                    e = !1
                                }
                                return e || t.showNotification(t.lang.clipboard[this.type + "Error"]), e
                            }
                        }
                    }

                    function i() {
                        return {
                            canUndo: !1,
                            async: !0,
                            fakeKeystroke: CKEDITOR.CTRL + 86,
                            exec: function(t, n) {
                                function r(n, r) {
                                    r = void 0 === r || r, n ? (n.method = "paste", n.dataTransfer || (n.dataTransfer = f.initPasteDataTransfer()), e(t, n, r)) : o && !t._.forcePasteDialog && t.showNotification(l, "info", t.config.clipboard_notificationDuration), t._.forcePasteDialog = !1, t.fire("afterCommandExec", {
                                        name: "paste",
                                        command: i,
                                        returnValue: !!n
                                    })
                                }
                                var i = this,
                                    o = void 0 === (n = void 0 !== n && null !== n ? n : {}).notification || n.notification,
                                    a = n.type,
                                    s = CKEDITOR.tools.keystrokeToString(t.lang.common.keyboard, t.getCommandKeystroke(this)),
                                    l = "string" == typeof o ? o : t.lang.clipboard.pasteNotification.replace(/%1/, '<kbd aria-label="' + s.aria + '">' + s.display + "</kbd>");
                                s = "string" == typeof n ? n : n.dataValue, a && !0 !== t.config.forcePasteAsPlainText && "allow-word" !== t.config.forcePasteAsPlainText ? t._.nextPasteType = a : delete t._.nextPasteType, "string" == typeof s ? r({
                                    dataValue: s
                                }) : t.getClipboardData(r)
                            }
                        }
                    }

                    function o() {
                        g = 1, setTimeout(function() {
                            g = 0
                        }, 100)
                    }

                    function a() {
                        m = 1, setTimeout(function() {
                            m = 0
                        }, 10)
                    }

                    function s(e) {
                        var n = t.document,
                            r = n.getBody(),
                            i = !1,
                            o = function() {
                                i = !0
                            };
                        return r.on(e, o), 7 < CKEDITOR.env.version ? n.$.execCommand(e) : n.$.selection.createRange().execCommand(e), r.removeListener(e, o), i
                    }

                    function l() {
                        if (CKEDITOR.env.ie && !CKEDITOR.env.quirks) {
                            var e, n, r, i = t.getSelection();
                            i.getType() == CKEDITOR.SELECTION_ELEMENT && (e = i.getSelectedElement()) && (n = i.getRanges()[0], (r = t.document.createText("")).insertBefore(e), n.setStartBefore(r), n.setEndAfter(e), i.selectRanges([n]), setTimeout(function() {
                                e.getParent() && (r.remove(), i.selectElement(e))
                            }, 0))
                        }
                    }

                    function c() {
                        if ("paste" == f.mainPasteEvent) return t.fire("beforePaste", {
                            type: "auto",
                            method: "paste"
                        }), !1;
                        t.focus(), o();
                        var e = t.focusManager;
                        return e.lock(), t.editable().fire(f.mainPasteEvent) && !s("paste") ? (e.unlock(), !1) : (e.unlock(), !0)
                    }

                    function u(e) {
                        if ("wysiwyg" == t.mode) switch (e.data.keyCode) {
                            case CKEDITOR.CTRL + 86:
                            case CKEDITOR.SHIFT + 45:
                                e = t.editable(), o(), "paste" == f.mainPasteEvent && e.fire("beforepaste");
                                break;
                            case CKEDITOR.CTRL + 88:
                            case CKEDITOR.SHIFT + 46:
                                t.fire("saveSnapshot"), setTimeout(function() {
                                    t.fire("saveSnapshot")
                                }, 50)
                        }
                    }

                    function d(n) {
                        var r = {
                            type: "auto",
                            method: "paste",
                            dataTransfer: f.initPasteDataTransfer(n)
                        };
                        r.dataTransfer.cacheData();
                        var i = !1 !== t.fire("beforePaste", r);
                        i && f.canClipboardApiBeTrusted(r.dataTransfer, t) ? (n.data.preventDefault(), setTimeout(function() {
                            e(t, r)
                        }, 0)) : function(e, n) {
                            var r, i = t.document,
                                o = t.editable(),
                                a = function(e) {
                                    e.cancel()
                                };
                            if (!i.getById("cke_pastebin")) {
                                var s = t.getSelection(),
                                    l = s.createBookmarks();
                                CKEDITOR.env.ie && s.root.fire("selectionchange");
                                var c = new CKEDITOR.dom.element(!CKEDITOR.env.webkit && !o.is("body") || CKEDITOR.env.ie ? "div" : "body", i);
                                c.setAttributes({
                                    id: "cke_pastebin",
                                    "data-cke-temp": "1"
                                });
                                var u = 0;
                                i = i.getWindow(), CKEDITOR.env.webkit ? (o.append(c), c.addClass("cke_editable"), o.is("body") || (u = (u = "static" != o.getComputedStyle("position") ? o : CKEDITOR.dom.element.get(o.$.offsetParent)).getDocumentPosition().y)) : o.getAscendant(CKEDITOR.env.ie ? "body" : "html", 1).append(c), c.setStyles({
                                    position: "absolute",
                                    top: i.getScrollPosition().y - u + 10 + "px",
                                    width: "1px",
                                    height: Math.max(1, i.getViewPaneSize().height - 20) + "px",
                                    overflow: "hidden",
                                    margin: 0,
                                    padding: 0
                                }), CKEDITOR.env.safari && c.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select", "text")), (u = c.getParent().isReadOnly()) ? (c.setOpacity(0), c.setAttribute("contenteditable", !0)) : c.setStyle("ltr" == t.config.contentsLangDirection ? "left" : "right", "-10000px"), t.on("selectionChange", a, null, null, 0), (CKEDITOR.env.webkit || CKEDITOR.env.gecko) && (r = o.once("blur", a, null, null, -100)), u && c.focus(), (u = new CKEDITOR.dom.range(c)).selectNodeContents(c);
                                var d = u.select();
                                CKEDITOR.env.ie && (r = o.once("blur", function() {
                                    t.lockSelection(d)
                                }));
                                var h = CKEDITOR.document.getWindow().getScrollPosition().y;
                                setTimeout(function() {
                                    var e;
                                    CKEDITOR.env.webkit && (CKEDITOR.document.getBody().$.scrollTop = h), r && r.removeListener(), CKEDITOR.env.ie && o.focus(), s.selectBookmarks(l), c.remove(), CKEDITOR.env.webkit && (e = c.getFirst()) && e.is && e.hasClass("Apple-style-span") && (c = e), t.removeListener("selectionChange", a), n(c.getHtml())
                                }, 0)
                            }
                        }(0, function(n) {
                            r.dataValue = n.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi, ""), i && e(t, r)
                        })
                    }

                    function h() {
                        if ("wysiwyg" == t.mode) {
                            var e = p("paste");
                            t.getCommand("cut").setState(p("cut")), t.getCommand("copy").setState(p("copy")), t.getCommand("paste").setState(e), t.fire("pasteState", e)
                        }
                    }

                    function p(e) {
                        if (E && e in {
                                paste: 1,
                                cut: 1
                            }) return CKEDITOR.TRISTATE_DISABLED;
                        if ("paste" == e) return CKEDITOR.TRISTATE_OFF;
                        var n = (e = t.getSelection()).getRanges();
                        return e.getType() == CKEDITOR.SELECTION_NONE || 1 == n.length && n[0].collapsed ? CKEDITOR.TRISTATE_DISABLED : CKEDITOR.TRISTATE_OFF
                    }
                    var f = CKEDITOR.plugins.clipboard,
                        m = 0,
                        g = 0,
                        E = 0;
                    ! function() {
                        if (t.on("key", u), t.on("contentDom", n), t.on("selectionChange", function(e) {
                                E = e.data.selection.getRanges()[0].checkReadOnly(), h()
                            }), t.contextMenu) {
                            t.contextMenu.addListener(function(e, t) {
                                return E = t.getRanges()[0].checkReadOnly(), {
                                    cut: p("cut"),
                                    copy: p("copy"),
                                    paste: p("paste")
                                }
                            });
                            var e = null;
                            t.on("menuShow", function() {
                                e && (e.removeListener(), e = null);
                                var n = t.contextMenu.findItemByCommandName("paste");
                                n && n.element && (e = n.element.on("touchend", function() {
                                    t._.forcePasteDialog = !0
                                }))
                            })
                        }
                        t.ui.addButton && t.once("instanceReady", function() {
                            t._.pasteButtons && CKEDITOR.tools.array.forEach(t._.pasteButtons, function(e) {
                                (e = t.ui.get(e)) && CKEDITOR.document.getById(e._.id).on("touchend", function() {
                                    t._.forcePasteDialog = !0
                                })
                            })
                        })
                    }(),
                    function() {
                        function e(e, n, r, i, o) {
                            var a = t.lang.clipboard[n];
                            t.addCommand(n, r), t.ui.addButton && t.ui.addButton(e, {
                                label: a,
                                command: n,
                                toolbar: "clipboard," + i
                            }), t.addMenuItems && t.addMenuItem(n, {
                                label: a,
                                command: n,
                                group: "clipboard",
                                order: o
                            })
                        }
                        e("Cut", "cut", r("cut"), 10, 1), e("Copy", "copy", r("copy"), 20, 4), e("Paste", "paste", i(), 30, 8), t._.pasteButtons || (t._.pasteButtons = []), t._.pasteButtons.push("Paste")
                    }(), t.getClipboardData = function(e, n) {
                        function r(e) {
                            e.removeListener(), e.cancel(), n(e.data)
                        }

                        function i(e) {
                            e.removeListener(), e.cancel(), n({
                                type: a,
                                dataValue: e.data.dataValue,
                                dataTransfer: e.data.dataTransfer,
                                method: "paste"
                            })
                        }
                        var o = !1,
                            a = "auto";
                        n || (n = e, e = null), t.on("beforePaste", function(e) {
                            e.removeListener(), o = !0, a = e.data.type
                        }, null, null, 1e3), t.on("paste", r, null, null, 0), !1 === c() && (t.removeListener("paste", r), t._.forcePasteDialog && o && t.fire("pasteDialog") ? (t.on("pasteDialogCommit", i), t.on("dialogHide", function(e) {
                            e.removeListener(), e.data.removeListener("pasteDialogCommit", i), e.data._.committed || n(null)
                        })) : n(null))
                    }
                }

                function n(e, t, n) {
                    t = CKEDITOR.htmlParser.fragment.fromHtml(t);
                    var r = new CKEDITOR.htmlParser.basicWriter;
                    return n.applyTo(t, !0, !1, e.activeEnterMode), t.writeHtml(r), r.getHtml()
                }

                function r(e) {
                    e.data.preventDefault(), e.data.$.dataTransfer.dropEffect = "none"
                }

                function i(t) {
                    var n = CKEDITOR.plugins.clipboard;
                    t.on("contentDom", function() {
                        function r(n, r, i) {
                            r.select(), e(t, {
                                dataTransfer: i,
                                method: "drop"
                            }, 1), i.sourceEditor.fire("saveSnapshot"), i.sourceEditor.editable().extractHtmlFromRange(n), i.sourceEditor.getSelection().selectRanges([n]), i.sourceEditor.fire("saveSnapshot")
                        }

                        function i(r, i) {
                            r.select(), e(t, {
                                dataTransfer: i,
                                method: "drop"
                            }, 1), n.resetDragDataTransfer()
                        }

                        function o(e, n, r) {
                            var i = {
                                $: e.data.$,
                                target: e.data.getTarget()
                            };
                            n && (i.dragRange = n), r && (i.dropRange = r), !1 === t.fire(e.name, i) && e.data.preventDefault()
                        }

                        function a(e) {
                            return e.type != CKEDITOR.NODE_ELEMENT && (e = e.getParent()), e.getChildCount()
                        }
                        var s = t.editable(),
                            l = CKEDITOR.plugins.clipboard.getDropTarget(t),
                            c = t.ui.space("top"),
                            u = t.ui.space("bottom");
                        n.preventDefaultDropOnElement(c), n.preventDefaultDropOnElement(u), s.attachListener(l, "dragstart", o), s.attachListener(t, "dragstart", n.resetDragDataTransfer, n, null, 1), s.attachListener(t, "dragstart", function(e) {
                            n.initDragDataTransfer(e, t)
                        }, null, null, 2), s.attachListener(t, "dragstart", function() {
                            var e = n.dragRange = t.getSelection().getRanges()[0];
                            CKEDITOR.env.ie && 10 > CKEDITOR.env.version && (n.dragStartContainerChildCount = e ? a(e.startContainer) : null, n.dragEndContainerChildCount = e ? a(e.endContainer) : null)
                        }, null, null, 100), s.attachListener(l, "dragend", o), s.attachListener(t, "dragend", n.initDragDataTransfer, n, null, 1), s.attachListener(t, "dragend", n.resetDragDataTransfer, n, null, 100), s.attachListener(l, "dragover", function(e) {
                            if (CKEDITOR.env.edge) e.data.preventDefault();
                            else {
                                var t = e.data.getTarget();
                                t && t.is && t.is("html") ? e.data.preventDefault() : CKEDITOR.env.ie && CKEDITOR.plugins.clipboard.isFileApiSupported && e.data.$.dataTransfer.types.contains("Files") && e.data.preventDefault()
                            }
                        }), s.attachListener(l, "drop", function(e) {
                            var r;
                            e.data.$.defaultPrevented || (e.data.preventDefault(), (!(r = e.data.getTarget()).isReadOnly() || r.type == CKEDITOR.NODE_ELEMENT && r.is("html")) && (r = n.getRangeAtDropPosition(e, t)) && o(e, n.dragRange, r))
                        }, null, null, 9999), s.attachListener(t, "drop", n.initDragDataTransfer, n, null, 1), s.attachListener(t, "drop", function(e) {
                            if (e = e.data) {
                                var o = e.dropRange,
                                    a = e.dragRange,
                                    s = e.dataTransfer;
                                s.getTransferType(t) == CKEDITOR.DATA_TRANSFER_INTERNAL ? setTimeout(function() {
                                    n.internalDrop(a, o, s, t)
                                }, 0) : s.getTransferType(t) == CKEDITOR.DATA_TRANSFER_CROSS_EDITORS ? r(a, o, s) : i(o, s)
                            }
                        }, null, null, 9999)
                    })
                }
                var o;
                CKEDITOR.plugins.add("clipboard", {
                    requires: "dialog,notification,toolbar",
                    init: function(e) {
                        var r, o, a = (o = {}, {
                            get: function(e) {
                                return "plain-text" == e ? o.plainText || (o.plainText = new CKEDITOR.filter("br")) : "semantic-content" == e ? ((e = o.semanticContent) || ((e = new CKEDITOR.filter).allow({
                                    $1: {
                                        elements: function() {
                                            var e, t = {};
                                            for (e in CKEDITOR.dtd) "$" != e.charAt(0) && "div" != e && "span" != e && (t[e] = 1);
                                            return t
                                        }(),
                                        attributes: !0,
                                        styles: !1,
                                        classes: !1
                                    }
                                }), e = o.semanticContent = e), e) : e ? new CKEDITOR.filter(e) : null
                            }
                        });
                        if (e.config.forcePasteAsPlainText ? r = "plain-text" : e.config.pasteFilter ? r = e.config.pasteFilter : !CKEDITOR.env.webkit || "pasteFilter" in e.config || (r = "semantic-content"), e.pasteFilter = a.get(r), t(e), i(e), CKEDITOR.dialog.add("paste", CKEDITOR.getUrl(this.path + "dialogs/paste.js")), CKEDITOR.env.gecko) {
                            var s, l = ["image/png", "image/jpeg", "image/gif"];
                            e.on("paste", function(t) {
                                var n = t.data,
                                    r = n.dataTransfer;
                                if (!n.dataValue && "paste" == n.method && r && 1 == r.getFilesCount() && s != r.id && (r = r.getFile(0), -1 != CKEDITOR.tools.indexOf(l, r.type))) {
                                    var i = new FileReader;
                                    i.addEventListener("load", function() {
                                        t.data.dataValue = '<img src="' + i.result + '" />', e.fire("paste", t.data)
                                    }, !1), i.addEventListener("abort", function() {
                                        e.fire("paste", t.data)
                                    }, !1), i.addEventListener("error", function() {
                                        e.fire("paste", t.data)
                                    }, !1), i.readAsDataURL(r), s = n.dataTransfer.id, t.stop()
                                }
                            }, null, null, 1)
                        }
                        e.on("paste", function(t) {
                            if (t.data.dataTransfer || (t.data.dataTransfer = new CKEDITOR.plugins.clipboard.dataTransfer), !t.data.dataValue) {
                                var n = t.data.dataTransfer,
                                    r = n.getData("text/html");
                                r ? (t.data.dataValue = r, t.data.type = "html") : (r = n.getData("text/plain")) && (t.data.dataValue = e.editable().transformPlainTextToHtml(r), t.data.type = "text")
                            }
                        }, null, null, 1), e.on("paste", function(e) {
                            var t = e.data.dataValue,
                                n = CKEDITOR.dtd.$block;
                            if (-1 < t.indexOf("Apple-") && (t = t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi, " "), "html" != e.data.type && (t = t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi, function(e, t) {
                                    return t.replace(/\t/g, "&nbsp;&nbsp; &nbsp;")
                                })), -1 < t.indexOf('<br class="Apple-interchange-newline">') && (e.data.startsWithEOL = 1, e.data.preSniffing = "html", t = t.replace(/<br class="Apple-interchange-newline">/, "")), t = t.replace(/(<[^>]+) class="Apple-[^"]*"/gi, "$1")), t.match(/^<[^<]+cke_(editable|contents)/i)) {
                                var r, i, o = new CKEDITOR.dom.element("div");
                                for (o.setHtml(t); 1 == o.getChildCount() && (r = o.getFirst()) && r.type == CKEDITOR.NODE_ELEMENT && (r.hasClass("cke_editable") || r.hasClass("cke_contents"));) o = i = r;
                                i && (t = i.getHtml().replace(/<br>$/i, ""))
                            }
                            CKEDITOR.env.ie ? t = t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g, function(t, r) {
                                return r.toLowerCase() in n ? (e.data.preSniffing = "html", "<" + r) : t
                            }) : CKEDITOR.env.webkit ? t = t.replace(/<\/(\w+)><div><br><\/div>$/, function(t, r) {
                                return r in n ? (e.data.endsWithEOL = 1, "</" + r + ">") : t
                            }) : CKEDITOR.env.gecko && (t = t.replace(/(\s)<br>$/, "$1")), e.data.dataValue = t
                        }, null, null, 3), e.on("paste", function(t) {
                            t = t.data;
                            var r, i = e._.nextPasteType || t.type,
                                o = t.dataValue,
                                s = e.config.clipboard_defaultContentType || "html",
                                l = t.dataTransfer.getTransferType(e) == CKEDITOR.DATA_TRANSFER_EXTERNAL,
                                c = !0 === e.config.forcePasteAsPlainText;
                            r = "html" == i || "html" == t.preSniffing ? "html" : function(e) {
                                if (CKEDITOR.env.webkit) {
                                    if (!e.match(/^[^<]*$/g) && !e.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi)) return "html"
                                } else if (CKEDITOR.env.ie) {
                                    if (!e.match(/^([^<]|<br( ?\/)?>)*$/gi) && !e.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi)) return "html"
                                } else {
                                    if (!CKEDITOR.env.gecko) return "html";
                                    if (!e.match(/^([^<]|<br( ?\/)?>)*$/gi)) return "html"
                                }
                                return "htmlifiedtext"
                            }(o), delete e._.nextPasteType, "htmlifiedtext" == r && (o = function(e, t) {
                                function n(e) {
                                    return CKEDITOR.tools.repeat("</p><p>", ~~(e / 2)) + (1 == e % 2 ? "<br>" : "")
                                }
                                return (t = (t = t.replace(/(?!\u3000)\s+/g, " ").replace(/> +</g, "><").replace(/<br ?\/>/gi, "<br>")).replace(/<\/?[A-Z]+>/g, function(e) {
                                    return e.toLowerCase()
                                })).match(/^[^<]$/) ? t : (CKEDITOR.env.webkit && -1 < t.indexOf("<div>") && ((t = t.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g, "<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g, "<div></div>")).match(/<div>(<br>|)<\/div>/) && (t = "<p>" + t.replace(/(<div>(<br>|)<\/div>)+/g, function(e) {
                                    return n(e.split("</div><div>").length + 1)
                                }) + "</p>"), t = (t = t.replace(/<\/div><div>/g, "<br>")).replace(/<\/?div>/g, "")), CKEDITOR.env.gecko && e.enterMode != CKEDITOR.ENTER_BR && (CKEDITOR.env.gecko && (t = t.replace(/^<br><br>$/, "<br>")), -1 < t.indexOf("<br><br>") && (t = "<p>" + t.replace(/(<br>){2,}/g, function(e) {
                                    return n(e.length / 4)
                                }) + "</p>")), function(e, t) {
                                    return e.enterMode == CKEDITOR.ENTER_BR ? t = t.replace(/(<\/p><p>)+/g, function(e) {
                                        return CKEDITOR.tools.repeat("<br>", e.length / 7 * 2)
                                    }).replace(/<\/?p>/g, "") : e.enterMode == CKEDITOR.ENTER_DIV && (t = t.replace(/<(\/)?p>/g, "<$1div>")), t
                                }(e, t))
                            }(e.config, o)), "text" == i && "html" == r ? o = n(e, o, a.get("plain-text")) : (l && e.pasteFilter && !t.dontFilter || c) && (o = n(e, o, e.pasteFilter)), t.startsWithEOL && (o = '<br data-cke-eol="1">' + o), t.endsWithEOL && (o += '<br data-cke-eol="1">'), "auto" == i && (i = "html" == r || "html" == s ? "html" : "text"), t.type = i, t.dataValue = o, delete t.preSniffing, delete t.startsWithEOL, delete t.endsWithEOL
                        }, null, null, 6), e.on("paste", function(t) {
                            (t = t.data).dataValue && (e.insertHtml(t.dataValue, t.type, t.range), setTimeout(function() {
                                e.fire("afterPaste")
                            }, 0))
                        }, null, null, 1e3), e.on("pasteDialog", function(t) {
                            setTimeout(function() {
                                e.openDialog("paste", t.data)
                            }, 0)
                        })
                    }
                }), CKEDITOR.plugins.clipboard = {
                    isCustomCopyCutSupported: (!CKEDITOR.env.ie || 16 <= CKEDITOR.env.version) && !CKEDITOR.env.iOS,
                    isCustomDataTypesSupported: !CKEDITOR.env.ie || 16 <= CKEDITOR.env.version,
                    isFileApiSupported: !CKEDITOR.env.ie || 9 < CKEDITOR.env.version,
                    mainPasteEvent: CKEDITOR.env.ie && !CKEDITOR.env.edge ? "beforepaste" : "paste",
                    addPasteButton: function(e, t, n) {
                        e.ui.addButton && (e.ui.addButton(t, n), e._.pasteButtons || (e._.pasteButtons = []), e._.pasteButtons.push(t))
                    },
                    canClipboardApiBeTrusted: function(e, t) {
                        return !!(e.getTransferType(t) != CKEDITOR.DATA_TRANSFER_EXTERNAL || CKEDITOR.env.chrome && !e.isEmpty() || CKEDITOR.env.gecko && (e.getData("text/html") || e.getFilesCount()) || CKEDITOR.env.safari && 603 <= CKEDITOR.env.version && !CKEDITOR.env.iOS || CKEDITOR.env.edge && 16 <= CKEDITOR.env.version)
                    },
                    getDropTarget: function(e) {
                        var t = e.editable();
                        return CKEDITOR.env.ie && 9 > CKEDITOR.env.version || t.isInline() ? t : e.document
                    },
                    fixSplitNodesAfterDrop: function(e, t, n, r) {
                        function i(e, n, r) {
                            var i = e;
                            if (i.type == CKEDITOR.NODE_TEXT && (i = e.getParent()), i.equals(n) && r != n.getChildCount()) return e = t.startContainer.getChild(t.startOffset - 1), n = t.startContainer.getChild(t.startOffset), e && e.type == CKEDITOR.NODE_TEXT && n && n.type == CKEDITOR.NODE_TEXT && (r = e.getLength(), e.setText(e.getText() + n.getText()), n.remove(), t.setStart(e, r), t.collapse(!0)), !0
                        }
                        var o = t.startContainer;
                        "number" == typeof r && "number" == typeof n && o.type == CKEDITOR.NODE_ELEMENT && (i(e.startContainer, o, n) || i(e.endContainer, o, r))
                    },
                    isDropRangeAffectedByDragRange: function(e, t) {
                        var n = t.startContainer,
                            r = t.endOffset;
                        return !!(e.endContainer.equals(n) && e.endOffset <= r || e.startContainer.getParent().equals(n) && e.startContainer.getIndex() < r || e.endContainer.getParent().equals(n) && e.endContainer.getIndex() < r)
                    },
                    internalDrop: function(t, n, r, i) {
                        var o, a, s = CKEDITOR.plugins.clipboard,
                            l = i.editable();
                        i.fire("saveSnapshot"), i.fire("lockSnapshot", {
                            dontUpdate: 1
                        }), CKEDITOR.env.ie && 10 > CKEDITOR.env.version && this.fixSplitNodesAfterDrop(t, n, s.dragStartContainerChildCount, s.dragEndContainerChildCount), (a = this.isDropRangeAffectedByDragRange(t, n)) || (o = t.createBookmark(!1)), s = n.clone().createBookmark(!1), a && (o = t.createBookmark(!1)), t = o.startNode, a = s.startNode, (n = o.endNode) && t.getPosition(a) & CKEDITOR.POSITION_PRECEDING && n.getPosition(a) & CKEDITOR.POSITION_FOLLOWING && a.insertBefore(t), (t = i.createRange()).moveToBookmark(o), l.extractHtmlFromRange(t, 1), (n = i.createRange()).moveToBookmark(s), e(i, {
                            dataTransfer: r,
                            method: "drop",
                            range: n
                        }, 1), i.fire("unlockSnapshot")
                    },
                    getRangeAtDropPosition: function(e, t) {
                        var n = e.data.$,
                            r = n.clientX,
                            i = n.clientY,
                            o = t.getSelection(!0).getRanges()[0],
                            a = t.createRange();
                        if (e.data.testRange) return e.data.testRange;
                        if (document.caretRangeFromPoint && t.document.$.caretRangeFromPoint(r, i)) n = t.document.$.caretRangeFromPoint(r, i), a.setStart(CKEDITOR.dom.node(n.startContainer), n.startOffset), a.collapse(!0);
                        else if (n.rangeParent) a.setStart(CKEDITOR.dom.node(n.rangeParent), n.rangeOffset), a.collapse(!0);
                        else {
                            if (CKEDITOR.env.ie && 8 < CKEDITOR.env.version && o && t.editable().hasFocus) return o;
                            if (!document.body.createTextRange) return null;
                            t.focus(), n = t.document.getBody().$.createTextRange();
                            try {
                                for (var s = !1, l = 0; 20 > l && !s; l++) {
                                    if (!s) try {
                                        n.moveToPoint(r, i - l), s = !0
                                    } catch (e) {}
                                    if (!s) try {
                                        n.moveToPoint(r, i + l), s = !0
                                    } catch (e) {}
                                }
                                if (s) {
                                    var c = "cke-temp-" + (new Date).getTime();
                                    n.pasteHTML('<span id="' + c + '">\u200b</span>');
                                    var u = t.document.getById(c);
                                    a.moveToPosition(u, CKEDITOR.POSITION_BEFORE_START), u.remove()
                                } else {
                                    var d, h = t.document.$.elementFromPoint(r, i),
                                        p = new CKEDITOR.dom.element(h);
                                    if (p.equals(t.editable()) || "html" == p.getName()) return o && o.startContainer && !o.startContainer.equals(t.editable()) ? o : null;
                                    d = p.getClientRect(), a.setStartAt(p, r < d.left ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END), a.collapse(!0)
                                }
                            } catch (e) {
                                return null
                            }
                        }
                        return a
                    },
                    initDragDataTransfer: function(e, t) {
                        var n = e.data.$ ? e.data.$.dataTransfer : null,
                            r = new this.dataTransfer(n, t);
                        "dragstart" === e.name && r.storeId(), n ? this.dragData && r.id == this.dragData.id ? r = this.dragData : this.dragData = r : this.dragData ? r = this.dragData : this.dragData = r, e.data.dataTransfer = r
                    },
                    resetDragDataTransfer: function() {
                        this.dragData = null
                    },
                    initPasteDataTransfer: function(e, t) {
                        if (this.isCustomCopyCutSupported) {
                            if (e && e.data && e.data.$) {
                                var n = e.data.$.clipboardData,
                                    r = new this.dataTransfer(n, t);
                                return "copy" !== e.name && "cut" !== e.name || r.storeId(), this.copyCutData && r.id == this.copyCutData.id ? (r = this.copyCutData).$ = n : this.copyCutData = r, r
                            }
                            return new this.dataTransfer(null, t)
                        }
                        return new this.dataTransfer(CKEDITOR.env.edge && e && e.data.$ && e.data.$.clipboardData || null, t)
                    },
                    preventDefaultDropOnElement: function(e) {
                        e && e.on("dragover", r)
                    }
                }, o = CKEDITOR.plugins.clipboard.isCustomDataTypesSupported ? "cke/id" : "Text", CKEDITOR.plugins.clipboard.dataTransfer = function(e, t) {
                    e && (this.$ = e), this._ = {
                        metaRegExp: /^<meta.*?>/i,
                        bodyRegExp: /<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,
                        fragmentRegExp: /\x3c!--(?:Start|End)Fragment--\x3e/g,
                        data: {},
                        files: [],
                        nativeHtmlCache: "",
                        normalizeType: function(e) {
                            return "text" == (e = e.toLowerCase()) || "text/plain" == e ? "Text" : "url" == e ? "URL" : e
                        }
                    }, this._.fallbackDataTransfer = new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this), this.id = this.getData(o), this.id || (this.id = "Text" == o ? "" : "cke-" + CKEDITOR.tools.getUniqueId()), t && (this.sourceEditor = t, this.setData("text/html", t.getSelectedHtml(1)), "Text" == o || this.getData("text/plain") || this.setData("text/plain", t.getSelection().getSelectedText()))
                }, CKEDITOR.DATA_TRANSFER_INTERNAL = 1, CKEDITOR.DATA_TRANSFER_CROSS_EDITORS = 2, CKEDITOR.DATA_TRANSFER_EXTERNAL = 3, CKEDITOR.plugins.clipboard.dataTransfer.prototype = {
                    getData: function(e, t) {
                        if (void 0 === (r = "text/html" == (e = this._.normalizeType(e)) && t ? this._.nativeHtmlCache : this._.data[e]) || null === r || "" === r) {
                            if (this._.fallbackDataTransfer.isRequired()) r = this._.fallbackDataTransfer.getData(e, t);
                            else try {
                                r = this.$.getData(e) || ""
                            } catch (e) {
                                r = ""
                            }
                            "text/html" != e || t || (r = this._stripHtml(r))
                        }
                        if ("Text" == e && CKEDITOR.env.gecko && this.getFilesCount() && "file://" == r.substring(0, 7) && (r = ""), "string" == typeof r) var n = r.indexOf("</html>"),
                            r = -1 !== n ? r.substring(0, n + 7) : r;
                        return r
                    },
                    setData: function(e, t) {
                        if ("text/html" == (e = this._.normalizeType(e)) ? (this._.data[e] = this._stripHtml(t), this._.nativeHtmlCache = t) : this._.data[e] = t, CKEDITOR.plugins.clipboard.isCustomDataTypesSupported || "URL" == e || "Text" == e)
                            if ("Text" == o && "Text" == e && (this.id = t), this._.fallbackDataTransfer.isRequired()) this._.fallbackDataTransfer.setData(e, t);
                            else try {
                                this.$.setData(e, t)
                            } catch (e) {}
                    },
                    storeId: function() {
                        "Text" !== o && this.setData(o, this.id)
                    },
                    getTransferType: function(e) {
                        return this.sourceEditor ? this.sourceEditor == e ? CKEDITOR.DATA_TRANSFER_INTERNAL : CKEDITOR.DATA_TRANSFER_CROSS_EDITORS : CKEDITOR.DATA_TRANSFER_EXTERNAL
                    },
                    cacheData: function() {
                        function e(e) {
                            e = r._.normalizeType(e);
                            var t = r.getData(e);
                            "text/html" == e && (r._.nativeHtmlCache = r.getData(e, !0), t = r._stripHtml(t)), t && (r._.data[e] = t)
                        }
                        if (this.$) {
                            var t, n, r = this;
                            if (CKEDITOR.plugins.clipboard.isCustomDataTypesSupported) {
                                if (this.$.types)
                                    for (t = 0; t < this.$.types.length; t++) e(this.$.types[t])
                            } else e("Text"), e("URL");
                            if (n = this._getImageFromClipboard(), this.$ && this.$.files || n) {
                                if (this._.files = [], this.$.files && this.$.files.length)
                                    for (t = 0; t < this.$.files.length; t++) this._.files.push(this.$.files[t]);
                                0 === this._.files.length && n && this._.files.push(n)
                            }
                        }
                    },
                    getFilesCount: function() {
                        return this._.files.length ? this._.files.length : this.$ && this.$.files && this.$.files.length ? this.$.files.length : this._getImageFromClipboard() ? 1 : 0
                    },
                    getFile: function(e) {
                        return this._.files.length ? this._.files[e] : this.$ && this.$.files && this.$.files.length ? this.$.files[e] : 0 === e ? this._getImageFromClipboard() : void 0
                    },
                    isEmpty: function() {
                        var e, t = {};
                        if (this.getFilesCount()) return !1;
                        if (CKEDITOR.tools.array.forEach(CKEDITOR.tools.objectKeys(this._.data), function(e) {
                                t[e] = 1
                            }), this.$)
                            if (CKEDITOR.plugins.clipboard.isCustomDataTypesSupported) {
                                if (this.$.types)
                                    for (var n = 0; n < this.$.types.length; n++) t[this.$.types[n]] = 1
                            } else t.Text = 1, t.URL = 1;
                        for (e in "Text" != o && (t[o] = 0), t)
                            if (t[e] && "" !== this.getData(e)) return !1;
                        return !0
                    },
                    _getImageFromClipboard: function() {
                        var e;
                        if (this.$ && this.$.items && this.$.items[0]) try {
                            if ((e = this.$.items[0].getAsFile()) && e.type) return e
                        } catch (e) {}
                    },
                    _stripHtml: function(e) {
                        if (e && e.length) {
                            e = e.replace(this._.metaRegExp, "");
                            var t = this._.bodyRegExp.exec(e);
                            t && t.length && (e = (e = t[1]).replace(this._.fragmentRegExp, ""))
                        }
                        return e
                    }
                }, CKEDITOR.plugins.clipboard.fallbackDataTransfer = function(e) {
                    this._dataTransfer = e, this._customDataFallbackType = "text/html"
                }, CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported = null, CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes = [], CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype = {
                    isRequired: function() {
                        var e = CKEDITOR.plugins.clipboard.fallbackDataTransfer,
                            t = this._dataTransfer.$;
                        if (null === e._isCustomMimeTypeSupported) {
                            if (!t) return !1;
                            e._isCustomMimeTypeSupported = !1;
                            try {
                                t.setData("cke/mimetypetest", "cke test value"), e._isCustomMimeTypeSupported = "cke test value" === t.getData("cke/mimetypetest"), t.clearData("cke/mimetypetest")
                            } catch (e) {}
                        }
                        return !e._isCustomMimeTypeSupported
                    },
                    getData: function(e, t) {
                        var n, r = this._getData(this._customDataFallbackType, !0);
                        return t ? r : (r = this._extractDataComment(r), null !== (n = e === this._customDataFallbackType ? r.content : r.data && r.data[e] ? r.data[e] : this._getData(e, !0)) ? n : "")
                    },
                    setData: function(e, t) {
                        (i = e === this._customDataFallbackType) && (t = this._applyDataComment(t, this._getFallbackTypeData()));
                        var n = t,
                            r = this._dataTransfer.$;
                        try {
                            r.setData(e, n), i && (this._dataTransfer._.nativeHtmlCache = n)
                        } catch (t) {
                            if (this._isUnsupportedMimeTypeError(t)) {
                                i = CKEDITOR.plugins.clipboard.fallbackDataTransfer, -1 === CKEDITOR.tools.indexOf(i._customTypes, e) && i._customTypes.push(e);
                                var i = this._getFallbackTypeContent(),
                                    o = this._getFallbackTypeData();
                                o[e] = n;
                                try {
                                    n = this._applyDataComment(i, o), r.setData(this._customDataFallbackType, n), this._dataTransfer._.nativeHtmlCache = n
                                } catch (e) {
                                    n = ""
                                }
                            }
                        }
                        return n
                    },
                    _getData: function(e, t) {
                        var n = this._dataTransfer._.data;
                        if (!t && n[e]) return n[e];
                        try {
                            return this._dataTransfer.$.getData(e)
                        } catch (e) {
                            return null
                        }
                    },
                    _getFallbackTypeContent: function() {
                        var e = this._dataTransfer._.data[this._customDataFallbackType];
                        return e || (e = this._extractDataComment(this._getData(this._customDataFallbackType, !0)).content), e
                    },
                    _getFallbackTypeData: function() {
                        var e = CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,
                            t = this._extractDataComment(this._getData(this._customDataFallbackType, !0)).data || {},
                            n = this._dataTransfer._.data;
                        return CKEDITOR.tools.array.forEach(e, function(e) {
                            void 0 !== n[e] ? t[e] = n[e] : void 0 !== t[e] && (t[e] = t[e])
                        }, this), t
                    },
                    _isUnsupportedMimeTypeError: function(e) {
                        return e.message && -1 !== e.message.search(/element not found/gi)
                    },
                    _extractDataComment: function(e) {
                        var t, n = {
                            data: null,
                            content: e || ""
                        };
                        return e && 16 < e.length && (t = /\x3c!--cke-data:(.*?)--\x3e/g.exec(e)) && t[1] && (n.data = JSON.parse(decodeURIComponent(t[1])), n.content = e.replace(t[0], "")), n
                    },
                    _applyDataComment: function(e, t) {
                        var n = "";
                        return t && CKEDITOR.tools.objectKeys(t).length && (n = "\x3c!--cke-data:" + encodeURIComponent(JSON.stringify(t)) + "--\x3e"), n + (e && e.length ? e : "")
                    }
                }
            }(), CKEDITOR.config.clipboard_notificationDuration = 1e4, function() {
                CKEDITOR.plugins.add("panel", {
                    beforeInit: function(e) {
                        e.ui.addHandler(CKEDITOR.UI_PANEL, CKEDITOR.ui.panel.handler)
                    }
                }), CKEDITOR.UI_PANEL = "panel", CKEDITOR.ui.panel = function(e, t) {
                    t && CKEDITOR.tools.extend(this, t), CKEDITOR.tools.extend(this, {
                        className: "",
                        css: []
                    }), this.id = CKEDITOR.tools.getNextId(), this.document = e, this.isFramed = this.forceIFrame || this.css.length, this._ = {
                        blocks: {}
                    }
                }, CKEDITOR.ui.panel.handler = {
                    create: function(e) {
                        return new CKEDITOR.ui.panel(e)
                    }
                };
                var e = CKEDITOR.addTemplate("panel", '<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),
                    t = CKEDITOR.addTemplate("panel-frame", '<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),
                    n = CKEDITOR.addTemplate("panel-frame-inner", '<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');
                CKEDITOR.ui.panel.prototype = {
                    render: function(r, i) {
                        this.getHolderElement = function() {
                            if (!(t = this._.holder)) {
                                if (this.isFramed) {
                                    var e = (t = this.document.getById(this.id + "_frame")).getParent(),
                                        t = t.getFrameDocument();
                                    CKEDITOR.env.iOS && e.setStyles({
                                        overflow: "scroll",
                                        "-webkit-overflow-scrolling": "touch"
                                    }), e = CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function() {
                                        this.isLoaded = !0, this.onLoad && this.onLoad()
                                    }, this)), t.write(n.output(CKEDITOR.tools.extend({
                                        css: CKEDITOR.tools.buildStyleHtml(this.css),
                                        onload: "window.parent.CKEDITOR.tools.callFunction(" + e + ");"
                                    }, o))), t.getWindow().$.CKEDITOR = CKEDITOR, t.on("keydown", function(e) {
                                        var t = e.data.getKeystroke(),
                                            n = this.document.getById(this.id).getAttribute("dir");
                                        this._.onKeyDown && !1 === this._.onKeyDown(t) ? e.data.preventDefault() : (27 == t || t == ("rtl" == n ? 39 : 37)) && this.onEscape && !1 === this.onEscape(t) && e.data.preventDefault()
                                    }, this), (t = t.getBody()).unselectable(), CKEDITOR.env.air && CKEDITOR.tools.callFunction(e)
                                } else t = this.document.getById(this.id);
                                this._.holder = t
                            }
                            return t
                        };
                        var o = {
                            editorId: r.id,
                            id: this.id,
                            langCode: r.langCode,
                            dir: r.lang.dir,
                            cls: this.className,
                            frame: "",
                            env: CKEDITOR.env.cssClass,
                            "z-index": r.config.baseFloatZIndex + 1
                        };
                        if (this.isFramed) {
                            var a = CKEDITOR.env.air ? "javascript:void(0)" : CKEDITOR.env.ie ? "javascript:void(function(){" + encodeURIComponent("document.open();(" + CKEDITOR.tools.fixDomain + ")();document.close();") + "}())" : "";
                            o.frame = t.output({
                                id: this.id + "_frame",
                                src: a
                            })
                        }
                        return a = e.output(o), i && i.push(a), a
                    },
                    addBlock: function(e, t) {
                        return t = this._.blocks[e] = t instanceof CKEDITOR.ui.panel.block ? t : new CKEDITOR.ui.panel.block(this.getHolderElement(), t), this._.currentBlock || this.showBlock(e), t
                    },
                    getBlock: function(e) {
                        return this._.blocks[e]
                    },
                    showBlock: function(e) {
                        e = this._.blocks[e];
                        var t = this._.currentBlock,
                            n = !this.forceIFrame || CKEDITOR.env.ie ? this._.holder : this.document.getById(this.id + "_frame");
                        return t && t.hide(), this._.currentBlock = e, CKEDITOR.fire("ariaWidget", n), e._.focusIndex = -1, this._.onKeyDown = e.onKeyDown && CKEDITOR.tools.bind(e.onKeyDown, e), e.show(), e
                    },
                    destroy: function() {
                        this.element && this.element.remove()
                    }
                }, CKEDITOR.ui.panel.block = CKEDITOR.tools.createClass({
                    $: function(e, t) {
                        this.element = e.append(e.getDocument().createElement("div", {
                            attributes: {
                                tabindex: -1,
                                class: "cke_panel_block"
                            },
                            styles: {
                                display: "none"
                            }
                        })), t && CKEDITOR.tools.extend(this, t), this.element.setAttributes({
                            role: this.attributes.role || "presentation",
                            "aria-label": this.attributes["aria-label"],
                            title: this.attributes.title || this.attributes["aria-label"]
                        }), this.keys = {}, this._.focusIndex = -1, this.element.disableContextMenu()
                    },
                    _: {
                        markItem: function(e) {
                            -1 != e && (e = this.element.getElementsByTag("a").getItem(this._.focusIndex = e), CKEDITOR.env.webkit && e.getDocument().getWindow().focus(), e.focus(), this.onMark && this.onMark(e))
                        },
                        markFirstDisplayed: function(e) {
                            for (var t, n, r = function(e) {
                                    return e.type == CKEDITOR.NODE_ELEMENT && "none" == e.getStyle("display")
                                }, i = this._.getItems(), o = i.count() - 1; 0 <= o; o--)
                                if ((t = i.getItem(o)).getAscendant(r) || (n = t, this._.focusIndex = o), "true" == t.getAttribute("aria-selected")) {
                                    n = t, this._.focusIndex = o;
                                    break
                                }
                            n && (e && e(), CKEDITOR.env.webkit && n.getDocument().getWindow().focus(), n.focus(), this.onMark && this.onMark(n))
                        },
                        getItems: function() {
                            return this.element.getElementsByTag("a")
                        }
                    },
                    proto: {
                        show: function() {
                            this.element.setStyle("display", "")
                        },
                        hide: function() {
                            this.onHide && !0 === this.onHide.call(this) || this.element.setStyle("display", "none")
                        },
                        onKeyDown: function(e, t) {
                            switch (i = this.keys[e]) {
                                case "next":
                                    for (var n, r = this._.focusIndex, i = this.element.getElementsByTag("a"); n = i.getItem(++r);)
                                        if (n.getAttribute("_cke_focus") && n.$.offsetWidth) {
                                            this._.focusIndex = r, n.focus();
                                            break
                                        }
                                    return !n && !t && (this._.focusIndex = -1, this.onKeyDown(e, 1));
                                case "prev":
                                    for (r = this._.focusIndex, i = this.element.getElementsByTag("a"); 0 < r && (n = i.getItem(--r));) {
                                        if (n.getAttribute("_cke_focus") && n.$.offsetWidth) {
                                            this._.focusIndex = r, n.focus();
                                            break
                                        }
                                        n = null
                                    }
                                    return !n && !t && (this._.focusIndex = i.count(), this.onKeyDown(e, 1));
                                case "click":
                                case "mouseup":
                                    return (n = 0 <= (r = this._.focusIndex) && this.element.getElementsByTag("a").getItem(r)) && (n.$[i] ? n.$[i]() : n.$["on" + i]()), !1
                            }
                            return !0
                        }
                    }
                })
            }(), CKEDITOR.plugins.add("floatpanel", {
                requires: "panel"
            }), function() {
                function e(e, n, r, i, o) {
                    o = CKEDITOR.tools.genKey(n.getUniqueId(), r.getUniqueId(), e.lang.dir, e.uiColor || "", i.css || "", o || "");
                    var a = t[o];
                    return a || ((a = t[o] = new CKEDITOR.ui.panel(n, i)).element = r.append(CKEDITOR.dom.element.createFromHtml(a.render(e), n)), a.element.setStyles({
                        display: "none",
                        position: "absolute"
                    })), a
                }
                var t = {};
                CKEDITOR.ui.floatPanel = CKEDITOR.tools.createClass({
                    $: function(t, n, r, i) {
                        function o() {
                            c.hide()
                        }
                        r.forceIFrame = 1, r.toolbarRelated && t.elementMode == CKEDITOR.ELEMENT_MODE_INLINE && (n = CKEDITOR.document.getById("cke_" + t.name));
                        var a = n.getDocument(),
                            s = (i = e(t, a, n, r, i || 0)).element,
                            l = s.getFirst(),
                            c = this;
                        s.disableContextMenu(), this.element = s, this._ = {
                            editor: t,
                            panel: i,
                            parentElement: n,
                            definition: r,
                            document: a,
                            iframe: l,
                            children: [],
                            dir: t.lang.dir,
                            showBlockParams: null
                        }, t.on("mode", o), t.on("resize", o), a.getWindow().on("resize", function() {
                            this.reposition()
                        }, this)
                    },
                    proto: {
                        addBlock: function(e, t) {
                            return this._.panel.addBlock(e, t)
                        },
                        addListBlock: function(e, t) {
                            return this._.panel.addListBlock(e, t)
                        },
                        getBlock: function(e) {
                            return this._.panel.getBlock(e)
                        },
                        showBlock: function(e, t, n, r, i, o) {
                            var a = this._.panel,
                                s = a.showBlock(e);
                            this._.showBlockParams = [].slice.call(arguments), this.allowBlur(!1);
                            var l = this._.editor.editable();
                            this._.returnFocus = l.hasFocus ? l : new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement), this._.hideTimeout = 0;
                            var c = this.element,
                                u = (l = this._.iframe, l = CKEDITOR.env.ie && !CKEDITOR.env.edge ? l : new CKEDITOR.dom.window(l.$.contentWindow), c.getDocument()),
                                d = this._.parentElement.getPositionedAncestor(),
                                h = t.getDocumentPosition(u),
                                p = (u = d ? d.getDocumentPosition(u) : {
                                    x: 0,
                                    y: 0
                                }, "rtl" == this._.dir),
                                f = h.x + (r || 0) - u.x,
                                m = h.y + (i || 0) - u.y;
                            !p || 1 != n && 4 != n ? p || 2 != n && 3 != n || (f += t.$.offsetWidth - 1) : f += t.$.offsetWidth, 3 != n && 4 != n || (m += t.$.offsetHeight - 1), this._.panel._.offsetParentId = t.getId(), c.setStyles({
                                top: m + "px",
                                left: 0,
                                display: ""
                            }), c.setOpacity(0), c.getFirst().removeStyle("width"), this._.editor.focusManager.add(l), this._.blurSet || (CKEDITOR.event.useCapture = !0, l.on("blur", function(e) {
                                function t() {
                                    delete this._.returnFocus, this.hide()
                                }
                                this.allowBlur() && e.data.getPhase() == CKEDITOR.EVENT_PHASE_AT_TARGET && this.visible && !this._.activeChild && (CKEDITOR.env.iOS ? this._.hideTimeout || (this._.hideTimeout = CKEDITOR.tools.setTimeout(t, 0, this)) : t.call(this))
                            }, this), l.on("focus", function() {
                                this._.focused = !0, this.hideChild(), this.allowBlur(!0)
                            }, this), CKEDITOR.env.iOS && (l.on("touchstart", function() {
                                clearTimeout(this._.hideTimeout)
                            }, this), l.on("touchend", function() {
                                this._.hideTimeout = 0, this.focus()
                            }, this)), CKEDITOR.event.useCapture = !1, this._.blurSet = 1), a.onEscape = CKEDITOR.tools.bind(function(e) {
                                if (this.onEscape && !1 === this.onEscape(e)) return !1
                            }, this), CKEDITOR.tools.setTimeout(function() {
                                var e = CKEDITOR.tools.bind(function() {
                                    if ((n = c).removeStyle("width"), s.autoSize) {
                                        var e = s.element.getDocument();
                                        e = (CKEDITOR.env.webkit || CKEDITOR.env.edge ? s.element : e.getBody()).$.scrollWidth, CKEDITOR.env.ie && CKEDITOR.env.quirks && 0 < e && (e += (n.$.offsetWidth || 0) - (n.$.clientWidth || 0) + 3), n.setStyle("width", e + 10 + "px"), e = s.element.$.scrollHeight, CKEDITOR.env.ie && CKEDITOR.env.quirks && 0 < e && (e += (n.$.offsetHeight || 0) - (n.$.clientHeight || 0) + 3), n.setStyle("height", e + "px"), a._.currentBlock.element.setStyle("display", "none").removeStyle("display")
                                    } else n.removeStyle("height");
                                    p && (f -= c.$.offsetWidth), c.setStyle("left", f + "px"), e = a.element.getWindow();
                                    var t, n = c.$.getBoundingClientRect(),
                                        r = (e = e.getViewPaneSize(), n.width || n.right - n.left),
                                        i = n.height || n.bottom - n.top,
                                        l = p ? n.right : e.width - n.left,
                                        u = p ? e.width - n.right : n.left;
                                    p ? l < r && (f = u > r ? f + r : e.width > r ? f - n.left : f - n.right + e.width) : l < r && (f = u > r ? f - r : e.width > r ? f - n.right + e.width : f - n.left), r = n.top, e.height - n.top < i && (m = r > i ? m - i : e.height > i ? m - n.bottom + e.height : m - n.top), CKEDITOR.env.ie && ("html" == (e = n = new CKEDITOR.dom.element(c.$.offsetParent)).getName() && (e = e.getDocument().getBody()), "rtl" == e.getComputedStyle("direction") && (f = CKEDITOR.env.ie8Compat ? f - 2 * c.getDocument().getDocumentElement().$.scrollLeft : f - (n.$.scrollWidth - n.$.clientWidth))), (t = (n = c.getFirst()).getCustomData("activePanel")) && t.onHide && t.onHide.call(this, 1), n.setCustomData("activePanel", this), c.setStyles({
                                        top: m + "px",
                                        left: f + "px"
                                    }), c.setOpacity(1), o && o()
                                }, this);
                                a.isLoaded ? e() : a.onLoad = e, CKEDITOR.tools.setTimeout(function() {
                                    var e = CKEDITOR.env.webkit && CKEDITOR.document.getWindow().getScrollPosition().y;
                                    this.focus(), s.element.focus(), CKEDITOR.env.webkit && (CKEDITOR.document.getBody().$.scrollTop = e), this.allowBlur(!0), CKEDITOR.env.ie ? CKEDITOR.tools.setTimeout(function() {
                                        s.markFirstDisplayed ? s.markFirstDisplayed() : s._.markFirstDisplayed()
                                    }, 0) : s.markFirstDisplayed ? s.markFirstDisplayed() : s._.markFirstDisplayed(), this._.editor.fire("panelShow", this)
                                }, 0, this)
                            }, CKEDITOR.env.air ? 200 : 0, this), this.visible = 1, this.onShow && this.onShow.call(this)
                        },
                        reposition: function() {
                            var e = this._.showBlockParams;
                            this.visible && this._.showBlockParams && (this.hide(), this.showBlock.apply(this, e))
                        },
                        focus: function() {
                            if (CKEDITOR.env.webkit) {
                                var e = CKEDITOR.document.getActive();
                                e && !e.equals(this._.iframe) && e.$.blur()
                            }(this._.lastFocused || this._.iframe.getFrameDocument().getWindow()).focus()
                        },
                        blur: function() {
                            var e = this._.iframe.getFrameDocument().getActive();
                            e && e.is("a") && (this._.lastFocused = e)
                        },
                        hide: function(e) {
                            !this.visible || this.onHide && !0 === this.onHide.call(this) || (this.hideChild(), CKEDITOR.env.gecko && this._.iframe.getFrameDocument().$.activeElement.blur(), this.element.setStyle("display", "none"), this.visible = 0, this.element.getFirst().removeCustomData("activePanel"), (e = e && this._.returnFocus) && (CKEDITOR.env.webkit && e.type && e.getWindow().$.focus(), e.focus()), delete this._.lastFocused, this._.showBlockParams = null, this._.editor.fire("panelHide", this))
                        },
                        allowBlur: function(e) {
                            var t = this._.panel;
                            return void 0 !== e && (t.allowBlur = e), t.allowBlur
                        },
                        showAsChild: function(e, t, n, r, i, o) {
                            this._.activeChild == e && e._.panel._.offsetParentId == n.getId() || (this.hideChild(), e.onHide = CKEDITOR.tools.bind(function() {
                                CKEDITOR.tools.setTimeout(function() {
                                    this._.focused || this.hide()
                                }, 0, this)
                            }, this), this._.activeChild = e, this._.focused = !1, e.showBlock(t, n, r, i, o), this.blur(), (CKEDITOR.env.ie7Compat || CKEDITOR.env.ie6Compat) && setTimeout(function() {
                                e.element.getChild(0).$.style.cssText += ""
                            }, 100))
                        },
                        hideChild: function(e) {
                            var t = this._.activeChild;
                            t && (delete t.onHide, delete this._.activeChild, t.hide(), e && this.focus())
                        }
                    }
                }), CKEDITOR.on("instanceDestroyed", function() {
                    var e, n = CKEDITOR.tools.isEmpty(CKEDITOR.instances);
                    for (e in t) {
                        var r = t[e];
                        n ? r.destroy() : r.element.hide()
                    }
                    n && (t = {})
                })
            }(), CKEDITOR.plugins.add("menu", {
                requires: "floatpanel",
                beforeInit: function(e) {
                    for (var t = e.config.menu_groups.split(","), n = e._.menuGroups = {}, r = e._.menuItems = {}, i = 0; i < t.length; i++) n[t[i]] = i + 1;
                    e.addMenuGroup = function(e, t) {
                        n[e] = t || 100
                    }, e.addMenuItem = function(e, t) {
                        n[t.group] && (r[e] = new CKEDITOR.menuItem(this, e, t))
                    }, e.addMenuItems = function(e) {
                        for (var t in e) this.addMenuItem(t, e[t])
                    }, e.getMenuItem = function(e) {
                        return r[e]
                    }, e.removeMenuItem = function(e) {
                        delete r[e]
                    }
                }
            }), function() {
                var e = '<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{label}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"';
                CKEDITOR.env.gecko && CKEDITOR.env.mac && (e += ' onkeypress="return false;"'), CKEDITOR.env.gecko && (e += ' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"'), e = e + ' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" ' + (CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : "onclick") + '="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">';
                var t = CKEDITOR.addTemplate("menuItem", e + '<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>'),
                    n = CKEDITOR.addTemplate("menuArrow", '<span class="cke_menuarrow"><span>{label}</span></span>'),
                    r = CKEDITOR.addTemplate("menuShortcut", '<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');
                CKEDITOR.menu = CKEDITOR.tools.createClass({
                    $: function(e, t) {
                        t = this._.definition = t || {}, this.id = CKEDITOR.tools.getNextId(), this.editor = e, this.items = [], this._.listeners = [], this._.level = t.level || 1;
                        var n = CKEDITOR.tools.extend({}, t.panel, {
                                css: [CKEDITOR.skin.getPath("editor")],
                                level: this._.level - 1,
                                block: {}
                            }),
                            r = n.block.attributes = n.attributes || {};
                        !r.role && (r.role = "menu"), this._.panelDefinition = n
                    },
                    _: {
                        onShow: function() {
                            var e = this.editor.getSelection(),
                                t = e && e.getStartElement(),
                                n = this.editor.elementPath(),
                                r = this._.listeners;
                            this.removeAll();
                            for (var i = 0; i < r.length; i++) {
                                var o = r[i](t, e, n);
                                if (o)
                                    for (var a in o) {
                                        var s = this.editor.getMenuItem(a);
                                        !s || s.command && !this.editor.getCommand(s.command).state || (s.state = o[a], this.add(s))
                                    }
                            }
                        },
                        onClick: function(e) {
                            this.hide(), e.onClick ? e.onClick() : e.command && this.editor.execCommand(e.command)
                        },
                        onEscape: function(e) {
                            var t = this.parent;
                            return t ? t._.panel.hideChild(1) : 27 == e && this.hide(1), !1
                        },
                        onHide: function() {
                            this.onHide && this.onHide()
                        },
                        showSubMenu: function(e) {
                            var t = this._.subMenu,
                                n = this.items[e];
                            if (n = n.getItems && n.getItems()) {
                                for (var r in t ? t.removeAll() : ((t = this._.subMenu = new CKEDITOR.menu(this.editor, CKEDITOR.tools.extend({}, this._.definition, {
                                        level: this._.level + 1
                                    }, !0))).parent = this, t._.onClick = CKEDITOR.tools.bind(this._.onClick, this)), n) {
                                    var i = this.editor.getMenuItem(r);
                                    i && (i.state = n[r], t.add(i))
                                }
                                var o = this._.panel.getBlock(this.id).element.getDocument().getById(this.id + String(e));
                                setTimeout(function() {
                                    t.show(o, 2)
                                }, 0)
                            } else this._.panel.hideChild(1)
                        }
                    },
                    proto: {
                        add: function(e) {
                            e.order || (e.order = this.items.length), this.items.push(e)
                        },
                        removeAll: function() {
                            this.items = []
                        },
                        show: function(e, t, n, r) {
                            if (this.parent || (this._.onShow(), this.items.length)) {
                                t = t || ("rtl" == this.editor.lang.dir ? 2 : 1);
                                var i = this.items,
                                    o = this.editor,
                                    a = this._.panel,
                                    s = this._.element;
                                a || ((a = this._.panel = new CKEDITOR.ui.floatPanel(this.editor, CKEDITOR.document.getBody(), this._.panelDefinition, this._.level)).onEscape = CKEDITOR.tools.bind(function(e) {
                                    if (!1 === this._.onEscape(e)) return !1
                                }, this), a.onShow = function() {
                                    a._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")
                                }, a.onHide = CKEDITOR.tools.bind(function() {
                                    this._.onHide && this._.onHide()
                                }, this), (s = a.addBlock(this.id, this._.panelDefinition.block)).autoSize = !0, (l = s.keys)[40] = "next", l[9] = "next", l[38] = "prev", l[CKEDITOR.SHIFT + 9] = "prev", l["rtl" == o.lang.dir ? 37 : 39] = CKEDITOR.env.ie ? "mouseup" : "click", l[32] = CKEDITOR.env.ie ? "mouseup" : "click", CKEDITOR.env.ie && (l[13] = "mouseup"), (l = (s = this._.element = s.element).getDocument()).getBody().setStyle("overflow", "hidden"), l.getElementsByTag("html").getItem(0).setStyle("overflow", "hidden"), this._.itemOverFn = CKEDITOR.tools.addFunction(function(e) {
                                    clearTimeout(this._.showSubTimeout), this._.showSubTimeout = CKEDITOR.tools.setTimeout(this._.showSubMenu, o.config.menu_subMenuDelay || 400, this, [e])
                                }, this), this._.itemOutFn = CKEDITOR.tools.addFunction(function() {
                                    clearTimeout(this._.showSubTimeout)
                                }, this), this._.itemClickFn = CKEDITOR.tools.addFunction(function(e) {
                                    var t = this.items[e];
                                    t.state == CKEDITOR.TRISTATE_DISABLED ? this.hide(1) : t.getItems ? this._.showSubMenu(e) : this._.onClick(t)
                                }, this)), i.sort(function(e, t) {
                                    return e.group < t.group ? -1 : e.group > t.group ? 1 : e.order < t.order ? -1 : e.order > t.order ? 1 : 0
                                });
                                for (var l = ['<div class="cke_menu' + ((l = o.elementPath()) && l.direction() != o.lang.dir ? " cke_mixed_dir_content" : "") + '" role="presentation">'], c = i.length, u = c && i[0].group, d = 0; d < c; d++) {
                                    var h = i[d];
                                    u != h.group && (l.push('<div class="cke_menuseparator" role="separator"></div>'), u = h.group), h.render(this, d, l)
                                }
                                l.push("</div>"), s.setHtml(l.join("")), CKEDITOR.ui.fire("ready", this), this.parent ? this.parent._.panel.showAsChild(a, this.id, e, t, n, r) : a.showBlock(this.id, e, t, n, r), o.fire("menuShow", [a])
                            }
                        },
                        addListener: function(e) {
                            this._.listeners.push(e)
                        },
                        hide: function(e) {
                            this._.onHide && this._.onHide(), this._.panel && this._.panel.hide(e)
                        },
                        findItemByCommandName: function(e) {
                            var t = CKEDITOR.tools.array.filter(this.items, function(t) {
                                return e === t.command
                            });
                            return t.length ? {
                                item: t = t[0],
                                element: this._.element.findOne("." + t.className)
                            } : null
                        }
                    }
                }), CKEDITOR.menuItem = CKEDITOR.tools.createClass({
                    $: function(e, t, n) {
                        CKEDITOR.tools.extend(this, n, {
                            order: 0,
                            className: "cke_menubutton__" + t
                        }), this.group = e._.menuGroups[this.group], this.editor = e, this.name = t
                    },
                    proto: {
                        render: function(e, i, o) {
                            var a, s, l = e.id + String(i),
                                c = void 0 === this.state ? CKEDITOR.TRISTATE_OFF : this.state,
                                u = "",
                                d = this.editor,
                                h = c == CKEDITOR.TRISTATE_ON ? "on" : c == CKEDITOR.TRISTATE_DISABLED ? "disabled" : "off";
                            this.role in {
                                menuitemcheckbox: 1,
                                menuitemradio: 1
                            } && (u = ' aria-checked="' + (c == CKEDITOR.TRISTATE_ON ? "true" : "false") + '"');
                            var p = this.getItems,
                                f = "&#" + ("rtl" == this.editor.lang.dir ? "9668" : "9658") + ";",
                                m = this.name;
                            this.icon && !/\./.test(this.icon) && (m = this.icon), this.command && (a = d.getCommand(this.command), (a = d.getCommandKeystroke(a)) && (s = CKEDITOR.tools.keystrokeToString(d.lang.common.keyboard, a))), e = {
                                id: l,
                                name: this.name,
                                iconName: m,
                                label: this.label,
                                cls: this.className || "",
                                state: h,
                                hasPopup: p ? "true" : "false",
                                disabled: c == CKEDITOR.TRISTATE_DISABLED,
                                title: this.label + (s ? " (" + s.display + ")" : ""),
                                ariaShortcut: s ? d.lang.common.keyboardShortcut + " " + s.aria : "",
                                href: "javascript:void('" + (this.label || "").replace("'") + "')",
                                hoverFn: e._.itemOverFn,
                                moveOutFn: e._.itemOutFn,
                                clickFn: e._.itemClickFn,
                                index: i,
                                iconStyle: CKEDITOR.skin.getIconStyle(m, "rtl" == this.editor.lang.dir, m == this.icon ? null : this.icon, this.iconOffset),
                                shortcutHtml: s ? r.output({
                                    shortcut: s.display
                                }) : "",
                                arrowHtml: p ? n.output({
                                    label: f
                                }) : "",
                                role: this.role ? this.role : "menuitem",
                                ariaChecked: u
                            }, t.output(e, o)
                        }
                    }
                })
            }(), CKEDITOR.config.menu_groups = "clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div", CKEDITOR.plugins.add("contextmenu", {
                requires: "menu",
                onLoad: function() {
                    CKEDITOR.plugins.contextMenu = CKEDITOR.tools.createClass({
                        base: CKEDITOR.menu,
                        $: function(e) {
                            this.base.call(this, e, {
                                panel: {
                                    className: "cke_menu_panel",
                                    attributes: {
                                        "aria-label": e.lang.contextmenu.options
                                    }
                                }
                            })
                        },
                        proto: {
                            addTarget: function(e, t) {
                                if (e.on("contextmenu", function(e) {
                                        e = e.data;
                                        var r = CKEDITOR.env.webkit ? n : CKEDITOR.env.mac ? e.$.metaKey : e.$.ctrlKey;
                                        if (!t || !r) {
                                            e.preventDefault(), CKEDITOR.env.mac && CKEDITOR.env.webkit && (r = this.editor, (i = new CKEDITOR.dom.elementPath(e.getTarget(), r.editable()).contains(function(e) {
                                                return e.hasAttribute("contenteditable")
                                            }, !0)) && "false" == i.getAttribute("contenteditable") && r.getSelection().fake(i));
                                            var i = e.getTarget().getDocument(),
                                                o = e.getTarget().getDocument().getDocumentElement(),
                                                a = (r = !i.equals(CKEDITOR.document), i = i.getWindow().getScrollPosition(), r ? e.$.clientX : e.$.pageX || i.x + e.$.clientX),
                                                s = r ? e.$.clientY : e.$.pageY || i.y + e.$.clientY;
                                            CKEDITOR.tools.setTimeout(function() {
                                                this.open(o, null, a, s)
                                            }, CKEDITOR.env.ie ? 200 : 0, this)
                                        }
                                    }, this), CKEDITOR.env.webkit) {
                                    var n, r = function() {
                                        n = 0
                                    };
                                    e.on("keydown", function(e) {
                                        n = CKEDITOR.env.mac ? e.data.$.metaKey : e.data.$.ctrlKey
                                    }), e.on("keyup", r), e.on("contextmenu", r)
                                }
                            },
                            open: function(e, t, n, r) {
                                !1 !== this.editor.config.enableContextMenu && (this.editor.focus(), e = e || CKEDITOR.document.getDocumentElement(), this.editor.selectionChange(1), this.show(e, t, n, r))
                            }
                        }
                    })
                },
                beforeInit: function(e) {
                    var t = e.contextMenu = new CKEDITOR.plugins.contextMenu(e);
                    e.on("contentDom", function() {
                        t.addTarget(e.editable(), !1 !== e.config.browserContextMenuOnCtrl)
                    }), e.addCommand("contextMenu", {
                        exec: function() {
                            e.contextMenu.open(e.document.getBody())
                        }
                    }), e.setKeystroke(CKEDITOR.SHIFT + 121, "contextMenu"), e.setKeystroke(CKEDITOR.CTRL + CKEDITOR.SHIFT + 121, "contextMenu")
                }
            }), function() {
                function e(e, n) {
                    function i(t) {
                        var n;
                        (t = l.list[t]).equals(e.editable()) || "true" == t.getAttribute("contenteditable") ? ((n = e.createRange()).selectNodeContents(t), n = n.select()) : (n = e.getSelection()).selectElement(t), CKEDITOR.env.ie && e.fire("selectionChange", {
                            selection: n,
                            path: new CKEDITOR.dom.elementPath(t)
                        }), e.focus()
                    }

                    function o() {
                        a && a.setHtml('<span class="cke_path_empty">&nbsp;</span>'), delete l.list
                    }
                    var a, s = e.ui.spaceId("path"),
                        l = e._.elementsPath,
                        c = l.idBase;
                    n.html += '<span id="' + s + '_label" class="cke_voice_label">' + e.lang.elementspath.eleLabel + '</span><span id="' + s + '" class="cke_path" role="group" aria-labelledby="' + s + '_label"><span class="cke_path_empty">&nbsp;</span></span>', e.on("uiReady", function() {
                        var t = e.ui.space("path");
                        t && e.focusManager.add(t, 1)
                    }), l.onClick = i;
                    var u = CKEDITOR.tools.addFunction(i),
                        d = CKEDITOR.tools.addFunction(function(t, n) {
                            var r, o = l.idBase;
                            switch (n = new CKEDITOR.dom.event(n), r = "rtl" == e.lang.dir, n.getKeystroke()) {
                                case r ? 39:
                                    37:
                                        case 9:
                                    return (r = CKEDITOR.document.getById(o + (t + 1))) || (r = CKEDITOR.document.getById(o + "0")), r.focus(), !1;
                                case r ? 37:
                                    39:
                                        case CKEDITOR.SHIFT + 9:
                                    return (r = CKEDITOR.document.getById(o + (t - 1))) || (r = CKEDITOR.document.getById(o + (l.list.length - 1))), r.focus(), !1;
                                case 27:
                                    return e.focus(), !1;
                                case 13:
                                case 32:
                                    return i(t), !1
                            }
                            return !0
                        });
                    e.on("selectionChange", function(t) {
                        for (var n = [], i = l.list = [], o = [], h = l.filters, p = !0, f = t.data.path.elements, m = f.length; m--;) {
                            var g = f[m],
                                E = 0;
                            t = g.data("cke-display-name") ? g.data("cke-display-name") : g.data("cke-real-element-type") ? g.data("cke-real-element-type") : g.getName(), (p = g.hasAttribute("contenteditable") ? "true" == g.getAttribute("contenteditable") : p) || g.hasAttribute("contenteditable") || (E = 1);
                            for (var b = 0; b < h.length; b++) {
                                var v = h[b](g, t);
                                if (!1 === v) {
                                    E = 1;
                                    break
                                }
                                t = v || t
                            }
                            E || (i.unshift(g), o.unshift(t))
                        }
                        for (i = i.length, h = 0; h < i; h++) p = e.lang.elementspath.eleTitle.replace(/%1/, t = o[h]), t = r.output({
                            id: c + h,
                            label: p,
                            text: t,
                            jsTitle: "javascript:void('" + t + "')",
                            index: h,
                            keyDownFn: d,
                            clickFn: u
                        }), n.unshift(t);
                        a || (a = CKEDITOR.document.getById(s)), (o = a).setHtml(n.join("") + '<span class="cke_path_empty">&nbsp;</span>'), e.fire("elementsPathUpdate", {
                            space: o
                        })
                    }), e.on("readOnly", o), e.on("contentDomUnload", o), e.addCommand("elementsPathFocus", t.toolbarFocus), e.setKeystroke(CKEDITOR.ALT + 122, "elementsPathFocus")
                }
                var t = {
                        toolbarFocus: {
                            editorFocus: !1,
                            readOnly: 1,
                            exec: function(e) {
                                (e = CKEDITOR.document.getById(e._.elementsPath.idBase + "0")) && e.focus(CKEDITOR.env.ie || CKEDITOR.env.air)
                            }
                        }
                    },
                    n = "";
                CKEDITOR.env.gecko && CKEDITOR.env.mac && (n += ' onkeypress="return false;"'), CKEDITOR.env.gecko && (n += ' onblur="this.style.cssText = this.style.cssText;"');
                var r = CKEDITOR.addTemplate("pathItem", '<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"' + n + ' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');
                CKEDITOR.plugins.add("elementspath", {
                    init: function(t) {
                        t._.elementsPath = {
                            idBase: "cke_elementspath_" + CKEDITOR.tools.getNextNumber() + "_",
                            filters: []
                        }, t.on("uiSpace", function(n) {
                            "bottom" == n.data.space && e(t, n.data)
                        })
                    }
                })
            }(), function() {
                function e(e, r) {
                    var i, o;
                    r.on("refresh", function(e) {
                        var r, i = [t];
                        for (r in e.data.states) i.push(e.data.states[r]);
                        this.setState(CKEDITOR.tools.search(i, n) ? n : t)
                    }, r, null, 100), r.on("exec", function(t) {
                        i = e.getSelection(), o = i.createBookmarks(1), t.data || (t.data = {}), t.data.done = !1
                    }, r, null, 0), r.on("exec", function() {
                        e.forceNextSelectionCheck(), i.selectBookmarks(o)
                    }, r, null, 100)
                }
                var t = CKEDITOR.TRISTATE_DISABLED,
                    n = CKEDITOR.TRISTATE_OFF;
                CKEDITOR.plugins.add("indent", {
                    init: function(t) {
                        var n = CKEDITOR.plugins.indent.genericDefinition;
                        e(t, t.addCommand("indent", new n(!0))), e(t, t.addCommand("outdent", new n)), t.ui.addButton && (t.ui.addButton("Indent", {
                            label: t.lang.indent.indent,
                            command: "indent",
                            directional: !0,
                            toolbar: "indent,20"
                        }), t.ui.addButton("Outdent", {
                            label: t.lang.indent.outdent,
                            command: "outdent",
                            directional: !0,
                            toolbar: "indent,10"
                        })), t.on("dirChanged", function(e) {
                            var n = t.createRange(),
                                r = e.data.node;
                            n.setStartBefore(r), n.setEndAfter(r);
                            for (var i, o = new CKEDITOR.dom.walker(n); i = o.next();)
                                if (i.type == CKEDITOR.NODE_ELEMENT)
                                    if (!i.equals(r) && i.getDirection()) n.setStartAfter(i), o = new CKEDITOR.dom.walker(n);
                                    else {
                                        var a = t.config.indentClasses;
                                        if (a)
                                            for (var s = "ltr" == e.data.dir ? ["_rtl", ""] : ["", "_rtl"], l = 0; l < a.length; l++) i.hasClass(a[l] + s[0]) && (i.removeClass(a[l] + s[0]), i.addClass(a[l] + s[1]));
                                        a = i.getStyle("margin-right"), s = i.getStyle("margin-left"), a ? i.setStyle("margin-left", a) : i.removeStyle("margin-left"), s ? i.setStyle("margin-right", s) : i.removeStyle("margin-right")
                                    }
                        })
                    }
                }), CKEDITOR.plugins.indent = {
                    genericDefinition: function(e) {
                        this.isIndent = !!e, this.startDisabled = !this.isIndent
                    },
                    specificDefinition: function(e, t, n) {
                        this.name = t, this.editor = e, this.jobs = {}, this.enterBr = e.config.enterMode == CKEDITOR.ENTER_BR, this.isIndent = !!n, this.relatedGlobal = n ? "indent" : "outdent", this.indentKey = n ? 9 : CKEDITOR.SHIFT + 9, this.database = {}
                    },
                    registerCommands: function(e, t) {
                        e.on("pluginsLoaded", function() {
                            for (var e in t) ! function(e, t) {
                                var n, r = e.getCommand(t.relatedGlobal);
                                for (n in t.jobs) r.on("exec", function(r) {
                                    r.data.done || (e.fire("lockSnapshot"), t.execJob(e, n) && (r.data.done = !0), e.fire("unlockSnapshot"), CKEDITOR.dom.element.clearAllMarkers(t.database))
                                }, this, null, n), r.on("refresh", function(r) {
                                    r.data.states || (r.data.states = {}), r.data.states[t.name + "@" + n] = t.refreshJob(e, n, r.data.path)
                                }, this, null, n);
                                e.addFeature(t)
                            }(this, t[e])
                        })
                    }
                }, CKEDITOR.plugins.indent.genericDefinition.prototype = {
                    context: "p",
                    exec: function() {}
                }, CKEDITOR.plugins.indent.specificDefinition.prototype = {
                    execJob: function(e, n) {
                        var r = this.jobs[n];
                        if (r.state != t) return r.exec.call(this, e)
                    },
                    refreshJob: function(e, n, r) {
                        return (n = this.jobs[n]).state = e.activeFilter.checkFeature(this) ? n.refresh.call(this, e, r) : t, n.state
                    },
                    getContext: function(e) {
                        return e.contains(this.context)
                    }
                }
            }(), function() {
                function e(e) {
                    function r(t) {
                        for (var r = i.startContainer, l = i.endContainer; r && !r.getParent().equals(t);) r = r.getParent();
                        for (; l && !l.getParent().equals(t);) l = l.getParent();
                        if (!r || !l) return !1;
                        for (var c = [], u = !1; !u;) r.equals(l) && (u = !0), c.push(r), r = r.getNext();
                        if (1 > c.length) return !1;
                        for (r = t.getParents(!0), l = 0; l < r.length; l++)
                            if (r[l].getName && s[r[l].getName()]) {
                                t = r[l];
                                break
                            }
                        r = o.isIndent ? 1 : -1, l = c[0], c = c[c.length - 1];
                        var d, h = (u = CKEDITOR.plugins.list.listToArray(t, a))[c.getCustomData("listarray_index")].indent;
                        for (l = l.getCustomData("listarray_index"); l <= c.getCustomData("listarray_index"); l++)
                            if (u[l].indent += r, 0 < r) {
                                for (var p = u[l].parent, f = l - 1; 0 <= f; f--)
                                    if (u[f].indent === r) {
                                        p = u[f].parent;
                                        break
                                    }
                                u[l].parent = new CKEDITOR.dom.element(p.getName(), p.getDocument())
                            }
                        for (l = c.getCustomData("listarray_index") + 1; l < u.length && u[l].indent > h; l++) u[l].indent += r;
                        if (r = CKEDITOR.plugins.list.arrayToList(u, a, null, e.config.enterMode, t.getDirection()), !o.isIndent && (d = t.getParent()) && d.is("li")) {
                            var m, g = [];
                            for (l = (c = r.listNode.getChildren()).count() - 1; 0 <= l; l--)(m = c.getItem(l)) && m.is && m.is("li") && g.push(m)
                        }
                        if (r && r.listNode.replace(t), g && g.length)
                            for (l = 0; l < g.length; l++) {
                                for (m = t = g[l];
                                    (m = m.getNext()) && m.is && m.getName() in s;) CKEDITOR.env.needsNbspFiller && !t.getFirst(n) && t.append(i.document.createText("\xa0")), t.append(m);
                                t.insertAfter(d)
                            }
                        return r && e.fire("contentDomInvalidated"), !0
                    }
                    for (var i, o = this, a = this.database, s = this.context, l = ((l = e.getSelection()) && l.getRanges()).createIterator(); i = l.getNextRange();) {
                        for (var c = i.getCommonAncestor(); c && (c.type != CKEDITOR.NODE_ELEMENT || !s[c.getName()]);) {
                            if (e.editable().equals(c)) {
                                c = !1;
                                break
                            }
                            c = c.getParent()
                        }
                        if (c || (c = i.startPath().contains(s)) && i.setEndAt(c, CKEDITOR.POSITION_BEFORE_END), !c) {
                            var u = i.getEnclosedNode();
                            u && u.type == CKEDITOR.NODE_ELEMENT && u.getName() in s && (i.setStartAt(u, CKEDITOR.POSITION_AFTER_START), i.setEndAt(u, CKEDITOR.POSITION_BEFORE_END), c = u)
                        }
                        if (c && i.startContainer.type == CKEDITOR.NODE_ELEMENT && i.startContainer.getName() in s && ((u = new CKEDITOR.dom.walker(i)).evaluator = t, i.startContainer = u.next()), c && i.endContainer.type == CKEDITOR.NODE_ELEMENT && i.endContainer.getName() in s && ((u = new CKEDITOR.dom.walker(i)).evaluator = t, i.endContainer = u.previous()), c) return r(c)
                    }
                    return 0
                }

                function t(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && e.is("li")
                }

                function n(e) {
                    return r(e) && i(e)
                }
                var r = CKEDITOR.dom.walker.whitespaces(!0),
                    i = CKEDITOR.dom.walker.bookmark(!1, !0),
                    o = CKEDITOR.TRISTATE_DISABLED,
                    a = CKEDITOR.TRISTATE_OFF;
                CKEDITOR.plugins.add("indentlist", {
                    requires: "indent",
                    init: function(t) {
                        function n(t) {
                            r.specificDefinition.apply(this, arguments), this.requiredContent = ["ul", "ol"], t.on("key", function(e) {
                                var n = t.elementPath();
                                if ("wysiwyg" == t.mode && e.data.keyCode == this.indentKey && n) {
                                    var r = this.getContext(n);
                                    !r || this.isIndent && CKEDITOR.plugins.indentList.firstItemInPath(this.context, n, r) || (t.execCommand(this.relatedGlobal), e.cancel())
                                }
                            }, this), this.jobs[this.isIndent ? 10 : 30] = {
                                refresh: this.isIndent ? function(e, t) {
                                    var n = this.getContext(t),
                                        r = CKEDITOR.plugins.indentList.firstItemInPath(this.context, t, n);
                                    return n && this.isIndent && !r ? a : o
                                } : function(e, t) {
                                    return !this.getContext(t) || this.isIndent ? o : a
                                },
                                exec: CKEDITOR.tools.bind(e, this)
                            }
                        }
                        var r = CKEDITOR.plugins.indent;
                        r.registerCommands(t, {
                            indentlist: new n(t, "indentlist", !0),
                            outdentlist: new n(t, "outdentlist")
                        }), CKEDITOR.tools.extend(n.prototype, r.specificDefinition.prototype, {
                            context: {
                                ol: 1,
                                ul: 1
                            }
                        })
                    }
                }), CKEDITOR.plugins.indentList = {}, CKEDITOR.plugins.indentList.firstItemInPath = function(e, n, r) {
                    var i = n.contains(t);
                    return r || (r = n.contains(e)), r && i && i.equals(r.getFirst(t))
                }
            }(), function() {
                function e(e, t, n) {
                    function r(n) {
                        !(l = u[n ? "getFirst" : "getLast"]()) || l.is && l.isBlockBoundary() || !(c = t.root[n ? "getPrevious" : "getNext"](CKEDITOR.dom.walker.invisible(!0))) || c.is && c.isBlockBoundary({
                            br: 1
                        }) || e.document.createElement("br")[n ? "insertBefore" : "insertAfter"](l)
                    }
                    for (var i = CKEDITOR.plugins.list.listToArray(t.root, n), o = [], a = 0; a < t.contents.length; a++) {
                        var s = t.contents[a];
                        (s = s.getAscendant("li", !0)) && !s.getCustomData("list_item_processed") && (o.push(s), CKEDITOR.dom.element.setMarker(n, s, "list_item_processed", !0))
                    }
                    for (s = null, a = 0; a < o.length; a++) i[s = o[a].getCustomData("listarray_index")].indent = -1;
                    for (a = s + 1; a < i.length; a++)
                        if (i[a].indent > i[a - 1].indent + 1) {
                            for (o = i[a - 1].indent + 1 - i[a].indent, s = i[a].indent; i[a] && i[a].indent >= s;) i[a].indent += o, a++;
                            a--
                        }
                    var l, c, u = CKEDITOR.plugins.list.arrayToList(i, n, null, e.config.enterMode, t.root.getAttribute("dir")).listNode;
                    r(!0), r(), u.replace(t.root), e.fire("contentDomInvalidated")
                }

                function t(e, t) {
                    this.name = e, this.context = this.type = t, this.allowedContent = t + " li", this.requiredContent = t
                }

                function n(e, t, n, r) {
                    for (var i, o; i = e[r ? "getLast" : "getFirst"](p);)(o = i.getDirection(1)) !== t.getDirection(1) && i.setAttribute("dir", o), i.remove(), n ? i[r ? "insertBefore" : "insertAfter"](n) : t.append(i, r)
                }

                function r(e) {
                    function t(t) {
                        var r = e[t ? "getPrevious" : "getNext"](u);
                        r && r.type == CKEDITOR.NODE_ELEMENT && r.is(e.getName()) && (n(e, r, null, !t), e.remove(), e = r)
                    }
                    t(), t(1)
                }

                function i(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && (e.getName() in CKEDITOR.dtd.$block || e.getName() in CKEDITOR.dtd.$listItem) && CKEDITOR.dtd[e.getName()]["#"]
                }

                function o(e, t, i) {
                    e.fire("saveSnapshot"), i.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);
                    var o = i.extractContents();
                    t.trim(!1, !0);
                    var s = t.createBookmark(),
                        l = (c = new CKEDITOR.dom.elementPath(t.startContainer)).block,
                        c = c.lastElement.getAscendant("li", 1) || l,
                        h = (p = new CKEDITOR.dom.elementPath(i.startContainer)).contains(CKEDITOR.dtd.$listItem),
                        p = p.contains(CKEDITOR.dtd.$list);
                    for (l ? (l = l.getBogus()) && l.remove() : p && (l = p.getPrevious(u)) && d(l) && l.remove(), (l = o.getLast()) && l.type == CKEDITOR.NODE_ELEMENT && l.is("br") && l.remove(), (l = t.startContainer.getChild(t.startOffset)) ? o.insertBefore(l) : t.startContainer.append(o), h && (o = a(h)) && (c.contains(h) ? (n(o, h.getParent(), h), o.remove()) : c.append(o)); i.checkStartOfBlock() && i.checkEndOfBlock() && (o = (p = i.startPath()).block);) o.is("li") && (c = o.getParent(), o.equals(c.getLast(u)) && o.equals(c.getFirst(u)) && (o = c)), i.moveToPosition(o, CKEDITOR.POSITION_BEFORE_START), o.remove();
                    i = i.clone(), o = e.editable(), i.setEndAt(o, CKEDITOR.POSITION_BEFORE_END), (i = new CKEDITOR.dom.walker(i)).evaluator = function(e) {
                        return u(e) && !d(e)
                    }, (i = i.next()) && i.type == CKEDITOR.NODE_ELEMENT && i.getName() in CKEDITOR.dtd.$list && r(i), t.moveToBookmark(s), t.select(), e.fire("saveSnapshot")
                }

                function a(e) {
                    return (e = e.getLast(u)) && e.type == CKEDITOR.NODE_ELEMENT && e.getName() in s ? e : null
                }
                var s = {
                        ol: 1,
                        ul: 1
                    },
                    l = CKEDITOR.dom.walker.whitespaces(),
                    c = CKEDITOR.dom.walker.bookmark(),
                    u = function(e) {
                        return !(l(e) || c(e))
                    },
                    d = CKEDITOR.dom.walker.bogus();
                CKEDITOR.plugins.list = {
                    listToArray: function(e, t, n, r, i) {
                        if (!s[e.getName()]) return [];
                        r || (r = 0), n || (n = []);
                        for (var o = 0, a = e.getChildCount(); o < a; o++) {
                            var l = e.getChild(o);
                            if (l.type == CKEDITOR.NODE_ELEMENT && l.getName() in CKEDITOR.dtd.$list && CKEDITOR.plugins.list.listToArray(l, t, n, r + 1), "li" == l.$.nodeName.toLowerCase()) {
                                var c = {
                                    parent: e,
                                    indent: r,
                                    element: l,
                                    contents: []
                                };
                                i ? c.grandparent = i : (c.grandparent = e.getParent(), c.grandparent && "li" == c.grandparent.$.nodeName.toLowerCase() && (c.grandparent = c.grandparent.getParent())), t && CKEDITOR.dom.element.setMarker(t, l, "listarray_index", n.length), n.push(c);
                                for (var u, d = 0, h = l.getChildCount(); d < h; d++)(u = l.getChild(d)).type == CKEDITOR.NODE_ELEMENT && s[u.getName()] ? CKEDITOR.plugins.list.listToArray(u, t, n, r + 1, c.grandparent) : c.contents.push(u)
                            }
                        }
                        return n
                    },
                    arrayToList: function(e, t, n, r, i) {
                        if (n || (n = 0), !e || e.length < n + 1) return null;
                        for (var o, a, l, d = e[n].parent.getDocument(), h = new CKEDITOR.dom.documentFragment(d), p = null, f = n, m = Math.max(e[n].indent, 0), g = null, E = r == CKEDITOR.ENTER_P ? "p" : "div";;) {
                            var b = e[f];
                            if (o = b.grandparent, a = b.element.getDirection(1), b.indent == m) {
                                for (p && e[f].parent.getName() == p.getName() || (p = e[f].parent.clone(!1, 1), i && p.setAttribute("dir", i), h.append(p)), g = p.append(b.element.clone(0, 1)), a != p.getDirection(1) && g.setAttribute("dir", a), o = 0; o < b.contents.length; o++) g.append(b.contents[o].clone(1, 1));
                                f++
                            } else if (b.indent == Math.max(m, 0) + 1) b = e[f - 1].element.getDirection(1), f = CKEDITOR.plugins.list.arrayToList(e, null, f, r, b != a ? a : null), !g.getChildCount() && CKEDITOR.env.needsNbspFiller && 7 >= d.$.documentMode && g.append(d.createText("\xa0")), g.append(f.listNode), f = f.nextIndex;
                            else {
                                if (-1 != b.indent || n || !o) return null;
                                s[o.getName()] ? (g = b.element.clone(!1, !0), a != o.getDirection(1) && g.setAttribute("dir", a)) : g = new CKEDITOR.dom.documentFragment(d), p = o.getDirection(1) != a;
                                var v, T, y = b.element,
                                    C = y.getAttribute("class"),
                                    k = y.getAttribute("style"),
                                    w = g.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT && (r != CKEDITOR.ENTER_BR || p || k || C),
                                    _ = b.contents.length;
                                for (o = 0; o < _; o++)
                                    if (c(v = b.contents[o]) && 1 < _) w ? T = v.clone(1, 1) : g.append(v.clone(1, 1));
                                    else if (v.type == CKEDITOR.NODE_ELEMENT && v.isBlockBoundary()) {
                                    p && !v.getDirection() && v.setAttribute("dir", a), l = v;
                                    var x = y.getAttribute("style");
                                    x && l.setAttribute("style", x.replace(/([^;])$/, "$1;") + (l.getAttribute("style") || "")), C && v.addClass(C), l = null, T && (g.append(T), T = null), g.append(v.clone(1, 1))
                                } else w ? (l || (l = d.createElement(E), g.append(l), p && l.setAttribute("dir", a)), k && l.setAttribute("style", k), C && l.setAttribute("class", C), T && (l.append(T), T = null), l.append(v.clone(1, 1))) : g.append(v.clone(1, 1));
                                T && ((l || g).append(T), T = null), g.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT && f != e.length - 1 && (CKEDITOR.env.needsBrFiller && (a = g.getLast()) && a.type == CKEDITOR.NODE_ELEMENT && a.is("br") && a.remove(), (a = g.getLast(u)) && a.type == CKEDITOR.NODE_ELEMENT && a.is(CKEDITOR.dtd.$block) || g.append(d.createElement("br"))), "div" != (a = g.$.nodeName.toLowerCase()) && "p" != a || g.appendBogus(), h.append(g), p = null, f++
                            }
                            if (l = null, e.length <= f || Math.max(e[f].indent, 0) < m) break
                        }
                        if (t)
                            for (e = h.getFirst(); e;) {
                                if (e.type == CKEDITOR.NODE_ELEMENT && (CKEDITOR.dom.element.clearMarkers(t, e), e.getName() in CKEDITOR.dtd.$listItem && (d = i = r = void 0, r = (n = e).getDirection()))) {
                                    for (i = n.getParent(); i && !(d = i.getDirection());) i = i.getParent();
                                    r == d && n.removeAttribute("dir")
                                }
                                e = e.getNextSourceNode()
                            }
                        return {
                            listNode: h,
                            nextIndex: f
                        }
                    }
                };
                var h = /^h[1-6]$/,
                    p = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);
                t.prototype = {
                    exec: function(t) {
                        this.refresh(t, t.elementPath());
                        var n = t.config,
                            i = t.getSelection(),
                            o = i && i.getRanges();
                        if (this.state == CKEDITOR.TRISTATE_OFF)
                            if ((l = t.editable()).getFirst(u)) {
                                var a = 1 == o.length && o[0];
                                (n = a && a.getEnclosedNode()) && n.is && this.type == n.getName() && this.setState(CKEDITOR.TRISTATE_ON)
                            } else n.enterMode == CKEDITOR.ENTER_BR ? l.appendBogus() : o[0].fixBlock(1, n.enterMode == CKEDITOR.ENTER_P ? "p" : "div"), i.selectRanges(o);
                        n = i.createBookmarks(!0);
                        for (var l = [], c = {}, d = (o = o.createIterator(), 0);
                            (a = o.getNextRange()) && ++d;) {
                            var p = (T = a.getBoundaryNodes()).endNode;
                            for ((m = T.startNode).type == CKEDITOR.NODE_ELEMENT && "td" == m.getName() && a.setStartAt(T.startNode, CKEDITOR.POSITION_AFTER_START), p.type == CKEDITOR.NODE_ELEMENT && "td" == p.getName() && a.setEndAt(T.endNode, CKEDITOR.POSITION_BEFORE_END), (a = a.createIterator()).forceBrBreak = this.state == CKEDITOR.TRISTATE_OFF; T = a.getNextParagraph();)
                                if (!T.getCustomData("list_block")) {
                                    CKEDITOR.dom.element.setMarker(c, T, "list_block", 1);
                                    for (var f, m = (g = t.elementPath(T)).elements, g = (p = 0, g.blockLimit), E = m.length - 1; 0 <= E && (f = m[E]); E--)
                                        if (s[f.getName()] && g.contains(f)) {
                                            g.removeCustomData("list_group_object_" + d), (m = f.getCustomData("list_group_object")) ? m.contents.push(T) : (l.push(m = {
                                                root: f,
                                                contents: [T]
                                            }), CKEDITOR.dom.element.setMarker(c, f, "list_group_object", m)), p = 1;
                                            break
                                        }
                                    p || ((p = g).getCustomData("list_group_object_" + d) ? p.getCustomData("list_group_object_" + d).contents.push(T) : (m = {
                                        root: p,
                                        contents: [T]
                                    }, CKEDITOR.dom.element.setMarker(c, p, "list_group_object_" + d, m), l.push(m)))
                                }
                        }
                        for (f = []; 0 < l.length;)
                            if (m = l.shift(), this.state == CKEDITOR.TRISTATE_OFF)
                                if (s[m.root.getName()]) {
                                    for (o = t, d = m, m = c, a = f, p = CKEDITOR.plugins.list.listToArray(d.root, m), g = [], T = 0; T < d.contents.length; T++)(E = (E = d.contents[T]).getAscendant("li", !0)) && !E.getCustomData("list_item_processed") && (g.push(E), CKEDITOR.dom.element.setMarker(m, E, "list_item_processed", !0));
                                    E = d.root.getDocument();
                                    for (var b = void 0, v = void 0, T = 0; T < g.length; T++) {
                                        var y = g[T].getCustomData("listarray_index");
                                        (b = p[y].parent).is(this.type) || (v = E.createElement(this.type), b.copyAttributes(v, {
                                            start: 1,
                                            type: 1
                                        }), v.removeStyle("list-style-type"), p[y].parent = v)
                                    }
                                    for (m = CKEDITOR.plugins.list.arrayToList(p, m, null, o.config.enterMode), p = void 0, g = m.listNode.getChildCount(), T = 0; T < g && (p = m.listNode.getChild(T)); T++) p.getName() == this.type && a.push(p);
                                    m.listNode.replace(d.root), o.fire("contentDomInvalidated")
                                } else {
                                    for (p = t, T = f, g = (a = m).contents, o = a.root.getDocument(), d = [], 1 == g.length && g[0].equals(a.root) && (m = o.createElement("div"), g[0].moveChildren && g[0].moveChildren(m), g[0].append(m), g[0] = m), a = a.contents[0].getParent(), E = 0; E < g.length; E++) a = a.getCommonAncestor(g[E].getParent());
                                    for (b = p.config.useComputedState, p = m = void 0, b = void 0 === b || b, E = 0; E < g.length; E++)
                                        for (v = g[E]; y = v.getParent();) {
                                            if (y.equals(a)) {
                                                d.push(v), !p && v.getDirection() && (p = 1), v = v.getDirection(b), null !== m && (m = m && m != v ? null : v);
                                                break
                                            }
                                            v = y
                                        }
                                    if (!(1 > d.length)) {
                                        for (g = d[d.length - 1].getNext(), E = o.createElement(this.type), T.push(E), b = T = void 0; d.length;) T = d.shift(), b = o.createElement("li"), (v = T).is("pre") || h.test(v.getName()) || "false" == v.getAttribute("contenteditable") ? T.appendTo(b) : (T.copyAttributes(b), m && T.getDirection() && (b.removeStyle("direction"), b.removeAttribute("dir")), T.moveChildren(b), T.remove()), b.appendTo(E);
                                        m && p && E.setAttribute("dir", m), g ? E.insertBefore(g) : E.appendTo(a)
                                    }
                                }
                        else this.state == CKEDITOR.TRISTATE_ON && s[m.root.getName()] && e.call(this, t, m, c);
                        for (E = 0; E < f.length; E++) r(f[E]);
                        CKEDITOR.dom.element.clearAllMarkers(c), i.selectBookmarks(n), t.focus()
                    },
                    refresh: function(e, t) {
                        var n = t.contains(s, 1);
                        n && (t.blockLimit || t.root).contains(n) ? this.setState(n.is(this.type) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF) : this.setState(CKEDITOR.TRISTATE_OFF)
                    }
                }, CKEDITOR.plugins.add("list", {
                    requires: "indentlist",
                    init: function(e) {
                        e.blockless || (e.addCommand("numberedlist", new t("numberedlist", "ol")), e.addCommand("bulletedlist", new t("bulletedlist", "ul")), e.ui.addButton && (e.ui.addButton("NumberedList", {
                            label: e.lang.list.numberedlist,
                            command: "numberedlist",
                            directional: !0,
                            toolbar: "list,10"
                        }), e.ui.addButton("BulletedList", {
                            label: e.lang.list.bulletedlist,
                            command: "bulletedlist",
                            directional: !0,
                            toolbar: "list,20"
                        })), e.on("key", function(t) {
                            var n, r = t.data.domEvent.getKey();
                            if ("wysiwyg" == e.mode && r in {
                                    8: 1,
                                    46: 1
                                }) {
                                var l = e.getSelection().getRanges()[0],
                                    c = l && l.startPath();
                                if (l && l.collapsed) {
                                    var h, p = 8 == r,
                                        f = e.editable(),
                                        m = new CKEDITOR.dom.walker(l.clone());
                                    if (m.evaluator = function(e) {
                                            return u(e) && !d(e)
                                        }, m.guard = function(e, t) {
                                            return !(t && e.type == CKEDITOR.NODE_ELEMENT && e.is("table"))
                                        }, r = l.clone(), p)
                                        if ((h = c.contains(s)) && l.checkBoundaryOfElement(h, CKEDITOR.START) && (h = h.getParent()) && h.is("li") && (h = a(h)) ? (n = h, h = h.getPrevious(u), r.moveToPosition(h && d(h) ? h : n, CKEDITOR.POSITION_BEFORE_START)) : (m.range.setStartAt(f, CKEDITOR.POSITION_AFTER_START), m.range.setEnd(l.startContainer, l.startOffset), (h = m.previous()) && h.type == CKEDITOR.NODE_ELEMENT && (h.getName() in s || h.is("li")) && (h.is("li") || (m.range.selectNodeContents(h), m.reset(), m.evaluator = i, h = m.previous()), r.moveToElementEditEnd(n = h), r.moveToPosition(r.endPath().block, CKEDITOR.POSITION_BEFORE_END))), n) o(e, r, l), t.cancel();
                                        else {
                                            var g = c.contains(s);
                                            g && l.checkBoundaryOfElement(g, CKEDITOR.START) && (n = g.getFirst(u), l.checkBoundaryOfElement(n, CKEDITOR.START) && (h = g.getPrevious(u), a(n) ? h && (l.moveToElementEditEnd(h), l.select()) : e.execCommand("outdent"), t.cancel()))
                                        }
                                    else if (n = c.contains("li")) {
                                        if (m.range.setEndAt(f, CKEDITOR.POSITION_BEFORE_END), p = (f = n.getLast(u)) && i(f) ? f : n, c = 0, (h = m.next()) && h.type == CKEDITOR.NODE_ELEMENT && h.getName() in s && h.equals(f) ? (c = 1, h = m.next()) : l.checkBoundaryOfElement(p, CKEDITOR.END) && (c = 2), c && h) {
                                            if ((l = l.clone()).moveToElementEditStart(h), 1 == c && (r.optimize(), !r.startContainer.equals(n))) {
                                                for (n = r.startContainer; n.is(CKEDITOR.dtd.$inline);) g = n, n = n.getParent();
                                                g && r.moveToPosition(g, CKEDITOR.POSITION_AFTER_END)
                                            }
                                            2 == c && (r.moveToPosition(r.endPath().block, CKEDITOR.POSITION_BEFORE_END), l.endPath().block && l.moveToPosition(l.endPath().block, CKEDITOR.POSITION_AFTER_START)), o(e, r, l), t.cancel()
                                        }
                                    } else m.range.setEndAt(f, CKEDITOR.POSITION_BEFORE_END), (h = m.next()) && h.type == CKEDITOR.NODE_ELEMENT && h.is(s) && (h = h.getFirst(u), c.block && l.checkStartOfBlock() && l.checkEndOfBlock() ? (c.block.remove(), l.moveToElementEditStart(h), l.select()) : a(h) ? (l.moveToElementEditStart(h), l.select()) : ((l = l.clone()).moveToElementEditStart(h), o(e, r, l)), t.cancel());
                                    setTimeout(function() {
                                        e.selectionChange(1)
                                    })
                                }
                            }
                        }))
                    }
                })
            }(), function() {
                function e(e, t, n) {
                    if (n = e.config.forceEnterMode || n, "wysiwyg" == e.mode) {
                        t || (t = e.activeEnterMode);
                        var r = e.elementPath();
                        r && !r.isContextFor("p") && (t = CKEDITOR.ENTER_BR, n = 1), e.fire("saveSnapshot"), t == CKEDITOR.ENTER_BR ? o(e, t, null, n) : a(e, t, null, n), e.fire("saveSnapshot")
                    }
                }

                function t(e) {
                    for (var t = (e = e.getSelection().getRanges(!0)).length - 1; 0 < t; t--) e[t].deleteContents();
                    return e[0]
                }
                CKEDITOR.plugins.add("enterkey", {
                    init: function(t) {
                        t.addCommand("enter", {
                            modes: {
                                wysiwyg: 1
                            },
                            editorFocus: !1,
                            exec: function(t) {
                                e(t)
                            }
                        }), t.addCommand("shiftEnter", {
                            modes: {
                                wysiwyg: 1
                            },
                            editorFocus: !1,
                            exec: function(t) {
                                e(t, t.activeShiftEnterMode, 1)
                            }
                        }), t.setKeystroke([
                            [13, "enter"],
                            [CKEDITOR.SHIFT + 13, "shiftEnter"]
                        ])
                    }
                });
                var n = CKEDITOR.dom.walker.whitespaces(),
                    r = CKEDITOR.dom.walker.bookmark();
                CKEDITOR.plugins.enterkey = {
                    enterBlock: function(e, i, a, l) {
                        if (a = a || t(e)) {
                            var c, u = (a = function(e) {
                                    var t = e.startContainer.getAscendant(function(e) {
                                        return e.type == CKEDITOR.NODE_ELEMENT && "true" == e.getAttribute("contenteditable")
                                    }, !0);
                                    return e.root.equals(t) ? e : ((t = new CKEDITOR.dom.range(t)).moveToRange(e), t)
                                }(a)).document,
                                d = a.checkStartOfBlock(),
                                h = a.checkEndOfBlock(),
                                p = e.elementPath(a.startContainer),
                                f = p.block,
                                m = i == CKEDITOR.ENTER_DIV ? "div" : "p";
                            if (d && h) {
                                if (f && (f.is("li") || f.getParent().is("li"))) {
                                    f.is("li") || (f = f.getParent()), c = (a = f.getParent()).getParent(), l = !f.hasPrevious();
                                    var g = !f.hasNext(),
                                        E = (m = e.getSelection()).createBookmarks(),
                                        b = (d = f.getDirection(1), h = f.getAttribute("class"), f.getAttribute("style")),
                                        v = c.getDirection(1) != d;
                                    if (e = e.enterMode != CKEDITOR.ENTER_BR || v || b || h, c.is("li")) l || g ? (l && g && a.remove(), f[g ? "insertAfter" : "insertBefore"](c)) : f.breakParent(c);
                                    else {
                                        if (e) p.block.is("li") ? (c = u.createElement(i == CKEDITOR.ENTER_P ? "p" : "div"), v && c.setAttribute("dir", d), b && c.setAttribute("style", b), h && c.setAttribute("class", h), f.moveChildren(c)) : c = p.block, l || g ? c[l ? "insertBefore" : "insertAfter"](a) : (f.breakParent(a), c.insertAfter(a));
                                        else if (f.appendBogus(!0), l || g)
                                            for (; u = f[l ? "getFirst" : "getLast"]();) u[l ? "insertBefore" : "insertAfter"](a);
                                        else
                                            for (f.breakParent(a); u = f.getLast();) u.insertAfter(a);
                                        f.remove()
                                    }
                                    return void m.selectBookmarks(E)
                                }
                                if (f && f.getParent().is("blockquote")) return f.breakParent(f.getParent()), f.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1)) || f.getPrevious().remove(), f.getNext().getFirst(CKEDITOR.dom.walker.invisible(1)) || f.getNext().remove(), a.moveToElementEditStart(f), void a.select()
                            } else if (f && f.is("pre") && !h) return void o(e, i, a, l);
                            if (d = a.splitBlock(m)) {
                                if (i = d.previousBlock, p = d.wasStartOfBlock, e = d.wasEndOfBlock, (f = d.nextBlock) ? (E = f.getParent()).is("li") && (f.breakParent(E), f.move(f.getNext(), 1)) : i && (E = i.getParent()) && E.is("li") && (i.breakParent(E), E = i.getNext(), a.moveToElementEditStart(E), i.move(i.getPrevious())), p || e) {
                                    if (i ? (i.is("li") || !s.test(i.getName()) && !i.is("pre")) && (c = i.clone()) : f && (c = f.clone()), c ? l && !c.is("li") && c.renameNode(m) : E && E.is("li") ? c = E : (c = u.createElement(m), i && (g = i.getDirection()) && c.setAttribute("dir", g)), u = d.elementPath)
                                        for (l = 0, m = u.elements.length; l < m && !(E = u.elements[l]).equals(u.block) && !E.equals(u.blockLimit); l++) CKEDITOR.dtd.$removeEmpty[E.getName()] && (E = E.clone(), c.moveChildren(E), c.append(E));
                                    c.appendBogus(), c.getParent() || a.insertNode(c), c.is("li") && c.removeAttribute("value"), !CKEDITOR.env.ie || !p || e && i.getChildCount() || (a.moveToElementEditStart(e ? i : c), a.select()), a.moveToElementEditStart(p && !e ? f : c)
                                } else f.is("li") && ((c = a.clone()).selectNodeContents(f), (c = new CKEDITOR.dom.walker(c)).evaluator = function(e) {
                                    return !(r(e) || n(e) || e.type == CKEDITOR.NODE_ELEMENT && e.getName() in CKEDITOR.dtd.$inline && !(e.getName() in CKEDITOR.dtd.$empty))
                                }, (E = c.next()) && E.type == CKEDITOR.NODE_ELEMENT && E.is("ul", "ol") && (CKEDITOR.env.needsBrFiller ? u.createElement("br") : u.createText("\xa0")).insertBefore(E)), f && a.moveToElementEditStart(f);
                                a.select(), a.scrollIntoView()
                            }
                        }
                    },
                    enterBr: function(e, n, r, i) {
                        if (r = r || t(e)) {
                            var o = r.document,
                                l = r.checkEndOfBlock(),
                                c = new CKEDITOR.dom.elementPath(e.getSelection().getStartElement()),
                                u = c.block,
                                d = u && c.block.getName();
                            i || "li" != d ? (!i && l && s.test(d) ? (l = u.getDirection()) ? ((o = o.createElement("div")).setAttribute("dir", l), o.insertAfter(u), r.setStart(o, 0)) : (o.createElement("br").insertAfter(u), CKEDITOR.env.gecko && o.createText("").insertAfter(u), r.setStartAt(u.getNext(), CKEDITOR.env.ie ? CKEDITOR.POSITION_BEFORE_START : CKEDITOR.POSITION_AFTER_START)) : (e = "pre" == d && CKEDITOR.env.ie && 8 > CKEDITOR.env.version ? o.createText("\r") : o.createElement("br"), r.deleteContents(), r.insertNode(e), CKEDITOR.env.needsBrFiller ? (o.createText("\ufeff").insertAfter(e), l && (u || c.blockLimit).appendBogus(), e.getNext().$.nodeValue = "", r.setStartAt(e.getNext(), CKEDITOR.POSITION_AFTER_START)) : r.setStartAt(e, CKEDITOR.POSITION_AFTER_END)), r.collapse(!0), r.select(), r.scrollIntoView()) : a(e, n, r, i)
                        }
                    }
                };
                var i = CKEDITOR.plugins.enterkey,
                    o = i.enterBr,
                    a = i.enterBlock,
                    s = /^h[1-6]$/
            }(), function() {
                function e(e, t) {
                    var n = {},
                        r = [],
                        i = {
                            nbsp: "\xa0",
                            shy: "\xad",
                            gt: ">",
                            lt: "<",
                            amp: "&",
                            apos: "'",
                            quot: '"'
                        };
                    if (e = e.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g, function(e, o) {
                            var a = t ? "&" + o + ";" : i[o];
                            return n[a] = t ? i[o] : "&" + o + ";", r.push(a), ""
                        }), !t && e) {
                        e = e.split(",");
                        var o, a = document.createElement("div");
                        for (a.innerHTML = "&" + e.join(";&") + ";", o = a.innerHTML, a = null, a = 0; a < o.length; a++) {
                            var s = o.charAt(a);
                            n[s] = "&" + e[a] + ";", r.push(s)
                        }
                    }
                    return n.regex = r.join(t ? "|" : ""), n
                }
                CKEDITOR.plugins.add("entities", {
                    afterInit: function(t) {
                        function n(e) {
                            return l[e]
                        }

                        function r(e) {
                            return "force" != i.entities_processNumerical && a[e] ? a[e] : "&#" + e.charCodeAt(0) + ";"
                        }
                        var i = t.config;
                        if (t = (t = t.dataProcessor) && t.htmlFilter) {
                            var o = [];
                            !1 !== i.basicEntities && o.push("nbsp,gt,lt,amp"), i.entities && (o.length && o.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"), i.entities_latin && o.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"), i.entities_greek && o.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"), i.entities_additional && o.push(i.entities_additional));
                            var a = e(o.join(",")),
                                s = a.regex ? "[" + a.regex + "]" : "a^";
                            delete a.regex, i.entities && i.entities_processNumerical && (s = "[^ -~]|" + s), s = new RegExp(s, "g");
                            var l = e("nbsp,gt,lt,amp,shy", !0),
                                c = new RegExp(l.regex, "g");
                            t.addRules({
                                text: function(e) {
                                    return e.replace(c, n).replace(s, r)
                                }
                            }, {
                                applyToAll: !0,
                                excludeNestedEditable: !0
                            })
                        }
                    }
                })
            }(), CKEDITOR.config.basicEntities = !0, CKEDITOR.config.entities = !0, CKEDITOR.config.entities_latin = !0, CKEDITOR.config.entities_greek = !0, CKEDITOR.config.entities_additional = "#39", CKEDITOR.plugins.add("popup"), CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                popup: function(e, t, n, r) {
                    t = t || "80%", n = n || "70%", "string" == typeof t && 1 < t.length && "%" == t.substr(t.length - 1, 1) && (t = parseInt(window.screen.width * parseInt(t, 10) / 100, 10)), "string" == typeof n && 1 < n.length && "%" == n.substr(n.length - 1, 1) && (n = parseInt(window.screen.height * parseInt(n, 10) / 100, 10)), 640 > t && (t = 640), 420 > n && (n = 420);
                    var i = parseInt((window.screen.height - n) / 2, 10),
                        o = parseInt((window.screen.width - t) / 2, 10);
                    r = (r || "location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes") + ",width=" + t + ",height=" + n + ",top=" + i + ",left=" + o;
                    var a = window.open("", null, r, !0);
                    if (!a) return !1;
                    try {
                        -1 == navigator.userAgent.toLowerCase().indexOf(" chrome/") && (a.moveTo(o, i), a.resizeTo(t, n)), a.focus(), a.location.href = e
                    } catch (t) {
                        window.open(e, null, r, !0)
                    }
                    return !0
                }
            }), function() {
                function e(e) {
                    this.editor = e, this.loaders = []
                }

                function t(e, t, r) {
                    var i = e.config.fileTools_defaultFileName;
                    this.editor = e, this.lang = e.lang, "string" == typeof t ? (this.data = t, this.file = n(this.data), this.loaded = this.total = this.file.size) : (this.data = null, this.file = t, this.total = this.file.size, this.loaded = 0), r ? this.fileName = r : this.file.name ? this.fileName = this.file.name : (e = this.file.type.split("/"), i && (e[0] = i), this.fileName = e.join(".")), this.uploaded = 0, this.responseData = this.uploadTotal = null, this.status = "created", this.abort = function() {
                        this.changeStatus("abort")
                    }
                }

                function n(e) {
                    var t = e.match(r)[1];
                    e = e.replace(r, ""), e = atob(e);
                    var n, i, o, a, s = [];
                    for (n = 0; n < e.length; n += 512) {
                        for (i = e.slice(n, n + 512), o = Array(i.length), a = 0; a < i.length; a++) o[a] = i.charCodeAt(a);
                        i = new Uint8Array(o), s.push(i)
                    }
                    return new Blob(s, {
                        type: t
                    })
                }
                CKEDITOR.plugins.add("filetools", {
                    beforeInit: function(t) {
                        t.uploadRepository = new e(t), t.on("fileUploadRequest", function(e) {
                            var t = e.data.fileLoader;
                            t.xhr.open("POST", t.uploadUrl, !0), e.data.requestData.upload = {
                                file: t.file,
                                name: t.fileName
                            }
                        }, null, null, 5), t.on("fileUploadRequest", function(e) {
                            var n = e.data.fileLoader,
                                r = new FormData;
                            e = e.data.requestData;
                            var i, o, a = t.config.fileTools_requestHeaders;
                            for (o in e) {
                                var s = e[o];
                                "object" == typeof s && s.file ? r.append(o, s.file, s.name) : r.append(o, s)
                            }
                            if (r.append("ckCsrfToken", CKEDITOR.tools.getCsrfToken()), a)
                                for (i in a) n.xhr.setRequestHeader(i, a[i]);
                            n.xhr.send(r)
                        }, null, null, 999), t.on("fileUploadResponse", function(e) {
                            var t = e.data.fileLoader,
                                n = t.xhr,
                                r = e.data;
                            try {
                                var i = JSON.parse(n.responseText);
                                if (i.error && i.error.message && (r.message = i.error.message), i.uploaded)
                                    for (var o in i) r[o] = i[o];
                                else e.cancel()
                            } catch (i) {
                                r.message = t.lang.filetools.responseError, CKEDITOR.warn("filetools-response-error", {
                                    responseText: n.responseText
                                }), e.cancel()
                            }
                        }, null, null, 999)
                    }
                }), e.prototype = {
                    create: function(e, n, r) {
                        var i = this.loaders.length;
                        return (e = new(r = r || t)(this.editor, e, n)).id = i, this.loaders[i] = e, this.fire("instanceCreated", e), e
                    },
                    isFinished: function() {
                        for (var e = 0; e < this.loaders.length; ++e)
                            if (!this.loaders[e].isFinished()) return !1;
                        return !0
                    }
                }, t.prototype = {
                    loadAndUpload: function(e, t) {
                        var n = this;
                        this.once("loaded", function(r) {
                            r.cancel(), n.once("update", function(e) {
                                e.cancel()
                            }, null, null, 0), n.upload(e, t)
                        }, null, null, 0), this.load()
                    },
                    load: function() {
                        var e = this,
                            t = this.reader = new FileReader;
                        e.changeStatus("loading"), this.abort = function() {
                            e.reader.abort()
                        }, t.onabort = function() {
                            e.changeStatus("abort")
                        }, t.onerror = function() {
                            e.message = e.lang.filetools.loadError, e.changeStatus("error")
                        }, t.onprogress = function(t) {
                            e.loaded = t.loaded, e.update()
                        }, t.onload = function() {
                            e.loaded = e.total, e.data = t.result, e.changeStatus("loaded")
                        }, t.readAsDataURL(this.file)
                    },
                    upload: function(e, t) {
                        var n = t || {};
                        e ? (this.uploadUrl = e, this.xhr = new XMLHttpRequest, this.attachRequestListeners(), this.editor.fire("fileUploadRequest", {
                            fileLoader: this,
                            requestData: n
                        }) && this.changeStatus("uploading")) : (this.message = this.lang.filetools.noUrlError, this.changeStatus("error"))
                    },
                    attachRequestListeners: function() {
                        function e() {
                            "error" != n.status && (n.message = n.lang.filetools.networkError, n.changeStatus("error"))
                        }

                        function t() {
                            "abort" != n.status && n.changeStatus("abort")
                        }
                        var n = this,
                            r = this.xhr;
                        n.abort = function() {
                            r.abort(), t()
                        }, r.onerror = e, r.onabort = t, r.upload ? (r.upload.onprogress = function(e) {
                            e.lengthComputable && (n.uploadTotal || (n.uploadTotal = e.total), n.uploaded = e.loaded, n.update())
                        }, r.upload.onerror = e, r.upload.onabort = t) : (n.uploadTotal = n.total, n.update()), r.onload = function() {
                            if (n.update(), "abort" != n.status)
                                if (n.uploaded = n.uploadTotal, 200 > r.status || 299 < r.status) n.message = n.lang.filetools["httpError" + r.status], n.message || (n.message = n.lang.filetools.httpError.replace("%1", r.status)), n.changeStatus("error");
                                else {
                                    for (var e = {
                                            fileLoader: n
                                        }, t = ["message", "fileName", "url"], i = n.editor.fire("fileUploadResponse", e), o = 0; o < t.length; o++) {
                                        var a = t[o];
                                        "string" == typeof e[a] && (n[a] = e[a])
                                    }
                                    n.responseData = e, delete n.responseData.fileLoader, n.changeStatus(!1 === i ? "error" : "uploaded")
                                }
                        }
                    },
                    changeStatus: function(e) {
                        this.status = e, "error" != e && "abort" != e && "loaded" != e && "uploaded" != e || (this.abort = function() {}), this.fire(e), this.update()
                    },
                    update: function() {
                        this.fire("update")
                    },
                    isFinished: function() {
                        return !!this.status.match(/^(?:loaded|uploaded|error|abort)$/)
                    }
                }, CKEDITOR.event.implementOn(e.prototype), CKEDITOR.event.implementOn(t.prototype);
                var r = /^data:(\S*?);base64,/;
                CKEDITOR.fileTools || (CKEDITOR.fileTools = {}), CKEDITOR.tools.extend(CKEDITOR.fileTools, {
                    uploadRepository: e,
                    fileLoader: t,
                    getUploadUrl: function(e, t) {
                        var n = CKEDITOR.tools.capitalize;
                        return t && e[t + "UploadUrl"] ? e[t + "UploadUrl"] : e.uploadUrl ? e.uploadUrl : t && e["filebrowser" + n(t, 1) + "UploadUrl"] ? e["filebrowser" + n(t, 1) + "UploadUrl"] + "&responseType=json" : e.filebrowserUploadUrl ? e.filebrowserUploadUrl + "&responseType=json" : null
                    },
                    isTypeSupported: function(e, t) {
                        return !!e.type.match(t)
                    },
                    isFileUploadSupported: "function" == typeof FileReader && "function" == typeof(new FileReader).readAsDataURL && "function" == typeof FormData && "function" == typeof(new FormData).append && "function" == typeof XMLHttpRequest && "function" == typeof Blob
                })
            }(), function() {
                function e(e, t) {
                    var n = [];
                    if (!t) return e;
                    for (var r in t) n.push(r + "=" + encodeURIComponent(t[r]));
                    return e + (-1 != e.indexOf("?") ? "&" : "?") + n.join("&")
                }

                function t(t) {
                    return !t.match(/command=QuickUpload/) || t.match(/(\?|&)responseType=json/) ? t : e(t, {
                        responseType: "json"
                    })
                }

                function n(e) {
                    return (e += "").charAt(0).toUpperCase() + e.substr(1)
                }

                function r() {
                    var t = (i = this.getDialog()).getParentEditor();
                    t._.filebrowserSe = this;
                    var r = t.config["filebrowser" + n(i.getName()) + "WindowWidth"] || t.config.filebrowserWindowWidth || "80%",
                        i = t.config["filebrowser" + n(i.getName()) + "WindowHeight"] || t.config.filebrowserWindowHeight || "70%",
                        o = this.filebrowser.params || {};
                    o.CKEditor = t.name, o.CKEditorFuncNum = t._.filebrowserFn, o.langCode || (o.langCode = t.langCode), o = e(this.filebrowser.url, o), t.popup(o, r, i, t.config.filebrowserWindowFeatures || t.config.fileBrowserWindowFeatures)
                }

                function i(e) {
                    var t = new CKEDITOR.dom.element(e.$.form);
                    t && ((e = t.$.elements.ckCsrfToken) ? e = new CKEDITOR.dom.element(e) : ((e = new CKEDITOR.dom.element("input")).setAttributes({
                        name: "ckCsrfToken",
                        type: "hidden"
                    }), t.append(e)), e.setAttribute("value", CKEDITOR.tools.getCsrfToken()))
                }

                function o() {
                    var e = this.getDialog();
                    return e.getParentEditor()._.filebrowserSe = this, !(!e.getContentElement(this.for[0], this.for[1]).getInputElement().$.value || !e.getContentElement(this.for[0], this.for[1]).getAction())
                }

                function a(t, n, r) {
                    var i = r.params || {};
                    i.CKEditor = t.name, i.CKEditorFuncNum = t._.filebrowserFn, i.langCode || (i.langCode = t.langCode), n.action = e(r.url, i), n.filebrowser = r
                }

                function s(e, c, d, h) {
                    if (h && h.length)
                        for (var p, f = h.length; f--;)
                            if ("hbox" != (p = h[f]).type && "vbox" != p.type && "fieldset" != p.type || s(e, c, d, p.children), p.filebrowser)
                                if ("string" == typeof p.filebrowser && (p.filebrowser = {
                                        action: "fileButton" == p.type ? "QuickUpload" : "Browse",
                                        target: p.filebrowser
                                    }), "Browse" == p.filebrowser.action) {
                                    var m = p.filebrowser.url;
                                    void 0 === m && void 0 === (m = e.config["filebrowser" + n(c) + "BrowseUrl"]) && (m = e.config.filebrowserBrowseUrl), m && (p.onClick = r, p.filebrowser.url = m, p.hidden = !1)
                                } else if ("QuickUpload" == p.filebrowser.action && p.for && (void 0 === (m = p.filebrowser.url) && void 0 === (m = e.config["filebrowser" + n(c) + "UploadUrl"]) && (m = e.config.filebrowserUploadUrl), m)) {
                        var g = p.onClick;
                        p.onClick = function(n) {
                            var r = n.sender,
                                a = r.getDialog().getContentElement(this.for[0], this.for[1]).getInputElement(),
                                s = CKEDITOR.fileTools && CKEDITOR.fileTools.isFileUploadSupported;
                            return (!g || !1 !== g.call(r, n)) && !!o.call(r, n) && ("form" !== e.config.filebrowserUploadMethod && s ? ((n = e.uploadRepository.create(a.$.files[0])).on("uploaded", function(e) {
                                var t = e.sender.responseData;
                                u.call(e.sender.editor, t.url, t.message)
                            }), n.on("error", l.bind(this)), n.on("abort", l.bind(this)), n.loadAndUpload(t(m)), "xhr") : (i(a), !0))
                        }, p.filebrowser.url = m, p.hidden = !1, a(e, d.getContents(p.for[0]).get(p.for[1]), p.filebrowser)
                    }
                }

                function l(e) {
                    var t = {};
                    try {
                        t = JSON.parse(e.sender.xhr.response) || {}
                    } catch (e) {}
                    this.enable(), alert(t.error ? t.error.message : e.sender.message)
                }

                function c(e, t, n) {
                    if (-1 !== n.indexOf(";")) {
                        n = n.split(";");
                        for (var r = 0; r < n.length; r++)
                            if (c(e, t, n[r])) return !0;
                        return !1
                    }
                    return (e = e.getContents(t).get(n).filebrowser) && e.url
                }

                function u(e, t) {
                    var n = this._.filebrowserSe.getDialog(),
                        r = this._.filebrowserSe.for,
                        i = this._.filebrowserSe.filebrowser.onSelect;
                    r && n.getContentElement(r[0], r[1]).reset(), "function" == typeof t && !1 === t.call(this._.filebrowserSe) || i && !1 === i.call(this._.filebrowserSe, e, t) || ("string" == typeof t && t && alert(t), e && (n = (r = this._.filebrowserSe).getDialog(), r = r.filebrowser.target || null) && (r = r.split(":"), (i = n.getContentElement(r[0], r[1])) && (i.setValue(e), n.selectPage(r[0]))))
                }
                CKEDITOR.plugins.add("filebrowser", {
                    requires: "popup,filetools",
                    init: function(e) {
                        e._.filebrowserFn = CKEDITOR.tools.addFunction(u, e), e.on("destroy", function() {
                            CKEDITOR.tools.removeFunction(this._.filebrowserFn)
                        })
                    }
                }), CKEDITOR.on("dialogDefinition", function(e) {
                    if (e.editor.plugins.filebrowser)
                        for (var t, n = e.data.definition, r = 0; r < n.contents.length; ++r)(t = n.contents[r]) && (s(e.editor, e.data.name, n, t.elements), t.hidden && t.filebrowser && (t.hidden = !c(n, t.id, t.filebrowser)))
                })
            }(), function() {
                function e(e) {
                    var r = e.config,
                        i = e.fire("uiSpace", {
                            space: "top",
                            html: ""
                        }).html,
                        o = function() {
                            function i(e, t, r) {
                                s.setStyle(t, n(r)), s.setStyle("position", e)
                            }

                            function a(e) {
                                var t = c.getDocumentPosition();
                                switch (e) {
                                    case "top":
                                        i("absolute", "top", t.y - p - g);
                                        break;
                                    case "pin":
                                        i("fixed", "top", b);
                                        break;
                                    case "bottom":
                                        i("absolute", "top", t.y + (d.height || d.bottom - d.top) + g)
                                }
                                l = e
                            }
                            var l, c, u, d, h, p, f, m = r.floatSpaceDockedOffsetX || 0,
                                g = r.floatSpaceDockedOffsetY || 0,
                                E = r.floatSpacePinnedOffsetX || 0,
                                b = r.floatSpacePinnedOffsetY || 0;
                            return function(i) {
                                if (c = e.editable()) {
                                    var b = i && "focus" == i.name;
                                    b && s.show(), e.fire("floatingSpaceLayout", {
                                        show: b
                                    }), s.removeStyle("left"), s.removeStyle("right"), u = s.getClientRect(), d = c.getClientRect(), h = t.getViewPaneSize(), p = u.height, f = "pageXOffset" in t.$ ? t.$.pageXOffset : CKEDITOR.document.$.documentElement.scrollLeft, l ? (a(p + g <= d.top ? "top" : p + g > h.height - d.bottom ? "pin" : "bottom"), i = h.width / 2, i = r.floatSpacePreferRight ? "right" : 0 < d.left && d.right < h.width && d.width > u.width ? "rtl" == r.contentsLangDirection ? "right" : "left" : i - d.left > d.right - i ? "left" : "right", u.width > h.width ? (i = "left", b = 0) : (b = "left" == i ? 0 < d.left ? d.left : 0 : d.right < h.width ? h.width - d.right : 0) + u.width > h.width && (i = "left" == i ? "right" : "left", b = 0), s.setStyle(i, n(("pin" == l ? E : m) + b + ("pin" == l ? 0 : "left" == i ? f : -f)))) : (l = "pin", a("pin"), o(i))
                                }
                            }
                        }();
                    if (i) {
                        var a = new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} ' + CKEDITOR.env.cssClass + '" dir="{langDir}" title="' + (CKEDITOR.env.gecko ? " " : "") + '" lang="{langCode}" role="application" style="{style}"' + (e.title ? ' aria-labelledby="cke_{name}_arialbl"' : " ") + ">" + (e.title ? '<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>' : " ") + '<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),
                            s = CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(a.output({
                                content: i,
                                id: e.id,
                                langDir: e.lang.dir,
                                langCode: e.langCode,
                                name: e.name,
                                style: "display:none;z-index:" + (r.baseFloatZIndex - 1),
                                topId: e.ui.spaceId("top"),
                                voiceLabel: e.title
                            }))),
                            l = CKEDITOR.tools.eventsBuffer(500, o),
                            c = CKEDITOR.tools.eventsBuffer(100, o);
                        s.unselectable(), s.on("mousedown", function(e) {
                            (e = e.data).getTarget().hasAscendant("a", 1) || e.preventDefault()
                        }), e.on("focus", function(n) {
                            o(n), e.on("change", l.input), t.on("scroll", c.input), t.on("resize", c.input)
                        }), e.on("blur", function() {
                            s.hide(), e.removeListener("change", l.input), t.removeListener("scroll", c.input), t.removeListener("resize", c.input)
                        }), e.on("destroy", function() {
                            t.removeListener("scroll", c.input), t.removeListener("resize", c.input), s.clearCustomData(), s.remove()
                        }), e.focusManager.hasFocus && s.show(), e.focusManager.add(s, 1)
                    }
                }
                var t = CKEDITOR.document.getWindow(),
                    n = CKEDITOR.tools.cssLength;
                CKEDITOR.plugins.add("floatingspace", {
                    init: function(t) {
                        t.on("loaded", function() {
                            e(this)
                        }, null, null, 20)
                    }
                })
            }(), CKEDITOR.plugins.add("listblock", {
                requires: "panel",
                onLoad: function() {
                    var e = CKEDITOR.addTemplate("panel-list", '<ul role="presentation" class="cke_panel_list">{items}</ul>'),
                        t = CKEDITOR.addTemplate("panel-list-item", '<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),
                        n = CKEDITOR.addTemplate("panel-list-group", '<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),
                        r = /\'/g;
                    CKEDITOR.ui.panel.prototype.addListBlock = function(e, t) {
                        return this.addBlock(e, new CKEDITOR.ui.listBlock(this.getHolderElement(), t))
                    }, CKEDITOR.ui.listBlock = CKEDITOR.tools.createClass({
                        base: CKEDITOR.ui.panel.block,
                        $: function(e, t) {
                            var n = (t = t || {}).attributes || (t.attributes = {});
                            (this.multiSelect = !!t.multiSelect) && (n["aria-multiselectable"] = !0), !n.role && (n.role = "listbox"), this.base.apply(this, arguments), this.element.setAttribute("role", n.role), (n = this.keys)[40] = "next", n[9] = "next", n[38] = "prev", n[CKEDITOR.SHIFT + 9] = "prev", n[32] = CKEDITOR.env.ie ? "mouseup" : "click", CKEDITOR.env.ie && (n[13] = "mouseup"), this._.pendingHtml = [], this._.pendingList = [], this._.items = {}, this._.groups = {}
                        },
                        _: {
                            close: function() {
                                if (this._.started) {
                                    var t = e.output({
                                        items: this._.pendingList.join("")
                                    });
                                    this._.pendingList = [], this._.pendingHtml.push(t), delete this._.started
                                }
                            },
                            getClick: function() {
                                return this._.click || (this._.click = CKEDITOR.tools.addFunction(function(e) {
                                    var t = this.toggle(e);
                                    this.onClick && this.onClick(e, t)
                                }, this)), this._.click
                            }
                        },
                        proto: {
                            add: function(e, n, i) {
                                var o = CKEDITOR.tools.getNextId();
                                this._.started || (this._.started = 1, this._.size = this._.size || 0), this._.items[e] = o, e = {
                                    id: o,
                                    val: CKEDITOR.tools.htmlEncodeAttr(e).replace(r, "\\'"),
                                    onclick: CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : "onclick",
                                    clickFn: this._.getClick(),
                                    title: CKEDITOR.tools.htmlEncodeAttr(i || e),
                                    text: n || e
                                }, this._.pendingList.push(t.output(e))
                            },
                            startGroup: function(e) {
                                this._.close();
                                var t = CKEDITOR.tools.getNextId();
                                this._.groups[e] = t, this._.pendingHtml.push(n.output({
                                    id: t,
                                    label: e
                                }))
                            },
                            commit: function() {
                                this._.close(), this.element.appendHtml(this._.pendingHtml.join("")), delete this._.size, this._.pendingHtml = []
                            },
                            toggle: function(e) {
                                var t = this.isMarked(e);
                                return t ? this.unmark(e) : this.mark(e), !t
                            },
                            hideGroup: function(e) {
                                var t = (e = this.element.getDocument().getById(this._.groups[e])) && e.getNext();
                                e && (e.setStyle("display", "none"), t && "ul" == t.getName() && t.setStyle("display", "none"))
                            },
                            hideItem: function(e) {
                                this.element.getDocument().getById(this._.items[e]).setStyle("display", "none")
                            },
                            showAll: function() {
                                var e, t = this._.items,
                                    n = this._.groups,
                                    r = this.element.getDocument();
                                for (e in t) r.getById(t[e]).setStyle("display", "");
                                for (var i in n) e = (t = r.getById(n[i])).getNext(), t.setStyle("display", ""), e && "ul" == e.getName() && e.setStyle("display", "")
                            },
                            mark: function(e) {
                                this.multiSelect || this.unmarkAll(), e = this._.items[e];
                                var t = this.element.getDocument().getById(e);
                                t.addClass("cke_selected"), this.element.getDocument().getById(e + "_option").setAttribute("aria-selected", !0), this.onMark && this.onMark(t)
                            },
                            markFirstDisplayed: function() {
                                var e = this;
                                this._.markFirstDisplayed(function() {
                                    e.multiSelect || e.unmarkAll()
                                })
                            },
                            unmark: function(e) {
                                var t = this.element.getDocument(),
                                    n = t.getById(e = this._.items[e]);
                                n.removeClass("cke_selected"), t.getById(e + "_option").removeAttribute("aria-selected"), this.onUnmark && this.onUnmark(n)
                            },
                            unmarkAll: function() {
                                var e, t = this._.items,
                                    n = this.element.getDocument();
                                for (e in t) {
                                    var r = t[e];
                                    n.getById(r).removeClass("cke_selected"), n.getById(r + "_option").removeAttribute("aria-selected")
                                }
                                this.onUnmark && this.onUnmark()
                            },
                            isMarked: function(e) {
                                return this.element.getDocument().getById(this._.items[e]).hasClass("cke_selected")
                            },
                            focus: function(e) {
                                this._.focusIndex = -1;
                                var t, n = this.element.getElementsByTag("a"),
                                    r = -1;
                                if (e) {
                                    for (t = this.element.getDocument().getById(this._.items[e]).getFirst(); e = n.getItem(++r);)
                                        if (e.equals(t)) {
                                            this._.focusIndex = r;
                                            break
                                        }
                                } else this.element.focus();
                                t && setTimeout(function() {
                                    t.focus()
                                }, 0)
                            }
                        }
                    })
                }
            }), CKEDITOR.plugins.add("richcombo", {
                requires: "floatpanel,listblock,button",
                beforeInit: function(e) {
                    e.ui.addHandler(CKEDITOR.UI_RICHCOMBO, CKEDITOR.ui.richCombo.handler)
                }
            }), function() {
                var e = '<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"' + (CKEDITOR.env.gecko && !CKEDITOR.env.hc ? "" : " href=\"javascript:void('{titleJs}')\"") + ' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';
                CKEDITOR.env.gecko && CKEDITOR.env.mac && (e += ' onkeypress="return false;"'), CKEDITOR.env.gecko && (e += ' onblur="this.style.cssText = this.style.cssText;"'), e = e + ' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" ' + (CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : "onclick") + '="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">' + (CKEDITOR.env.hc ? "&#9660;" : CKEDITOR.env.air ? "&nbsp;" : "") + "</span></span></a></span>";
                var t = CKEDITOR.addTemplate("combo", e);
                CKEDITOR.UI_RICHCOMBO = "richcombo", CKEDITOR.ui.richCombo = CKEDITOR.tools.createClass({
                    $: function(e) {
                        CKEDITOR.tools.extend(this, e, {
                            canGroup: !1,
                            title: e.label,
                            modes: {
                                wysiwyg: 1
                            },
                            editorFocus: 1
                        }), e = this.panel || {}, delete this.panel, this.id = CKEDITOR.tools.getNextNumber(), this.document = e.parent && e.parent.getDocument() || CKEDITOR.document, e.className = "cke_combopanel", e.block = {
                            multiSelect: e.multiSelect,
                            attributes: e.attributes
                        }, e.toolbarRelated = !0, this._ = {
                            panelDefinition: e,
                            items: {}
                        }
                    },
                    proto: {
                        renderHtml: function(e) {
                            var t = [];
                            return this.render(e, t), t.join("")
                        },
                        render: function(e, n) {
                            function r() {
                                if (this.getState() != CKEDITOR.TRISTATE_ON) {
                                    var t = this.modes[e.mode] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED;
                                    e.readOnly && !this.readOnly && (t = CKEDITOR.TRISTATE_DISABLED), this.setState(t), this.setValue(""), t != CKEDITOR.TRISTATE_DISABLED && this.refresh && this.refresh()
                                }
                            }
                            var i = CKEDITOR.env,
                                o = "cke_" + this.id,
                                a = CKEDITOR.tools.addFunction(function(t) {
                                    d && (e.unlockSelection(1), d = 0), l.execute(t)
                                }, this),
                                s = this,
                                l = {
                                    id: o,
                                    combo: this,
                                    focus: function() {
                                        CKEDITOR.document.getById(o).getChild(1).focus()
                                    },
                                    execute: function(t) {
                                        var n = s._;
                                        if (n.state != CKEDITOR.TRISTATE_DISABLED)
                                            if (s.createPanel(e), n.on) n.panel.hide();
                                            else {
                                                s.commit();
                                                var r = s.getValue();
                                                r ? n.list.mark(r) : n.list.unmarkAll(), n.panel.showBlock(s.id, new CKEDITOR.dom.element(t), 4)
                                            }
                                    },
                                    clickFn: a
                                };
                            e.on("activeFilterChange", r, this), e.on("mode", r, this), e.on("selectionChange", r, this), !this.readOnly && e.on("readOnly", r, this);
                            var c = CKEDITOR.tools.addFunction(function(e, t) {
                                    var n = (e = new CKEDITOR.dom.event(e)).getKeystroke();
                                    switch (n) {
                                        case 13:
                                        case 32:
                                        case 40:
                                            CKEDITOR.tools.callFunction(a, t);
                                            break;
                                        default:
                                            l.onkey(l, n)
                                    }
                                    e.preventDefault()
                                }),
                                u = CKEDITOR.tools.addFunction(function() {
                                    l.onfocus && l.onfocus()
                                }),
                                d = 0;
                            return l.keyDownFn = c, i = {
                                id: o,
                                name: this.name || this.command,
                                label: this.label,
                                title: this.title,
                                cls: this.className || "",
                                titleJs: i.gecko && !i.hc ? "" : (this.title || "").replace("'", ""),
                                keydownFn: c,
                                focusFn: u,
                                clickFn: a
                            }, t.output(i, n), this.onRender && this.onRender(), l
                        },
                        createPanel: function(e) {
                            if (!this._.panel) {
                                var t = this._.panelDefinition.block,
                                    n = (o = this._.panelDefinition).parent || CKEDITOR.document.getBody(),
                                    r = "cke_combopanel__" + this.name,
                                    i = new CKEDITOR.ui.floatPanel(e, n, o),
                                    o = i.addListBlock(this.id, t),
                                    a = this;
                                i.onShow = function() {
                                    this.element.addClass(r), a.setState(CKEDITOR.TRISTATE_ON), a._.on = 1, a.editorFocus && !e.focusManager.hasFocus && e.focus(), a.onOpen && a.onOpen()
                                }, i.onHide = function(t) {
                                    this.element.removeClass(r), a.setState(a.modes && a.modes[e.mode] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED), a._.on = 0, !t && a.onClose && a.onClose()
                                }, i.onEscape = function() {
                                    i.hide(1)
                                }, o.onClick = function(e, t) {
                                    a.onClick && a.onClick.call(a, e, t), i.hide()
                                }, this._.panel = i, this._.list = o, i.getBlock(this.id).onHide = function() {
                                    a._.on = 0, a.setState(CKEDITOR.TRISTATE_OFF)
                                }, this.init && this.init()
                            }
                        },
                        setValue: function(e, t) {
                            this._.value = e;
                            var n = this.document.getById("cke_" + this.id + "_text");
                            n && (e || t ? n.removeClass("cke_combo_inlinelabel") : (t = this.label, n.addClass("cke_combo_inlinelabel")), n.setText(void 0 !== t ? t : e))
                        },
                        getValue: function() {
                            return this._.value || ""
                        },
                        unmarkAll: function() {
                            this._.list.unmarkAll()
                        },
                        mark: function(e) {
                            this._.list.mark(e)
                        },
                        hideItem: function(e) {
                            this._.list.hideItem(e)
                        },
                        hideGroup: function(e) {
                            this._.list.hideGroup(e)
                        },
                        showAll: function() {
                            this._.list.showAll()
                        },
                        add: function(e, t, n) {
                            this._.items[e] = n || e, this._.list.add(e, t, n)
                        },
                        startGroup: function(e) {
                            this._.list.startGroup(e)
                        },
                        commit: function() {
                            this._.committed || (this._.list.commit(), this._.committed = 1, CKEDITOR.ui.fire("ready", this)), this._.committed = 1
                        },
                        setState: function(e) {
                            if (this._.state != e) {
                                var t = this.document.getById("cke_" + this.id);
                                t.setState(e, "cke_combo"), e == CKEDITOR.TRISTATE_DISABLED ? t.setAttribute("aria-disabled", !0) : t.removeAttribute("aria-disabled"), this._.state = e
                            }
                        },
                        getState: function() {
                            return this._.state
                        },
                        enable: function() {
                            this._.state == CKEDITOR.TRISTATE_DISABLED && this.setState(this._.lastState)
                        },
                        disable: function() {
                            this._.state != CKEDITOR.TRISTATE_DISABLED && (this._.lastState = this._.state, this.setState(CKEDITOR.TRISTATE_DISABLED))
                        }
                    },
                    statics: {
                        handler: {
                            create: function(e) {
                                return new CKEDITOR.ui.richCombo(e)
                            }
                        }
                    }
                }), CKEDITOR.ui.prototype.addRichCombo = function(e, t) {
                    this.add(e, CKEDITOR.UI_RICHCOMBO, t)
                }
            }(), CKEDITOR.plugins.add("format", {
                requires: "richcombo",
                init: function(e) {
                    if (!e.blockless) {
                        for (var t = e.config, n = e.lang.format, r = t.format_tags.split(";"), i = {}, o = 0, a = [], s = 0; s < r.length; s++) {
                            var l = r[s],
                                c = new CKEDITOR.style(t["format_" + l]);
                            e.filter.customConfig && !e.filter.check(c) || (o++, i[l] = c, i[l]._.enterMode = e.config.enterMode, a.push(c))
                        }
                        0 !== o && e.ui.addRichCombo("Format", {
                            label: n.label,
                            title: n.panelTitle,
                            toolbar: "styles,20",
                            allowedContent: a,
                            panel: {
                                css: [CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),
                                multiSelect: !1,
                                attributes: {
                                    "aria-label": n.panelTitle
                                }
                            },
                            init: function() {
                                for (var e in this.startGroup(n.panelTitle), i) {
                                    var t = n["tag_" + e];
                                    this.add(e, i[e].buildPreview(t), t)
                                }
                            },
                            onClick: function(t) {
                                e.focus(), e.fire("saveSnapshot"), t = i[t];
                                var n = e.elementPath();
                                t.checkActive(n, e) || e.applyStyle(t), setTimeout(function() {
                                    e.fire("saveSnapshot")
                                }, 0)
                            },
                            onRender: function() {
                                e.on("selectionChange", function(t) {
                                    var n = this.getValue();
                                    for (var r in t = t.data.path, this.refresh(), i)
                                        if (i[r].checkActive(t, e)) return void(r != n && this.setValue(r, e.lang.format["tag_" + r]));
                                    this.setValue("")
                                }, this)
                            },
                            onOpen: function() {
                                for (var t in this.showAll(), i) e.activeFilter.check(i[t]) || this.hideItem(t)
                            },
                            refresh: function() {
                                var t = e.elementPath();
                                if (t) {
                                    if (t.isContextFor("p"))
                                        for (var n in i)
                                            if (e.activeFilter.check(i[n])) return;
                                    this.setState(CKEDITOR.TRISTATE_DISABLED)
                                }
                            }
                        })
                    }
                }
            }), CKEDITOR.config.format_tags = "p;h1;h2;h3;h4;h5;h6;pre;address;div", CKEDITOR.config.format_p = {
                element: "p"
            }, CKEDITOR.config.format_div = {
                element: "div"
            }, CKEDITOR.config.format_pre = {
                element: "pre"
            }, CKEDITOR.config.format_address = {
                element: "address"
            }, CKEDITOR.config.format_h1 = {
                element: "h1"
            }, CKEDITOR.config.format_h2 = {
                element: "h2"
            }, CKEDITOR.config.format_h3 = {
                element: "h3"
            }, CKEDITOR.config.format_h4 = {
                element: "h4"
            }, CKEDITOR.config.format_h5 = {
                element: "h5"
            }, CKEDITOR.config.format_h6 = {
                element: "h6"
            }, function() {
                var e = {
                    canUndo: !1,
                    exec: function(e) {
                        var t = e.document.createElement("hr");
                        e.insertElement(t)
                    },
                    allowedContent: "hr",
                    requiredContent: "hr"
                };
                CKEDITOR.plugins.add("horizontalrule", {
                    init: function(t) {
                        t.blockless || (t.addCommand("horizontalrule", e), t.ui.addButton && t.ui.addButton("HorizontalRule", {
                            label: t.lang.horizontalrule.toolbar,
                            command: "horizontalrule",
                            toolbar: "insert,40"
                        }))
                    }
                })
            }(), CKEDITOR.plugins.add("htmlwriter", {
                init: function(e) {
                    var t = new CKEDITOR.htmlWriter;
                    t.forceSimpleAmpersand = e.config.forceSimpleAmpersand, t.indentationChars = e.config.dataIndentationChars || "\t", e.dataProcessor.writer = t
                }
            }), CKEDITOR.htmlWriter = CKEDITOR.tools.createClass({
                base: CKEDITOR.htmlParser.basicWriter,
                $: function() {
                    this.base(), this.indentationChars = "\t", this.selfClosingEnd = " />", this.lineBreakChars = "\n", this.sortAttributes = 1, this._.indent = 0, this._.indentation = "", this._.inPre = 0, this._.rules = {};
                    var e, t = CKEDITOR.dtd;
                    for (e in CKEDITOR.tools.extend({}, t.$nonBodyContent, t.$block, t.$listItem, t.$tableContent)) this.setRules(e, {
                        indent: !t[e]["#"],
                        breakBeforeOpen: 1,
                        breakBeforeClose: !t[e]["#"],
                        breakAfterClose: 1,
                        needsSpace: e in t.$block && !(e in {
                            li: 1,
                            dt: 1,
                            dd: 1
                        })
                    });
                    this.setRules("br", {
                        breakAfterOpen: 1
                    }), this.setRules("title", {
                        indent: 0,
                        breakAfterOpen: 0
                    }), this.setRules("style", {
                        indent: 0,
                        breakBeforeClose: 1
                    }), this.setRules("pre", {
                        breakAfterOpen: 1,
                        indent: 0
                    })
                },
                proto: {
                    openTag: function(e) {
                        var t = this._.rules[e];
                        this._.afterCloser && t && t.needsSpace && this._.needsSpace && this._.output.push("\n"), this._.indent ? this.indentation() : t && t.breakBeforeOpen && (this.lineBreak(), this.indentation()), this._.output.push("<", e), this._.afterCloser = 0
                    },
                    openTagClose: function(e, t) {
                        var n = this._.rules[e];
                        t ? (this._.output.push(this.selfClosingEnd), n && n.breakAfterClose && (this._.needsSpace = n.needsSpace)) : (this._.output.push(">"), n && n.indent && (this._.indentation += this.indentationChars)), n && n.breakAfterOpen && this.lineBreak(), "pre" == e && (this._.inPre = 1)
                    },
                    attribute: function(e, t) {
                        "string" == typeof t && (this.forceSimpleAmpersand && (t = t.replace(/&amp;/g, "&")), t = CKEDITOR.tools.htmlEncodeAttr(t)), this._.output.push(" ", e, '="', t, '"')
                    },
                    closeTag: function(e) {
                        var t = this._.rules[e];
                        t && t.indent && (this._.indentation = this._.indentation.substr(this.indentationChars.length)), this._.indent ? this.indentation() : t && t.breakBeforeClose && (this.lineBreak(), this.indentation()), this._.output.push("</", e, ">"), "pre" == e && (this._.inPre = 0), t && t.breakAfterClose && (this.lineBreak(), this._.needsSpace = t.needsSpace), this._.afterCloser = 1
                    },
                    text: function(e) {
                        this._.indent && (this.indentation(), !this._.inPre && (e = CKEDITOR.tools.ltrim(e))), this._.output.push(e)
                    },
                    comment: function(e) {
                        this._.indent && this.indentation(), this._.output.push("\x3c!--", e, "--\x3e")
                    },
                    lineBreak: function() {
                        !this._.inPre && 0 < this._.output.length && this._.output.push(this.lineBreakChars), this._.indent = 1
                    },
                    indentation: function() {
                        !this._.inPre && this._.indentation && this._.output.push(this._.indentation), this._.indent = 0
                    },
                    reset: function() {
                        this._.output = [], this._.indent = 0, this._.indentation = "", this._.afterCloser = 0, this._.inPre = 0, this._.needsSpace = 0
                    },
                    setRules: function(e, t) {
                        var n = this._.rules[e];
                        n ? CKEDITOR.tools.extend(n, t, !0) : this._.rules[e] = t
                    }
                }
            }), function() {
                function e(e, t) {
                    if (t || (t = e.getSelection().getSelectedElement()), t && t.is("img") && !t.data("cke-realelement") && !t.isReadOnly()) return t
                }

                function t(e) {
                    var t = e.getStyle("float");
                    return "inherit" != t && "none" != t || (t = 0), t || (t = e.getAttribute("align")), t
                }
                CKEDITOR.plugins.add("image", {
                    requires: "dialog",
                    init: function(t) {
                        if (!t.plugins.image2) {
                            CKEDITOR.dialog.add("image", this.path + "dialogs/image.js");
                            var n = "img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";
                            CKEDITOR.dialog.isTabEnabled(t, "image", "advanced") && (n = "img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"), t.addCommand("image", new CKEDITOR.dialogCommand("image", {
                                allowedContent: n,
                                requiredContent: "img[alt,src]",
                                contentTransformations: [
                                    ["img{width}: sizeToStyle", "img[width]: sizeToAttribute"],
                                    ["img{float}: alignmentToStyle", "img[align]: alignmentToAttribute"]
                                ]
                            })), t.ui.addButton && t.ui.addButton("Image", {
                                label: t.lang.common.image,
                                command: "image",
                                toolbar: "insert,10"
                            }), t.on("doubleclick", function(e) {
                                var t = e.data.element;
                                !t.is("img") || t.data("cke-realelement") || t.isReadOnly() || (e.data.dialog = "image")
                            }), t.addMenuItems && t.addMenuItems({
                                image: {
                                    label: t.lang.image.menu,
                                    command: "image",
                                    group: "image"
                                }
                            }), t.contextMenu && t.contextMenu.addListener(function(n) {
                                if (e(t, n)) return {
                                    image: CKEDITOR.TRISTATE_OFF
                                }
                            })
                        }
                    },
                    afterInit: function(n) {
                        function r(r) {
                            var i = n.getCommand("justify" + r);
                            i && ("left" != r && "right" != r || i.on("exec", function(i) {
                                var o = e(n);
                                o && (t(o) == r ? (o.removeStyle("float"), r == t(o) && o.removeAttribute("align")) : o.setStyle("float", r), i.cancel())
                            }), i.on("refresh", function(i) {
                                var o = e(n);
                                o && (o = t(o), this.setState(o == r ? CKEDITOR.TRISTATE_ON : "right" == r || "left" == r ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED), i.cancel())
                            }))
                        }
                        n.plugins.image2 || (r("left"), r("right"), r("center"), r("block"))
                    }
                })
            }(), CKEDITOR.config.image_removeLinkByEmptyURL = !0, function() {
                function e(e, t) {
                    var n = r.exec(e),
                        i = r.exec(t);
                    if (n) {
                        if (!n[2] && "px" == i[2]) return i[1];
                        if ("px" == n[2] && !i[2]) return i[1] + "px"
                    }
                    return t
                }
                var t = CKEDITOR.htmlParser.cssStyle,
                    n = CKEDITOR.tools.cssLength,
                    r = /^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,
                    i = {
                        elements: {
                            $: function(n) {
                                var r = n.attributes;
                                if ((r = (r = (r = r && r["data-cke-realelement"]) && new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(r))) && r.children[0]) && n.attributes["data-cke-resizable"]) {
                                    var i = new t(n).rules;
                                    n = r.attributes;
                                    var o = i.width;
                                    i = i.height, o && (n.width = e(n.width, o)), i && (n.height = e(n.height, i))
                                }
                                return r
                            }
                        }
                    };
                CKEDITOR.plugins.add("fakeobjects", {
                    init: function(e) {
                        e.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}", "fakeobjects")
                    },
                    afterInit: function(e) {
                        (e = (e = e.dataProcessor) && e.htmlFilter) && e.addRules(i, {
                            applyToAll: !0
                        })
                    }
                }), CKEDITOR.editor.prototype.createFakeElement = function(e, r, i, o) {
                    var a = (a = this.lang.fakeobjects)[i] || a.unknown;
                    return r = {
                        class: r,
                        "data-cke-realelement": encodeURIComponent(e.getOuterHtml()),
                        "data-cke-real-node-type": e.type,
                        alt: a,
                        title: a,
                        align: e.getAttribute("align") || ""
                    }, CKEDITOR.env.hc || (r.src = CKEDITOR.tools.transparentImageData), i && (r["data-cke-real-element-type"] = i), o && (r["data-cke-resizable"] = o, i = new t, o = e.getAttribute("width"), e = e.getAttribute("height"), o && (i.rules.width = n(o)), e && (i.rules.height = n(e)), i.populate(r)), this.document.createElement("img", {
                        attributes: r
                    })
                }, CKEDITOR.editor.prototype.createFakeParserElement = function(e, r, i, o) {
                    var a, s = (s = this.lang.fakeobjects)[i] || s.unknown;
                    return a = new CKEDITOR.htmlParser.basicWriter, e.writeHtml(a), a = a.getHtml(), r = {
                        class: r,
                        "data-cke-realelement": encodeURIComponent(a),
                        "data-cke-real-node-type": e.type,
                        alt: s,
                        title: s,
                        align: e.attributes.align || ""
                    }, CKEDITOR.env.hc || (r.src = CKEDITOR.tools.transparentImageData), i && (r["data-cke-real-element-type"] = i), o && (r["data-cke-resizable"] = o, o = e.attributes, e = new t, i = o.width, o = o.height, void 0 !== i && (e.rules.width = n(i)), void 0 !== o && (e.rules.height = n(o)), e.populate(r)), new CKEDITOR.htmlParser.element("img", r)
                }, CKEDITOR.editor.prototype.restoreRealElement = function(t) {
                    if (t.data("cke-real-node-type") != CKEDITOR.NODE_ELEMENT) return null;
                    var n = CKEDITOR.dom.element.createFromHtml(decodeURIComponent(t.data("cke-realelement")), this.document);
                    if (t.data("cke-resizable")) {
                        var r = t.getStyle("width");
                        t = t.getStyle("height"), r && n.setAttribute("width", e(n.getAttribute("width"), r)), t && n.setAttribute("height", e(n.getAttribute("height"), t))
                    }
                    return n
                }
            }(), function() {
                function e(e) {
                    return e.replace(/'/g, "\\$&")
                }
                CKEDITOR.plugins.add("link", {
                    requires: "dialog,fakeobjects",
                    onLoad: function() {
                        function e(e) {
                            return n.replace(/%1/g, "rtl" == e ? "right" : "left").replace(/%2/g, "cke_contents_" + e)
                        }
                        var t = "background:url(" + CKEDITOR.getUrl(this.path + "images" + (CKEDITOR.env.hidpi ? "/hidpi" : "") + "/anchor.png") + ") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",
                            n = ".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{" + t + "padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{" + t + "width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";
                        CKEDITOR.addCss(e("ltr") + e("rtl"))
                    },
                    init: function(e) {
                        var t = "a[!href]";
                        CKEDITOR.dialog.isTabEnabled(e, "link", "advanced") && (t = t.replace("]", ",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")), CKEDITOR.dialog.isTabEnabled(e, "link", "target") && (t = t.replace("]", ",target,onclick]")), e.addCommand("link", new CKEDITOR.dialogCommand("link", {
                            allowedContent: t,
                            requiredContent: "a[href]"
                        })), e.addCommand("anchor", new CKEDITOR.dialogCommand("anchor", {
                            allowedContent: "a[!name,id]",
                            requiredContent: "a[name]"
                        })), e.addCommand("unlink", new CKEDITOR.unlinkCommand), e.addCommand("removeAnchor", new CKEDITOR.removeAnchorCommand), e.setKeystroke(CKEDITOR.CTRL + 76, "link"), e.ui.addButton && (e.ui.addButton("Link", {
                            label: e.lang.link.toolbar,
                            command: "link",
                            toolbar: "links,10"
                        }), e.ui.addButton("Unlink", {
                            label: e.lang.link.unlink,
                            command: "unlink",
                            toolbar: "links,20"
                        }), e.ui.addButton("Anchor", {
                            label: e.lang.link.anchor.toolbar,
                            command: "anchor",
                            toolbar: "links,30"
                        })), CKEDITOR.dialog.add("link", this.path + "dialogs/link.js"), CKEDITOR.dialog.add("anchor", this.path + "dialogs/anchor.js"), e.on("doubleclick", function(t) {
                            var n = t.data.element.getAscendant({
                                a: 1,
                                img: 1
                            }, !0);
                            n && !n.isReadOnly() && (n.is("a") ? (t.data.dialog = !n.getAttribute("name") || n.getAttribute("href") && n.getChildCount() ? "link" : "anchor", t.data.link = n) : CKEDITOR.plugins.link.tryRestoreFakeAnchor(e, n) && (t.data.dialog = "anchor"))
                        }, null, null, 0), e.on("doubleclick", function(t) {
                            t.data.dialog in {
                                link: 1,
                                anchor: 1
                            } && t.data.link && e.getSelection().selectElement(t.data.link)
                        }, null, null, 20), e.addMenuItems && e.addMenuItems({
                            anchor: {
                                label: e.lang.link.anchor.menu,
                                command: "anchor",
                                group: "anchor",
                                order: 1
                            },
                            removeAnchor: {
                                label: e.lang.link.anchor.remove,
                                command: "removeAnchor",
                                group: "anchor",
                                order: 5
                            },
                            link: {
                                label: e.lang.link.menu,
                                command: "link",
                                group: "link",
                                order: 1
                            },
                            unlink: {
                                label: e.lang.link.unlink,
                                command: "unlink",
                                group: "link",
                                order: 5
                            }
                        }), e.contextMenu && e.contextMenu.addListener(function(t) {
                            if (!t || t.isReadOnly()) return null;
                            if (!(t = CKEDITOR.plugins.link.tryRestoreFakeAnchor(e, t)) && !(t = CKEDITOR.plugins.link.getSelectedLink(e))) return null;
                            var n = {};
                            return t.getAttribute("href") && t.getChildCount() && (n = {
                                link: CKEDITOR.TRISTATE_OFF,
                                unlink: CKEDITOR.TRISTATE_OFF
                            }), t && t.hasAttribute("name") && (n.anchor = n.removeAnchor = CKEDITOR.TRISTATE_OFF), n
                        }), this.compiledProtectionFunction = function(e) {
                            var t;
                            return (e = e.config.emailProtection || "") && "encode" != e && (t = {}, e.replace(/^([^(]+)\(([^)]+)\)$/, function(e, n, r) {
                                t.name = n, t.params = [], r.replace(/[^,\s]+/g, function(e) {
                                    t.params.push(e)
                                })
                            })), t
                        }(e)
                    },
                    afterInit: function(e) {
                        e.dataProcessor.dataFilter.addRules({
                            elements: {
                                a: function(t) {
                                    return t.attributes.name ? t.children.length ? null : e.createFakeParserElement(t, "cke_anchor", "anchor") : null
                                }
                            }
                        });
                        var t = e._.elementsPath && e._.elementsPath.filters;
                        t && t.push(function(t, n) {
                            if ("a" == n && (CKEDITOR.plugins.link.tryRestoreFakeAnchor(e, t) || t.getAttribute("name") && (!t.getAttribute("href") || !t.getChildCount()))) return "anchor"
                        })
                    }
                });
                var t = /^javascript:/,
                    n = /^mailto:([^?]+)(?:\?(.+))?$/,
                    r = /subject=([^;?:@&=$,\/]*)/i,
                    i = /body=([^;?:@&=$,\/]*)/i,
                    o = /^#(.*)$/,
                    a = /^((?:http|https|ftp|news):\/\/)?(.*)$/,
                    s = /^(_(?:self|top|parent|blank))$/,
                    l = /^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,
                    c = /^javascript:([^(]+)\(([^)]+)\)$/,
                    u = /\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,
                    d = /(?:^|,)([^=]+)=(\d+|yes|no)/gi,
                    h = {
                        id: "advId",
                        dir: "advLangDir",
                        accessKey: "advAccessKey",
                        name: "advName",
                        lang: "advLangCode",
                        tabindex: "advTabIndex",
                        title: "advTitle",
                        type: "advContentType",
                        class: "advCSSClasses",
                        charset: "advCharset",
                        style: "advStyles",
                        rel: "advRel"
                    };
                CKEDITOR.plugins.link = {
                    getSelectedLink: function(e, t) {
                        var n, r = e.getSelection(),
                            i = r.getSelectedElement(),
                            o = r.getRanges(),
                            a = [];
                        if (!t && i && i.is("a")) return i;
                        for (i = 0; i < o.length; i++)
                            if ((n = r.getRanges()[i]).shrink(CKEDITOR.SHRINK_ELEMENT, !0, {
                                    skipBogus: !0
                                }), (n = e.elementPath(n.getCommonAncestor()).contains("a", 1)) && t) a.push(n);
                            else if (n) return n;
                        return t ? a : null
                    },
                    getEditorAnchors: function(e) {
                        for (var t, n = (r = (n = e.editable()).isInline() && !e.plugins.divarea ? e.document : n).getElementsByTag("a"), r = r.getElementsByTag("img"), i = [], o = 0; t = n.getItem(o++);)(t.data("cke-saved-name") || t.hasAttribute("name")) && i.push({
                            name: t.data("cke-saved-name") || t.getAttribute("name"),
                            id: t.getAttribute("id")
                        });
                        for (o = 0; t = r.getItem(o++);)(t = this.tryRestoreFakeAnchor(e, t)) && i.push({
                            name: t.getAttribute("name"),
                            id: t.getAttribute("id")
                        });
                        return i
                    },
                    fakeAnchor: !0,
                    tryRestoreFakeAnchor: function(e, t) {
                        if (t && t.data("cke-real-element-type") && "anchor" == t.data("cke-real-element-type")) {
                            var n = e.restoreRealElement(t);
                            if (n.data("cke-saved-name")) return n
                        }
                    },
                    parseLinkAttributes: function(e, p) {
                        var f, m = p && (p.data("cke-saved-href") || p.getAttribute("href")) || "",
                            g = e.plugins.link.compiledProtectionFunction,
                            E = e.config.emailProtection,
                            b = {};
                        if (m.match(t) && ("encode" == E ? m = m.replace(l, function(e, t, n) {
                                return n = n || "", "mailto:" + String.fromCharCode.apply(String, t.split(",")) + n.replace(/\\'/g, "'")
                            }) : E && m.replace(c, function(e, t, n) {
                                if (t == g.name) {
                                    b.type = "email", e = b.email = {}, t = /(^')|('$)/g;
                                    for (var r, i = (n = n.match(/[^,\s]+/g)).length, o = 0; o < i; o++) r = decodeURIComponent(r = n[o].replace(t, "").replace(/\\'/g, "'")), e[g.params[o].toLowerCase()] = r;
                                    e.address = [e.name, e.domain].join("@")
                                }
                            })), !b.type)
                            if (E = m.match(o)) b.type = "anchor", b.anchor = {}, b.anchor.name = b.anchor.id = E[1];
                            else if (E = m.match(n)) {
                            f = m.match(r), m = m.match(i), b.type = "email";
                            var v = b.email = {};
                            v.address = E[1], f && (v.subject = decodeURIComponent(f[1])), m && (v.body = decodeURIComponent(m[1]))
                        } else m && (f = m.match(a)) && (b.type = "url", b.url = {}, b.url.protocol = f[1], b.url.url = f[2]);
                        if (p) {
                            if (m = p.getAttribute("target")) b.target = {
                                type: m.match(s) ? m : "frame",
                                name: m
                            };
                            else if (m = (m = p.data("cke-pa-onclick") || p.getAttribute("onclick")) && m.match(u))
                                for (b.target = {
                                        type: "popup",
                                        name: m[1]
                                    }; E = d.exec(m[2]);) "yes" != E[2] && "1" != E[2] || E[1] in {
                                    height: 1,
                                    width: 1,
                                    top: 1,
                                    left: 1
                                } ? isFinite(E[2]) && (b.target[E[1]] = E[2]) : b.target[E[1]] = !0;
                            var T;
                            for (T in null !== p.getAttribute("download") && (b.download = !0), m = {}, h)(E = p.getAttribute(T)) && (m[h[T]] = E);
                            (T = p.data("cke-saved-name") || m.advName) && (m.advName = T), CKEDITOR.tools.isEmpty(m) || (b.advanced = m)
                        }
                        return b
                    },
                    getLinkAttributes: function(t, n) {
                        var r = t.config.emailProtection || "",
                            i = {};
                        switch (n.type) {
                            case "url":
                                r = n.url && void 0 !== n.url.protocol ? n.url.protocol : "http://";
                                var o = n.url && CKEDITOR.tools.trim(n.url.url) || "";
                                i["data-cke-saved-href"] = 0 === o.indexOf("/") ? o : r + o;
                                break;
                            case "anchor":
                                r = n.anchor && n.anchor.id, i["data-cke-saved-href"] = "#" + (n.anchor && n.anchor.name || r || "");
                                break;
                            case "email":
                                switch (o = (l = n.email).address, r) {
                                    case "":
                                    case "encode":
                                        var a = encodeURIComponent(l.subject || ""),
                                            s = encodeURIComponent(l.body || ""),
                                            l = [];
                                        a && l.push("subject=" + a), s && l.push("body=" + s), l = l.length ? "?" + l.join("&") : "", "encode" == r ? (r = ["javascript:void(location.href='mailto:'+", function(e) {
                                            for (var t, n = e.length, r = [], i = 0; i < n; i++) t = e.charCodeAt(i), r.push(t);
                                            return "String.fromCharCode(" + r.join(",") + ")"
                                        }(o)], l && r.push("+'", e(l), "'"), r.push(")")) : r = ["mailto:", o, l];
                                        break;
                                    default:
                                        r = o.split("@", 2), l.name = r[0], l.domain = r[1], r = ["javascript:", function(t, n) {
                                            var r, i, o = t.plugins.link,
                                                a = o.compiledProtectionFunction.params;
                                            i = [o.compiledProtectionFunction.name, "("];
                                            for (var s = 0; s < a.length; s++) r = n[o = a[s].toLowerCase()], 0 < s && i.push(","), i.push("'", r ? e(encodeURIComponent(n[o])) : "", "'");
                                            return i.push(")"), i.join("")
                                        }(t, l)]
                                }
                                i["data-cke-saved-href"] = r.join("")
                        }
                        if (n.target)
                            if ("popup" == n.target.type) {
                                r = ["window.open(this.href, '", n.target.name || "", "', '"];
                                var c = "resizable status location toolbar menubar fullscreen scrollbars dependent".split(" ");
                                for (o = c.length, a = function(e) {
                                        n.target[e] && c.push(e + "=" + n.target[e])
                                    }, l = 0; l < o; l++) c[l] += n.target[c[l]] ? "=yes" : "=no";
                                a("width"), a("left"), a("height"), a("top"), r.push(c.join(","), "'); return false;"), i["data-cke-pa-onclick"] = r.join("")
                            } else "notSet" != n.target.type && n.target.name && (i.target = n.target.name);
                        if (n.download && (i.download = ""), n.advanced) {
                            for (var u in h)(r = n.advanced[h[u]]) && (i[u] = r);
                            i.name && (i["data-cke-saved-name"] = i.name)
                        }
                        for (var d in i["data-cke-saved-href"] && (i.href = i["data-cke-saved-href"]), u = {
                                target: 1,
                                onclick: 1,
                                "data-cke-pa-onclick": 1,
                                "data-cke-saved-name": 1,
                                download: 1
                            }, n.advanced && CKEDITOR.tools.extend(u, h), i) delete u[d];
                        return {
                            set: i,
                            removed: CKEDITOR.tools.objectKeys(u)
                        }
                    },
                    showDisplayTextForElement: function(e, t) {
                        var n = t.getSelection();
                        return !(t.widgets && t.widgets.focused || n && 1 < n.getRanges().length || e && e.getName && e.is({
                            img: 1,
                            table: 1,
                            tbody: 1,
                            thead: 1,
                            tfoot: 1,
                            input: 1,
                            select: 1,
                            textarea: 1
                        }))
                    }
                }, CKEDITOR.unlinkCommand = function() {}, CKEDITOR.unlinkCommand.prototype = {
                    exec: function(e) {
                        if (CKEDITOR.env.ie) {
                            var t, n = e.getSelection().getRanges()[0],
                                r = n.getPreviousEditableNode() && n.getPreviousEditableNode().getAscendant("a", !0) || n.getNextEditableNode() && n.getNextEditableNode().getAscendant("a", !0);
                            n.collapsed && r && (t = n.createBookmark(), n.selectNodeContents(r), n.select())
                        }
                        r = new CKEDITOR.style({
                            element: "a",
                            type: CKEDITOR.STYLE_INLINE,
                            alwaysRemoveElement: 1
                        }), e.removeStyle(r), t && (n.moveToBookmark(t), n.select())
                    },
                    refresh: function(e, t) {
                        var n = t.lastElement && t.lastElement.getAscendant("a", !0);
                        n && "a" == n.getName() && n.getAttribute("href") && n.getChildCount() ? this.setState(CKEDITOR.TRISTATE_OFF) : this.setState(CKEDITOR.TRISTATE_DISABLED)
                    },
                    contextSensitive: 1,
                    startDisabled: 1,
                    requiredContent: "a[href]",
                    editorFocus: 1
                }, CKEDITOR.removeAnchorCommand = function() {}, CKEDITOR.removeAnchorCommand.prototype = {
                    exec: function(e) {
                        var t, n = e.getSelection(),
                            r = n.createBookmarks();
                        n && (t = n.getSelectedElement()) && (t.getChildCount() ? t.is("a") : CKEDITOR.plugins.link.tryRestoreFakeAnchor(e, t)) ? t.remove(1) : (t = CKEDITOR.plugins.link.getSelectedLink(e)) && (t.hasAttribute("href") ? (t.removeAttributes({
                            name: 1,
                            "data-cke-saved-name": 1
                        }), t.removeClass("cke_anchor")) : t.remove(1)), n.selectBookmarks(r)
                    },
                    requiredContent: "a[name]"
                }, CKEDITOR.tools.extend(CKEDITOR.config, {
                    linkShowAdvancedTab: !0,
                    linkShowTargetTab: !0
                })
            }(), function() {
                function e(e, t, n) {
                    return d(t) && d(n) && n.equals(t.getNext(function(e) {
                        return !(V(e) || G(e) || h(e))
                    }))
                }

                function t(e) {
                    this.upper = e[0], this.lower = e[1], this.set.apply(this, e.slice(2))
                }

                function n(e) {
                    var t = e.element;
                    if (t && d(t) && (t = t.getAscendant(e.triggers, !0)) && e.editable.contains(t)) {
                        var n = a(t);
                        if ("true" == n.getAttribute("contenteditable")) return t;
                        if (n.is(e.triggers)) return n
                    }
                    return null
                }

                function r(e, t, n) {
                    return v(e, t), v(e, n), n = n.size.top, (e = t.size.bottom) && n ? 0 | (e + n) / 2 : e || n
                }

                function i(e, t, n) {
                    return t[n ? "getPrevious" : "getNext"](function(t) {
                        return t && t.type == CKEDITOR.NODE_TEXT && !V(t) || d(t) && !h(t) && !u(e, t)
                    })
                }

                function o(e, t, n) {
                    return e > t && e < n
                }

                function a(e, t) {
                    if (e.data("cke-editable")) return null;
                    for (t || (e = e.getParent()); e && !e.data("cke-editable");) {
                        if (e.hasAttribute("contenteditable")) return e;
                        e = e.getParent()
                    }
                    return null
                }

                function s(e) {
                    var t = e.doc,
                        n = _('<span contenteditable="false" data-cke-magic-line="1" style="' + H + "position:absolute;border-top:1px dashed " + e.boxColor + '"></span>', t),
                        r = CKEDITOR.getUrl(this.path + "images/" + (x.hidpi ? "hidpi/" : "") + "icon" + (e.rtl ? "-rtl" : "") + ".png");
                    for (k(n, {
                            attach: function() {
                                return this.wrap.getParent() || this.wrap.appendTo(e.editable, !0), this
                            },
                            lineChildren: [k(_('<span title="' + e.editor.lang.magicline.title + '" contenteditable="false">&#8629;</span>', t), {
                                base: H + "height:17px;width:17px;" + (e.rtl ? "left" : "right") + ":17px;background:url(" + r + ") center no-repeat " + e.boxColor + ";cursor:pointer;" + (x.hc ? "font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;" : "") + (x.hidpi ? "background-size: 9px 10px;" : ""),
                                looks: ["top:-8px; border-radius: 2px;", "top:-17px; border-radius: 2px 2px 0px 0px;", "top:-1px; border-radius: 0px 0px 2px 2px;"]
                            }), k(_(q, t), {
                                base: W + "left:0px;border-left-color:" + e.boxColor + ";",
                                looks: ["border-width:8px 0 8px 8px;top:-8px", "border-width:8px 0 0 8px;top:-8px", "border-width:0 0 8px 8px;top:0px"]
                            }), k(_(q, t), {
                                base: W + "right:0px;border-right-color:" + e.boxColor + ";",
                                looks: ["border-width:8px 8px 8px 0;top:-8px", "border-width:8px 8px 0 0;top:-8px", "border-width:0 8px 8px 0;top:0px"]
                            })],
                            detach: function() {
                                return this.wrap.getParent() && this.wrap.remove(), this
                            },
                            mouseNear: function() {
                                v(e, this);
                                var t = e.holdDistance,
                                    n = this.size;
                                return !!(n && o(e.mouse.y, n.top - t, n.bottom + t) && o(e.mouse.x, n.left - t, n.right + t))
                            },
                            place: function() {
                                var t = e.view,
                                    n = e.editable,
                                    r = e.trigger,
                                    i = r.upper,
                                    a = r.lower,
                                    s = i || a,
                                    l = s.getParent(),
                                    c = {};
                                for (var u in this.trigger = r, i && v(e, i, !0), a && v(e, a, !0), v(e, l, !0), e.inInlineMode && T(e, !0), l.equals(n) ? (c.left = t.scroll.x, c.right = -t.scroll.x, c.width = "") : (c.left = s.size.left - s.size.margin.left + t.scroll.x - (e.inInlineMode ? t.editable.left + t.editable.border.left : 0), c.width = s.size.outerWidth + s.size.margin.left + s.size.margin.right + t.scroll.x, c.right = ""), i && a ? c.top = i.size.margin.bottom === a.size.margin.top ? 0 | i.size.bottom + i.size.margin.bottom / 2 : i.size.margin.bottom < a.size.margin.top ? i.size.bottom + i.size.margin.bottom : i.size.bottom + i.size.margin.bottom - a.size.margin.top : i ? a || (c.top = i.size.bottom + i.size.margin.bottom) : c.top = a.size.top - a.size.margin.top, r.is(L) || o(c.top, t.scroll.y - 15, t.scroll.y + 5) ? (c.top = e.inInlineMode ? 0 : t.scroll.y, this.look(L)) : r.is(N) || o(c.top, t.pane.bottom - 5, t.pane.bottom + 15) ? (c.top = e.inInlineMode ? t.editable.height + t.editable.padding.top + t.editable.padding.bottom : t.pane.bottom - 1, this.look(N)) : (e.inInlineMode && (c.top -= t.editable.top + t.editable.border.top), this.look(K)), e.inInlineMode && (c.top--, c.top += t.editable.scroll.top, c.left += t.editable.scroll.left), c) c[u] = CKEDITOR.tools.cssLength(c[u]);
                                this.setStyles(c)
                            },
                            look: function(e) {
                                if (this.oldLook != e) {
                                    for (var t, n = this.lineChildren.length; n--;)(t = this.lineChildren[n]).setAttribute("style", t.base + t.looks[0 | e / 2]);
                                    this.oldLook = e
                                }
                            },
                            wrap: new w("span", e.doc)
                        }), t = n.lineChildren.length; t--;) n.lineChildren[t].appendTo(n);
                    n.look(K), n.appendTo(n.wrap), n.unselectable(), n.lineChildren[0].on("mouseup", function(t) {
                        n.detach(), l(e, function(t) {
                            var n = e.line.trigger;
                            t[n.is(I) ? "insertBefore" : "insertAfter"](n.is(I) ? n.lower : n.upper)
                        }, !0), e.editor.focus(), x.ie || e.enterMode == CKEDITOR.ENTER_BR || e.hotNode.scrollIntoView(), t.data.preventDefault(!0)
                    }), n.on("mousedown", function(e) {
                        e.data.preventDefault(!0)
                    }), e.line = n
                }

                function l(e, t, n) {
                    var r, i = new CKEDITOR.dom.range(e.doc),
                        o = e.editor;
                    x.ie && e.enterMode == CKEDITOR.ENTER_BR ? r = e.doc.createText(B) : (r = (r = a(e.element, !0)) && r.data("cke-enter-mode") || e.enterMode, (r = new w(R[r], e.doc)).is("br") || e.doc.createText(B).appendTo(r)), n && o.fire("saveSnapshot"), t(r), i.moveToPosition(r, CKEDITOR.POSITION_AFTER_START), o.getSelection().selectRanges([i]), e.hotNode = r, n && o.fire("saveSnapshot")
                }

                function c(e, t) {
                    return {
                        canUndo: !0,
                        modes: {
                            wysiwyg: 1
                        },
                        exec: function() {
                            function r(n) {
                                var r = x.ie && 9 > x.version ? " " : B,
                                    i = e.hotNode && e.hotNode.getText() == r && e.element.equals(e.hotNode) && e.lastCmdDirection === !!t;
                                l(e, function(r) {
                                    i && e.hotNode && e.hotNode.remove(), r[t ? "insertAfter" : "insertBefore"](n), r.setAttributes({
                                        "data-cke-magicline-hot": 1,
                                        "data-cke-magicline-dir": !!t
                                    }), e.lastCmdDirection = !!t
                                }), x.ie || e.enterMode == CKEDITOR.ENTER_BR || e.hotNode.scrollIntoView(), e.line.detach()
                            }
                            return function(o) {
                                var s, l;
                                o = (o = o.getSelection().getStartElement()).getAscendant(j, 1), m(e, o) || !o || o.equals(e.editable) || o.contains(e.editable) || ((s = a(o)) && "false" == s.getAttribute("contenteditable") && (o = s), e.element = o, d(s = i(e, o, !t)) && s.is(e.triggers) && s.is($) && (!i(e, s, !t) || (l = i(e, s, !t)) && d(l) && l.is(e.triggers)) ? r(s) : d(l = n(e)) && (i(e, l, !t) ? (o = i(e, l, !t)) && d(o) && o.is(e.triggers) && r(l) : r(l)))
                            }
                        }()
                    }
                }

                function u(e, t) {
                    if (!t || t.type != CKEDITOR.NODE_ELEMENT || !t.$) return !1;
                    var n = e.line;
                    return n.wrap.equals(t) || n.wrap.contains(t)
                }

                function d(e) {
                    return e && e.type == CKEDITOR.NODE_ELEMENT && e.$
                }

                function h(e) {
                    return !!d(e) && ((t = p(e)) || (t = !(!d(e) || !(t = {
                        left: 1,
                        right: 1,
                        center: 1
                    })[e.getComputedStyle("float")] && !t[e.getAttribute("align")])), t);
                    var t
                }

                function p(e) {
                    return !!{
                        absolute: 1,
                        fixed: 1
                    }[e.getComputedStyle("position")]
                }

                function f(e, t) {
                    return d(t) ? t.is(e.triggers) : null
                }

                function m(e, t) {
                    if (!t) return !1;
                    for (var n = t.getParents(1), r = n.length; r--;)
                        for (var i = e.tabuList.length; i--;)
                            if (n[r].hasAttribute(e.tabuList[i])) return !0;
                    return !1
                }

                function g(e) {
                    var n = e.editable,
                        r = e.mouse,
                        i = e.view,
                        a = e.triggerOffset;
                    T(e);
                    var s = r.y > (e.inInlineMode ? i.editable.top + i.editable.height / 2 : Math.min(i.editable.height, i.pane.height) / 2);
                    return (n = n[s ? "getLast" : "getFirst"](function(e) {
                        return !(V(e) || G(e))
                    })) ? (u(e, n) && (n = e.line.wrap[s ? "getPrevious" : "getNext"](function(e) {
                        return !(V(e) || G(e))
                    })), d(n) && !h(n) && f(e, n) ? (v(e, n), !s && 0 <= n.size.top && o(r.y, 0, n.size.top + a) ? new t([null, n, I, F, e = e.inInlineMode || 0 === i.scroll.y ? L : K]) : s && n.size.bottom <= i.pane.height && o(r.y, n.size.bottom - a, i.pane.height) ? (e = e.inInlineMode || o(n.size.bottom, i.pane.height - a, i.pane.height) ? N : K, new t([n, null, S, F, e])) : null) : null) : null
                }

                function E(e) {
                    var r = e.mouse,
                        a = e.view,
                        s = e.triggerOffset,
                        l = n(e);
                    if (!l) return null;
                    v(e, l), s = Math.min(s, 0 | l.size.outerHeight / 2);
                    var c, u, p = [];
                    if (o(r.y, l.size.top - 1, l.size.top + s)) u = !1;
                    else {
                        if (!o(r.y, l.size.bottom - s, l.size.bottom + 1)) return null;
                        u = !0
                    }
                    if (h(l) || function(e, t, n) {
                            return !!(t = t[n ? "getLast" : "getFirst"](function(t) {
                                return e.isRelevant(t) && !t.is(P)
                            })) && (v(e, t), n ? t.size.top > e.mouse.y : t.size.bottom < e.mouse.y)
                        }(e, l, u) || l.getParent().is(M)) return null;
                    var m = i(e, l, !u);
                    if (m) {
                        if (m && m.type == CKEDITOR.NODE_TEXT) return null;
                        if (d(m)) {
                            if (h(m) || !f(e, m) || m.getParent().is(M)) return null;
                            p = [m, l][u ? "reverse" : "concat"]().concat([A, F])
                        }
                    } else l.equals(e.editable[u ? "getLast" : "getFirst"](e.isRelevant)) ? (T(e), u && o(r.y, l.size.bottom - s, a.pane.height) && o(l.size.bottom, a.pane.height - s, a.pane.height) ? c = N : o(r.y, 0, l.size.top + s) && (c = L)) : c = K, p = [null, l][u ? "reverse" : "concat"]().concat([u ? S : I, F, c, l.equals(e.editable[u ? "getLast" : "getFirst"](e.isRelevant)) ? u ? N : L : K]);
                    return 0 in p ? new t(p) : null
                }

                function b(e, t, n, r) {
                    for (var i = t.getDocumentPosition(), o = {}, a = {}, s = {}, l = {}, c = X.length; c--;) o[X[c]] = parseInt(t.getComputedStyle.call(t, "border-" + X[c] + "-width"), 10) || 0, s[X[c]] = parseInt(t.getComputedStyle.call(t, "padding-" + X[c]), 10) || 0, a[X[c]] = parseInt(t.getComputedStyle.call(t, "margin-" + X[c]), 10) || 0;
                    return n && !r || y(e, r), l.top = i.y - (n ? 0 : e.view.scroll.y), l.left = i.x - (n ? 0 : e.view.scroll.x), l.outerWidth = t.$.offsetWidth, l.outerHeight = t.$.offsetHeight, l.height = l.outerHeight - (s.top + s.bottom + o.top + o.bottom), l.width = l.outerWidth - (s.left + s.right + o.left + o.right), l.bottom = l.top + l.outerHeight, l.right = l.left + l.outerWidth, e.inInlineMode && (l.scroll = {
                        top: t.$.scrollTop,
                        left: t.$.scrollLeft
                    }), k({
                        border: o,
                        padding: s,
                        margin: a,
                        ignoreScroll: n
                    }, l, !0)
                }

                function v(e, t, n) {
                    if (!d(t)) return t.size = null;
                    if (t.size) {
                        if (t.size.ignoreScroll == n && t.size.date > new Date - z) return null
                    } else t.size = {};
                    return k(t.size, b(e, t, n), {
                        date: +new Date
                    }, !0)
                }

                function T(e, t) {
                    e.view.editable = b(e, e.editable, t, !0)
                }

                function y(e, t) {
                    e.view || (e.view = {});
                    var n = e.view;
                    if (!(!t && n && n.date > new Date - z)) {
                        n = (r = e.win).getScrollPosition();
                        var r = r.getViewPaneSize();
                        k(e.view, {
                            scroll: {
                                x: n.x,
                                y: n.y,
                                width: e.doc.$.documentElement.scrollWidth - r.width,
                                height: e.doc.$.documentElement.scrollHeight - r.height
                            },
                            pane: {
                                width: r.width,
                                height: r.height,
                                bottom: r.height + n.y
                            },
                            date: +new Date
                        }, !0)
                    }
                }

                function C(e, n, r, i) {
                    for (var o = i, a = i, s = 0, l = !1, c = !1, u = e.view.pane.height, d = e.mouse; d.y + s < u && 0 < d.y - s && (l || (l = n(o, i)), c || (c = n(a, i)), !l && 0 < d.y - s && (o = r(e, {
                            x: d.x,
                            y: d.y - s
                        })), !c && d.y + s < u && (a = r(e, {
                            x: d.x,
                            y: d.y + s
                        })), !l || !c);) s += 2;
                    return new t([o, a, null, null])
                }
                CKEDITOR.plugins.add("magicline", {
                    init: function(e) {
                        var r, o, a, f = e.config,
                            v = f.magicline_triggerOffset || 30,
                            C = {
                                editor: e,
                                enterMode: f.enterMode,
                                triggerOffset: v,
                                holdDistance: 0 | v * (f.magicline_holdDistance || .5),
                                boxColor: f.magicline_color || "#ff0000",
                                rtl: "rtl" == f.contentsLangDirection,
                                tabuList: ["data-cke-hidden-sel"].concat(f.magicline_tabuList || []),
                                triggers: f.magicline_everywhere ? j : {
                                    table: 1,
                                    hr: 1,
                                    div: 1,
                                    ul: 1,
                                    ol: 1,
                                    dl: 1,
                                    form: 1,
                                    blockquote: 1
                                },
                                isRelevant: function(e) {
                                    return d(e) && !u(C, e) && !h(e)
                                }
                            };
                        e.on("contentDom", function() {
                            var d = e.editable(),
                                h = e.document,
                                v = e.window;
                            k(C, {
                                editable: d,
                                inInlineMode: d.isInline(),
                                doc: h,
                                win: v,
                                hotNode: null
                            }, !0), C.boundary = C.inInlineMode ? C.editable : C.doc.getDocumentElement(), d.is(O.$inline) || (C.inInlineMode && !p(d) && d.setStyles({
                                position: "relative",
                                top: null,
                                left: null
                            }), s.call(this, C), y(C), d.attachListener(e, "beforeUndoImage", function() {
                                C.line.detach()
                            }), d.attachListener(e, "beforeGetData", function() {
                                C.line.wrap.getParent() && (C.line.detach(), e.once("getData", function() {
                                    C.line.attach()
                                }, null, null, 1e3))
                            }, null, null, 0), d.attachListener(C.inInlineMode ? h : h.getWindow().getFrame(), "mouseout", function(t) {
                                if ("wysiwyg" == e.mode)
                                    if (C.inInlineMode) {
                                        var n = t.data.$.clientX;
                                        t = t.data.$.clientY, y(C), T(C, !0);
                                        var r = C.view.editable,
                                            i = C.view.scroll;
                                        n > r.left - i.x && n < r.right - i.x && t > r.top - i.y && t < r.bottom - i.y || (clearTimeout(a), a = null, C.line.detach())
                                    } else clearTimeout(a), a = null, C.line.detach()
                            }), d.attachListener(d, "keyup", function() {
                                C.hiddenMode = 0
                            }), d.attachListener(d, "keydown", function(t) {
                                if ("wysiwyg" == e.mode) switch (t.data.getKeystroke()) {
                                    case 2228240:
                                    case 16:
                                        C.hiddenMode = 1, C.line.detach()
                                }
                            }), d.attachListener(C.inInlineMode ? d : h, "mousemove", function(t) {
                                if (o = !0, "wysiwyg" == e.mode && !e.readOnly && !a) {
                                    var n = {
                                        x: t.data.$.clientX,
                                        y: t.data.$.clientY
                                    };
                                    a = setTimeout(function() {
                                        C.mouse = n, a = C.trigger = null, y(C), o && !C.hiddenMode && e.focusManager.hasFocus && !C.line.mouseNear() && (C.element = U(C, !0)) && ((C.trigger = g(C) || E(C) || Y(C)) && !m(C, C.trigger.upper || C.trigger.lower) ? C.line.attach().place() : (C.trigger = null, C.line.detach()), o = !1)
                                    }, 30)
                                }
                            }), d.attachListener(v, "scroll", function() {
                                "wysiwyg" == e.mode && (C.line.detach(), x.webkit && (C.hiddenMode = 1, clearTimeout(r), r = setTimeout(function() {
                                    C.mouseDown || (C.hiddenMode = 0)
                                }, 50)))
                            }), d.attachListener(D ? h : v, "mousedown", function() {
                                "wysiwyg" == e.mode && (C.line.detach(), C.hiddenMode = 1, C.mouseDown = 1)
                            }), d.attachListener(D ? h : v, "mouseup", function() {
                                C.hiddenMode = 0, C.mouseDown = 0
                            }), e.addCommand("accessPreviousSpace", c(C)), e.addCommand("accessNextSpace", c(C, !0)), e.setKeystroke([
                                [f.magicline_keystrokePrevious, "accessPreviousSpace"],
                                [f.magicline_keystrokeNext, "accessNextSpace"]
                            ]), e.on("loadSnapshot", function() {
                                var t, n, r, i;
                                for (i in {
                                        p: 1,
                                        br: 1,
                                        div: 1
                                    })
                                    for (r = (t = e.document.getElementsByTag(i)).count(); r--;)
                                        if ((n = t.getItem(r)).data("cke-magicline-hot")) return C.hotNode = n, void(C.lastCmdDirection = "true" === n.data("cke-magicline-dir"))
                            }), this.backdoor = {
                                accessFocusSpace: l,
                                boxTrigger: t,
                                isLine: u,
                                getAscendantTrigger: n,
                                getNonEmptyNeighbour: i,
                                getSize: b,
                                that: C,
                                triggerEdge: E,
                                triggerEditable: g,
                                triggerExpand: Y
                            })
                        }, this)
                    }
                });
                var k = CKEDITOR.tools.extend,
                    w = CKEDITOR.dom.element,
                    _ = w.createFromHtml,
                    x = CKEDITOR.env,
                    D = CKEDITOR.env.ie && 9 > CKEDITOR.env.version,
                    O = CKEDITOR.dtd,
                    R = {},
                    I = 128,
                    S = 64,
                    A = 32,
                    F = 16,
                    L = 4,
                    N = 2,
                    K = 1,
                    B = "\xa0",
                    M = O.$listItem,
                    P = O.$tableContent,
                    $ = k({}, O.$nonEditable, O.$empty),
                    j = O.$block,
                    z = 100,
                    H = "width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",
                    W = H + "border-color:transparent;display:block;border-style:solid;",
                    q = "<span>" + B + "</span>";
                R[CKEDITOR.ENTER_BR] = "br", R[CKEDITOR.ENTER_P] = "p", R[CKEDITOR.ENTER_DIV] = "div", t.prototype = {
                    set: function(e, t, n) {
                        return this.properties = e + t + (n || K), this
                    },
                    is: function(e) {
                        return (this.properties & e) == e
                    }
                };
                var U = function() {
                        function e(e, t) {
                            var n = e.$.elementFromPoint(t.x, t.y);
                            return n && n.nodeType ? new CKEDITOR.dom.element(n) : null
                        }
                        return function(t, n, r) {
                            if (!t.mouse) return null;
                            var i = t.doc,
                                o = t.line.wrap,
                                a = e(i, r = r || t.mouse);
                            return n && u(t, a) && (o.hide(), a = e(i, r), o.show()), !a || a.type != CKEDITOR.NODE_ELEMENT || !a.$ || x.ie && 9 > x.version && !t.boundary.equals(a) && !t.boundary.contains(a) ? null : a
                        }
                    }(),
                    V = CKEDITOR.dom.walker.whitespaces(),
                    G = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),
                    Y = function() {
                        function t(t) {
                            var i, a, s;
                            if (!d(p = t.element) || p.contains(t.editable) || p.isReadOnly()) return null;
                            if (e(0, i = (s = C(t, function(e, t) {
                                    return !t.equals(e)
                                }, function(e, t) {
                                    return U(e, !0, t)
                                }, p)).upper, a = s.lower)) return s.set(A, 8);
                            if (i && p.contains(i))
                                for (; !i.getParent().equals(p);) i = i.getParent();
                            else i = p.getFirst(function(e) {
                                return n(t, e)
                            });
                            if (a && p.contains(a))
                                for (; !a.getParent().equals(p);) a = a.getParent();
                            else a = p.getLast(function(e) {
                                return n(t, e)
                            });
                            if (!i || !a) return null;
                            if (v(t, i), v(t, a), !o(t.mouse.y, i.size.top, a.size.bottom)) return null;
                            for (var l, c, u, h, p = Number.MAX_VALUE; a && !a.equals(i) && (c = i.getNext(t.isRelevant));)(l = Math.abs(r(t, i, c) - t.mouse.y)) < p && (p = l, u = i, h = c), v(t, i = c);
                            return u && h && o(t.mouse.y, u.size.top, h.size.bottom) ? (s.upper = u, s.lower = h, s.set(A, 8)) : null
                        }

                        function n(e, t) {
                            return !(t && t.type == CKEDITOR.NODE_TEXT || G(t) || h(t) || u(e, t) || t.type == CKEDITOR.NODE_ELEMENT && t.$ && t.is("br"))
                        }
                        return function(n) {
                            var r, i = t(n);
                            if (r = i) {
                                var o = i.lower;
                                r = !(!(r = i.upper) || !o || h(o) || h(r) || o.equals(r) || r.equals(o) || o.contains(r) || r.contains(o) || !(f(n, r) && f(n, o) && e(0, r, o)))
                            }
                            return r ? i : null
                        }
                    }(),
                    X = ["top", "left", "right", "bottom"]
            }(), CKEDITOR.config.magicline_keystrokePrevious = CKEDITOR.CTRL + CKEDITOR.SHIFT + 51, CKEDITOR.config.magicline_keystrokeNext = CKEDITOR.CTRL + CKEDITOR.SHIFT + 52, function() {
                function e(e) {
                    if (!e || e.type != CKEDITOR.NODE_ELEMENT || "form" != e.getName()) return [];
                    for (var t = [], n = ["style", "className"], r = 0; r < n.length; r++) {
                        var i = e.$.elements.namedItem(n[r]);
                        i && (i = new CKEDITOR.dom.element(i), t.push([i, i.nextSibling]), i.remove())
                    }
                    return t
                }

                function t(e, t) {
                    if (e && e.type == CKEDITOR.NODE_ELEMENT && "form" == e.getName() && 0 < t.length)
                        for (var n = t.length - 1; 0 <= n; n--) {
                            var r = t[n][0],
                                i = t[n][1];
                            i ? r.insertBefore(i) : r.appendTo(e)
                        }
                }

                function n(n, r) {
                    var i = e(n),
                        o = {},
                        a = n.$;
                    return r || (o.class = a.className || "", a.className = ""), o.inline = a.style.cssText || "", r || (a.style.cssText = "position: static; overflow: visible"), t(i), o
                }

                function r(n, r) {
                    var i = e(n),
                        o = n.$;
                    "class" in r && (o.className = r.class), "inline" in r && (o.style.cssText = r.inline), t(i)
                }

                function i(e) {
                    if (!e.editable().isInline()) {
                        var t, n = CKEDITOR.instances;
                        for (t in n) {
                            var r = n[t];
                            "wysiwyg" != r.mode || r.readOnly || ((r = r.document.getBody()).setAttribute("contentEditable", !1), r.setAttribute("contentEditable", !0))
                        }
                        e.editable().hasFocus && (e.toolbox.focus(), e.focus())
                    }
                }
                CKEDITOR.plugins.add("maximize", {
                    init: function(e) {
                        function t() {
                            var t = u.getViewPaneSize();
                            e.resize(t.width, t.height, null, !0)
                        }
                        if (e.elementMode != CKEDITOR.ELEMENT_MODE_INLINE) {
                            var o, a, s, l = e.lang,
                                c = CKEDITOR.document,
                                u = c.getWindow(),
                                d = CKEDITOR.TRISTATE_OFF;
                            e.addCommand("maximize", {
                                modes: {
                                    wysiwyg: !CKEDITOR.env.iOS,
                                    source: !CKEDITOR.env.iOS
                                },
                                readOnly: 1,
                                editorFocus: !1,
                                exec: function() {
                                    var h = e.container.getFirst(function(e) {
                                            return e.type == CKEDITOR.NODE_ELEMENT && e.hasClass("cke_inner")
                                        }),
                                        p = e.ui.space("contents");
                                    if ("wysiwyg" == e.mode) {
                                        var f = e.getSelection();
                                        o = f && f.getRanges(), a = u.getScrollPosition()
                                    } else {
                                        var m = e.editable().$;
                                        o = !CKEDITOR.env.ie && [m.selectionStart, m.selectionEnd], a = [m.scrollLeft, m.scrollTop]
                                    }
                                    if (this.state == CKEDITOR.TRISTATE_OFF) {
                                        for (u.on("resize", t), s = u.getScrollPosition(), f = e.container; f = f.getParent();) f.setCustomData("maximize_saved_styles", n(f)), f.setStyle("z-index", e.config.baseFloatZIndex - 5);
                                        p.setCustomData("maximize_saved_styles", n(p, !0)), h.setCustomData("maximize_saved_styles", n(h, !0)), p = {
                                            overflow: CKEDITOR.env.webkit ? "" : "hidden",
                                            width: 0,
                                            height: 0
                                        }, c.getDocumentElement().setStyles(p), !CKEDITOR.env.gecko && c.getDocumentElement().setStyle("position", "fixed"), CKEDITOR.env.gecko && CKEDITOR.env.quirks || c.getBody().setStyles(p), CKEDITOR.env.ie ? setTimeout(function() {
                                            u.$.scrollTo(0, 0)
                                        }, 0) : u.$.scrollTo(0, 0), h.setStyle("position", CKEDITOR.env.gecko && CKEDITOR.env.quirks ? "fixed" : "absolute"), h.setStyles({
                                            "z-index": e.config.baseFloatZIndex - 5,
                                            left: "0px",
                                            top: "0px"
                                        }), h.addClass("cke_maximized"), t(), p = h.getDocumentPosition(), h.setStyles({
                                            left: -1 * p.x + "px",
                                            top: -1 * p.y + "px"
                                        }), CKEDITOR.env.gecko && i(e)
                                    } else if (this.state == CKEDITOR.TRISTATE_ON) {
                                        u.removeListener("resize", t), f = [p, h];
                                        for (var g = 0; g < f.length; g++) r(f[g], f[g].getCustomData("maximize_saved_styles")), f[g].removeCustomData("maximize_saved_styles");
                                        for (f = e.container; f = f.getParent();) r(f, f.getCustomData("maximize_saved_styles")), f.removeCustomData("maximize_saved_styles");
                                        CKEDITOR.env.ie ? setTimeout(function() {
                                            u.$.scrollTo(s.x, s.y)
                                        }, 0) : u.$.scrollTo(s.x, s.y), h.removeClass("cke_maximized"), CKEDITOR.env.webkit && (h.setStyle("display", "inline"), setTimeout(function() {
                                            h.setStyle("display", "block")
                                        }, 0)), e.fire("resize", {
                                            outerHeight: e.container.$.offsetHeight,
                                            contentsHeight: p.$.offsetHeight,
                                            outerWidth: e.container.$.offsetWidth
                                        })
                                    }
                                    this.toggleState(), (f = this.uiItems[0]) && (p = this.state == CKEDITOR.TRISTATE_OFF ? l.maximize.maximize : l.maximize.minimize, (f = CKEDITOR.document.getById(f._.id)).getChild(1).setHtml(p), f.setAttribute("title", p), f.setAttribute("href", 'javascript:void("' + p + '");')), "wysiwyg" == e.mode ? o ? (CKEDITOR.env.gecko && i(e), e.getSelection().selectRanges(o), (m = e.getSelection().getStartElement()) && m.scrollIntoView(!0)) : u.$.scrollTo(a.x, a.y) : (o && (m.selectionStart = o[0], m.selectionEnd = o[1]), m.scrollLeft = a[0], m.scrollTop = a[1]), o = a = null, d = this.state, e.fire("maximize", this.state)
                                },
                                canUndo: !1
                            }), e.ui.addButton && e.ui.addButton("Maximize", {
                                label: l.maximize.maximize,
                                command: "maximize",
                                toolbar: "tools,10"
                            }), e.on("mode", function() {
                                var t = e.getCommand("maximize");
                                t.setState(t.state == CKEDITOR.TRISTATE_DISABLED ? CKEDITOR.TRISTATE_DISABLED : d)
                            }, null, null, 100)
                        }
                    }
                })
            }(), CKEDITOR.plugins.add("pastefromword", {
                requires: "clipboard",
                init: function(e) {
                    var t = 0,
                        n = this.path,
                        r = void 0 === e.config.pasteFromWord_inlineImages || e.config.pasteFromWord_inlineImages;
                    e.addCommand("pastefromword", {
                        canUndo: !1,
                        async: !0,
                        exec: function(e, n) {
                            t = 1, e.execCommand("paste", {
                                type: "html",
                                notification: !n || void 0 === n.notification || n.notification
                            })
                        }
                    }), CKEDITOR.plugins.clipboard.addPasteButton(e, "PasteFromWord", {
                        label: e.lang.pastefromword.toolbar,
                        command: "pastefromword",
                        toolbar: "clipboard,50"
                    }), e.on("paste", function(r) {
                        var i = r.data,
                            o = CKEDITOR.plugins.clipboard.isCustomDataTypesSupported ? i.dataTransfer.getData("text/html", !0) : null,
                            a = CKEDITOR.plugins.clipboard.isCustomDataTypesSupported ? i.dataTransfer.getData("text/rtf") : null,
                            s = {
                                dataValue: o = o || i.dataValue,
                                dataTransfer: {
                                    "text/rtf": a
                                }
                            };
                        if (a = /(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/, a = /<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(o) || a.test(o), o && (t || a) && (!1 !== e.fire("pasteFromWord", s) || t)) {
                            i.dontFilter = !0;
                            var l = function(e, t, n) {
                                var r = CKEDITOR.cleanWord;
                                return r ? n() : (e = CKEDITOR.getUrl(e.config.pasteFromWordCleanupFile || t + "filter/default.js"), CKEDITOR.scriptLoader.load(e, n, null, !0)), !r
                            }(e, n, function() {
                                l ? e.fire("paste", i) : (!e.config.pasteFromWordPromptCleanup || t || confirm(e.lang.pastefromword.confirmCleanup)) && (s.dataValue = CKEDITOR.cleanWord(s.dataValue, e), e.fire("afterPasteFromWord", s), i.dataValue = s.dataValue, !0 === e.config.forcePasteAsPlainText ? i.type = "text" : CKEDITOR.env.ie && "allow-word" === e.config.forcePasteAsPlainText && (i.type = "html")), t = 0
                            });
                            l && r.cancel()
                        }
                    }, null, null, 3), CKEDITOR.plugins.clipboard.isCustomDataTypesSupported && r && e.on("afterPasteFromWord", function(e) {
                        var t, n = CKEDITOR.plugins.pastefromword && CKEDITOR.plugins.pastefromword.images,
                            r = [];
                        if (n && e.editor.filter.check("img[src]") && 0 !== (t = n.extractTagsFromHtml(e.data.dataValue)).length && 0 !== (n = n.extractFromRtf(e.data.dataTransfer["text/rtf"])).length && (CKEDITOR.tools.array.forEach(n, function(e) {
                                r.push(e.type ? "data:" + e.type + ";base64," + CKEDITOR.tools.convertBytesToBase64(CKEDITOR.tools.convertHexStringToBytes(e.hex)) : null)
                            }, this), t.length === r.length))
                            for (n = 0; n < t.length; n++) 0 === t[n].indexOf("file://") && r[n] && (e.data.dataValue = e.data.dataValue.replace(t[n], r[n]))
                    })
                }
            }), function() {
                var e = {
                    canUndo: !1,
                    async: !0,
                    exec: function(e, t) {
                        var n = e.lang,
                            r = CKEDITOR.tools.keystrokeToString(n.common.keyboard, e.getCommandKeystroke(CKEDITOR.env.ie ? e.commands.paste : this)),
                            i = t && void 0 !== t.notification ? t.notification : !t || !t.from || "keystrokeHandler" === t.from && CKEDITOR.env.ie;
                        n = i && "string" == typeof i ? i : n.pastetext.pasteNotification.replace(/%1/, '<kbd aria-label="' + r.aria + '">' + r.display + "</kbd>"), e.execCommand("paste", {
                            type: "text",
                            notification: !!i && n
                        })
                    }
                };
                CKEDITOR.plugins.add("pastetext", {
                    requires: "clipboard",
                    init: function(t) {
                        var n = CKEDITOR.env.safari ? CKEDITOR.CTRL + CKEDITOR.ALT + CKEDITOR.SHIFT + 86 : CKEDITOR.CTRL + CKEDITOR.SHIFT + 86;
                        t.addCommand("pastetext", e), t.setKeystroke(n, "pastetext"), CKEDITOR.plugins.clipboard.addPasteButton(t, "PasteText", {
                            label: t.lang.pastetext.button,
                            command: "pastetext",
                            toolbar: "clipboard,40"
                        }), t.config.forcePasteAsPlainText && t.on("beforePaste", function(e) {
                            "html" != e.data.type && (e.data.type = "text")
                        }), t.on("pasteState", function(e) {
                            t.getCommand("pastetext").setState(e.data)
                        })
                    }
                })
            }(), CKEDITOR.plugins.add("removeformat", {
                init: function(e) {
                    e.addCommand("removeFormat", CKEDITOR.plugins.removeformat.commands.removeformat), e.ui.addButton && e.ui.addButton("RemoveFormat", {
                        label: e.lang.removeformat.toolbar,
                        command: "removeFormat",
                        toolbar: "cleanup,10"
                    })
                }
            }), CKEDITOR.plugins.removeformat = {
                commands: {
                    removeformat: {
                        exec: function(e) {
                            for (var t, n = e._.removeFormatRegex || (e._.removeFormatRegex = new RegExp("^(?:" + e.config.removeFormatTags.replace(/,/g, "|") + ")$", "i")), r = e._.removeAttributes || (e._.removeAttributes = e.config.removeFormatAttributes.split(",")), i = CKEDITOR.plugins.removeformat.filter, o = e.getSelection().getRanges(), a = o.createIterator(), s = function(e) {
                                    return e.type == CKEDITOR.NODE_ELEMENT
                                }; t = a.getNextRange();) {
                                t.collapsed || t.enlarge(CKEDITOR.ENLARGE_ELEMENT);
                                var l = t.createBookmark(),
                                    c = l.startNode,
                                    u = l.endNode,
                                    d = function(t) {
                                        for (var r, o = e.elementPath(t), a = o.elements, s = 1;
                                            (r = a[s]) && !r.equals(o.block) && !r.equals(o.blockLimit); s++) n.test(r.getName()) && i(e, r) && t.breakParent(r)
                                    };
                                if (d(c), u)
                                    for (d(u), c = c.getNextSourceNode(!0, CKEDITOR.NODE_ELEMENT); c && !c.equals(u);)
                                        if (c.isReadOnly()) {
                                            if (c.getPosition(u) & CKEDITOR.POSITION_CONTAINS) break;
                                            c = c.getNext(s)
                                        } else d = c.getNextSourceNode(!1, CKEDITOR.NODE_ELEMENT), "img" == c.getName() && c.data("cke-realelement") || !i(e, c) || (n.test(c.getName()) ? c.remove(1) : (c.removeAttributes(r), e.fire("removeFormatCleanup", c))), c = d;
                                t.moveToBookmark(l)
                            }
                            e.forceNextSelectionCheck(), e.getSelection().selectRanges(o)
                        }
                    }
                },
                filter: function(e, t) {
                    for (var n = e._.removeFormatFilters || [], r = 0; r < n.length; r++)
                        if (!1 === n[r](t)) return !1;
                    return !0
                }
            }, CKEDITOR.editor.prototype.addRemoveFormatFilter = function(e) {
                this._.removeFormatFilters || (this._.removeFormatFilters = []), this._.removeFormatFilters.push(e)
            }, CKEDITOR.config.removeFormatTags = "b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var", CKEDITOR.config.removeFormatAttributes = "class,style,lang,width,height,align,hspace,valign", CKEDITOR.plugins.add("resize", {
                init: function(e) {
                    function t(t) {
                        var n = s.width,
                            i = s.height,
                            l = n + (t.data.$.screenX - a.x) * ("rtl" == o ? -1 : 1);
                        t = i + (t.data.$.screenY - a.y), c && (n = Math.max(r.resize_minWidth, Math.min(l, r.resize_maxWidth))), u && (i = Math.max(r.resize_minHeight, Math.min(t, r.resize_maxHeight))), e.resize(c ? n : null, i)
                    }

                    function n() {
                        CKEDITOR.document.removeListener("mousemove", t), CKEDITOR.document.removeListener("mouseup", n), e.document && (e.document.removeListener("mousemove", t), e.document.removeListener("mouseup", n))
                    }
                    var r = e.config,
                        i = e.ui.spaceId("resizer"),
                        o = e.element ? e.element.getDirection(1) : "ltr";
                    if (!r.resize_dir && (r.resize_dir = "vertical"), void 0 === r.resize_maxWidth && (r.resize_maxWidth = 3e3), void 0 === r.resize_maxHeight && (r.resize_maxHeight = 3e3), void 0 === r.resize_minWidth && (r.resize_minWidth = 750), void 0 === r.resize_minHeight && (r.resize_minHeight = 250), !1 !== r.resize_enabled) {
                        var a, s, l = null,
                            c = ("both" == r.resize_dir || "horizontal" == r.resize_dir) && r.resize_minWidth != r.resize_maxWidth,
                            u = ("both" == r.resize_dir || "vertical" == r.resize_dir) && r.resize_minHeight != r.resize_maxHeight,
                            d = CKEDITOR.tools.addFunction(function(i) {
                                l || (l = e.getResizable()), a = {
                                    x: i.screenX,
                                    y: i.screenY
                                }, r.resize_minWidth > (s = {
                                    width: l.$.offsetWidth || 0,
                                    height: l.$.offsetHeight || 0
                                }).width && (r.resize_minWidth = s.width), r.resize_minHeight > s.height && (r.resize_minHeight = s.height), CKEDITOR.document.on("mousemove", t), CKEDITOR.document.on("mouseup", n), e.document && (e.document.on("mousemove", t), e.document.on("mouseup", n)), i.preventDefault && i.preventDefault()
                            });
                        e.on("destroy", function() {
                            CKEDITOR.tools.removeFunction(d)
                        }), e.on("uiSpace", function(t) {
                            if ("bottom" == t.data.space) {
                                var n = "";
                                c && !u && (n = " cke_resizer_horizontal"), !c && u && (n = " cke_resizer_vertical");
                                var r = '<span id="' + i + '" class="cke_resizer' + n + " cke_resizer_" + o + '" title="' + CKEDITOR.tools.htmlEncode(e.lang.common.resize) + '" onmousedown="CKEDITOR.tools.callFunction(' + d + ', event)">' + ("ltr" == o ? "\u25e2" : "\u25e3") + "</span>";
                                "ltr" == o && "ltr" == n ? t.data.html += r : t.data.html = r + t.data.html
                            }
                        }, e, null, 100), e.on("maximize", function(t) {
                            e.ui.space("resizer")[t.data == CKEDITOR.TRISTATE_ON ? "hide" : "show"]()
                        })
                    }
                }
            }), CKEDITOR.plugins.add("menubutton", {
                requires: "button,menu",
                onLoad: function() {
                    var e = function(e) {
                        var t = this._,
                            n = t.menu;
                        t.state !== CKEDITOR.TRISTATE_DISABLED && (t.on && n ? n.hide() : (t.previousState = t.state, n || ((n = t.menu = new CKEDITOR.menu(e, {
                            panel: {
                                className: "cke_menu_panel",
                                attributes: {
                                    "aria-label": e.lang.common.options
                                }
                            }
                        })).onHide = CKEDITOR.tools.bind(function() {
                            var n = this.command ? e.getCommand(this.command).modes : this.modes;
                            this.setState(!n || n[e.mode] ? t.previousState : CKEDITOR.TRISTATE_DISABLED), t.on = 0
                        }, this), this.onMenu && n.addListener(this.onMenu)), this.setState(CKEDITOR.TRISTATE_ON), t.on = 1, setTimeout(function() {
                            n.show(CKEDITOR.document.getById(t.id), 4)
                        }, 0)))
                    };
                    CKEDITOR.ui.menuButton = CKEDITOR.tools.createClass({
                        base: CKEDITOR.ui.button,
                        $: function(t) {
                            delete t.panel, this.base(t), this.hasArrow = !0, this.click = e
                        },
                        statics: {
                            handler: {
                                create: function(e) {
                                    return new CKEDITOR.ui.menuButton(e)
                                }
                            }
                        }
                    })
                },
                beforeInit: function(e) {
                    e.ui.addHandler(CKEDITOR.UI_MENUBUTTON, CKEDITOR.ui.menuButton.handler)
                }
            }), CKEDITOR.UI_MENUBUTTON = "menubutton", CKEDITOR.plugins.add("scayt", {
                requires: "menubutton,dialog",
                tabToOpen: null,
                dialogName: "scaytDialog",
                onLoad: function(e) {
                    CKEDITOR.plugins.scayt.onLoadTimestamp = (new Date).getTime(), "moono-lisa" == (CKEDITOR.skinName || e.config.skin) && CKEDITOR.document.appendStyleSheet(this.path + "skins/" + CKEDITOR.skin.name + "/scayt.css"), CKEDITOR.document.appendStyleSheet(this.path + "dialogs/dialog.css")
                },
                init: function(e) {
                    var t = this,
                        n = CKEDITOR.plugins.scayt;
                    this.bindEvents(e), this.parseConfig(e), this.addRule(e), CKEDITOR.dialog.add(this.dialogName, CKEDITOR.getUrl(this.path + "dialogs/options.js")), this.addMenuItems(e);
                    var r = e.lang.scayt,
                        i = CKEDITOR.env;
                    e.ui.add("Scayt", CKEDITOR.UI_MENUBUTTON, {
                        label: r.text_title,
                        title: e.plugins.wsc ? e.lang.wsc.title : r.text_title,
                        modes: {
                            wysiwyg: !(i.ie && (8 > i.version || i.quirks))
                        },
                        toolbar: "spellchecker,20",
                        refresh: function() {
                            var t = e.ui.instances.Scayt.getState();
                            e.scayt && (t = n.state.scayt[e.name] ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF), e.fire("scaytButtonState", t)
                        },
                        onRender: function() {
                            var t = this;
                            e.on("scaytButtonState", function(e) {
                                void 0 !== typeof e.data && t.setState(e.data)
                            })
                        },
                        onMenu: function() {
                            var t = e.scayt;
                            e.getMenuItem("scaytToggle").label = e.lang.scayt[t && n.state.scayt[e.name] ? "btn_disable" : "btn_enable"];
                            var r = {
                                scaytToggle: CKEDITOR.TRISTATE_OFF,
                                scaytOptions: t ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                scaytLangs: t ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                scaytDict: t ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                scaytAbout: t ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                WSC: e.plugins.wsc ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED
                            };
                            return e.config.scayt_uiTabs[0] || delete r.scaytOptions, e.config.scayt_uiTabs[1] || delete r.scaytLangs, e.config.scayt_uiTabs[2] || delete r.scaytDict, t && !CKEDITOR.plugins.scayt.isNewUdSupported(t) && (delete r.scaytDict, e.config.scayt_uiTabs[2] = 0, CKEDITOR.plugins.scayt.alarmCompatibilityMessage()), r
                        }
                    }), e.contextMenu && e.addMenuItems && (e.contextMenu.addListener(function(n, r) {
                        var i, o, a = e.scayt;
                        return a && (o = a.getSelectionNode()) && (i = t.menuGenerator(e, o), a.showBanner("." + e.contextMenu._.definition.panel.className.split(" ").join(" ."))), i
                    }), e.contextMenu._.onHide = CKEDITOR.tools.override(e.contextMenu._.onHide, function(t) {
                        return function() {
                            var n = e.scayt;
                            return n && n.hideBanner(), t.apply(this)
                        }
                    }))
                },
                addMenuItems: function(e) {
                    var t = this,
                        n = CKEDITOR.plugins.scayt;
                    e.addMenuGroup("scaytButton");
                    for (var r = e.config.scayt_contextMenuItemsOrder.split("|"), i = 0; i < r.length; i++) r[i] = "scayt_" + r[i];
                    if ((r = ["grayt_description", "grayt_suggest", "grayt_control"].concat(r)) && r.length)
                        for (i = 0; i < r.length; i++) e.addMenuGroup(r[i], i - 10);
                    e.addCommand("scaytToggle", {
                        exec: function(e) {
                            var t = e.scayt;
                            n.state.scayt[e.name] = !n.state.scayt[e.name], !0 === n.state.scayt[e.name] ? t || n.createScayt(e) : t && n.destroy(e)
                        }
                    }), e.addCommand("scaytAbout", {
                        exec: function(e) {
                            e.scayt.tabToOpen = "about", n.openDialog(t.dialogName, e)
                        }
                    }), e.addCommand("scaytOptions", {
                        exec: function(e) {
                            e.scayt.tabToOpen = "options", n.openDialog(t.dialogName, e)
                        }
                    }), e.addCommand("scaytLangs", {
                        exec: function(e) {
                            e.scayt.tabToOpen = "langs", n.openDialog(t.dialogName, e)
                        }
                    }), e.addCommand("scaytDict", {
                        exec: function(e) {
                            e.scayt.tabToOpen = "dictionaries", n.openDialog(t.dialogName, e)
                        }
                    }), r = {
                        scaytToggle: {
                            label: e.lang.scayt.btn_enable,
                            group: "scaytButton",
                            command: "scaytToggle"
                        },
                        scaytAbout: {
                            label: e.lang.scayt.btn_about,
                            group: "scaytButton",
                            command: "scaytAbout"
                        },
                        scaytOptions: {
                            label: e.lang.scayt.btn_options,
                            group: "scaytButton",
                            command: "scaytOptions"
                        },
                        scaytLangs: {
                            label: e.lang.scayt.btn_langs,
                            group: "scaytButton",
                            command: "scaytLangs"
                        },
                        scaytDict: {
                            label: e.lang.scayt.btn_dictionaries,
                            group: "scaytButton",
                            command: "scaytDict"
                        }
                    }, e.plugins.wsc && (r.WSC = {
                        label: e.lang.wsc.toolbar,
                        group: "scaytButton",
                        onClick: function() {
                            var t = CKEDITOR.plugins.scayt,
                                n = e.scayt,
                                r = e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? e.container.getText() : e.document.getBody().getText();
                            (r = r.replace(/\s/g, "")) ? (n && t.state.scayt[e.name] && n.setMarkupPaused && n.setMarkupPaused(!0), e.lockSelection(), e.execCommand("checkspell")) : alert("Nothing to check!")
                        }
                    }), e.addMenuItems(r)
                },
                bindEvents: function(e) {
                    var t = CKEDITOR.plugins.scayt,
                        n = e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE,
                        r = function() {
                            t.destroy(e)
                        },
                        i = function() {
                            !t.state.scayt[e.name] || e.readOnly || e.scayt || t.createScayt(e)
                        },
                        o = function() {
                            n ? e.config.scayt_inlineModeImmediateMarkup ? i() : (e.on("blur", function() {
                                    setTimeout(r, 0)
                                }), e.on("focus", i), e.focusManager.hasFocus && i()) : i(),
                                function() {
                                    var t = e.editable();
                                    t.attachListener(t, "focus", function(t) {
                                        var r, o;
                                        if (CKEDITOR.plugins.scayt && !e.scayt && setTimeout(i, 0), t = CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state.scayt[e.name] && e.scayt, (n || t) && e._.savedSelection) {
                                            t = !(t = e._.savedSelection.getSelectedElement()) && e._.savedSelection.getRanges();
                                            for (var a = 0; a < t.length; a++) "string" == typeof(o = t[a]).startContainer.$.nodeValue && ((r = o.startContainer.getText().length) < o.startOffset || r < o.endOffset) && e.unlockSelection(!1)
                                        }
                                    }, this, null, -10)
                                }();
                            var t = e.editable();
                            t.attachListener(t, "mousedown", function(t) {
                                t = t.data.getTarget();
                                var n = e.widgets && e.widgets.getByElement(t);
                                n && (n.wrapper = t.getAscendant(function(e) {
                                    return e.hasAttribute("data-cke-widget-wrapper")
                                }, !0))
                            }, this, null, -10)
                        };
                    e.on("contentDom", o), e.on("beforeCommandExec", function(n) {
                        var r = e.scayt,
                            i = !1,
                            o = !1,
                            a = !0;
                        n.data.name in t.options.disablingCommandExec && "wysiwyg" == e.mode ? r && (t.destroy(e), e.fire("scaytButtonState", CKEDITOR.TRISTATE_DISABLED)) : "bold" !== n.data.name && "italic" !== n.data.name && "underline" !== n.data.name && "strike" !== n.data.name && "subscript" !== n.data.name && "superscript" !== n.data.name && "enter" !== n.data.name && "cut" !== n.data.name && "language" !== n.data.name || !r || ("cut" === n.data.name && (a = !1, o = !0), "language" === n.data.name && (o = i = !0), e.fire("reloadMarkupScayt", {
                            removeOptions: {
                                removeInside: a,
                                forceBookmark: o,
                                language: i
                            },
                            timeout: 0
                        }))
                    }), e.on("beforeSetMode", function(n) {
                        "source" == n.data && ((n = e.scayt) && (t.destroy(e), e.fire("scaytButtonState", CKEDITOR.TRISTATE_DISABLED)), e.document && e.document.getBody().removeAttribute("_jquid"))
                    }), e.on("afterCommandExec", function(n) {
                        "wysiwyg" != e.mode || "undo" != n.data.name && "redo" != n.data.name || setTimeout(function() {
                            t.reloadMarkup(e.scayt)
                        }, 250)
                    }), e.on("readOnly", function(n) {
                        var r;
                        n && (r = e.scayt, !0 === n.editor.readOnly ? r && r.fire("removeMarkupInDocument", {}) : r ? t.reloadMarkup(r) : "wysiwyg" == n.editor.mode && !0 === t.state.scayt[n.editor.name] && (t.createScayt(e), n.editor.fire("scaytButtonState", CKEDITOR.TRISTATE_ON)))
                    }), e.on("beforeDestroy", r), e.on("setData", function() {
                        r(), (e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE || e.plugins.divarea) && o()
                    }, this, null, 50), e.on("reloadMarkupScayt", function(n) {
                        var r = n.data && n.data.removeOptions,
                            i = n.data && n.data.language,
                            o = e.scayt;
                        o && setTimeout(function() {
                            i && (r.selectionNode = e.plugins.language.getCurrentLangElement(e), r.selectionNode = r.selectionNode && r.selectionNode.$ || null), o.removeMarkupInSelectionNode(r), t.reloadMarkup(o)
                        }, n.data && n.data.timeout || 0)
                    }), e.on("insertElement", function() {
                        e.fire("reloadMarkupScayt", {
                            removeOptions: {
                                forceBookmark: !0
                            }
                        })
                    }, this, null, 50), e.on("insertHtml", function() {
                        e.scayt && e.scayt.setFocused && e.scayt.setFocused(!0), e.fire("reloadMarkupScayt")
                    }, this, null, 50), e.on("insertText", function() {
                        e.scayt && e.scayt.setFocused && e.scayt.setFocused(!0), e.fire("reloadMarkupScayt")
                    }, this, null, 50), e.on("scaytDialogShown", function(t) {
                        t.data.selectPage(e.scayt.tabToOpen)
                    })
                },
                parseConfig: function(e) {
                    if ((r = CKEDITOR.plugins.scayt).replaceOldOptionsNames(e.config), "boolean" != typeof e.config.scayt_autoStartup && (e.config.scayt_autoStartup = !1), r.state.scayt[e.name] = e.config.scayt_autoStartup, "boolean" != typeof e.config.grayt_autoStartup && (e.config.grayt_autoStartup = !1), "boolean" != typeof e.config.scayt_inlineModeImmediateMarkup && (e.config.scayt_inlineModeImmediateMarkup = !1), r.state.grayt[e.name] = e.config.grayt_autoStartup, e.config.scayt_contextCommands || (e.config.scayt_contextCommands = "ignoreall|add"), e.config.scayt_contextMenuItemsOrder || (e.config.scayt_contextMenuItemsOrder = "suggest|moresuggest|control"), e.config.scayt_sLang || (e.config.scayt_sLang = "en_US"), (void 0 === e.config.scayt_maxSuggestions || "number" != typeof e.config.scayt_maxSuggestions || 0 > e.config.scayt_maxSuggestions) && (e.config.scayt_maxSuggestions = 3), (void 0 === e.config.scayt_minWordLength || "number" != typeof e.config.scayt_minWordLength || 1 > e.config.scayt_minWordLength) && (e.config.scayt_minWordLength = 3), void 0 !== e.config.scayt_customDictionaryIds && "string" == typeof e.config.scayt_customDictionaryIds || (e.config.scayt_customDictionaryIds = ""), void 0 !== e.config.scayt_userDictionaryName && "string" == typeof e.config.scayt_userDictionaryName || (e.config.scayt_userDictionaryName = null), "string" == typeof e.config.scayt_uiTabs && 3 === e.config.scayt_uiTabs.split(",").length) {
                        var t = [],
                            n = [];
                        e.config.scayt_uiTabs = e.config.scayt_uiTabs.split(","), CKEDITOR.tools.search(e.config.scayt_uiTabs, function(e) {
                            1 === Number(e) || 0 === Number(e) ? (n.push(!0), t.push(Number(e))) : n.push(!1)
                        }), e.config.scayt_uiTabs = null === CKEDITOR.tools.search(n, !1) ? t : [1, 1, 1]
                    } else e.config.scayt_uiTabs = [1, 1, 1];
                    if ("string" != typeof e.config.scayt_serviceProtocol && (e.config.scayt_serviceProtocol = null), "string" != typeof e.config.scayt_serviceHost && (e.config.scayt_serviceHost = null), "string" != typeof e.config.scayt_servicePort && (e.config.scayt_servicePort = null), "string" != typeof e.config.scayt_servicePath && (e.config.scayt_servicePath = null), e.config.scayt_moreSuggestions || (e.config.scayt_moreSuggestions = "on"), "string" != typeof e.config.scayt_customerId && (e.config.scayt_customerId = "1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"), "string" != typeof e.config.scayt_customPunctuation && (e.config.scayt_customPunctuation = "-"), "string" != typeof e.config.scayt_srcUrl && (r = -1 != (r = document.location.protocol).search(/https?:/) ? r : "http:", e.config.scayt_srcUrl = r + "//svc.webspellchecker.net/spellcheck31/wscbundle/wscbundle.js"), "boolean" != typeof CKEDITOR.config.scayt_handleCheckDirty && (CKEDITOR.config.scayt_handleCheckDirty = !0), "boolean" != typeof CKEDITOR.config.scayt_handleUndoRedo && (CKEDITOR.config.scayt_handleUndoRedo = !0), CKEDITOR.config.scayt_handleUndoRedo = !!CKEDITOR.plugins.undo && CKEDITOR.config.scayt_handleUndoRedo, "boolean" != typeof e.config.scayt_multiLanguageMode && (e.config.scayt_multiLanguageMode = !1), "object" != typeof e.config.scayt_multiLanguageStyles && (e.config.scayt_multiLanguageStyles = {}), e.config.scayt_ignoreAllCapsWords && "boolean" != typeof e.config.scayt_ignoreAllCapsWords && (e.config.scayt_ignoreAllCapsWords = !1), e.config.scayt_ignoreDomainNames && "boolean" != typeof e.config.scayt_ignoreDomainNames && (e.config.scayt_ignoreDomainNames = !1), e.config.scayt_ignoreWordsWithMixedCases && "boolean" != typeof e.config.scayt_ignoreWordsWithMixedCases && (e.config.scayt_ignoreWordsWithMixedCases = !1), e.config.scayt_ignoreWordsWithNumbers && "boolean" != typeof e.config.scayt_ignoreWordsWithNumbers && (e.config.scayt_ignoreWordsWithNumbers = !1), e.config.scayt_disableOptionsStorage) {
                        var r = CKEDITOR.tools.isArray(e.config.scayt_disableOptionsStorage) ? e.config.scayt_disableOptionsStorage : "string" == typeof e.config.scayt_disableOptionsStorage ? [e.config.scayt_disableOptionsStorage] : void 0,
                            i = "all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),
                            o = ["lang", "ignore-all-caps-words", "ignore-domain-names", "ignore-words-with-mixed-cases", "ignore-words-with-numbers"],
                            a = CKEDITOR.tools.search,
                            s = CKEDITOR.tools.indexOf;
                        e.config.scayt_disableOptionsStorage = function(e) {
                            for (var t = 0; t < e.length; t++) {
                                var n = e[t],
                                    r = !!a(e, "options");
                                if (!a(i, n) || r && a(o, function(e) {
                                        if ("lang" === e) return !1
                                    })) return;
                                if (a(o, n) && o.splice(s(o, n), 1), "all" === n || r && a(e, "lang")) return [];
                                "options" === n && (o = ["lang"])
                            }
                            return [].concat(o)
                        }(r)
                    }
                },
                addRule: function(e) {
                    var t = CKEDITOR.plugins.scayt,
                        n = (i = e.dataProcessor) && i.htmlFilter,
                        r = e._.elementsPath && e._.elementsPath.filters,
                        i = i && i.dataFilter,
                        o = e.addRemoveFormatFilter;
                    r && r.push(function(n) {
                        if (e.scayt && (n.hasAttribute(t.options.data_attribute_name) || n.hasAttribute(t.options.problem_grammar_data_attribute))) return !1
                    }), i && i.addRules({
                        elements: {
                            span: function(e) {
                                var n = e.hasClass(t.options.misspelled_word_class) && e.attributes[t.options.data_attribute_name],
                                    r = e.hasClass(t.options.problem_grammar_class) && e.attributes[t.options.problem_grammar_data_attribute];
                                return t && (n || r) && delete e.name, e
                            }
                        }
                    }), n && n.addRules({
                        elements: {
                            span: function(e) {
                                var n = e.hasClass(t.options.misspelled_word_class) && e.attributes[t.options.data_attribute_name],
                                    r = e.hasClass(t.options.problem_grammar_class) && e.attributes[t.options.problem_grammar_data_attribute];
                                return t && (n || r) && delete e.name, e
                            }
                        }
                    }), o && o.call(e, function(n) {
                        var r = !0;
                        return e.scayt && (n.hasAttribute(t.options.data_attribute_name) || n.hasAttribute(t.options.problem_grammar_data_attribute)) && (r = !1), r
                    })
                },
                scaytMenuDefinition: function(e) {
                    var t = this,
                        n = CKEDITOR.plugins.scayt;
                    return {
                        scayt: {
                            scayt_ignore: {
                                label: (e = e.scayt).getLocal("btn_ignore"),
                                group: "scayt_control",
                                order: 1,
                                exec: function(e) {
                                    e.scayt.ignoreWord()
                                }
                            },
                            scayt_ignoreall: {
                                label: e.getLocal("btn_ignoreAll"),
                                group: "scayt_control",
                                order: 2,
                                exec: function(e) {
                                    e.scayt.ignoreAllWords()
                                }
                            },
                            scayt_add: {
                                label: e.getLocal("btn_addWord"),
                                group: "scayt_control",
                                order: 3,
                                exec: function(e) {
                                    var t = e.scayt;
                                    setTimeout(function() {
                                        t.addWordToUserDictionary()
                                    }, 10)
                                }
                            },
                            scayt_option: {
                                label: e.getLocal("btn_options"),
                                group: "scayt_control",
                                order: 4,
                                exec: function(e) {
                                    e.scayt.tabToOpen = "options", n.openDialog(t.dialogName, e)
                                },
                                verification: function(e) {
                                    return 1 == e.config.scayt_uiTabs[0]
                                }
                            },
                            scayt_language: {
                                label: e.getLocal("btn_langs"),
                                group: "scayt_control",
                                order: 5,
                                exec: function(e) {
                                    e.scayt.tabToOpen = "langs", n.openDialog(t.dialogName, e)
                                },
                                verification: function(e) {
                                    return 1 == e.config.scayt_uiTabs[1]
                                }
                            },
                            scayt_dictionary: {
                                label: e.getLocal("btn_dictionaries"),
                                group: "scayt_control",
                                order: 6,
                                exec: function(e) {
                                    e.scayt.tabToOpen = "dictionaries", n.openDialog(t.dialogName, e)
                                },
                                verification: function(e) {
                                    return 1 == e.config.scayt_uiTabs[2]
                                }
                            },
                            scayt_about: {
                                label: e.getLocal("btn_about"),
                                group: "scayt_control",
                                order: 7,
                                exec: function(e) {
                                    e.scayt.tabToOpen = "about", n.openDialog(t.dialogName, e)
                                }
                            }
                        },
                        grayt: {
                            grayt_problemdescription: {
                                label: "Grammar problem description",
                                group: "grayt_description",
                                order: 1,
                                state: CKEDITOR.TRISTATE_DISABLED,
                                exec: function(e) {}
                            },
                            grayt_ignore: {
                                label: e.getLocal("btn_ignore"),
                                group: "grayt_control",
                                order: 2,
                                exec: function(e) {
                                    e.scayt.ignorePhrase()
                                }
                            },
                            grayt_ignoreall: {
                                label: e.getLocal("btn_ignoreAll"),
                                group: "grayt_control",
                                order: 3,
                                exec: function(e) {
                                    e.scayt.ignoreAllPhrases()
                                }
                            }
                        }
                    }
                },
                buildSuggestionMenuItems: function(e, t, n) {
                    var r = {},
                        i = {},
                        o = n ? "word" : "phrase",
                        a = n ? "startGrammarCheck" : "startSpellCheck",
                        s = e.scayt;
                    if (0 < t.length && "no_any_suggestions" !== t[0])
                        if (n)
                            for (n = 0; n < t.length; n++) {
                                var l = "scayt_suggest_" + CKEDITOR.plugins.scayt.suggestions[n].replace(" ", "_");
                                e.addCommand(l, this.createCommand(CKEDITOR.plugins.scayt.suggestions[n], o, a)), n < e.config.scayt_maxSuggestions ? (e.addMenuItem(l, {
                                    label: t[n],
                                    command: l,
                                    group: "scayt_suggest",
                                    order: n + 1
                                }), r[l] = CKEDITOR.TRISTATE_OFF) : (e.addMenuItem(l, {
                                    label: t[n],
                                    command: l,
                                    group: "scayt_moresuggest",
                                    order: n + 1
                                }), i[l] = CKEDITOR.TRISTATE_OFF, "on" === e.config.scayt_moreSuggestions && (e.addMenuItem("scayt_moresuggest", {
                                    label: s.getLocal("btn_moreSuggestions"),
                                    group: "scayt_moresuggest",
                                    order: 10,
                                    getItems: function() {
                                        return i
                                    }
                                }), r.scayt_moresuggest = CKEDITOR.TRISTATE_OFF))
                            } else
                                for (n = 0; n < t.length; n++) l = "grayt_suggest_" + CKEDITOR.plugins.scayt.suggestions[n].replace(" ", "_"), e.addCommand(l, this.createCommand(CKEDITOR.plugins.scayt.suggestions[n], o, a)), e.addMenuItem(l, {
                                    label: t[n],
                                    command: l,
                                    group: "grayt_suggest",
                                    order: n + 1
                                }), r[l] = CKEDITOR.TRISTATE_OFF;
                        else r.no_scayt_suggest = CKEDITOR.TRISTATE_DISABLED, e.addCommand("no_scayt_suggest", {
                            exec: function() {}
                        }), e.addMenuItem("no_scayt_suggest", {
                            label: s.getLocal("btn_noSuggestions") || "no_scayt_suggest",
                            command: "no_scayt_suggest",
                            group: "scayt_suggest",
                            order: 0
                        });
                    return r
                },
                menuGenerator: function(e, t) {
                    var n, r, i, o, a = e.scayt,
                        s = this.scaytMenuDefinition(e),
                        l = {},
                        c = e.config.scayt_contextCommands.split("|"),
                        u = t.getAttribute(a.getLangAttribute()) || a.getLang();
                    if (r = a.isScaytNode(t), i = a.isGraytNode(t), r ? (s = s.scayt, n = t.getAttribute(a.getScaytNodeAttributeName()), a.fire("getSuggestionsList", {
                            lang: u,
                            word: n
                        }), l = this.buildSuggestionMenuItems(e, CKEDITOR.plugins.scayt.suggestions, r)) : i && (s = s.grayt, l = t.getAttribute(a.getGraytNodeAttributeName()), a.getGraytNodeRuleAttributeName ? (n = t.getAttribute(a.getGraytNodeRuleAttributeName()), a.getProblemDescriptionText(l, n, u)) : a.getProblemDescriptionText(l, u), o = a.getProblemDescriptionText(l, n, u), s.grayt_problemdescription && o && (o = o.replace(/([.!?])\s/g, "$1<br>"), s.grayt_problemdescription.label = o), a.fire("getGrammarSuggestionsList", {
                            lang: u,
                            phrase: l,
                            rule: n
                        }), l = this.buildSuggestionMenuItems(e, CKEDITOR.plugins.scayt.suggestions, r)), r && "off" == e.config.scayt_contextCommands) return l;
                    for (var d in s) r && -1 == CKEDITOR.tools.indexOf(c, d.replace("scayt_", "")) && "all" != e.config.scayt_contextCommands || i && "grayt_problemdescription" !== d && -1 == CKEDITOR.tools.indexOf(c, d.replace("grayt_", "")) && "all" != e.config.scayt_contextCommands || (l[d] = void 0 !== s[d].state ? s[d].state : CKEDITOR.TRISTATE_OFF, "function" != typeof s[d].verification || s[d].verification(e) || delete l[d], e.addCommand(d, {
                        exec: s[d].exec
                    }), e.addMenuItem(d, {
                        label: e.lang.scayt[s[d].label] || s[d].label,
                        command: d,
                        group: s[d].group,
                        order: s[d].order
                    }));
                    return l
                },
                createCommand: function(e, t, n) {
                    return {
                        exec: function(r) {
                            r = r.scayt;
                            var i = {};
                            i[t] = e, r.replaceSelectionNode(i), "startGrammarCheck" === n && r.removeMarkupInSelectionNode({
                                grammarOnly: !0
                            }), r.fire(n)
                        }
                    }
                }
            }), CKEDITOR.plugins.scayt = {
                charsToObserve: [{
                    charName: "cke-fillingChar",
                    charCode: function() {
                        var e;
                        if (n = (n = CKEDITOR.version.match(/^\d(\.\d*)*/)) && n[0]) {
                            e = "4.5.7";
                            var t, n = n.replace(/\./g, "");
                            e = e.replace(/\./g, ""), t = 0 <= (t = n.length - e.length) ? t : 0, e = parseInt(n) >= parseInt(e) * Math.pow(10, t)
                        }
                        return e ? Array(7).join(String.fromCharCode(8203)) : String.fromCharCode(8203)
                    }()
                }],
                onLoadTimestamp: "",
                state: {
                    scayt: {},
                    grayt: {}
                },
                warningCounter: 0,
                suggestions: [],
                options: {
                    disablingCommandExec: {
                        source: !0,
                        newpage: !0,
                        templates: !0
                    },
                    data_attribute_name: "data-scayt-word",
                    misspelled_word_class: "scayt-misspell-word",
                    problem_grammar_data_attribute: "data-grayt-phrase",
                    problem_grammar_class: "gramm-problem"
                },
                backCompatibilityMap: {
                    scayt_service_protocol: "scayt_serviceProtocol",
                    scayt_service_host: "scayt_serviceHost",
                    scayt_service_port: "scayt_servicePort",
                    scayt_service_path: "scayt_servicePath",
                    scayt_customerid: "scayt_customerId"
                },
                openDialog: function(e, t) {
                    var n = t.scayt;
                    n.isAllModulesReady && !1 === n.isAllModulesReady() || (t.lockSelection(), t.openDialog(e))
                },
                alarmCompatibilityMessage: function() {
                    5 > this.warningCounter && (console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."), this.warningCounter += 1)
                },
                isNewUdSupported: function(e) {
                    return !!e.getUserDictionary
                },
                reloadMarkup: function(e) {
                    var t;
                    e && (t = e.getScaytLangList(), e.reloadMarkup ? e.reloadMarkup() : (this.alarmCompatibilityMessage(), t && t.ltr && t.rtl && e.fire("startSpellCheck, startGrammarCheck")))
                },
                replaceOldOptionsNames: function(e) {
                    for (var t in e) t in this.backCompatibilityMap && (e[this.backCompatibilityMap[t]] = e[t], delete e[t])
                },
                createScayt: function(e) {
                    var t = this,
                        n = CKEDITOR.plugins.scayt;
                    this.loadScaytLibrary(e, function(e) {
                        function r(e) {
                            return new SCAYT.CKSCAYT(e, function() {}, function() {})
                        }
                        var i;
                        if (e.window && (i = "BODY" == e.editable().$.nodeName ? e.window.getFrame() : e.editable()), i) {
                            var o;
                            i = {
                                lang: e.config.scayt_sLang,
                                container: i.$,
                                customDictionary: e.config.scayt_customDictionaryIds,
                                userDictionaryName: e.config.scayt_userDictionaryName,
                                localization: e.langCode,
                                customer_id: e.config.scayt_customerId,
                                customPunctuation: e.config.scayt_customPunctuation,
                                debug: e.config.scayt_debug,
                                data_attribute_name: t.options.data_attribute_name,
                                misspelled_word_class: t.options.misspelled_word_class,
                                problem_grammar_data_attribute: t.options.problem_grammar_data_attribute,
                                problem_grammar_class: t.options.problem_grammar_class,
                                "options-to-restore": e.config.scayt_disableOptionsStorage,
                                focused: e.editable().hasFocus,
                                ignoreElementsRegex: e.config.scayt_elementsToIgnore,
                                ignoreGraytElementsRegex: e.config.grayt_elementsToIgnore,
                                minWordLength: e.config.scayt_minWordLength,
                                multiLanguageMode: e.config.scayt_multiLanguageMode,
                                multiLanguageStyles: e.config.scayt_multiLanguageStyles,
                                graytAutoStartup: e.config.grayt_autoStartup,
                                charsToObserve: n.charsToObserve
                            }, e.config.scayt_serviceProtocol && (i.service_protocol = e.config.scayt_serviceProtocol), e.config.scayt_serviceHost && (i.service_host = e.config.scayt_serviceHost), e.config.scayt_servicePort && (i.service_port = e.config.scayt_servicePort), e.config.scayt_servicePath && (i.service_path = e.config.scayt_servicePath), "boolean" == typeof e.config.scayt_ignoreAllCapsWords && (i["ignore-all-caps-words"] = e.config.scayt_ignoreAllCapsWords), "boolean" == typeof e.config.scayt_ignoreDomainNames && (i["ignore-domain-names"] = e.config.scayt_ignoreDomainNames), "boolean" == typeof e.config.scayt_ignoreWordsWithMixedCases && (i["ignore-words-with-mixed-cases"] = e.config.scayt_ignoreWordsWithMixedCases), "boolean" == typeof e.config.scayt_ignoreWordsWithNumbers && (i["ignore-words-with-numbers"] = e.config.scayt_ignoreWordsWithNumbers);
                            try {
                                o = r(i)
                            } catch (e) {
                                t.alarmCompatibilityMessage(), delete i.charsToObserve, o = r(i)
                            }
                            o.subscribe("suggestionListSend", function(e) {
                                for (var t = {}, n = [], r = 0; r < e.suggestionList.length; r++) t["word_" + e.suggestionList[r]] || (t["word_" + e.suggestionList[r]] = e.suggestionList[r], n.push(e.suggestionList[r]));
                                CKEDITOR.plugins.scayt.suggestions = n
                            }), o.subscribe("selectionIsChanged", function(t) {
                                e.getSelection().isLocked && "restoreSelection" !== t.action && e.lockSelection(), "restoreSelection" === t.action && e.selectionChange(!0)
                            }), o.subscribe("graytStateChanged", function(t) {
                                n.state.grayt[e.name] = t.state
                            }), o.addMarkupHandler && o.addMarkupHandler(function(t) {
                                var n = e.editable(),
                                    r = n.getCustomData(t.charName);
                                r && (r.$ = t.node, n.setCustomData(t.charName, r))
                            }), e.scayt = o, e.fire("scaytButtonState", e.readOnly ? CKEDITOR.TRISTATE_DISABLED : CKEDITOR.TRISTATE_ON)
                        } else n.state.scayt[e.name] = !1
                    })
                },
                destroy: function(e) {
                    e.scayt && e.scayt.destroy(), delete e.scayt, e.fire("scaytButtonState", CKEDITOR.TRISTATE_OFF)
                },
                loadScaytLibrary: function(e, t) {
                    var n = function() {
                        CKEDITOR.fireOnce("scaytReady"), e.scayt || "function" == typeof t && t(e)
                    };
                    void 0 === window.SCAYT || "function" != typeof window.SCAYT.CKSCAYT ? CKEDITOR.scriptLoader.load(e.config.scayt_srcUrl + "?" + this.onLoadTimestamp, function(e) {
                        e && n()
                    }) : window.SCAYT && "function" == typeof window.SCAYT.CKSCAYT && n()
                }
            }, CKEDITOR.on("dialogDefinition", function(e) {
                var t = e.data.name;
                e = e.data.definition.dialog, "scaytDialog" !== t && "checkspell" !== t && (e.on("show", function(e) {
                    e = e.sender && e.sender.getParentEditor();
                    var t = CKEDITOR.plugins.scayt,
                        n = e.scayt;
                    n && t.state.scayt[e.name] && n.setMarkupPaused && n.setMarkupPaused(!0)
                }), e.on("hide", function(e) {
                    e = e.sender && e.sender.getParentEditor();
                    var t = CKEDITOR.plugins.scayt,
                        n = e.scayt;
                    n && t.state.scayt[e.name] && n.setMarkupPaused && n.setMarkupPaused(!1)
                })), "scaytDialog" === t && e.on("cancel", function(e) {
                    return !1
                }, this, null, -1), "checkspell" === t && e.on("cancel", function(e) {
                    e = e.sender && e.sender.getParentEditor();
                    var t = CKEDITOR.plugins.scayt,
                        n = e.scayt;
                    n && t.state.scayt[e.name] && n.setMarkupPaused && n.setMarkupPaused(!1), e.unlockSelection()
                }, this, null, -2), "link" === t && e.on("ok", function(e) {
                    var t = e.sender && e.sender.getParentEditor();
                    t && setTimeout(function() {
                        t.fire("reloadMarkupScayt", {
                            removeOptions: {
                                removeInside: !0,
                                forceBookmark: !0
                            },
                            timeout: 0
                        })
                    }, 0)
                }), "replace" === t && e.on("hide", function(e) {
                    e = e.sender && e.sender.getParentEditor();
                    var t = CKEDITOR.plugins.scayt,
                        n = e.scayt;
                    e && setTimeout(function() {
                        n && (n.fire("removeMarkupInDocument", {}), t.reloadMarkup(n))
                    }, 0)
                })
            }), CKEDITOR.on("scaytReady", function() {
                if (!0 === CKEDITOR.config.scayt_handleCheckDirty && ((e = CKEDITOR.editor.prototype).checkDirty = CKEDITOR.tools.override(e.checkDirty, function(e) {
                        return function() {
                            var t = null,
                                n = this.scayt;
                            if (CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state.scayt[this.name] && this.scayt) {
                                if (t = "ready" == this.status) {
                                    var r = n.removeMarkupFromString(this.getSnapshot());
                                    n = n.removeMarkupFromString(this._.previousValue), t = t && n !== r
                                }
                            } else t = e.call(this);
                            return t
                        }
                    }), e.resetDirty = CKEDITOR.tools.override(e.resetDirty, function(e) {
                        return function() {
                            CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state.scayt[this.name] && this.scayt ? this._.previousValue = this.scayt.removeMarkupFromString(this.getSnapshot()) : e.call(this)
                        }
                    })), !0 === CKEDITOR.config.scayt_handleUndoRedo) {
                    var e, t = "function" == typeof(e = CKEDITOR.plugins.undo.Image.prototype).equalsContent ? "equalsContent" : "equals";
                    e[t] = CKEDITOR.tools.override(e[t], function(e) {
                        return function(t) {
                            var n, r = t.editor.scayt,
                                i = this.contents,
                                o = t.contents;
                            return CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state.scayt[t.editor.name] && t.editor.scayt && (this.contents = r.removeMarkupFromString(i) || "", t.contents = r.removeMarkupFromString(o) || ""), n = e.apply(this, arguments), this.contents = i, t.contents = o, n
                        }
                    })
                }
            }), function() {
                var e = {
                    preserveState: !0,
                    editorFocus: !1,
                    readOnly: 1,
                    exec: function(e) {
                        this.toggleState(), this.refresh(e)
                    },
                    refresh: function(e) {
                        if (e.document) {
                            var t = this.state == CKEDITOR.TRISTATE_ON ? "attachClass" : "removeClass";
                            e.editable()[t]("cke_show_borders")
                        }
                    }
                };
                CKEDITOR.plugins.add("showborders", {
                    modes: {
                        wysiwyg: 1
                    },
                    onLoad: function() {
                        var e;
                        e = (CKEDITOR.env.ie6Compat ? [".%1 table.%2,", ".%1 table.%2 td, .%1 table.%2 th", "{", "border : #d3d3d3 1px dotted", "}"] : ".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g, "cke_show_border").replace(/%1/g, "cke_show_borders "), CKEDITOR.addCss(e)
                    },
                    init: function(t) {
                        var n = t.addCommand("showborders", e);
                        n.canUndo = !1, !1 !== t.config.startupShowBorders && n.setState(CKEDITOR.TRISTATE_ON), t.on("mode", function() {
                            n.state != CKEDITOR.TRISTATE_DISABLED && n.refresh(t)
                        }, null, null, 100), t.on("contentDom", function() {
                            n.state != CKEDITOR.TRISTATE_DISABLED && n.refresh(t)
                        }), t.on("removeFormatCleanup", function(e) {
                            e = e.data, t.getCommand("showborders").state == CKEDITOR.TRISTATE_ON && e.is("table") && (!e.hasAttribute("border") || 0 >= parseInt(e.getAttribute("border"), 10)) && e.addClass("cke_show_border")
                        })
                    },
                    afterInit: function(e) {
                        var t = e.dataProcessor;
                        e = t && t.dataFilter, t = t && t.htmlFilter, e && e.addRules({
                            elements: {
                                table: function(e) {
                                    var t = (e = e.attributes).class,
                                        n = parseInt(e.border, 10);
                                    n && !(0 >= n) || t && -1 != t.indexOf("cke_show_border") || (e.class = (t || "") + " cke_show_border")
                                }
                            }
                        }), t && t.addRules({
                            elements: {
                                table: function(e) {
                                    var t = (e = e.attributes).class;
                                    t && (e.class = t.replace("cke_show_border", "").replace(/\s{2}/, " ").replace(/^\s+|\s+$/, ""))
                                }
                            }
                        })
                    }
                }), CKEDITOR.on("dialogDefinition", function(e) {
                    var t = e.data.name;
                    "table" != t && "tableProperties" != t || ((t = (e = e.data.definition).getContents("info").get("txtBorder")).commit = CKEDITOR.tools.override(t.commit, function(e) {
                        return function(t, n) {
                            e.apply(this, arguments);
                            var r = parseInt(this.getValue(), 10);
                            n[!r || 0 >= r ? "addClass" : "removeClass"]("cke_show_border")
                        }
                    }), (e = (e = e.getContents("advanced")) && e.get("advCSSClasses")) && (e.setup = CKEDITOR.tools.override(e.setup, function(e) {
                        return function() {
                            e.apply(this, arguments), this.setValue(this.getValue().replace(/cke_show_border/, ""))
                        }
                    }), e.commit = CKEDITOR.tools.override(e.commit, function(e) {
                        return function(t, n) {
                            e.apply(this, arguments), parseInt(n.getAttribute("border"), 10) || n.addClass("cke_show_border")
                        }
                    })))
                })
            }(), function() {
                CKEDITOR.plugins.add("sourcearea", {
                    init: function(t) {
                        function n() {
                            var e = i && this.equals(CKEDITOR.document.getActive());
                            this.hide(), this.setStyle("height", this.getParent().$.clientHeight + "px"), this.setStyle("width", this.getParent().$.clientWidth + "px"), this.show(), e && this.focus()
                        }
                        if (t.elementMode != CKEDITOR.ELEMENT_MODE_INLINE) {
                            var r = CKEDITOR.plugins.sourcearea;
                            t.addMode("source", function(r) {
                                var i = t.ui.space("contents").getDocument().createElement("textarea");
                                i.setStyles(CKEDITOR.tools.extend({
                                    width: CKEDITOR.env.ie7Compat ? "99%" : "100%",
                                    height: "100%",
                                    resize: "none",
                                    outline: "none",
                                    "text-align": "left"
                                }, CKEDITOR.tools.cssVendorPrefix("tab-size", t.config.sourceAreaTabSize || 4))), i.setAttribute("dir", "ltr"), i.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"), t.ui.space("contents").append(i), (i = t.editable(new e(t, i))).setData(t.getData(1)), CKEDITOR.env.ie && (i.attachListener(t, "resize", n, i), i.attachListener(CKEDITOR.document.getWindow(), "resize", n, i), CKEDITOR.tools.setTimeout(n, 0, i)), t.fire("ariaWidget", this), r()
                            }), t.addCommand("source", r.commands.source), t.ui.addButton && t.ui.addButton("Source", {
                                label: t.lang.sourcearea.toolbar,
                                command: "source",
                                toolbar: "mode,10"
                            }), t.on("mode", function() {
                                t.getCommand("source").setState("source" == t.mode ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF)
                            });
                            var i = CKEDITOR.env.ie && 9 == CKEDITOR.env.version
                        }
                    }
                });
                var e = CKEDITOR.tools.createClass({
                    base: CKEDITOR.editable,
                    proto: {
                        setData: function(e) {
                            this.setValue(e), this.status = "ready", this.editor.fire("dataReady")
                        },
                        getData: function() {
                            return this.getValue()
                        },
                        insertHtml: function() {},
                        insertElement: function() {},
                        insertText: function() {},
                        setReadOnly: function(e) {
                            this[(e ? "set" : "remove") + "Attribute"]("readOnly", "readonly")
                        },
                        detach: function() {
                            e.baseProto.detach.call(this), this.clearCustomData(), this.remove()
                        }
                    }
                })
            }(), CKEDITOR.plugins.sourcearea = {
                commands: {
                    source: {
                        modes: {
                            wysiwyg: 1,
                            source: 1
                        },
                        editorFocus: !1,
                        readOnly: 1,
                        exec: function(e) {
                            "wysiwyg" == e.mode && e.fire("saveSnapshot"), e.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED), e.setMode("source" == e.mode ? "wysiwyg" : "source")
                        },
                        canUndo: !1
                    }
                }
            }, CKEDITOR.plugins.add("specialchar", {
                availableLangs: {
                    af: 1,
                    ar: 1,
                    az: 1,
                    bg: 1,
                    ca: 1,
                    cs: 1,
                    cy: 1,
                    da: 1,
                    de: 1,
                    "de-ch": 1,
                    el: 1,
                    en: 1,
                    "en-au": 1,
                    "en-ca": 1,
                    "en-gb": 1,
                    eo: 1,
                    es: 1,
                    "es-mx": 1,
                    et: 1,
                    eu: 1,
                    fa: 1,
                    fi: 1,
                    fr: 1,
                    "fr-ca": 1,
                    gl: 1,
                    he: 1,
                    hr: 1,
                    hu: 1,
                    id: 1,
                    it: 1,
                    ja: 1,
                    km: 1,
                    ko: 1,
                    ku: 1,
                    lt: 1,
                    lv: 1,
                    nb: 1,
                    nl: 1,
                    no: 1,
                    oc: 1,
                    pl: 1,
                    pt: 1,
                    "pt-br": 1,
                    ro: 1,
                    ru: 1,
                    si: 1,
                    sk: 1,
                    sl: 1,
                    sq: 1,
                    sv: 1,
                    th: 1,
                    tr: 1,
                    tt: 1,
                    ug: 1,
                    uk: 1,
                    vi: 1,
                    zh: 1,
                    "zh-cn": 1
                },
                requires: "dialog",
                init: function(e) {
                    var t = this;
                    CKEDITOR.dialog.add("specialchar", this.path + "dialogs/specialchar.js"), e.addCommand("specialchar", {
                        exec: function() {
                            var n = t.availableLangs[n = e.langCode] ? n : t.availableLangs[n.replace(/-.*/, "")] ? n.replace(/-.*/, "") : "en";
                            CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path + "dialogs/lang/" + n + ".js"), function() {
                                CKEDITOR.tools.extend(e.lang.specialchar, t.langEntries[n]), e.openDialog("specialchar")
                            })
                        },
                        modes: {
                            wysiwyg: 1
                        },
                        canUndo: !1
                    }), e.ui.addButton && e.ui.addButton("SpecialChar", {
                        label: e.lang.specialchar.toolbar,
                        command: "specialchar",
                        toolbar: "insert,50"
                    })
                }
            }), CKEDITOR.config.specialChars = "! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "), CKEDITOR.plugins.add("stylescombo", {
                requires: "richcombo",
                init: function(e) {
                    var t = e.config,
                        n = e.lang.stylescombo,
                        r = {},
                        i = [],
                        o = [];
                    e.on("stylesSet", function(n) {
                        if (n = n.data.styles) {
                            for (var a, s, l, c = 0, u = n.length; c < u; c++) a = n[c], e.blockless && a.element in CKEDITOR.dtd.$block || "string" == typeof a.type && !CKEDITOR.style.customHandlers[a.type] || (s = a.name, a = new CKEDITOR.style(a), e.filter.customConfig && !e.filter.check(a)) || (a._name = s, a._.enterMode = t.enterMode, a._.type = l = a.assignedTo || a.type, a._.weight = c + 1e3 * (l == CKEDITOR.STYLE_OBJECT ? 1 : l == CKEDITOR.STYLE_BLOCK ? 2 : 3), r[s] = a, i.push(a), o.push(a));
                            i.sort(function(e, t) {
                                return e._.weight - t._.weight
                            })
                        }
                    }), e.ui.addRichCombo("Styles", {
                        label: n.label,
                        title: n.panelTitle,
                        toolbar: "styles,10",
                        allowedContent: o,
                        panel: {
                            css: [CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),
                            multiSelect: !0,
                            attributes: {
                                "aria-label": n.panelTitle
                            }
                        },
                        init: function() {
                            var e, t, r, o, a, s;
                            for (a = 0, s = i.length; a < s; a++) t = (e = i[a])._name, (o = e._.type) != r && (this.startGroup(n["panelTitle" + String(o)]), r = o), this.add(t, e.type == CKEDITOR.STYLE_OBJECT ? t : e.buildPreview(), t);
                            this.commit()
                        },
                        onClick: function(t) {
                            e.focus(), e.fire("saveSnapshot"), t = r[t];
                            var n = e.elementPath();
                            t.group && t.removeStylesFromSameGroup(e) ? e.applyStyle(t) : e[t.checkActive(n, e) ? "removeStyle" : "applyStyle"](t), e.fire("saveSnapshot")
                        },
                        onRender: function() {
                            e.on("selectionChange", function(t) {
                                for (var n, i = this.getValue(), o = 0, a = (t = t.data.path.elements).length; o < a; o++)
                                    for (var s in n = t[o], r)
                                        if (r[s].checkElementRemovable(n, !0, e)) return void(s != i && this.setValue(s));
                                this.setValue("")
                            }, this)
                        },
                        onOpen: function() {
                            var t = (t = e.getSelection()).getSelectedElement() || t.getStartElement() || e.editable(),
                                i = (t = e.elementPath(t), [0, 0, 0, 0]);
                            for (var o in this.showAll(), this.unmarkAll(), r) {
                                var a = r[o],
                                    s = a._.type;
                                a.checkApplicable(t, e, e.activeFilter) ? i[s]++ : this.hideItem(o), a.checkActive(t, e) && this.mark(o)
                            }
                            i[CKEDITOR.STYLE_BLOCK] || this.hideGroup(n["panelTitle" + String(CKEDITOR.STYLE_BLOCK)]), i[CKEDITOR.STYLE_INLINE] || this.hideGroup(n["panelTitle" + String(CKEDITOR.STYLE_INLINE)]), i[CKEDITOR.STYLE_OBJECT] || this.hideGroup(n["panelTitle" + String(CKEDITOR.STYLE_OBJECT)])
                        },
                        refresh: function() {
                            var t = e.elementPath();
                            if (t) {
                                for (var n in r)
                                    if (r[n].checkApplicable(t, e, e.activeFilter)) return;
                                this.setState(CKEDITOR.TRISTATE_DISABLED)
                            }
                        },
                        reset: function() {
                            r = {}, i = []
                        }
                    })
                }
            }), function() {
                function e(e) {
                    return {
                        editorFocus: !1,
                        canUndo: !1,
                        modes: {
                            wysiwyg: 1
                        },
                        exec: function(t) {
                            if (t.editable().hasFocus) {
                                var n, r = t.getSelection();
                                if (n = new CKEDITOR.dom.elementPath(r.getCommonAncestor(), r.root).contains({
                                        td: 1,
                                        th: 1
                                    }, 1)) {
                                    if (r = t.createRange(), (o = CKEDITOR.tools.tryThese(function() {
                                            return n.getParent().$.cells[n.$.cellIndex + (e ? -1 : 1)]
                                        }, function() {
                                            var t;
                                            return (t = (t = n.getParent()).getAscendant("table").$.rows[t.$.rowIndex + (e ? -1 : 1)]).cells[e ? t.cells.length - 1 : 0]
                                        })) || e) {
                                        if (!o) return !0;
                                        o = new CKEDITOR.dom.element(o), r.moveToElementEditStart(o), r.checkStartOfBlock() && r.checkEndOfBlock() || r.selectNodeContents(o)
                                    } else {
                                        for (var i = n.getAscendant("table").$, o = n.getParent().$.cells, a = (i = new CKEDITOR.dom.element(i.insertRow(-1), t.document), 0), s = o.length; a < s; a++) i.append(new CKEDITOR.dom.element(o[a], t.document).clone(!1, !1)).appendBogus();
                                        r.moveToElementEditStart(i)
                                    }
                                    return r.select(!0), !0
                                }
                            }
                            return !1
                        }
                    }
                }
                var t = {
                        editorFocus: !1,
                        modes: {
                            wysiwyg: 1,
                            source: 1
                        }
                    },
                    n = {
                        exec: function(e) {
                            e.container.focusNext(!0, e.tabIndex)
                        }
                    },
                    r = {
                        exec: function(e) {
                            e.container.focusPrevious(!0, e.tabIndex)
                        }
                    };
                CKEDITOR.plugins.add("tab", {
                    init: function(i) {
                        for (var o = !1 !== i.config.enableTabKeyTools, a = i.config.tabSpaces || 0, s = ""; a--;) s += "\xa0";
                        s && i.on("key", function(e) {
                            9 == e.data.keyCode && (i.insertText(s), e.cancel())
                        }), o && i.on("key", function(e) {
                            (9 == e.data.keyCode && i.execCommand("selectNextCell") || e.data.keyCode == CKEDITOR.SHIFT + 9 && i.execCommand("selectPreviousCell")) && e.cancel()
                        }), i.addCommand("blur", CKEDITOR.tools.extend(n, t)), i.addCommand("blurBack", CKEDITOR.tools.extend(r, t)), i.addCommand("selectNextCell", e()), i.addCommand("selectPreviousCell", e(!0))
                    }
                })
            }(), CKEDITOR.dom.element.prototype.focusNext = function(e, t) {
                var n, r, i, o, a, s, l = void 0 === t ? this.getTabIndex() : t;
                if (0 >= l)
                    for (a = this.getNextSourceNode(e, CKEDITOR.NODE_ELEMENT); a;) {
                        if (a.isVisible() && 0 === a.getTabIndex()) {
                            i = a;
                            break
                        }
                        a = a.getNextSourceNode(!1, CKEDITOR.NODE_ELEMENT)
                    } else
                        for (a = this.getDocument().getBody().getFirst(); a = a.getNextSourceNode(!1, CKEDITOR.NODE_ELEMENT);) {
                            if (!n)
                                if (!r && a.equals(this)) {
                                    if (r = !0, e) {
                                        if (!(a = a.getNextSourceNode(!0, CKEDITOR.NODE_ELEMENT))) break;
                                        n = 1
                                    }
                                } else r && !this.contains(a) && (n = 1);
                            if (a.isVisible() && !(0 > (s = a.getTabIndex()))) {
                                if (n && s == l) {
                                    i = a;
                                    break
                                }
                                s > l && (!i || !o || s < o) ? (i = a, o = s) : i || 0 !== s || (i = a, o = s)
                            }
                        }
                i && i.focus()
            }, CKEDITOR.dom.element.prototype.focusPrevious = function(e, t) {
                for (var n, r, i, o, a = void 0 === t ? this.getTabIndex() : t, s = 0, l = this.getDocument().getBody().getLast(); l = l.getPreviousSourceNode(!1, CKEDITOR.NODE_ELEMENT);) {
                    if (!n)
                        if (!r && l.equals(this)) {
                            if (r = !0, e) {
                                if (!(l = l.getPreviousSourceNode(!0, CKEDITOR.NODE_ELEMENT))) break;
                                n = 1
                            }
                        } else r && !this.contains(l) && (n = 1);
                    if (l.isVisible() && !(0 > (o = l.getTabIndex())))
                        if (0 >= a) {
                            if (n && 0 === o) {
                                i = l;
                                break
                            }
                            o > s && (i = l, s = o)
                        } else {
                            if (n && o == a) {
                                i = l;
                                break
                            }
                            o < a && (!i || o > s) && (i = l, s = o)
                        }
                }
                i && i.focus()
            }, CKEDITOR.plugins.add("table", {
                requires: "dialog",
                init: function(e) {
                    function t(e) {
                        return CKEDITOR.tools.extend(e || {}, {
                            contextSensitive: 1,
                            refresh: function(e, t) {
                                this.setState(t.contains("table", 1) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED)
                            }
                        })
                    }
                    if (!e.blockless) {
                        var n = e.lang.table;
                        e.addCommand("table", new CKEDITOR.dialogCommand("table", {
                            context: "table",
                            allowedContent: "table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];" + (e.plugins.dialogadvtab ? "table" + e.plugins.dialogadvtab.allowedContent() : ""),
                            requiredContent: "table",
                            contentTransformations: [
                                ["table{width}: sizeToStyle", "table[width]: sizeToAttribute"],
                                ["td: splitBorderShorthand"],
                                [{
                                    element: "table",
                                    right: function(e) {
                                        if (e.styles) {
                                            var t;
                                            if (e.styles.border) t = CKEDITOR.tools.style.parse.border(e.styles.border);
                                            else if (CKEDITOR.env.ie && 8 === CKEDITOR.env.version) {
                                                var n = e.styles;
                                                n["border-left"] && n["border-left"] === n["border-right"] && n["border-right"] === n["border-top"] && n["border-top"] === n["border-bottom"] && (t = CKEDITOR.tools.style.parse.border(n["border-top"]))
                                            }
                                            t && t.style && "solid" === t.style && t.width && 0 !== parseFloat(t.width) && (e.attributes.border = 1), "collapse" == e.styles["border-collapse"] && (e.attributes.cellspacing = 0)
                                        }
                                    }
                                }]
                            ]
                        })), e.addCommand("tableProperties", new CKEDITOR.dialogCommand("tableProperties", t())), e.addCommand("tableDelete", t({
                            exec: function(e) {
                                var t = e.elementPath().contains("table", 1);
                                if (t) {
                                    var n = t.getParent(),
                                        r = e.editable();
                                    1 != n.getChildCount() || n.is("td", "th") || n.equals(r) || (t = n), (e = e.createRange()).moveToPosition(t, CKEDITOR.POSITION_BEFORE_START), t.remove(), e.select()
                                }
                            }
                        })), e.ui.addButton && e.ui.addButton("Table", {
                            label: n.toolbar,
                            command: "table",
                            toolbar: "insert,30"
                        }), CKEDITOR.dialog.add("table", this.path + "dialogs/table.js"), CKEDITOR.dialog.add("tableProperties", this.path + "dialogs/table.js"), e.addMenuItems && e.addMenuItems({
                            table: {
                                label: n.menu,
                                command: "tableProperties",
                                group: "table",
                                order: 5
                            },
                            tabledelete: {
                                label: n.deleteTable,
                                command: "tableDelete",
                                group: "table",
                                order: 1
                            }
                        }), e.on("doubleclick", function(e) {
                            e.data.element.is("table") && (e.data.dialog = "tableProperties")
                        }), e.contextMenu && e.contextMenu.addListener(function() {
                            return {
                                tabledelete: CKEDITOR.TRISTATE_OFF,
                                table: CKEDITOR.TRISTATE_OFF
                            }
                        })
                    }
                }
            }), function() {
                function e(e, t) {
                    function n(e) {
                        return !t || t.contains(e) && e.getAscendant("table", !0).equals(t)
                    }

                    function r(e) {
                        0 < i.length || e.type != CKEDITOR.NODE_ELEMENT || !f.test(e.getName()) || e.getCustomData("selected_cell") || (CKEDITOR.dom.element.setMarker(o, e, "selected_cell", !0), i.push(e))
                    }
                    var i = [],
                        o = {};
                    if (!e) return i;
                    for (var a = e.getRanges(), s = 0; s < a.length; s++) {
                        var l, c;
                        if ((l = a[s]).collapsed)(l = l.getCommonAncestor().getAscendant({
                            td: 1,
                            th: 1
                        }, !0)) && n(l) && i.push(l);
                        else
                            for ((l = new CKEDITOR.dom.walker(l)).guard = r; c = l.next();) c.type == CKEDITOR.NODE_ELEMENT && c.is(CKEDITOR.dtd.table) || (c = c.getAscendant({
                                td: 1,
                                th: 1
                            }, !0)) && !c.getCustomData("selected_cell") && n(c) && (CKEDITOR.dom.element.setMarker(o, c, "selected_cell", !0), i.push(c))
                    }
                    return CKEDITOR.dom.element.clearAllMarkers(o), i
                }

                function t(t, n) {
                    var r = (i = (s = m(t) ? t : e(t))[0]).getAscendant("table"),
                        i = i.getDocument(),
                        o = (l = s[0].getParent()).$.rowIndex,
                        a = (s = s[s.length - 1]).getParent().$.rowIndex + s.$.rowSpan - 1,
                        s = new CKEDITOR.dom.element(r.$.rows[a]),
                        l = (o = n ? o : a, n ? l : s);
                    for (r = (s = CKEDITOR.tools.buildTableMap(r))[o], o = n ? s[o - 1] : s[o + 1], s = s[0].length, i = i.createElement("tr"), a = 0; r[a] && a < s; a++) {
                        var c;
                        1 < r[a].rowSpan && o && r[a] == o[a] ? (c = r[a]).rowSpan += 1 : ((c = new CKEDITOR.dom.element(r[a]).clone()).removeAttribute("rowSpan"), c.appendBogus(), i.append(c), c = c.$), a += c.colSpan - 1
                    }
                    return n ? i.insertBefore(l) : i.insertAfter(l), i
                }

                function n(t) {
                    if (t instanceof CKEDITOR.dom.selection) {
                        var r = t.getRanges(),
                            i = (l = e(t))[0].getAscendant("table"),
                            o = CKEDITOR.tools.buildTableMap(i),
                            a = l[0].getParent().$.rowIndex,
                            s = (l = l[l.length - 1]).getParent().$.rowIndex + l.$.rowSpan - 1,
                            l = [];
                        for (t.reset(), t = a; t <= s; t++) {
                            for (var c = o[t], u = new CKEDITOR.dom.element(i.$.rows[t]), d = 0; d < c.length; d++) {
                                var h = new CKEDITOR.dom.element(c[d]),
                                    p = h.getParent().$.rowIndex;
                                1 == h.$.rowSpan ? h.remove() : (--h.$.rowSpan, p == t && ((p = o[t + 1])[d - 1] ? h.insertAfter(new CKEDITOR.dom.element(p[d - 1])) : new CKEDITOR.dom.element(i.$.rows[t + 1]).append(h, 1))), d += h.$.colSpan - 1
                            }
                            l.push(u)
                        }
                        for (o = i.$.rows, r[0].moveToPosition(i, CKEDITOR.POSITION_BEFORE_START), a = new CKEDITOR.dom.element(o[s + 1] || (0 < a ? o[a - 1] : null) || i.$.parentNode), t = l.length; 0 <= t; t--) n(l[t]);
                        return i.$.parentNode ? a : (r[0].select(), null)
                    }
                    return t instanceof CKEDITOR.dom.element && (1 == (i = t.getAscendant("table")).$.rows.length ? i.remove() : t.remove()), null
                }

                function r(e) {
                    for (var t = e.getParent().$.cells, n = 0, r = 0; r < t.length; r++) {
                        var i = t[r];
                        if (n += i.colSpan, i == e.$) break
                    }
                    return n - 1
                }

                function i(e, t) {
                    for (var n = t ? 1 / 0 : 0, i = 0; i < e.length; i++) {
                        var o = r(e[i]);
                        (t ? o < n : o > n) && (n = o)
                    }
                    return n
                }

                function o(t, n) {
                    for (var r = (a = m(t) ? t : e(t))[0].getAscendant("table"), o = i(a, 1), a = i(a), s = n ? o : a, l = CKEDITOR.tools.buildTableMap(r), c = (r = [], o = [], a = [], l.length), u = 0; u < c; u++) r.push(l[u][s]), o.push(n ? l[u][s - 1] : l[u][s + 1]);
                    for (u = 0; u < c; u++) r[u] && (1 < r[u].colSpan && o[u] == r[u] ? (l = r[u]).colSpan += 1 : ((l = (s = new CKEDITOR.dom.element(r[u])).clone()).removeAttribute("colSpan"), l.appendBogus(), l[n ? "insertBefore" : "insertAfter"].call(l, s), a.push(l), l = l.$), u += l.rowSpan - 1);
                    return a
                }

                function a(t) {
                    CKEDITOR.env.webkit && !t.isFake && (t = function(e) {
                        var t, n, r;
                        if (1 !== (t = e.getRanges()).length) return e;
                        if ((t = t[0]).collapsed || 0 !== t.endOffset) return e;
                        if ("td" !== (r = (n = t.endContainer).getName().toLowerCase()) && "th" !== r) return e;
                        for ((r = n.getPrevious()) || (r = n.getParent().getPrevious().getLast()); r.type !== CKEDITOR.NODE_TEXT && "br" !== r.getName().toLowerCase();)
                            if (!(r = r.getLast())) return e;
                        return t.setEndAt(r, CKEDITOR.POSITION_BEFORE_END), t.select()
                    }(t));
                    var n, r, i = t.getRanges(),
                        o = (s = e(t))[0],
                        a = s[s.length - 1],
                        s = o.getAscendant("table"),
                        l = CKEDITOR.tools.buildTableMap(s),
                        c = [];
                    t.reset();
                    var u = 0;
                    for (t = l.length; u < t; u++)
                        for (var d = 0, h = l[u].length; d < h; d++) void 0 === n && l[u][d] == o.$ && (n = d), l[u][d] == a.$ && (r = d);
                    for (u = n; u <= r; u++)
                        for (d = 0; d < l.length; d++) a = l[d], o = new CKEDITOR.dom.element(s.$.rows[d]), (a = new CKEDITOR.dom.element(a[u])).$ && (1 == a.$.colSpan ? a.remove() : --a.$.colSpan, d += a.$.rowSpan - 1, o.$.cells.length || c.push(o));
                    return n = l[0].length - 1 > r ? new CKEDITOR.dom.element(l[0][r + 1]) : n && -1 !== l[0][n - 1].cellIndex ? new CKEDITOR.dom.element(l[0][n - 1]) : new CKEDITOR.dom.element(s.$.parentNode), c.length == t && (i[0].moveToPosition(s, CKEDITOR.POSITION_AFTER_END), i[0].select(), s.remove()), n
                }

                function s(e, t) {
                    var n = e.getStartElement().getAscendant({
                        td: 1,
                        th: 1
                    }, !0);
                    if (n) {
                        var r = n.clone();
                        r.appendBogus(), t ? r.insertBefore(n) : r.insertAfter(n)
                    }
                }

                function l(t) {
                    if (t instanceof CKEDITOR.dom.selection) {
                        var n, r = t.getRanges(),
                            i = e(t),
                            o = i[0] && i[0].getAscendant("table");
                        e: {
                            var a = 0;n = i.length - 1;
                            for (var s, u, d = {}; s = i[a++];) CKEDITOR.dom.element.setMarker(d, s, "delete_cell", !0);
                            for (a = 0; s = i[a++];)
                                if ((u = s.getPrevious()) && !u.getCustomData("delete_cell") || (u = s.getNext()) && !u.getCustomData("delete_cell")) {
                                    CKEDITOR.dom.element.clearAllMarkers(d), n = u;
                                    break e
                                }
                            CKEDITOR.dom.element.clearAllMarkers(d),
                            n = (a = (a = i[0].getParent()).getPrevious()) ? a.getLast() : (a = (a = i[n].getParent()).getNext()) ? a.getChild(0) : null
                        }
                        for (t.reset(), t = i.length - 1; 0 <= t; t--) l(i[t]);
                        n ? c(n, !0) : o && (r[0].moveToPosition(o, CKEDITOR.POSITION_BEFORE_START), r[0].select(), o.remove())
                    } else t instanceof CKEDITOR.dom.element && (1 == (r = t.getParent()).getChildCount() ? r.remove() : t.remove())
                }

                function c(e, t) {
                    var n = e.getDocument(),
                        r = CKEDITOR.document;
                    CKEDITOR.env.ie && 10 == CKEDITOR.env.version && (r.focus(), n.focus()), (n = new CKEDITOR.dom.range(n))["moveToElementEdit" + (t ? "End" : "Start")](e) || (n.selectNodeContents(e), n.collapse(!t)), n.select(!0)
                }

                function u(e, t, n) {
                    if (e = e[t], void 0 === n) return e;
                    for (t = 0; e && t < e.length; t++) {
                        if (n.is && e[t] == n.$) return t;
                        if (t == n) return new CKEDITOR.dom.element(e[t])
                    }
                    return n.is ? -1 : null
                }

                function d(t, n, r) {
                    var i, o, a = e(t);
                    if ((n ? 1 != a.length : 2 > a.length) || (i = t.getCommonAncestor()) && i.type == CKEDITOR.NODE_ELEMENT && i.is("table")) return !1;
                    i = (t = a[0]).getAscendant("table");
                    var s = CKEDITOR.tools.buildTableMap(i),
                        l = s.length,
                        c = s[0].length,
                        d = t.getParent().$.rowIndex,
                        h = u(s, d, t);
                    if (n) {
                        var p;
                        try {
                            var f = parseInt(t.getAttribute("rowspan"), 10) || 1;
                            o = parseInt(t.getAttribute("colspan"), 10) || 1, p = s["up" == n ? d - f : "down" == n ? d + f : d]["left" == n ? h - o : "right" == n ? h + o : h]
                        } catch (e) {
                            return !1
                        }
                        if (!p || t.$ == p) return !1;
                        a["up" == n || "left" == n ? "unshift" : "push"](new CKEDITOR.dom.element(p))
                    }
                    n = t.getDocument();
                    var m = d,
                        g = (f = p = 0, !r && new CKEDITOR.dom.documentFragment(n)),
                        E = 0;
                    for (n = 0; n < a.length; n++) {
                        var b = (o = a[n]).getParent(),
                            v = o.getFirst(),
                            T = o.$.colSpan,
                            y = o.$.rowSpan,
                            C = u(s, b = b.$.rowIndex, o);
                        E += T * y, f = Math.max(f, C - h + T), p = Math.max(p, b - d + y), r || ((y = (T = o).getBogus()) && y.remove(), T.trim(), o.getChildren().count() && (b == m || !v || v.isBlockBoundary && v.isBlockBoundary({
                            br: 1
                        }) || !(m = g.getLast(CKEDITOR.dom.walker.whitespaces(!0))) || m.is && m.is("br") || g.append("br"), o.moveChildren(g)), n ? o.remove() : o.setHtml("")), m = b
                    }
                    if (r) return p * f == E;
                    for (g.moveChildren(t), t.appendBogus(), f >= c ? t.removeAttribute("rowSpan") : t.$.rowSpan = p, p >= l ? t.removeAttribute("colSpan") : t.$.colSpan = f, n = (a = (r = new CKEDITOR.dom.nodeList(i.$.rows)).count()) - 1; 0 <= n; n--)(i = r.getItem(n)).$.cells.length || (i.remove(), a++);
                    return t
                }

                function h(t, n) {
                    if (1 < (r = e(t)).length) return !1;
                    if (n) return !0;
                    var r, i, o = (c = (r = r[0]).getParent()).getAscendant("table"),
                        a = u(d = CKEDITOR.tools.buildTableMap(o), h = c.$.rowIndex, r);
                    if (1 < (l = r.$.rowSpan)) {
                        i = Math.ceil(l / 2);
                        for (var s, l = Math.floor(l / 2), c = h + i, d = (o = new CKEDITOR.dom.element(o.$.rows[c]), u(d, c)), h = (c = r.clone(), 0); h < d.length; h++) {
                            if ((s = d[h]).parentNode == o.$ && h > a) {
                                c.insertBefore(new CKEDITOR.dom.element(s));
                                break
                            }
                            s = null
                        }
                        s || o.append(c)
                    } else
                        for (l = i = 1, (o = c.clone()).insertAfter(c), o.append(c = r.clone()), s = u(d, h), a = 0; a < s.length; a++) s[a].rowSpan++;
                    return c.appendBogus(), r.$.rowSpan = i, c.$.rowSpan = l, 1 == i && r.removeAttribute("rowSpan"), 1 == l && c.removeAttribute("rowSpan"), c
                }

                function p(t, n) {
                    if (1 < (r = e(t)).length) return !1;
                    if (n) return !0;
                    var r, i = (r = r[0]).getParent(),
                        o = i.getAscendant("table"),
                        a = u(o = CKEDITOR.tools.buildTableMap(o), i.$.rowIndex, r);
                    if (1 < (s = r.$.colSpan)) i = Math.ceil(s / 2), s = Math.floor(s / 2);
                    else {
                        for (var s = i = 1, l = [], c = 0; c < o.length; c++) {
                            var d = o[c];
                            l.push(d[a]), 1 < d[a].rowSpan && (c += d[a].rowSpan - 1)
                        }
                        for (o = 0; o < l.length; o++) l[o].colSpan++
                    }
                    return (o = r.clone()).insertAfter(r), o.appendBogus(), r.$.colSpan = i, o.$.colSpan = s, 1 == i && r.removeAttribute("colSpan"), 1 == s && o.removeAttribute("colSpan"), o
                }
                var f = /^(?:td|th)$/,
                    m = CKEDITOR.tools.isArray;
                CKEDITOR.plugins.tabletools = {
                    requires: "table,dialog,contextmenu",
                    init: function(r) {
                        function i(e) {
                            return CKEDITOR.tools.extend(e || {}, {
                                contextSensitive: 1,
                                refresh: function(e, t) {
                                    this.setState(t.contains({
                                        td: 1,
                                        th: 1
                                    }, 1) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED)
                                }
                            })
                        }

                        function u(e, t) {
                            var n = r.addCommand(e, t);
                            r.addFeature(n)
                        }
                        var f = r.lang.table,
                            m = CKEDITOR.tools.style.parse;
                        u("cellProperties", new CKEDITOR.dialogCommand("cellProperties", i({
                            allowedContent: "td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",
                            requiredContent: "table",
                            contentTransformations: [
                                [{
                                    element: "td",
                                    left: function(e) {
                                        return e.styles.background && m.background(e.styles.background).color
                                    },
                                    right: function(e) {
                                        e.styles["background-color"] = m.background(e.styles.background).color
                                    }
                                }, {
                                    element: "td",
                                    check: "td{vertical-align}",
                                    left: function(e) {
                                        return e.attributes && e.attributes.valign
                                    },
                                    right: function(e) {
                                        e.styles["vertical-align"] = e.attributes.valign, delete e.attributes.valign
                                    }
                                }],
                                [{
                                    element: "tr",
                                    check: "td{height}",
                                    left: function(e) {
                                        return e.styles && e.styles.height
                                    },
                                    right: function(e) {
                                        CKEDITOR.tools.array.forEach(e.children, function(t) {
                                            t.name in {
                                                td: 1,
                                                th: 1
                                            } && (t.attributes["cke-row-height"] = e.styles.height)
                                        }), delete e.styles.height
                                    }
                                }],
                                [{
                                    element: "td",
                                    check: "td{height}",
                                    left: function(e) {
                                        return (e = e.attributes) && e["cke-row-height"]
                                    },
                                    right: function(e) {
                                        e.styles.height = e.attributes["cke-row-height"], delete e.attributes["cke-row-height"]
                                    }
                                }]
                            ]
                        }))), CKEDITOR.dialog.add("cellProperties", this.path + "dialogs/tableCell.js"), u("rowDelete", i({
                            requiredContent: "table",
                            exec: function(e) {
                                (e = n(e = e.getSelection())) && c(e)
                            }
                        })), u("rowInsertBefore", i({
                            requiredContent: "table",
                            exec: function(n) {
                                t(n = e(n = n.getSelection()), !0)
                            }
                        })), u("rowInsertAfter", i({
                            requiredContent: "table",
                            exec: function(n) {
                                t(n = e(n = n.getSelection()))
                            }
                        })), u("columnDelete", i({
                            requiredContent: "table",
                            exec: function(e) {
                                (e = a(e = e.getSelection())) && c(e, !0)
                            }
                        })), u("columnInsertBefore", i({
                            requiredContent: "table",
                            exec: function(t) {
                                o(t = e(t = t.getSelection()), !0)
                            }
                        })), u("columnInsertAfter", i({
                            requiredContent: "table",
                            exec: function(t) {
                                o(t = e(t = t.getSelection()))
                            }
                        })), u("cellDelete", i({
                            requiredContent: "table",
                            exec: function(e) {
                                l(e = e.getSelection())
                            }
                        })), u("cellMerge", i({
                            allowedContent: "td[colspan,rowspan]",
                            requiredContent: "td[colspan,rowspan]",
                            exec: function(e, t) {
                                t.cell = d(e.getSelection()), c(t.cell, !0)
                            }
                        })), u("cellMergeRight", i({
                            allowedContent: "td[colspan]",
                            requiredContent: "td[colspan]",
                            exec: function(e, t) {
                                t.cell = d(e.getSelection(), "right"), c(t.cell, !0)
                            }
                        })), u("cellMergeDown", i({
                            allowedContent: "td[rowspan]",
                            requiredContent: "td[rowspan]",
                            exec: function(e, t) {
                                t.cell = d(e.getSelection(), "down"), c(t.cell, !0)
                            }
                        })), u("cellVerticalSplit", i({
                            allowedContent: "td[rowspan]",
                            requiredContent: "td[rowspan]",
                            exec: function(e) {
                                c(p(e.getSelection()))
                            }
                        })), u("cellHorizontalSplit", i({
                            allowedContent: "td[colspan]",
                            requiredContent: "td[colspan]",
                            exec: function(e) {
                                c(h(e.getSelection()))
                            }
                        })), u("cellInsertBefore", i({
                            requiredContent: "table",
                            exec: function(e) {
                                s(e = e.getSelection(), !0)
                            }
                        })), u("cellInsertAfter", i({
                            requiredContent: "table",
                            exec: function(e) {
                                s(e = e.getSelection())
                            }
                        })), r.addMenuItems && r.addMenuItems({
                            tablecell: {
                                label: f.cell.menu,
                                group: "tablecell",
                                order: 1,
                                getItems: function() {
                                    var t = r.getSelection(),
                                        n = e(t);
                                    return {
                                        tablecell_insertBefore: CKEDITOR.TRISTATE_OFF,
                                        tablecell_insertAfter: CKEDITOR.TRISTATE_OFF,
                                        tablecell_delete: CKEDITOR.TRISTATE_OFF,
                                        tablecell_merge: d(t, null, !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                        tablecell_merge_right: d(t, "right", !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                        tablecell_merge_down: d(t, "down", !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                        tablecell_split_vertical: p(t, !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                        tablecell_split_horizontal: h(t, !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                        tablecell_properties: 0 < n.length ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED
                                    }
                                }
                            },
                            tablecell_insertBefore: {
                                label: f.cell.insertBefore,
                                group: "tablecell",
                                command: "cellInsertBefore",
                                order: 5
                            },
                            tablecell_insertAfter: {
                                label: f.cell.insertAfter,
                                group: "tablecell",
                                command: "cellInsertAfter",
                                order: 10
                            },
                            tablecell_delete: {
                                label: f.cell.deleteCell,
                                group: "tablecell",
                                command: "cellDelete",
                                order: 15
                            },
                            tablecell_merge: {
                                label: f.cell.merge,
                                group: "tablecell",
                                command: "cellMerge",
                                order: 16
                            },
                            tablecell_merge_right: {
                                label: f.cell.mergeRight,
                                group: "tablecell",
                                command: "cellMergeRight",
                                order: 17
                            },
                            tablecell_merge_down: {
                                label: f.cell.mergeDown,
                                group: "tablecell",
                                command: "cellMergeDown",
                                order: 18
                            },
                            tablecell_split_horizontal: {
                                label: f.cell.splitHorizontal,
                                group: "tablecell",
                                command: "cellHorizontalSplit",
                                order: 19
                            },
                            tablecell_split_vertical: {
                                label: f.cell.splitVertical,
                                group: "tablecell",
                                command: "cellVerticalSplit",
                                order: 20
                            },
                            tablecell_properties: {
                                label: f.cell.title,
                                group: "tablecellproperties",
                                command: "cellProperties",
                                order: 21
                            },
                            tablerow: {
                                label: f.row.menu,
                                group: "tablerow",
                                order: 1,
                                getItems: function() {
                                    return {
                                        tablerow_insertBefore: CKEDITOR.TRISTATE_OFF,
                                        tablerow_insertAfter: CKEDITOR.TRISTATE_OFF,
                                        tablerow_delete: CKEDITOR.TRISTATE_OFF
                                    }
                                }
                            },
                            tablerow_insertBefore: {
                                label: f.row.insertBefore,
                                group: "tablerow",
                                command: "rowInsertBefore",
                                order: 5
                            },
                            tablerow_insertAfter: {
                                label: f.row.insertAfter,
                                group: "tablerow",
                                command: "rowInsertAfter",
                                order: 10
                            },
                            tablerow_delete: {
                                label: f.row.deleteRow,
                                group: "tablerow",
                                command: "rowDelete",
                                order: 15
                            },
                            tablecolumn: {
                                label: f.column.menu,
                                group: "tablecolumn",
                                order: 1,
                                getItems: function() {
                                    return {
                                        tablecolumn_insertBefore: CKEDITOR.TRISTATE_OFF,
                                        tablecolumn_insertAfter: CKEDITOR.TRISTATE_OFF,
                                        tablecolumn_delete: CKEDITOR.TRISTATE_OFF
                                    }
                                }
                            },
                            tablecolumn_insertBefore: {
                                label: f.column.insertBefore,
                                group: "tablecolumn",
                                command: "columnInsertBefore",
                                order: 5
                            },
                            tablecolumn_insertAfter: {
                                label: f.column.insertAfter,
                                group: "tablecolumn",
                                command: "columnInsertAfter",
                                order: 10
                            },
                            tablecolumn_delete: {
                                label: f.column.deleteColumn,
                                group: "tablecolumn",
                                command: "columnDelete",
                                order: 15
                            }
                        }), r.contextMenu && r.contextMenu.addListener(function(e, t, n) {
                            return (e = n.contains({
                                td: 1,
                                th: 1
                            }, 1)) && !e.isReadOnly() ? {
                                tablecell: CKEDITOR.TRISTATE_OFF,
                                tablerow: CKEDITOR.TRISTATE_OFF,
                                tablecolumn: CKEDITOR.TRISTATE_OFF
                            } : null
                        })
                    },
                    getCellColIndex: r,
                    insertRow: t,
                    insertColumn: o,
                    getSelectedCells: e
                }, CKEDITOR.plugins.add("tabletools", CKEDITOR.plugins.tabletools)
            }(), CKEDITOR.tools.buildTableMap = function(e, t, n, r, i) {
                e = e.$.rows, n = n || 0, r = "number" == typeof r ? r : e.length - 1, i = "number" == typeof i ? i : -1;
                var o = -1,
                    a = [];
                for (t = t || 0; t <= r; t++) {
                    !a[++o] && (a[o] = []);
                    for (var s = -1, l = n; l <= (-1 === i ? e[t].cells.length - 1 : i) && (u = e[t].cells[l]); l++) {
                        for (s++; a[o][s];) s++;
                        for (var c = isNaN(u.colSpan) ? 1 : u.colSpan, u = isNaN(u.rowSpan) ? 1 : u.rowSpan, d = 0; d < u && !(t + d > r); d++) {
                            a[o + d] || (a[o + d] = []);
                            for (var h = 0; h < c; h++) a[o + d][s + h] = e[t].cells[l]
                        }
                        if (s += c - 1, -1 !== i && s >= i) break
                    }
                }
                return a
            }, function() {
                function e(e) {
                    return CKEDITOR.plugins.widget && CKEDITOR.plugins.widget.isDomWidget(e)
                }

                function t(e, t) {
                    var n, r, i = e.getAscendant("table"),
                        o = t.getAscendant("table"),
                        a = CKEDITOR.tools.buildTableMap(i),
                        l = s(e),
                        c = s(t),
                        u = [],
                        d = {};
                    for (i.contains(o) && (c = s(t = t.getAscendant({
                            td: 1,
                            th: 1
                        }))), l > c && (i = l, l = c, c = i, i = e, e = t, t = i), i = 0; i < a[l].length; i++)
                        if (e.$ === a[l][i]) {
                            n = i;
                            break
                        }
                    for (i = 0; i < a[c].length; i++)
                        if (t.$ === a[c][i]) {
                            r = i;
                            break
                        }
                    for (n > r && (i = n, n = r, r = i), i = l; i <= c; i++)
                        for (l = n; l <= r; l++)(o = new CKEDITOR.dom.element(a[i][l])).$ && !o.getCustomData("selected_cell") && (u.push(o), CKEDITOR.dom.element.setMarker(d, o, "selected_cell", !0));
                    return CKEDITOR.dom.element.clearAllMarkers(d), u
                }

                function n(e, t) {
                    var n, r = e.editable().find(".cke_table-faked-selection");
                    for (e.fire("lockSnapshot"), e.editable().removeClass("cke_table-faked-selection-editor"), n = 0; n < r.count(); n++) r.getItem(n).removeClass("cke_table-faked-selection");
                    0 < r.count() && r.getItem(0).getAscendant("table").data("cke-table-faked-selection-table", !1), e.fire("unlockSnapshot"), t && (b = {
                        active: !1
                    }, e.getSelection().isInTable() && e.getSelection().reset())
                }

                function r(e, t) {
                    var n, r, i = [];
                    for (r = 0; r < t.length; r++)(n = e.createRange()).setStartBefore(t[r]), n.setEndAfter(t[r]), i.push(n);
                    e.getSelection().selectRanges(i)
                }

                function i(e) {
                    var n = e.editable().find(".cke_table-faked-selection");
                    1 > n.count() || r(e, n = t(n.getItem(0), n.getItem(n.count() - 1)))
                }

                function o(i, o, a) {
                    var s, l = f(i.getSelection(!0));
                    if (o = o.is("table") ? null : o, (s = b.active && !b.first) && !(s = o) && (s = i.getSelection().getRanges(), s = !!(1 < l.length || s[0] && !s[0].collapsed)), s) b.first = o || l[0], b.dirty = !o && 1 !== l.length;
                    else if (b.active && o && b.first.getAscendant("table").equals(o.getAscendant("table"))) {
                        if (l = t(b.first, o), !b.dirty && 1 === l.length && !e(a.data.getTarget())) return n(i, "mouseup" === a.name);
                        b.dirty = !0, b.last = o, r(i, l)
                    }
                }

                function a(e) {
                    var t, r = (e = e.editor || e.sender.editor) && e.getSelection(),
                        i = r && r.getRanges() || [];
                    if (r && (n(e), r.isInTable() && r.isFake)) {
                        for (1 === i.length && i[0]._getTableElement() && i[0]._getTableElement().is("table") && (t = i[0]._getTableElement()), t = f(r, t), e.fire("lockSnapshot"), r = 0; r < t.length; r++) t[r].addClass("cke_table-faked-selection");
                        0 < t.length && (e.editable().addClass("cke_table-faked-selection-editor"), t[0].getAscendant("table").data("cke-table-faked-selection-table", "")), e.fire("unlockSnapshot")
                    }
                }

                function s(e) {
                    return e.getAscendant("tr", !0).$.rowIndex
                }

                function l(t) {
                    function r(e, t) {
                        return !(!e || !t) && (e.equals(t) || e.contains(t) || t.contains(e) || e.getCommonAncestor(t).is(h))
                    }

                    function a(e) {
                        return !e.getAscendant("table", !0) && e.getDocument().equals(c.document)
                    }
                    if (t.data.getTarget().getName && ("mouseup" === t.name || !e(t.data.getTarget()))) {
                        var s, c = t.editor || t.listenerData.editor,
                            u = (c.getSelection(1), function(e) {
                                return (e = e.editable().findOne(".cke_table-faked-selection")) && e.getAscendant("table")
                            }(c)),
                            d = (s = t.data.getTarget()) && s.getAscendant({
                                td: 1,
                                th: 1
                            }, !0),
                            h = {
                                table: 1,
                                thead: 1,
                                tbody: 1,
                                tfoot: 1,
                                tr: 1,
                                td: 1,
                                th: 1
                            };
                        (function(e, t, n, i) {
                            return !("mousedown" !== e.name || CKEDITOR.tools.getMouseButton(e) !== CKEDITOR.MOUSE_BUTTON_LEFT && i) || "mouseup" === e.name && !a(e.data.getTarget()) && !r(n, i)
                        })(t, 0, u, s = s && s.getAscendant("table", !0)) && n(c, !0), !b.active && "mousedown" === t.name && CKEDITOR.tools.getMouseButton(t) === CKEDITOR.MOUSE_BUTTON_LEFT && s && (b = {
                            active: !0
                        }, CKEDITOR.document.on("mouseup", l, null, {
                            editor: c
                        })), (d || s) && o(c, d || s, t), "mouseup" === t.name && (CKEDITOR.tools.getMouseButton(t) === CKEDITOR.MOUSE_BUTTON_LEFT && (a(t.data.getTarget()) || r(u, s)) && i(c), b = {
                            active: !1
                        }, CKEDITOR.document.removeListener("mouseup", l))
                    }
                }

                function c(e) {
                    var t = e.data.getTarget().getAscendant({
                        td: 1,
                        th: 1
                    }, !0);
                    t && !t.hasClass("cke_table-faked-selection") && (e.cancel(), e.data.preventDefault())
                }

                function u(e) {
                    var t = e.editor || e.sender.editor;
                    t.getSelection().isInTable() && function(e, t) {
                        var n, r, i, o, a = e.getSelection(),
                            s = a.createBookmarks(),
                            l = e.document,
                            c = e.createRange(),
                            u = l.getDocumentElement().$,
                            d = CKEDITOR.env.ie && 9 > CKEDITOR.env.version,
                            h = e.blockless || CKEDITOR.env.ie ? "span" : "div";
                        l.getById("cke_table_copybin") || (n = l.createElement(h), (r = l.createElement(h)).setAttributes({
                            id: "cke_table_copybin",
                            "data-cke-temp": "1"
                        }), n.setStyles({
                            position: "absolute",
                            width: "1px",
                            height: "1px",
                            overflow: "hidden"
                        }), n.setStyle("ltr" == e.config.contentsLangDirection ? "left" : "right", "-5000px"), n.setHtml(e.getSelectedHtml(!0)), e.fire("lockSnapshot"), r.append(n), e.editable().append(r), o = e.on("selectionChange", function(e) {
                            e.cancel()
                        }, null, null, 0), d && (i = u.scrollTop), c.selectNodeContents(n), c.select(), d && (u.scrollTop = i), setTimeout(function() {
                            r.remove(), a.selectBookmarks(s), o.removeListener(), e.fire("unlockSnapshot"), t && (e.extractSelectedHtml(), e.fire("saveSnapshot"))
                        }, 100))
                    }(t, "cut" === e.name)
                }

                function d(e) {
                    this._reset(), e && this.setSelectedCells(e)
                }

                function h(e, t, n) {
                    e.on("beforeCommandExec", function(n) {
                        -1 !== CKEDITOR.tools.array.indexOf(t, n.data.name) && (n.data.selectedCells = f(e.getSelection()))
                    }), e.on("afterCommandExec", function(r) {
                        -1 !== CKEDITOR.tools.array.indexOf(t, r.data.name) && n(e, r.data)
                    })
                }
                var p, f, m, g, E, b = {
                    active: !1
                };
                (d.prototype = {})._reset = function() {
                    this.cells = {
                        first: null,
                        last: null,
                        all: []
                    }, this.rows = {
                        first: null,
                        last: null
                    }
                }, d.prototype.setSelectedCells = function(e) {
                    this._reset(), e = e.slice(0), this._arraySortByDOMOrder(e), this.cells.all = e, this.cells.first = e[0], this.cells.last = e[e.length - 1], this.rows.first = e[0].getAscendant("tr"), this.rows.last = this.cells.last.getAscendant("tr")
                }, d.prototype.getTableMap = function() {
                    var e, t = m(this.cells.first);
                    e: {
                        var n, r = (e = this.cells.last).getAscendant("table"),
                            i = s(e);
                        for (r = CKEDITOR.tools.buildTableMap(r), n = 0; n < r[i].length; n++)
                            if (new CKEDITOR.dom.element(r[i][n]).equals(e)) {
                                e = n;
                                break e
                            }
                        e = void 0
                    }
                    return CKEDITOR.tools.buildTableMap(this._getTable(), s(this.rows.first), t, s(this.rows.last), e)
                }, d.prototype._getTable = function() {
                    return this.rows.first.getAscendant("table")
                }, d.prototype.insertRow = function(e, t, n) {
                    if (void 0 === e) e = 1;
                    else if (0 >= e) return;
                    for (var r, i = this.cells.first.$.cellIndex, o = this.cells.last.$.cellIndex, a = n ? [] : this.cells.all, s = 0; s < e; s++) r = g(n ? this.cells.all : a, t), r = CKEDITOR.tools.array.filter(r.find("td, th").toArray(), function(e) {
                        return !!n || e.$.cellIndex >= i && e.$.cellIndex <= o
                    }), a = t ? r.concat(a) : a.concat(r);
                    this.setSelectedCells(a)
                }, d.prototype.insertColumn = function(e) {
                    function t(e) {
                        return (e = s(e)) >= r && e <= i
                    }
                    if (void 0 === e) e = 1;
                    else if (0 >= e) return;
                    for (var n = (o = this.cells).all, r = s(o.first), i = s(o.last), o = 0; o < e; o++) n = n.concat(CKEDITOR.tools.array.filter(E(n), t));
                    this.setSelectedCells(n)
                }, d.prototype.emptyCells = function(e) {
                    e = e || this.cells.all;
                    for (var t = 0; t < e.length; t++) e[t].setHtml("")
                }, d.prototype._arraySortByDOMOrder = function(e) {
                    e.sort(function(e, t) {
                        return e.getPosition(t) & CKEDITOR.POSITION_PRECEDING ? -1 : 1
                    })
                };
                var v = {
                    onPaste: function(e) {
                        function n(e) {
                            return Math.max.apply(null, CKEDITOR.tools.array.map(e, function(e) {
                                return e.length
                            }, 0))
                        }
                        var i, o, a = e.editor,
                            s = a.getSelection(),
                            l = f(s),
                            c = this.findTableInPastedContent(a, e.data.dataValue),
                            u = s.isInTable(!0) && this.isBoundarySelection(s);
                        !l.length || 1 === l.length && ! function(e) {
                            if (e) return (e = e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT), (e = e.getEnclosedNode()) && e.is && e.is(CKEDITOR.dtd.$tableContent)
                        }(s.getRanges()[0]) && !u || u && !c || (l = l[0].getAscendant("table"), i = new d(f(s, l)), a.once("afterPaste", function() {
                            var e;
                            if (o) {
                                e = new CKEDITOR.dom.element(o[0][0]);
                                var n = o[o.length - 1];
                                e = t(e, new CKEDITOR.dom.element(n[n.length - 1]))
                            } else e = i.cells.all;
                            r(a, e)
                        }), c ? (e.stop(), u ? (i.insertRow(1, 1 === u, !0), s.selectElement(i.rows.first)) : (i.emptyCells(), r(a, i.cells.all)), e = i.getTableMap(), o = CKEDITOR.tools.buildTableMap(c), i.insertRow(o.length - e.length), i.insertColumn(n(o) - n(e)), e = i.getTableMap(), this.pasteTable(i, e, o), a.fire("saveSnapshot"), setTimeout(function() {
                            a.fire("afterPaste")
                        }, 0)) : (function(e) {
                            var t = a.createRange();
                            t.selectNodeContents(e), t.select()
                        }(i.cells.first), a.once("afterPaste", function() {
                            a.fire("lockSnapshot"), i.emptyCells(i.cells.all.slice(1)), r(a, i.cells.all), a.fire("unlockSnapshot")
                        })))
                    },
                    isBoundarySelection: function(e) {
                        var t = (e = e.getRanges()[0]).endContainer.getAscendant("tr", !0);
                        if (t && e.collapsed) {
                            if (e.checkBoundaryOfElement(t, CKEDITOR.START)) return 1;
                            if (e.checkBoundaryOfElement(t, CKEDITOR.END)) return 2
                        }
                        return 0
                    },
                    findTableInPastedContent: function(e, t) {
                        var n = e.dataProcessor,
                            r = new CKEDITOR.dom.element("body");
                        return n || (n = new CKEDITOR.htmlDataProcessor(e)), r.setHtml(n.toHtml(t), {
                            fixForBody: !1
                        }), 1 < r.getChildCount() ? null : r.findOne("table")
                    },
                    pasteTable: function(e, t, n) {
                        var r, i, o, a, s, l = m(e.cells.first),
                            c = e._getTable(),
                            u = {};
                        for (a = 0; a < n.length; a++)
                            for (i = new CKEDITOR.dom.element(c.$.rows[e.rows.first.$.rowIndex + a]), s = 0; s < n[a].length; s++) o = new CKEDITOR.dom.element(n[a][s]), r = t[a] && t[a][s] ? new CKEDITOR.dom.element(t[a][s]) : null, o && !o.getCustomData("processed") ? (r && r.getParent() ? o.replace(r) : (0 === s || n[a][s - 1]) && ((r = 0 !== s ? new CKEDITOR.dom.element(n[a][s - 1]) : null) && i.equals(r.getParent()) ? o.insertAfter(r) : 0 < l ? i.$.cells[l] ? o.insertAfter(new CKEDITOR.dom.element(i.$.cells[l])) : i.append(o) : i.append(o, !0)), CKEDITOR.dom.element.setMarker(u, o, "processed", !0)) : o.getCustomData("processed") && r && r.remove();
                        CKEDITOR.dom.element.clearAllMarkers(u)
                    }
                };
                CKEDITOR.plugins.tableselection = {
                    getCellsBetween: t,
                    keyboardIntegration: function(e) {
                        function t(e) {
                            var t = e.getEnclosedNode();
                            t && "function" == typeof t.is && t.is({
                                td: 1,
                                th: 1
                            }) ? t.setText("") : e.deleteContents(), CKEDITOR.tools.array.forEach(e._find("td"), function(e) {
                                e.appendBogus()
                            })
                        }
                        var n = e.editable();
                        n.attachListener(n, "keydown", function(e) {
                            function n(t, n) {
                                if (!n.length) return null;
                                var r = e.createRange(),
                                    o = CKEDITOR.dom.range.mergeRanges(n);
                                CKEDITOR.tools.array.forEach(o, function(e) {
                                    e.enlarge(CKEDITOR.ENLARGE_ELEMENT)
                                });
                                var a = (s = o[0].getBoundaryNodes()).startNode,
                                    s = s.endNode;
                                if (a && a.is && a.is(i)) {
                                    for (var l = a.getAscendant("table", !0), c = a.getPreviousSourceNode(!1, CKEDITOR.NODE_ELEMENT, l), u = !1, d = function(e) {
                                            return !a.contains(e) && e.is && e.is("td", "th")
                                        }; c && !d(c);) c = c.getPreviousSourceNode(!1, CKEDITOR.NODE_ELEMENT, l);
                                    return !c && s && s.is && !s.is("table") && s.getNext() && (c = s.getNext().findOne("td, th"), u = !0), c ? r["moveToElementEdit" + (u ? "Start" : "End")](c) : (r.setStartBefore(a.getAscendant("table", !0)), r.collapse(!0)), o[0].deleteContents(), [r]
                                }
                                return a ? (r.moveToElementEditablePosition(a), [r]) : void 0
                            }
                            var r = {
                                    37: 1,
                                    38: 1,
                                    39: 1,
                                    40: 1,
                                    8: 1,
                                    46: 1
                                },
                                i = CKEDITOR.tools.extend({
                                    table: 1
                                }, CKEDITOR.dtd.$tableContent);
                            return delete i.td, delete i.th,
                                function(i) {
                                    var o, a, s, l, c = i.data.getKey(),
                                        u = 37 === c || 38 == c;
                                    if (r[c] && (o = e.getSelection()) && o.isInTable() && o.isFake)
                                        if (s = (a = o.getRanges())[0]._getTableElement(), l = a[a.length - 1]._getTableElement(), i.data.preventDefault(), i.cancel(), 8 < c && 46 > c) a[0].moveToElementEditablePosition(u ? s : l, !u), o.selectRanges([a[0]]);
                                        else {
                                            for (i = 0; i < a.length; i++) t(a[i]);
                                            (i = n(0, a)) ? a = i: a[0].moveToElementEditablePosition(s), o.selectRanges(a), e.fire("saveSnapshot")
                                        }
                                }
                        }(e), null, null, -1), n.attachListener(n, "keypress", function(n) {
                            var r, i = e.getSelection(),
                                o = n.data.$.charCode || 13 === n.data.getKey();
                            if (i && i.isInTable() && i.isFake && o && !(n.data.getKeystroke() & CKEDITOR.CTRL)) {
                                for (o = (n = i.getRanges())[0].getEnclosedNode().getAscendant({
                                        td: 1,
                                        th: 1
                                    }, !0), r = 0; r < n.length; r++) t(n[r]);
                                o && (n[0].moveToElementEditablePosition(o), i.selectRanges([n[0]]))
                            }
                        }, null, null, -1)
                    },
                    isSupportedEnvironment: !(CKEDITOR.env.ie && 11 > CKEDITOR.env.version)
                }, CKEDITOR.plugins.add("tableselection", {
                    requires: "clipboard,tabletools",
                    onLoad: function() {
                        p = CKEDITOR.plugins.tabletools, f = p.getSelectedCells, m = p.getCellColIndex, g = p.insertRow, E = p.insertColumn, CKEDITOR.document.appendStyleSheet(this.path + "styles/tableselection.css")
                    },
                    init: function(e) {
                        CKEDITOR.plugins.tableselection.isSupportedEnvironment && (e.addContentsCss && e.addContentsCss(this.path + "styles/tableselection.css"), e.on("contentDom", function() {
                            var t = e.editable(),
                                n = t.isInline() ? t : e.document,
                                r = {
                                    editor: e
                                };
                            t.attachListener(n, "mousedown", l, null, r), t.attachListener(n, "mousemove", l, null, r), t.attachListener(n, "mouseup", l, null, r), t.attachListener(t, "dragstart", c), t.attachListener(e, "selectionCheck", a), CKEDITOR.plugins.tableselection.keyboardIntegration(e), CKEDITOR.plugins.clipboard && !CKEDITOR.plugins.clipboard.isCustomCopyCutSupported && (t.attachListener(t, "cut", u), t.attachListener(t, "copy", u))
                        }), e.on("paste", v.onPaste, v), h(e, "rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "), function(e, t) {
                            r(e, t.selectedCells)
                        }), h(e, ["cellMerge", "cellMergeRight", "cellMergeDown"], function(e, t) {
                            r(e, [t.commandData.cell])
                        }), h(e, ["cellDelete"], function(e) {
                            n(e, !0)
                        }))
                    }
                })
            }(), function() {
                var e = [CKEDITOR.CTRL + 90, CKEDITOR.CTRL + 89, CKEDITOR.CTRL + CKEDITOR.SHIFT + 90],
                    t = {
                        8: 1,
                        46: 1
                    };
                CKEDITOR.plugins.add("undo", {
                    init: function(t) {
                        function r(e) {
                            a.enabled && !1 !== e.data.command.canUndo && a.save()
                        }

                        function i() {
                            a.enabled = !t.readOnly && "wysiwyg" == t.mode, a.onChange()
                        }
                        var a = t.undoManager = new n(t),
                            s = a.editingHandler = new o(a),
                            l = t.addCommand("undo", {
                                exec: function() {
                                    a.undo() && (t.selectionChange(), this.fire("afterUndo"))
                                },
                                startDisabled: !0,
                                canUndo: !1
                            }),
                            c = t.addCommand("redo", {
                                exec: function() {
                                    a.redo() && (t.selectionChange(), this.fire("afterRedo"))
                                },
                                startDisabled: !0,
                                canUndo: !1
                            });
                        t.setKeystroke([
                            [e[0], "undo"],
                            [e[1], "redo"],
                            [e[2], "redo"]
                        ]), a.onChange = function() {
                            l.setState(a.undoable() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED), c.setState(a.redoable() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED)
                        }, t.on("beforeCommandExec", r), t.on("afterCommandExec", r), t.on("saveSnapshot", function(e) {
                            a.save(e.data && e.data.contentOnly)
                        }), t.on("contentDom", s.attachListeners, s), t.on("instanceReady", function() {
                            t.fire("saveSnapshot")
                        }), t.on("beforeModeUnload", function() {
                            "wysiwyg" == t.mode && a.save(!0)
                        }), t.on("mode", i), t.on("readOnly", i), t.ui.addButton && (t.ui.addButton("Undo", {
                            label: t.lang.undo.undo,
                            command: "undo",
                            toolbar: "undo,10"
                        }), t.ui.addButton("Redo", {
                            label: t.lang.undo.redo,
                            command: "redo",
                            toolbar: "undo,20"
                        })), t.resetUndo = function() {
                            a.reset(), t.fire("saveSnapshot")
                        }, t.on("updateSnapshot", function() {
                            a.currentImage && a.update()
                        }), t.on("lockSnapshot", function(e) {
                            a.lock((e = e.data) && e.dontUpdate, e && e.forceUpdate)
                        }), t.on("unlockSnapshot", a.unlock, a)
                    }
                }), CKEDITOR.plugins.undo = {};
                var n = CKEDITOR.plugins.undo.UndoManager = function(e) {
                    this.strokesRecorded = [0, 0], this.locked = null, this.previousKeyGroup = -1, this.limit = e.config.undoStackSize || 20, this.strokesLimit = 25, this.editor = e, this.reset()
                };
                n.prototype = {
                    type: function(e, t) {
                        var r = n.getKeyGroup(e),
                            i = this.strokesRecorded[r] + 1;
                        t = t || i >= this.strokesLimit, this.typing || (this.hasUndo = this.typing = !0, this.hasRedo = !1, this.onChange()), t ? (i = 0, this.editor.fire("saveSnapshot")) : this.editor.fire("change"), this.strokesRecorded[r] = i, this.previousKeyGroup = r
                    },
                    keyGroupChanged: function(e) {
                        return n.getKeyGroup(e) != this.previousKeyGroup
                    },
                    reset: function() {
                        this.snapshots = [], this.index = -1, this.currentImage = null, this.hasRedo = this.hasUndo = !1, this.locked = null, this.resetType()
                    },
                    resetType: function() {
                        this.strokesRecorded = [0, 0], this.typing = !1, this.previousKeyGroup = -1
                    },
                    refreshState: function() {
                        this.hasUndo = !!this.getNextImage(!0), this.hasRedo = !!this.getNextImage(!1), this.resetType(), this.onChange()
                    },
                    save: function(e, t, n) {
                        var i = this.editor;
                        if (this.locked || "ready" != i.status || "wysiwyg" != i.mode) return !1;
                        var o = i.editable();
                        if (!o || "ready" != o.status) return !1;
                        if (o = this.snapshots, t || (t = new r(i)), !1 === t.contents) return !1;
                        if (this.currentImage)
                            if (t.equalsContent(this.currentImage)) {
                                if (e || t.equalsSelection(this.currentImage)) return !1
                            } else !1 !== n && i.fire("change");
                        return o.splice(this.index + 1, o.length - this.index - 1), o.length == this.limit && o.shift(), this.index = o.push(t) - 1, this.currentImage = t, !1 !== n && this.refreshState(), !0
                    },
                    restoreImage: function(e) {
                        var t, n = this.editor;
                        e.bookmarks && (n.focus(), t = n.getSelection()), this.locked = {
                            level: 999
                        }, this.editor.loadSnapshot(e.contents), e.bookmarks ? t.selectBookmarks(e.bookmarks) : CKEDITOR.env.ie && ((t = this.editor.document.getBody().$.createTextRange()).collapse(!0), t.select()), this.locked = null, this.index = e.index, this.currentImage = this.snapshots[this.index], this.update(), this.refreshState(), n.fire("change")
                    },
                    getNextImage: function(e) {
                        var t, n = this.snapshots,
                            r = this.currentImage;
                        if (r)
                            if (e) {
                                for (t = this.index - 1; 0 <= t; t--)
                                    if (!r.equalsContent(e = n[t])) return e.index = t, e
                            } else
                                for (t = this.index + 1; t < n.length; t++)
                                    if (!r.equalsContent(e = n[t])) return e.index = t, e;
                        return null
                    },
                    redoable: function() {
                        return this.enabled && this.hasRedo
                    },
                    undoable: function() {
                        return this.enabled && this.hasUndo
                    },
                    undo: function() {
                        if (this.undoable()) {
                            this.save(!0);
                            var e = this.getNextImage(!0);
                            if (e) return this.restoreImage(e), !0
                        }
                        return !1
                    },
                    redo: function() {
                        if (this.redoable() && (this.save(!0), this.redoable())) {
                            var e = this.getNextImage(!1);
                            if (e) return this.restoreImage(e), !0
                        }
                        return !1
                    },
                    update: function(e) {
                        if (!this.locked) {
                            e || (e = new r(this.editor));
                            for (var t = this.index, n = this.snapshots; 0 < t && this.currentImage.equalsContent(n[t - 1]);) --t;
                            n.splice(t, this.index - t + 1, e), this.index = t, this.currentImage = e
                        }
                    },
                    updateSelection: function(e) {
                        if (!this.snapshots.length) return !1;
                        var t = this.snapshots,
                            n = t[t.length - 1];
                        return !(!n.equalsContent(e) || n.equalsSelection(e) || (this.currentImage = t[t.length - 1] = e, 0))
                    },
                    lock: function(e, t) {
                        if (this.locked) this.locked.level++;
                        else if (e) this.locked = {
                            level: 1
                        };
                        else {
                            var n = null;
                            if (t) n = !0;
                            else {
                                var i = new r(this.editor, !0);
                                this.currentImage && this.currentImage.equalsContent(i) && (n = i)
                            }
                            this.locked = {
                                update: n,
                                level: 1
                            }
                        }
                    },
                    unlock: function() {
                        if (this.locked && !--this.locked.level) {
                            var e = this.locked.update;
                            if (this.locked = null, !0 === e) this.update();
                            else if (e) {
                                var t = new r(this.editor, !0);
                                e.equalsContent(t) || this.update()
                            }
                        }
                    }
                }, n.navigationKeyCodes = {
                    37: 1,
                    38: 1,
                    39: 1,
                    40: 1,
                    36: 1,
                    35: 1,
                    33: 1,
                    34: 1
                }, n.keyGroups = {
                    PRINTABLE: 0,
                    FUNCTIONAL: 1
                }, n.isNavigationKey = function(e) {
                    return !!n.navigationKeyCodes[e]
                }, n.getKeyGroup = function(e) {
                    var r = n.keyGroups;
                    return t[e] ? r.FUNCTIONAL : r.PRINTABLE
                }, n.getOppositeKeyGroup = function(e) {
                    var t = n.keyGroups;
                    return e == t.FUNCTIONAL ? t.PRINTABLE : t.FUNCTIONAL
                }, n.ieFunctionalKeysBug = function(e) {
                    return CKEDITOR.env.ie && n.getKeyGroup(e) == n.keyGroups.FUNCTIONAL
                };
                var r = CKEDITOR.plugins.undo.Image = function(e, t) {
                        this.editor = e, e.fire("beforeUndoImage");
                        var n = e.getSnapshot();
                        CKEDITOR.env.ie && n && (n = n.replace(/\s+data-cke-expando=".*?"/g, "")), this.contents = n, t || (this.bookmarks = (n = n && e.getSelection()) && n.createBookmarks2(!0)), e.fire("afterUndoImage")
                    },
                    i = /\b(?:href|src|name)="[^"]*?"/gi;
                r.prototype = {
                    equalsContent: function(e) {
                        var t = this.contents;
                        return e = e.contents, CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) && (t = t.replace(i, ""), e = e.replace(i, "")), t == e
                    },
                    equalsSelection: function(e) {
                        var t = this.bookmarks;
                        if (e = e.bookmarks, t || e) {
                            if (!t || !e || t.length != e.length) return !1;
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n],
                                    i = e[n];
                                if (r.startOffset != i.startOffset || r.endOffset != i.endOffset || !CKEDITOR.tools.arrayCompare(r.start, i.start) || !CKEDITOR.tools.arrayCompare(r.end, i.end)) return !1
                            }
                        }
                        return !0
                    }
                };
                var o = CKEDITOR.plugins.undo.NativeEditingHandler = function(e) {
                    this.undoManager = e, this.ignoreInputEvent = !1, this.keyEventsStack = new a, this.lastKeydownImage = null
                };
                o.prototype = {
                    onKeydown: function(t) {
                        var i = t.data.getKey();
                        229 !== i && (-1 < CKEDITOR.tools.indexOf(e, t.data.getKeystroke()) ? t.data.preventDefault() : (this.keyEventsStack.cleanUp(t), t = this.undoManager, this.keyEventsStack.getLast(i) || this.keyEventsStack.push(i), this.lastKeydownImage = new r(t.editor), (n.isNavigationKey(i) || this.undoManager.keyGroupChanged(i)) && (t.strokesRecorded[0] || t.strokesRecorded[1]) && (t.save(!1, this.lastKeydownImage, !1), t.resetType())))
                    },
                    onInput: function() {
                        if (this.ignoreInputEvent) this.ignoreInputEvent = !1;
                        else {
                            var e = this.keyEventsStack.getLast();
                            e || (e = this.keyEventsStack.push(0)), this.keyEventsStack.increment(e.keyCode), this.keyEventsStack.getTotalInputs() >= this.undoManager.strokesLimit && (this.undoManager.type(e.keyCode, !0), this.keyEventsStack.resetInputs())
                        }
                    },
                    onKeyup: function(e) {
                        var t = this.undoManager;
                        e = e.data.getKey();
                        var i = this.keyEventsStack.getTotalInputs();
                        this.keyEventsStack.remove(e), n.ieFunctionalKeysBug(e) && this.lastKeydownImage && this.lastKeydownImage.equalsContent(new r(t.editor, !0)) || (0 < i ? t.type(e) : n.isNavigationKey(e) && this.onNavigationKey(!0))
                    },
                    onNavigationKey: function(e) {
                        var t = this.undoManager;
                        !e && t.save(!0, null, !1) || t.updateSelection(new r(t.editor)), t.resetType()
                    },
                    ignoreInputEventListener: function() {
                        this.ignoreInputEvent = !0
                    },
                    activateInputEventListener: function() {
                        this.ignoreInputEvent = !1
                    },
                    attachListeners: function() {
                        var e = this.undoManager.editor,
                            t = e.editable(),
                            r = this;
                        t.attachListener(t, "keydown", function(e) {
                            r.onKeydown(e), n.ieFunctionalKeysBug(e.data.getKey()) && r.onInput()
                        }, null, null, 999), t.attachListener(t, CKEDITOR.env.ie ? "keypress" : "input", r.onInput, r, null, 999), t.attachListener(t, "keyup", r.onKeyup, r, null, 999), t.attachListener(t, "paste", r.ignoreInputEventListener, r, null, 999), t.attachListener(t, "drop", r.ignoreInputEventListener, r, null, 999), e.on("afterPaste", r.activateInputEventListener, r, null, 999), t.attachListener(t.isInline() ? t : e.document.getDocumentElement(), "click", function() {
                            r.onNavigationKey()
                        }, null, null, 999), t.attachListener(this.undoManager.editor, "blur", function() {
                            r.keyEventsStack.remove(9)
                        }, null, null, 999)
                    }
                };
                var a = CKEDITOR.plugins.undo.KeyEventsStack = function() {
                    this.stack = []
                };
                a.prototype = {
                    push: function(e) {
                        return e = this.stack.push({
                            keyCode: e,
                            inputs: 0
                        }), this.stack[e - 1]
                    },
                    getLastIndex: function(e) {
                        if ("number" != typeof e) return this.stack.length - 1;
                        for (var t = this.stack.length; t--;)
                            if (this.stack[t].keyCode == e) return t;
                        return -1
                    },
                    getLast: function(e) {
                        return -1 != (e = this.getLastIndex(e)) ? this.stack[e] : null
                    },
                    increment: function(e) {
                        this.getLast(e).inputs++
                    },
                    remove: function(e) {
                        -1 != (e = this.getLastIndex(e)) && this.stack.splice(e, 1)
                    },
                    resetInputs: function(e) {
                        if ("number" == typeof e) this.getLast(e).inputs = 0;
                        else
                            for (e = this.stack.length; e--;) this.stack[e].inputs = 0
                    },
                    getTotalInputs: function() {
                        for (var e = this.stack.length, t = 0; e--;) t += this.stack[e].inputs;
                        return t
                    },
                    cleanUp: function(e) {
                        (e = e.data.$).ctrlKey || e.metaKey || this.remove(17), e.shiftKey || this.remove(16), e.altKey || this.remove(18)
                    }
                }
            }(), function() {
                function e(e, t) {
                    CKEDITOR.tools.extend(this, {
                        editor: e,
                        editable: e.editable(),
                        doc: e.document,
                        win: e.window
                    }, t, !0), this.inline = this.editable.isInline(), this.inline || (this.frame = this.win.getFrame()), this.target = this[this.inline ? "editable" : "doc"]
                }

                function t(e, t) {
                    CKEDITOR.tools.extend(this, t, {
                        editor: e
                    }, !0)
                }

                function n(e, t) {
                    var n = e.editable();
                    CKEDITOR.tools.extend(this, {
                        editor: e,
                        editable: n,
                        inline: n.isInline(),
                        doc: e.document,
                        win: e.window,
                        container: CKEDITOR.document.getBody(),
                        winTop: CKEDITOR.document.getWindow()
                    }, t, !0), this.hidden = {}, this.visible = {}, this.inline || (this.frame = this.win.getFrame()), this.queryViewport();
                    var r = CKEDITOR.tools.bind(this.queryViewport, this),
                        a = CKEDITOR.tools.bind(this.hideVisible, this),
                        s = CKEDITOR.tools.bind(this.removeAll, this);
                    n.attachListener(this.winTop, "resize", r), n.attachListener(this.winTop, "scroll", r), n.attachListener(this.winTop, "resize", a), n.attachListener(this.win, "scroll", a), n.attachListener(this.inline ? n : this.frame, "mouseout", function(e) {
                        var t = e.data.$.clientX;
                        e = e.data.$.clientY, this.queryViewport(), (t <= this.rect.left || t >= this.rect.right || e <= this.rect.top || e >= this.rect.bottom) && this.hideVisible(), (0 >= t || t >= this.winTopPane.width || 0 >= e || e >= this.winTopPane.height) && this.hideVisible()
                    }, this), n.attachListener(e, "resize", r), n.attachListener(e, "mode", s), e.on("destroy", s), this.lineTpl = new CKEDITOR.template('<div data-cke-lineutils-line="1" class="cke_reset_all" style="{lineStyle}"><span style="{tipLeftStyle}">&nbsp;</span><span style="{tipRightStyle}">&nbsp;</span></div>').output({
                        lineStyle: CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({}, o, this.lineStyle, !0)),
                        tipLeftStyle: CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({}, i, {
                            left: "0px",
                            "border-left-color": "red",
                            "border-width": "6px 0 6px 6px"
                        }, this.tipCss, this.tipLeftStyle, !0)),
                        tipRightStyle: CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({}, i, {
                            right: "0px",
                            "border-right-color": "red",
                            "border-width": "6px 6px 6px 0"
                        }, this.tipCss, this.tipRightStyle, !0))
                    })
                }

                function r(e) {
                    var t;
                    return (t = e && e.type == CKEDITOR.NODE_ELEMENT) && (t = !(a[e.getComputedStyle("float")] || a[e.getAttribute("align")])), t && !s[e.getComputedStyle("position")]
                }
                CKEDITOR.plugins.add("lineutils"), CKEDITOR.LINEUTILS_BEFORE = 1, CKEDITOR.LINEUTILS_AFTER = 2, CKEDITOR.LINEUTILS_INSIDE = 4, e.prototype = {
                    start: function(e) {
                        var t, n, r, i, o = this,
                            a = this.editor,
                            s = this.doc,
                            l = CKEDITOR.tools.eventsBuffer(50, function() {
                                a.readOnly || "wysiwyg" != a.mode || (o.relations = {}, (n = s.$.elementFromPoint(r, i)) && n.nodeType && (t = new CKEDITOR.dom.element(n), o.traverseSearch(t), isNaN(r + i) || o.pixelSearch(t, r, i), e && e(o.relations, r, i)))
                            });
                        this.listener = this.editable.attachListener(this.target, "mousemove", function(e) {
                            r = e.data.$.clientX, i = e.data.$.clientY, l.input()
                        }), this.editable.attachListener(this.inline ? this.editable : this.frame, "mouseout", function() {
                            l.reset()
                        })
                    },
                    stop: function() {
                        this.listener && this.listener.removeListener()
                    },
                    getRange: function() {
                        var e = {};
                        return e[CKEDITOR.LINEUTILS_BEFORE] = CKEDITOR.POSITION_BEFORE_START, e[CKEDITOR.LINEUTILS_AFTER] = CKEDITOR.POSITION_AFTER_END, e[CKEDITOR.LINEUTILS_INSIDE] = CKEDITOR.POSITION_AFTER_START,
                            function(t) {
                                var n = this.editor.createRange();
                                return n.moveToPosition(this.relations[t.uid].element, e[t.type]), n
                            }
                    }(),
                    store: function() {
                        function e(e, t, n) {
                            var r = e.getUniqueId();
                            r in n ? n[r].type |= t : n[r] = {
                                element: e,
                                type: t
                            }
                        }
                        return function(t, n) {
                            var i;
                            n & CKEDITOR.LINEUTILS_AFTER && r(i = t.getNext()) && i.isVisible() && (e(i, CKEDITOR.LINEUTILS_BEFORE, this.relations), n ^= CKEDITOR.LINEUTILS_AFTER), n & CKEDITOR.LINEUTILS_INSIDE && r(i = t.getFirst()) && i.isVisible() && (e(i, CKEDITOR.LINEUTILS_BEFORE, this.relations), n ^= CKEDITOR.LINEUTILS_INSIDE), e(t, n, this.relations)
                        }
                    }(),
                    traverseSearch: function(e) {
                        var t, n, i;
                        do {
                            if (!((i = e.$["data-cke-expando"]) && i in this.relations)) {
                                if (e.equals(this.editable)) break;
                                if (r(e))
                                    for (t in this.lookups)(n = this.lookups[t](e)) && this.store(e, n)
                            }
                        } while ((!e || e.type != CKEDITOR.NODE_ELEMENT || "true" != e.getAttribute("contenteditable")) && (e = e.getParent()))
                    },
                    pixelSearch: function() {
                        function e(e, n, i, o, a) {
                            for (var s, l = 0; a(i) && (i += o, 25 != ++l);)
                                if (s = this.doc.$.elementFromPoint(n, i))
                                    if (s == e) l = 0;
                                    else if (t(e, s) && (l = 0, r(s = new CKEDITOR.dom.element(s)))) return s
                        }
                        var t = CKEDITOR.env.ie || CKEDITOR.env.webkit ? function(e, t) {
                            return e.contains(t)
                        } : function(e, t) {
                            return !!(16 & e.compareDocumentPosition(t))
                        };
                        return function(t, n, i) {
                            var o = this.win.getViewPaneSize().height,
                                a = e.call(this, t.$, n, i, -1, function(e) {
                                    return 0 < e
                                });
                            if (n = e.call(this, t.$, n, i, 1, function(e) {
                                    return e < o
                                }), a)
                                for (this.traverseSearch(a); !a.getParent().equals(t);) a = a.getParent();
                            if (n)
                                for (this.traverseSearch(n); !n.getParent().equals(t);) n = n.getParent();
                            for (;
                                (a || n) && (a && (a = a.getNext(r)), a && !a.equals(n)) && (this.traverseSearch(a), n && (n = n.getPrevious(r)), n && !n.equals(a));) this.traverseSearch(n)
                        }
                    }(),
                    greedySearch: function() {
                        this.relations = {};
                        for (var e, t, n, i = this.editable.getElementsByTag("*"), o = 0; e = i.getItem(o++);)
                            if (!e.equals(this.editable) && e.type == CKEDITOR.NODE_ELEMENT && (e.hasAttribute("contenteditable") || !e.isReadOnly()) && r(e) && e.isVisible())
                                for (n in this.lookups)(t = this.lookups[n](e)) && this.store(e, t);
                        return this.relations
                    }
                }, t.prototype = {
                    locate: function() {
                        function e(e, t) {
                            var n = e.element[t === CKEDITOR.LINEUTILS_BEFORE ? "getPrevious" : "getNext"]();
                            return n && r(n) ? (e.siblingRect = n.getClientRect(), t == CKEDITOR.LINEUTILS_BEFORE ? (e.siblingRect.bottom + e.elementRect.top) / 2 : (e.elementRect.bottom + e.siblingRect.top) / 2) : t == CKEDITOR.LINEUTILS_BEFORE ? e.elementRect.top : e.elementRect.bottom
                        }
                        return function(t) {
                            var n;
                            for (var r in this.locations = {}, t)(n = t[r]).elementRect = n.element.getClientRect(), n.type & CKEDITOR.LINEUTILS_BEFORE && this.store(r, CKEDITOR.LINEUTILS_BEFORE, e(n, CKEDITOR.LINEUTILS_BEFORE)), n.type & CKEDITOR.LINEUTILS_AFTER && this.store(r, CKEDITOR.LINEUTILS_AFTER, e(n, CKEDITOR.LINEUTILS_AFTER)), n.type & CKEDITOR.LINEUTILS_INSIDE && this.store(r, CKEDITOR.LINEUTILS_INSIDE, (n.elementRect.top + n.elementRect.bottom) / 2);
                            return this.locations
                        }
                    }(),
                    sort: function() {
                        var e, t, n, r;
                        return function(i, o) {
                            for (var a in t = [], e = this.locations)
                                for (var s in e[a])
                                    if (n = Math.abs(i - e[a][s]), t.length) {
                                        for (r = 0; r < t.length; r++)
                                            if (n < t[r].dist) {
                                                t.splice(r, 0, {
                                                    uid: +a,
                                                    type: s,
                                                    dist: n
                                                });
                                                break
                                            }
                                        r == t.length && t.push({
                                            uid: +a,
                                            type: s,
                                            dist: n
                                        })
                                    } else t.push({
                                        uid: +a,
                                        type: s,
                                        dist: n
                                    });
                            return void 0 !== o ? t.slice(0, o) : t
                        }
                    }(),
                    store: function(e, t, n) {
                        this.locations[e] || (this.locations[e] = {}), this.locations[e][t] = n
                    }
                };
                var i = {
                        display: "block",
                        width: "0px",
                        height: "0px",
                        "border-color": "transparent",
                        "border-style": "solid",
                        position: "absolute",
                        top: "-6px"
                    },
                    o = {
                        height: "0px",
                        "border-top": "1px dashed red",
                        position: "absolute",
                        "z-index": 9999
                    };
                n.prototype = {
                    removeAll: function() {
                        for (var e in this.hidden) this.hidden[e].remove(), delete this.hidden[e];
                        for (e in this.visible) this.visible[e].remove(), delete this.visible[e]
                    },
                    hideLine: function(e) {
                        var t = e.getUniqueId();
                        e.hide(), this.hidden[t] = e, delete this.visible[t]
                    },
                    showLine: function(e) {
                        var t = e.getUniqueId();
                        e.show(), this.visible[t] = e, delete this.hidden[t]
                    },
                    hideVisible: function() {
                        for (var e in this.visible) this.hideLine(this.visible[e])
                    },
                    placeLine: function(e, t) {
                        var n, r, i;
                        if (n = this.getStyle(e.uid, e.type)) {
                            for (i in this.visible)
                                if (this.visible[i].getCustomData("hash") !== this.hash) {
                                    r = this.visible[i];
                                    break
                                }
                            if (!r)
                                for (i in this.hidden)
                                    if (this.hidden[i].getCustomData("hash") !== this.hash) {
                                        this.showLine(r = this.hidden[i]);
                                        break
                                    }
                            r || this.showLine(r = this.addLine()), r.setCustomData("hash", this.hash), this.visible[r.getUniqueId()] = r, r.setStyles(n), t && t(r)
                        }
                    },
                    getStyle: function(e, t) {
                        var n = this.relations[e],
                            r = this.locations[e][t],
                            i = {};
                        if (i.width = n.siblingRect ? Math.max(n.siblingRect.width, n.elementRect.width) : n.elementRect.width, i.top = this.inline ? r + this.winTopScroll.y - this.rect.relativeY : this.rect.top + this.winTopScroll.y + r, i.top - this.winTopScroll.y < this.rect.top || i.top - this.winTopScroll.y > this.rect.bottom) return !1;
                        for (var o in this.inline ? i.left = n.elementRect.left - this.rect.relativeX : (0 < n.elementRect.left ? i.left = this.rect.left + n.elementRect.left : (i.width += n.elementRect.left, i.left = this.rect.left), 0 < (n = i.left + i.width - (this.rect.left + this.winPane.width)) && (i.width -= n)), i.left += this.winTopScroll.x, i) i[o] = CKEDITOR.tools.cssLength(i[o]);
                        return i
                    },
                    addLine: function() {
                        var e = CKEDITOR.dom.element.createFromHtml(this.lineTpl);
                        return e.appendTo(this.container), e
                    },
                    prepare: function(e, t) {
                        this.relations = e, this.locations = t, this.hash = Math.random()
                    },
                    cleanup: function() {
                        var e, t;
                        for (t in this.visible)(e = this.visible[t]).getCustomData("hash") !== this.hash && this.hideLine(e)
                    },
                    queryViewport: function() {
                        this.winPane = this.win.getViewPaneSize(), this.winTopScroll = this.winTop.getScrollPosition(), this.winTopPane = this.winTop.getViewPaneSize(), this.rect = this.getClientRect(this.inline ? this.editable : this.frame)
                    },
                    getClientRect: function(e) {
                        e = e.getClientRect();
                        var t = this.container.getDocumentPosition(),
                            n = this.container.getComputedStyle("position");
                        return e.relativeX = e.relativeY = 0, "static" != n && (e.relativeY = t.y, e.relativeX = t.x, e.top -= e.relativeY, e.bottom -= e.relativeY, e.left -= e.relativeX, e.right -= e.relativeX), e
                    }
                };
                var a = {
                        left: 1,
                        right: 1,
                        center: 1
                    },
                    s = {
                        absolute: 1,
                        fixed: 1
                    };
                CKEDITOR.plugins.lineutils = {
                    finder: e,
                    locator: t,
                    liner: n
                }
            }(), function() {
                function e(e) {
                    return e.getName && !e.hasAttribute("data-cke-temp")
                }
                CKEDITOR.plugins.add("widgetselection", {
                    init: function(e) {
                        if (CKEDITOR.env.webkit) {
                            var t = CKEDITOR.plugins.widgetselection;
                            e.on("contentDom", function(e) {
                                var n = (e = e.editor).document,
                                    r = e.editable();
                                r.attachListener(n, "keydown", function(e) {
                                    e.data.getKeystroke() == CKEDITOR.CTRL + 65 && CKEDITOR.tools.setTimeout(function() {
                                        t.addFillers(r) || t.removeFillers(r)
                                    }, 0)
                                }, null, null, -1), e.on("selectionCheck", function(e) {
                                    t.removeFillers(e.editor.editable())
                                }), e.on("paste", function(e) {
                                    e.data.dataValue = t.cleanPasteData(e.data.dataValue)
                                }), "selectall" in e.plugins && t.addSelectAllIntegration(e)
                            })
                        }
                    }
                }), CKEDITOR.plugins.widgetselection = {
                    startFiller: null,
                    endFiller: null,
                    fillerAttribute: "data-cke-filler-webkit",
                    fillerContent: "&nbsp;",
                    fillerTagName: "div",
                    addFillers: function(t) {
                        var n = t.editor;
                        if (!this.isWholeContentSelected(t) && 0 < t.getChildCount()) {
                            var r = t.getFirst(e),
                                i = t.getLast(e);
                            if (r && r.type == CKEDITOR.NODE_ELEMENT && !r.isEditable() && (this.startFiller = this.createFiller(), t.append(this.startFiller, 1)), i && i.type == CKEDITOR.NODE_ELEMENT && !i.isEditable() && (this.endFiller = this.createFiller(!0), t.append(this.endFiller, 0)), this.hasFiller(t)) return (n = n.createRange()).selectNodeContents(t), n.select(), !0
                        }
                        return !1
                    },
                    removeFillers: function(e) {
                        if (this.hasFiller(e) && !this.isWholeContentSelected(e)) {
                            var t = e.findOne(this.fillerTagName + "[" + this.fillerAttribute + "=start]"),
                                n = e.findOne(this.fillerTagName + "[" + this.fillerAttribute + "=end]");
                            this.startFiller && t && this.startFiller.equals(t) ? this.removeFiller(this.startFiller, e) : this.startFiller = t, this.endFiller && n && this.endFiller.equals(n) ? this.removeFiller(this.endFiller, e) : this.endFiller = n
                        }
                    },
                    cleanPasteData: function(e) {
                        return e && e.length && (e = e.replace(this.createFillerRegex(), "").replace(this.createFillerRegex(!0), "")), e
                    },
                    isWholeContentSelected: function(e) {
                        var t = e.editor.getSelection().getRanges()[0];
                        return !(!t || t && t.collapsed || ((t = t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT), !(t && e && t.startContainer && t.endContainer && 0 === t.startOffset && t.endOffset === e.getChildCount() && t.startContainer.equals(e) && t.endContainer.equals(e))))
                    },
                    hasFiller: function(e) {
                        return 0 < e.find(this.fillerTagName + "[" + this.fillerAttribute + "]").count()
                    },
                    createFiller: function(e) {
                        var t = new CKEDITOR.dom.element(this.fillerTagName);
                        return t.setHtml(this.fillerContent), t.setAttribute(this.fillerAttribute, e ? "end" : "start"), t.setAttribute("data-cke-temp", 1), t.setStyles({
                            display: "block",
                            width: 0,
                            height: 0,
                            padding: 0,
                            border: 0,
                            margin: 0,
                            position: "absolute",
                            top: 0,
                            left: "-9999px",
                            opacity: 0,
                            overflow: "hidden"
                        }), t
                    },
                    removeFiller: function(e, t) {
                        if (e) {
                            var n, r, i = t.editor,
                                o = t.editor.getSelection().getRanges()[0].startPath(),
                                a = i.createRange();
                            o.contains(e) && (n = e.getHtml(), r = !0), o = "start" == e.getAttribute(this.fillerAttribute), e.remove(), n && 0 < n.length && n != this.fillerContent ? (t.insertHtmlIntoRange(n, i.getSelection().getRanges()[0]), a.setStartAt(t.getChild(t.getChildCount() - 1), CKEDITOR.POSITION_BEFORE_END), i.getSelection().selectRanges([a])) : r && (o ? a.setStartAt(t.getFirst().getNext(), CKEDITOR.POSITION_AFTER_START) : a.setEndAt(t.getLast().getPrevious(), CKEDITOR.POSITION_BEFORE_END), t.editor.getSelection().selectRanges([a]))
                        }
                    },
                    createFillerRegex: function(e) {
                        var t = this.createFiller(e).getOuterHtml().replace(/style="[^"]*"/gi, 'style="[^"]*"').replace(/>[^<]*</gi, ">[^<]*<");
                        return new RegExp((e ? "" : "^") + t + (e ? "$" : ""))
                    },
                    addSelectAllIntegration: function(e) {
                        var t = this;
                        e.editable().attachListener(e, "beforeCommandExec", function(n) {
                            var r = e.editable();
                            "selectAll" == n.data.name && r && t.addFillers(r)
                        }, null, null, 9999)
                    }
                }
            }(), function() {
                function e(e) {
                    this.editor = e, this.registered = {}, this.instances = {}, this.selected = [], this.widgetHoldingFocusedEditable = this.focused = null, this._ = {
                            nextId: 0,
                            upcasts: [],
                            upcastCallbacks: [],
                            filters: {}
                        },
                        function(e) {
                            var n, r, i = e.editor;
                            i.on("toHtml", function(r) {
                                var i, o = function(e) {
                                    var n = [],
                                        r = e._.upcasts,
                                        i = e._.upcastCallbacks;
                                    return {
                                        toBeWrapped: n,
                                        iterator: function(e) {
                                            var o, a, s, l, c;
                                            if ("data-cke-widget-wrapper" in e.attributes) return (e = e.getFirst(t.isParserWidgetElement)) && n.push([e]), !1;
                                            if ("data-widget" in e.attributes) return n.push([e]), !1;
                                            if (c = r.length) {
                                                if (e.attributes["data-cke-widget-upcasted"]) return !1;
                                                for (l = 0, o = i.length; l < o; ++l)
                                                    if (!1 === i[l](e)) return;
                                                for (l = 0; l < c; ++l)
                                                    if (a = (o = r[l])[0](e, s = {})) return a instanceof CKEDITOR.htmlParser.element && (e = a), e.attributes["data-cke-widget-data"] = encodeURIComponent(JSON.stringify(s)), e.attributes["data-cke-widget-upcasted"] = 1, n.push([e, o[1]]), !1
                                            }
                                        }
                                    }
                                }(e);
                                for (r.data.dataValue.forEach(o.iterator, CKEDITOR.NODE_ELEMENT, !0); i = o.toBeWrapped.pop();) {
                                    var a = i[0],
                                        s = a.parent;
                                    s.type == CKEDITOR.NODE_ELEMENT && s.attributes["data-cke-widget-wrapper"] && s.replaceWith(a), e.wrapElement(i[0], i[1])
                                }
                                n = r.data.protectedWhitespaces ? 3 == r.data.dataValue.children.length && t.isParserWidgetWrapper(r.data.dataValue.children[1]) : 1 == r.data.dataValue.children.length && t.isParserWidgetWrapper(r.data.dataValue.children[0])
                            }, null, null, 8), i.on("dataReady", function() {
                                if (r)
                                    for (var n, o, a = i.editable().find(".cke_widget_wrapper"), s = 0, l = a.count(); s < l; ++s)(o = (n = a.getItem(s)).getFirst(t.isDomWidgetElement)).type == CKEDITOR.NODE_ELEMENT && o.data("widget") ? (o.replace(n), e.wrapElement(o)) : n.remove();
                                r = 0, e.destroyAll(!0), e.initOnAll()
                            }), i.on("loadSnapshot", function(t) {
                                /data-cke-widget/.test(t.data) && (r = 1), e.destroyAll(!0)
                            }, null, null, 9), i.on("paste", function(e) {
                                (e = e.data).dataValue = e.dataValue.replace(k, p), e.range && (e = t.getNestedEditable(i.editable(), e.range.startContainer)) && (e = CKEDITOR.filter.instances[e.data("cke-filter")]) && i.setActiveFilter(e)
                            }), i.on("afterInsertHtml", function(t) {
                                t.data.intoRange ? e.checkWidgets({
                                    initOnlyNew: !0
                                }) : (i.fire("lockSnapshot"), e.checkWidgets({
                                    initOnlyNew: !0,
                                    focusInited: n
                                }), i.fire("unlockSnapshot"))
                            })
                        }(this),
                        function(e) {
                            var n = e.editor,
                                r = {};
                            n.on("toDataFormat", function(n) {
                                var i = CKEDITOR.tools.getNextNumber(),
                                    o = [];
                                n.data.downcastingSessionId = i, r[i] = o, n.data.dataValue.forEach(function(n) {
                                    var r, i = n.attributes;
                                    if ("data-cke-widget-white-space" in i) {
                                        r = a(n);
                                        var l = s(n);
                                        r.parent.attributes["data-cke-white-space-first"] && (r.value = r.value.replace(/^&nbsp;/g, " ")), l.parent.attributes["data-cke-white-space-last"] && (l.value = l.value.replace(/&nbsp;$/g, " "))
                                    }
                                    if ("data-cke-widget-id" in i)(i = e.instances[i["data-cke-widget-id"]]) && (r = n.getFirst(t.isParserWidgetElement), o.push({
                                        wrapper: n,
                                        element: r,
                                        widget: i,
                                        editables: {}
                                    }), "1" != r.attributes["data-cke-widget-keep-attr"] && delete r.attributes["data-widget"]);
                                    else if ("data-cke-widget-editable" in i) return o[o.length - 1].editables[i["data-cke-widget-editable"]] = n, !1
                                }, CKEDITOR.NODE_ELEMENT, !0)
                            }, null, null, 8), n.on("toDataFormat", function(e) {
                                if (e.data.downcastingSessionId) {
                                    e = r[e.data.downcastingSessionId];
                                    for (var t, n, i, o, a, s; t = e.shift();) {
                                        for (s in i = t.element, o = (n = t.widget)._.downcastFn && n._.downcastFn.call(n, i), t.editables) delete(a = t.editables[s]).attributes.contenteditable, a.setHtml(n.editables[s].getData());
                                        o || (o = i), t.wrapper.replaceWith(o)
                                    }
                                }
                            }, null, null, 13), n.on("contentDomUnload", function() {
                                e.destroyAll(!0)
                            })
                        }(this), this.on("checkWidgets", i), this.editor.on("contentDomInvalidated", this.checkWidgets, this),
                        function(e) {
                            var n = e.editor;
                            n.on("selectionCheck", function() {
                                e.fire("checkSelection")
                            }), e.on("checkSelection", e.checkSelection, e), n.on("selectionChange", function(r) {
                                var i = (r = t.getNestedEditable(n.editable(), r.data.selection.getStartElement())) && e.getByElement(r),
                                    o = e.widgetHoldingFocusedEditable;
                                o ? o === i && o.focusedEditable.equals(r) || (h(e, o, null), i && r && h(e, i, r)) : i && r && h(e, i, r)
                            }), n.on("dataReady", function() {
                                f(e).commit()
                            }), n.on("blur", function() {
                                var t;
                                (t = e.focused) && r(e, t), (t = e.widgetHoldingFocusedEditable) && h(e, t, null)
                            })
                        }(this),
                        function(e) {
                            var n = e.editor;
                            n.on("contentDom", function() {
                                var r, i, o = n.editable(),
                                    a = o.isInline() ? o : n.document;
                                o.attachListener(a, "mousedown", function(o) {
                                    var a = o.data.getTarget();
                                    r = a instanceof CKEDITOR.dom.element ? e.getByElement(a) : null, i = 0, r && (r.inline && a.type == CKEDITOR.NODE_ELEMENT && a.hasAttribute("data-cke-widget-drag-handler") ? (i = 1, e.focused != r && n.getSelection().removeAllRanges()) : t.getNestedEditable(r.wrapper, a) ? r = null : (o.data.preventDefault(), CKEDITOR.env.ie || r.focus()))
                                }), o.attachListener(a, "mouseup", function() {
                                    i && r && r.wrapper && (i = 0, r.focus())
                                }), CKEDITOR.env.ie && o.attachListener(a, "mouseup", function() {
                                    setTimeout(function() {
                                        r && r.wrapper && o.contains(r.wrapper) && (r.focus(), r = null)
                                    })
                                })
                            }), n.on("doubleclick", function(n) {
                                var r = e.getByElement(n.data.element);
                                if (r && !t.getNestedEditable(r.wrapper, n.data.element)) return r.fire("doubleclick", {
                                    element: n.data.element
                                })
                            }, null, null, 1)
                        }(this),
                        function(e) {
                            e.editor.on("key", function(t) {
                                var n, r = e.focused,
                                    i = e.widgetHoldingFocusedEditable;
                                return r ? n = r.fire("key", {
                                    keyCode: t.data.keyCode
                                }) : i && (r = t.data.keyCode, t = i.focusedEditable, r == CKEDITOR.CTRL + 65 ? (r = t.getBogus(), (i = i.editor.createRange()).selectNodeContents(t), r && i.setEndAt(r, CKEDITOR.POSITION_BEFORE_START), i.select(), n = !1) : 8 == r || 46 == r ? (i = (n = i.editor.getSelection().getRanges())[0], n = !(1 == n.length && i.collapsed && i.checkBoundaryOfElement(t, CKEDITOR[8 == r ? "START" : "END"]))) : n = void 0), n
                            }, null, null, 1)
                        }(this),
                        function(e) {
                            var n = e.editor,
                                r = CKEDITOR.plugins.lineutils;
                            n.on("dragstart", function(r) {
                                var i = r.data.target;
                                t.isDomDragHandler(i) && (i = e.getByElement(i), r.data.dataTransfer.setData("cke/widget-id", i.id), n.focus(), i.focus())
                            }), n.on("drop", function(t) {
                                var r = (o = t.data.dataTransfer).getData("cke/widget-id"),
                                    i = o.getTransferType(n),
                                    o = n.createRange();
                                "" !== r && i === CKEDITOR.DATA_TRANSFER_CROSS_EDITORS ? t.cancel() : "" !== r && i == CKEDITOR.DATA_TRANSFER_INTERNAL && (r = e.instances[r]) && (o.setStartBefore(r.wrapper), o.setEndAfter(r.wrapper), t.data.dragRange = o, delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount, delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount, t.data.dataTransfer.setData("text/html", n.editable().getHtmlFromRange(o).getHtml()), n.widgets.destroy(r, !0))
                            }), n.on("contentDom", function() {
                                var i = n.editable();
                                CKEDITOR.tools.extend(e, {
                                    finder: new r.finder(n, {
                                        lookups: {
                                            default: function(n) {
                                                if (!n.is(CKEDITOR.dtd.$listItem) && n.is(CKEDITOR.dtd.$block) && !t.isDomNestedEditable(n) && !e._.draggedWidget.wrapper.contains(n)) {
                                                    var r = t.getNestedEditable(i, n);
                                                    if (r) {
                                                        if (n = e._.draggedWidget, e.getByElement(r) == n) return;
                                                        if (r = CKEDITOR.filter.instances[r.data("cke-filter")], n = n.requiredContent, r && n && !r.check(n)) return
                                                    }
                                                    return CKEDITOR.LINEUTILS_BEFORE | CKEDITOR.LINEUTILS_AFTER
                                                }
                                            }
                                        }
                                    }),
                                    locator: new r.locator(n),
                                    liner: new r.liner(n, {
                                        lineStyle: {
                                            cursor: "move !important",
                                            "border-top-color": "#666"
                                        },
                                        tipLeftStyle: {
                                            "border-left-color": "#666"
                                        },
                                        tipRightStyle: {
                                            "border-right-color": "#666"
                                        }
                                    })
                                }, !0)
                            })
                        }(this),
                        function(e) {
                            function t(t) {
                                e.focused && E(e.focused, "cut" == t.name)
                            }
                            var n = e.editor;
                            n.on("contentDom", function() {
                                var e = n.editable();
                                e.attachListener(e, "copy", t), e.attachListener(e, "cut", t)
                            })
                        }(this)
                }

                function t(e, n, r, i, o) {
                    var a = e.editor;
                    CKEDITOR.tools.extend(this, i, {
                            editor: a,
                            id: n,
                            inline: "span" == r.getParent().getName(),
                            element: r,
                            data: CKEDITOR.tools.extend({}, "function" == typeof i.defaults ? i.defaults() : i.defaults),
                            dataReady: !1,
                            inited: !1,
                            ready: !1,
                            edit: t.prototype.edit,
                            focusedEditable: null,
                            definition: i,
                            repository: e,
                            draggable: !1 !== i.draggable,
                            _: {
                                downcastFn: i.downcast && "string" == typeof i.downcast ? i.downcasts[i.downcast] : i.downcast
                            }
                        }, !0), e.fire("instanceCreated", this),
                        function(e, n) {
                            (function(e) {
                                (e.wrapper = e.element.getParent()).setAttribute("data-cke-widget-id", e.id)
                            })(e),
                            function(e) {
                                if (e.parts) {
                                    var t, n, r = {};
                                    for (n in e.parts) t = e.wrapper.findOne(e.parts[n]), r[n] = t;
                                    e.parts = r
                                }
                            }(e),
                            function(e) {
                                var t, n, r = e.editables;
                                if (e.editables = {}, e.editables)
                                    for (t in r) e.initEditable(t, "string" == typeof(n = r[t]) ? {
                                        selector: n
                                    } : n)
                            }(e),
                            function(e) {
                                if (e.mask) {
                                    var t = e.wrapper.findOne(".cke_widget_mask");
                                    t || ((t = new CKEDITOR.dom.element("img", e.editor.document)).setAttributes({
                                        src: CKEDITOR.tools.transparentImageData,
                                        class: "cke_reset cke_widget_mask"
                                    }), e.wrapper.append(t)), e.mask = t
                                }
                            }(e),
                            function(e) {
                                if (e.draggable) {
                                    var n, r = e.editor,
                                        i = e.wrapper.getLast(t.isDomDragHandlerContainer);
                                    i ? n = i.findOne("img") : ((i = new CKEDITOR.dom.element("span", r.document)).setAttributes({
                                        class: "cke_reset cke_widget_drag_handler_container",
                                        style: "background:rgba(220,220,220,0.5);background-image:url(" + r.plugins.widget.path + "images/handle.png)"
                                    }), (n = new CKEDITOR.dom.element("img", r.document)).setAttributes({
                                        class: "cke_reset cke_widget_drag_handler",
                                        "data-cke-widget-drag-handler": "1",
                                        src: CKEDITOR.tools.transparentImageData,
                                        width: 15,
                                        title: r.lang.widget.move,
                                        height: 15,
                                        role: "presentation"
                                    }), e.inline && n.setAttribute("draggable", "true"), i.append(n), e.wrapper.append(i)), e.wrapper.on("dragover", function(e) {
                                        e.data.preventDefault()
                                    }), e.wrapper.on("mouseenter", e.updateDragHandlerPosition, e), setTimeout(function() {
                                        e.on("data", e.updateDragHandlerPosition, e)
                                    }, 50), !e.inline && (n.on("mousedown", y, e), CKEDITOR.env.ie && 9 > CKEDITOR.env.version) && n.on("dragstart", function(e) {
                                        e.data.preventDefault(!0)
                                    }), e.dragHandlerContainer = i
                                }
                            }(e),
                            function(e) {
                                var t = null;
                                e.on("data", function() {
                                    var e, n = this.data.classes;
                                    if (t != n) {
                                        for (e in t) n && n[e] || this.removeClass(e);
                                        for (e in n) this.addClass(e);
                                        t = n
                                    }
                                })
                            }(e),
                            function(e) {
                                e.on("data", function() {
                                    if (e.wrapper) {
                                        var t = this.getLabel ? this.getLabel() : this.editor.lang.widget.label.replace(/%1/, this.pathName || this.element.getName());
                                        e.wrapper.setAttribute("role", "region"), e.wrapper.setAttribute("aria-label", t)
                                    }
                                }, null, null, 9999)
                            }(e), CKEDITOR.env.ie && 9 > CKEDITOR.env.version && e.wrapper.on("dragstart", function(n) {
                                var r = n.data.getTarget();
                                t.getNestedEditable(e, r) || e.inline && t.isDomDragHandler(r) || n.data.preventDefault()
                            }), e.wrapper.removeClass("cke_widget_new"), e.element.addClass("cke_widget_element"), e.on("key", function(t) {
                                if (13 == (t = t.data.keyCode)) e.edit();
                                else {
                                    if (t == CKEDITOR.CTRL + 67 || t == CKEDITOR.CTRL + 88) return void E(e, t == CKEDITOR.CTRL + 88);
                                    if (t in w || CKEDITOR.CTRL & t || CKEDITOR.ALT & t) return
                                }
                                return !1
                            }, null, null, 999), e.on("doubleclick", function(t) {
                                e.edit() && t.cancel()
                            }), n.data && e.on("data", n.data), n.edit && e.on("edit", n.edit)
                        }(this, i), this.init && this.init(), this.inited = !0, (e = this.element.data("cke-widget-data")) && this.setData(JSON.parse(decodeURIComponent(e))), o && this.setData(o), this.data.classes || this.setData("classes", this.getClasses()), this.dataReady = !0, C(this), this.fire("data", this.data), this.isInited() && a.editable().contains(this.wrapper) && (this.ready = !0, this.fire("ready"))
                }

                function n(e, t, n) {
                    CKEDITOR.dom.element.call(this, t.$), this.editor = e, this._ = {}, t = this.filter = n.filter, CKEDITOR.dtd[this.getName()].p ? (this.enterMode = t ? t.getAllowedEnterMode(e.enterMode) : e.enterMode, this.shiftEnterMode = t ? t.getAllowedEnterMode(e.shiftEnterMode, !0) : e.shiftEnterMode) : this.enterMode = this.shiftEnterMode = CKEDITOR.ENTER_BR
                }

                function r(e, t) {
                    if (e.focused = null, t.isInited()) {
                        var n = t.editor.checkDirty();
                        e.fire("widgetBlurred", {
                            widget: t
                        }), t.setFocused(!1), !n && t.editor.resetDirty()
                    }
                }

                function i(e) {
                    if (e = e.data, "wysiwyg" == this.editor.mode) {
                        var n, r, i, o, a = this.editor.editable(),
                            s = this.instances;
                        if (a) {
                            for (n in s) s[n].isReady() && !a.contains(s[n].wrapper) && this.destroy(s[n], !0);
                            if (e && e.initOnlyNew) s = this.initOnAll();
                            else {
                                var l = a.find(".cke_widget_wrapper");
                                for (s = [], n = 0, r = l.count(); n < r; n++) {
                                    if (i = l.getItem(n), o = !this.getByElement(i, !0)) {
                                        e: {
                                            o = d;
                                            for (var c = i; c = c.getParent();)
                                                if (o(c)) {
                                                    o = !0;
                                                    break e
                                                }
                                            o = !1
                                        }
                                        o = !o
                                    }
                                    o && a.contains(i) && (i.addClass("cke_widget_new"), s.push(this.initOn(i.getFirst(t.isDomWidgetElement))))
                                }
                            }
                            e && e.focusInited && 1 == s.length && s[0].focus()
                        }
                    }
                }

                function o(e) {
                    if (void 0 !== e.attributes && e.attributes["data-widget"]) {
                        var t = a(e),
                            n = s(e),
                            r = !1;
                        t && t.value && t.value.match(/^\s/g) && (t.parent.attributes["data-cke-white-space-first"] = 1, t.value = t.value.replace(/^\s/g, "&nbsp;"), r = !0), n && n.value && n.value.match(/\s$/g) && (n.parent.attributes["data-cke-white-space-last"] = 1, n.value = n.value.replace(/\s$/g, "&nbsp;"), r = !0), r && (e.attributes["data-cke-widget-white-space"] = 1)
                    }
                }

                function a(e) {
                    return e.find(function(e) {
                        return 3 === e.type
                    }, !0).shift()
                }

                function s(e) {
                    return e.find(function(e) {
                        return 3 === e.type
                    }, !0).pop()
                }

                function l(e, t, n) {
                    if (!n.allowedContent && !n.disallowedContent) return null;
                    var r = this._.filters[e];
                    return r || (this._.filters[e] = r = {}), (e = r[t]) || (e = n.allowedContent ? new CKEDITOR.filter(n.allowedContent) : this.editor.filter.clone(), r[t] = e, n.disallowedContent && e.disallow(n.disallowedContent)), e
                }

                function c(e, t) {
                    return {
                        tabindex: -1,
                        contenteditable: "false",
                        "data-cke-widget-wrapper": 1,
                        "data-cke-filter": "off",
                        class: "cke_widget_wrapper cke_widget_new cke_widget_" + (e ? "inline" : "block") + (t ? " cke_widget_" + t : "")
                    }
                }

                function u(e, t) {
                    return "boolean" == typeof e.inline ? e.inline : !!CKEDITOR.dtd.$inline[t]
                }

                function d(e) {
                    return e.hasAttribute("data-cke-temp")
                }

                function h(e, t, n, r) {
                    var i = e.editor;
                    i.fire("lockSnapshot"), n ? (r = n.data("cke-widget-editable"), r = t.editables[r], e.widgetHoldingFocusedEditable = t, t.focusedEditable = r, n.addClass("cke_widget_editable_focused"), r.filter && i.setActiveFilter(r.filter), i.setActiveEnterMode(r.enterMode, r.shiftEnterMode)) : (r || t.focusedEditable.removeClass("cke_widget_editable_focused"), t.focusedEditable = null, e.widgetHoldingFocusedEditable = null, i.setActiveFilter(null), i.setActiveEnterMode(null, null)), i.fire("unlockSnapshot")
                }

                function p(e, t) {
                    return CKEDITOR.tools.trim(t)
                }

                function f(e) {
                    var t = e.selected,
                        n = [],
                        i = t.slice(0),
                        o = null;
                    return {
                        select: function(e) {
                            return 0 > CKEDITOR.tools.indexOf(t, e) && n.push(e), 0 <= (e = CKEDITOR.tools.indexOf(i, e)) && i.splice(e, 1), this
                        },
                        focus: function(e) {
                            return o = e, this
                        },
                        commit: function() {
                            var a, s, l = e.focused !== o;
                            for (e.editor.fire("lockSnapshot"), l && (a = e.focused) && r(e, a); a = i.pop();) t.splice(CKEDITOR.tools.indexOf(t, a), 1), a.isInited() && (s = a.editor.checkDirty(), a.setSelected(!1), !s && a.editor.resetDirty());
                            for (l && o && (s = e.editor.checkDirty(), e.focused = o, e.fire("widgetFocused", {
                                    widget: o
                                }), o.setFocused(!0), !s && e.editor.resetDirty()); a = n.pop();) t.push(a), a.setSelected(!0);
                            e.editor.fire("unlockSnapshot")
                        }
                    }
                }

                function m(e, t, n) {
                    var r = 0;
                    t = b(t);
                    var i, o = e.data.classes || {};
                    if (t) {
                        for (o = CKEDITOR.tools.clone(o); i = t.pop();) n ? o[i] || (r = o[i] = 1) : o[i] && (delete o[i], r = 1);
                        r && e.setData("classes", o)
                    }
                }

                function g(e) {
                    e.cancel()
                }

                function E(e, t) {
                    var n = e.editor,
                        r = n.document,
                        i = CKEDITOR.env.edge && 16 <= CKEDITOR.env.version;
                    if (!r.getById("cke_copybin")) {
                        var o = !n.blockless && !CKEDITOR.env.ie || i ? "div" : "span",
                            a = (i = r.createElement(o), r.createElement(o));
                        o = CKEDITOR.env.ie && 9 > CKEDITOR.env.version, a.setAttributes({
                            id: "cke_copybin",
                            "data-cke-temp": "1"
                        }), i.setStyles({
                            position: "absolute",
                            width: "1px",
                            height: "1px",
                            overflow: "hidden"
                        }), i.setStyle("ltr" == n.config.contentsLangDirection ? "left" : "right", "-5000px");
                        var s = n.createRange();
                        s.setStartBefore(e.wrapper), s.setEndAfter(e.wrapper), i.setHtml('<span data-cke-copybin-start="1">\u200b</span>' + n.editable().getHtmlFromRange(s).getHtml() + '<span data-cke-copybin-end="1">\u200b</span>'), n.fire("saveSnapshot"), n.fire("lockSnapshot"), a.append(i), n.editable().append(a);
                        var l = n.on("selectionChange", g, null, null, 0),
                            c = e.repository.on("checkSelection", g, null, null, 0);
                        if (o) var u = r.getDocumentElement().$,
                            d = u.scrollTop;
                        (s = n.createRange()).selectNodeContents(i), s.select(), o && (u.scrollTop = d), setTimeout(function() {
                            t || e.focus(), a.remove(), l.removeListener(), c.removeListener(), n.fire("unlockSnapshot"), t && !n.readOnly && (e.repository.del(e), n.fire("saveSnapshot"))
                        }, 100)
                    }
                }

                function b(e) {
                    return (e = (e = e.getDefinition().attributes) && e.class) ? e.split(/\s+/) : null
                }

                function v() {
                    var e = CKEDITOR.document.getActive(),
                        t = this.editor,
                        n = t.editable();
                    (n.isInline() ? n : t.document.getWindow().getFrame()).equals(e) && t.focusManager.focus(n)
                }

                function T() {
                    CKEDITOR.env.gecko && this.editor.unlockSelection(), CKEDITOR.env.webkit || (this.editor.forceNextSelectionCheck(), this.editor.selectionChange(1))
                }

                function y(e) {
                    function t() {
                        var t;
                        for (h.reset(); t = c.pop();) t.removeListener();
                        var n = u;
                        t = e.sender;
                        var r = this.repository.finder,
                            i = this.repository.liner,
                            o = this.editor,
                            a = this.editor.editable();
                        CKEDITOR.tools.isEmpty(i.visible) || (n = r.getRange(n[0]), this.focus(), o.fire("drop", {
                            dropRange: n,
                            target: n.startContainer
                        })), a.removeClass("cke_widget_dragging"), i.hideVisible(), o.fire("dragend", {
                            target: t
                        })
                    }
                    if (CKEDITOR.tools.getMouseButton(e) === CKEDITOR.MOUSE_BUTTON_LEFT) {
                        var n, r, i = this.repository.finder,
                            o = this.repository.locator,
                            a = this.repository.liner,
                            s = this.editor,
                            l = s.editable(),
                            c = [],
                            u = [];
                        this.repository._.draggedWidget = this;
                        var d = i.greedySearch(),
                            h = CKEDITOR.tools.eventsBuffer(50, function() {
                                n = o.locate(d), (u = o.sort(r, 1)).length && (a.prepare(d, n), a.placeLine(u[0]), a.cleanup())
                            });
                        l.addClass("cke_widget_dragging"), c.push(l.on("mousemove", function(e) {
                            r = e.data.$.clientY, h.input()
                        })), s.fire("dragstart", {
                            target: e.sender
                        }), c.push(s.document.once("mouseup", t, this)), l.isInline() || c.push(CKEDITOR.document.once("mouseup", t, this))
                    }
                }

                function C(e) {
                    e.element.data("cke-widget-data", encodeURIComponent(JSON.stringify(e.data)))
                }
                CKEDITOR.plugins.add("widget", {
                    requires: "lineutils,clipboard,widgetselection",
                    onLoad: function() {
                        void 0 !== CKEDITOR.document.$.querySelectorAll && (CKEDITOR.addCss(".cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover>.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused>.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:none;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover>.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}"), function() {
                            function e() {}

                            function n(e, t, n) {
                                return !(!n || !this.checkElement(e)) && (e = n.widgets.getByElement(e, !0)) && e.checkStyleActive(this)
                            }
                            var r = {};
                            CKEDITOR.style.addCustomHandler({
                                type: "widget",
                                setup: function(e) {
                                    if (this.widget = e.widget, this.group = "string" == typeof e.group ? [e.group] : e.group) {
                                        var t;
                                        r[e = this.widget] || (r[e] = {});
                                        for (var n = 0, i = this.group.length; n < i; n++) r[e][t = this.group[n]] || (r[e][t] = []), r[e][t].push(this)
                                    }
                                },
                                apply: function(e) {
                                    var t;
                                    e instanceof CKEDITOR.editor && this.checkApplicable(e.elementPath(), e) && (t = e.widgets.focused, this.group && this.removeStylesFromSameGroup(e), t.applyStyle(this))
                                },
                                remove: function(e) {
                                    e instanceof CKEDITOR.editor && this.checkApplicable(e.elementPath(), e) && e.widgets.focused.removeStyle(this)
                                },
                                removeStylesFromSameGroup: function(e) {
                                    var t, n, i = !1;
                                    if (!(e instanceof CKEDITOR.editor)) return !1;
                                    if (n = e.elementPath(), this.checkApplicable(n, e))
                                        for (var o = 0, a = this.group.length; o < a; o++) {
                                            t = r[this.widget][this.group[o]];
                                            for (var s = 0; s < t.length; s++) t[s] !== this && t[s].checkActive(n, e) && (e.widgets.focused.removeStyle(t[s]), i = !0)
                                        }
                                    return i
                                },
                                checkActive: function(e, t) {
                                    return this.checkElementMatch(e.lastElement, 0, t)
                                },
                                checkApplicable: function(e, t) {
                                    return t instanceof CKEDITOR.editor && this.checkElement(e.lastElement)
                                },
                                checkElementMatch: n,
                                checkElementRemovable: n,
                                checkElement: function(e) {
                                    return !!t.isDomWidgetWrapper(e) && (e = e.getFirst(t.isDomWidgetElement)) && e.data("widget") == this.widget
                                },
                                buildPreview: function(e) {
                                    return e || this._.definition.name
                                },
                                toAllowedContentRules: function(e) {
                                    if (!e) return null;
                                    var t, n = {};
                                    return (e = e.widgets.registered[this.widget]) ? e.styleableElements ? (t = this.getClassesArray()) ? (n[e.styleableElements] = {
                                        classes: t,
                                        propertiesOnly: !0
                                    }, n) : null : e.styleToAllowedContentRules ? e.styleToAllowedContentRules(this) : null : null
                                },
                                getClassesArray: function() {
                                    var e = this._.definition.attributes && this._.definition.attributes.class;
                                    return e ? CKEDITOR.tools.trim(e).split(/\s+/) : null
                                },
                                applyToRange: e,
                                removeFromRange: e,
                                applyToObject: e
                            })
                        }())
                    },
                    beforeInit: function(t) {
                        void 0 !== CKEDITOR.document.$.querySelectorAll && (t.widgets = new e(t))
                    },
                    afterInit: function(e) {
                        if (void 0 !== CKEDITOR.document.$.querySelectorAll) {
                            var t, n, r, i = e.widgets.registered;
                            for (n in i)(r = (t = i[n]).button) && e.ui.addButton && e.ui.addButton(CKEDITOR.tools.capitalize(t.name, !0), {
                                label: r,
                                command: t.name,
                                toolbar: "insert,10"
                            });
                            ! function(e) {
                                e.contextMenu && e.contextMenu.addListener(function(t) {
                                    if (t = e.widgets.getByElement(t, !0)) return t.fire("contextMenu", {})
                                })
                            }(e)
                        }
                    }
                }), e.prototype = {
                    MIN_SELECTION_CHECK_INTERVAL: 500,
                    add: function(e, t) {
                        return (t = CKEDITOR.tools.prototypedCopy(t)).name = e, t._ = t._ || {}, this.editor.fire("widgetDefinition", t), t.template && (t.template = new CKEDITOR.template(t.template)),
                            function(e, t) {
                                e.addCommand(t.name, {
                                    exec: function(e, n) {
                                        function r() {
                                            e.widgets.finalizeCreation(s)
                                        }
                                        if ((o = e.widgets.focused) && o.name == t.name) o.edit();
                                        else if (t.insert) t.insert();
                                        else if (t.template) {
                                            var i, o = "function" == typeof t.defaults ? t.defaults() : t.defaults,
                                                a = (o = CKEDITOR.dom.element.createFromHtml(t.template.output(o)), e.widgets.wrapElement(o, t.name)),
                                                s = new CKEDITOR.dom.documentFragment(a.getDocument());
                                            s.append(a), (i = e.widgets.initOn(o, t, n && n.startupData)) ? (o = i.once("edit", function(t) {
                                                t.data.dialog ? i.once("dialog", function(t) {
                                                    var n, o;
                                                    n = (t = t.data).once("ok", r, null, null, 20), o = t.once("cancel", function(t) {
                                                        t.data && !1 === t.data.hide || e.widgets.destroy(i, !0)
                                                    }), t.once("hide", function() {
                                                        n.removeListener(), o.removeListener()
                                                    })
                                                }) : r()
                                            }, null, null, 999), i.edit(), o.removeListener()) : r()
                                        }
                                    },
                                    allowedContent: t.allowedContent,
                                    requiredContent: t.requiredContent,
                                    contentForms: t.contentForms,
                                    contentTransformations: t.contentTransformations
                                })
                            }(this.editor, t),
                            function(e, t) {
                                var n = t.upcast;
                                n && function(t, n, r) {
                                    var i = CKEDITOR.tools.getIndex(e._.upcasts, function(e) {
                                        return e[2] > r
                                    });
                                    0 > i && (i = e._.upcasts.length), e._.upcasts.splice(i, 0, [CKEDITOR.tools.bind(t, n), n.name, r])
                                }("string" == typeof n ? function(e, n) {
                                    var r, i, o = t.upcast.split(",");
                                    for (i = 0; i < o.length; i++)
                                        if ((r = o[i]) === e.name) return t.upcasts[r].call(this, e, n);
                                    return !1
                                } : n, t, t.upcastPriority || 10)
                            }(this, t), this.registered[e] = t
                    },
                    addUpcastCallback: function(e) {
                        this._.upcastCallbacks.push(e)
                    },
                    checkSelection: function() {
                        var e, n = this.editor.getSelection(),
                            r = n.getSelectedElement(),
                            i = f(this);
                        if (r && (e = this.getByElement(r, !0))) return i.focus(e).select(e).commit();
                        if (!(n = n.getRanges()[0]) || n.collapsed) return i.commit();
                        for ((n = new CKEDITOR.dom.walker(n)).evaluator = t.isDomWidgetWrapper; r = n.next();) i.select(this.getByElement(r));
                        i.commit()
                    },
                    checkWidgets: function(e) {
                        this.fire("checkWidgets", CKEDITOR.tools.copy(e || {}))
                    },
                    del: function(e) {
                        if (this.focused === e) {
                            var t, n = e.editor,
                                r = n.createRange();
                            (t = r.moveToClosestEditablePosition(e.wrapper, !0)) || (t = r.moveToClosestEditablePosition(e.wrapper, !1)), t && n.getSelection().selectRanges([r])
                        }
                        e.wrapper.remove(), this.destroy(e, !0)
                    },
                    destroy: function(e, t) {
                        this.widgetHoldingFocusedEditable === e && h(this, e, null, t), e.destroy(t), delete this.instances[e.id], this.fire("instanceDestroyed", e)
                    },
                    destroyAll: function(e, t) {
                        var n, r, i = this.instances;
                        if (t && !e) {
                            i = (r = t.find(".cke_widget_wrapper")).count();
                            for (var o = 0; o < i; ++o)(n = this.getByElement(r.getItem(o), !0)) && this.destroy(n)
                        } else
                            for (r in i) this.destroy(n = i[r], e)
                    },
                    finalizeCreation: function(e) {
                        (e = e.getFirst()) && t.isDomWidgetWrapper(e) && (this.editor.insertElement(e), (e = this.getByElement(e)).ready = !0, e.fire("ready"), e.focus())
                    },
                    getByElement: function() {
                        function e(e) {
                            return e.is(t) && e.data("cke-widget-id")
                        }
                        var t = {
                            div: 1,
                            span: 1
                        };
                        return function(t, n) {
                            if (!t) return null;
                            var r = e(t);
                            if (!n && !r) {
                                var i = this.editor.editable();
                                do {
                                    t = t.getParent()
                                } while (t && !t.equals(i) && !(r = e(t)))
                            }
                            return this.instances[r] || null
                        }
                    }(),
                    initOn: function(e, n, r) {
                        if (n ? "string" == typeof n && (n = this.registered[n]) : n = this.registered[e.data("widget")], !n) return null;
                        var i = this.wrapElement(e, n.name);
                        return i ? i.hasClass("cke_widget_new") ? (e = new t(this, this._.nextId++, e, n, r)).isInited() ? this.instances[e.id] = e : null : this.getByElement(e) : null
                    },
                    initOnAll: function(e) {
                        for (var n, r = [], i = (e = (e || this.editor.editable()).find(".cke_widget_new")).count(); i--;)(n = this.initOn(e.getItem(i).getFirst(t.isDomWidgetElement))) && r.push(n);
                        return r
                    },
                    onWidget: function(e) {
                        var t = Array.prototype.slice.call(arguments);
                        for (var n in t.shift(), this.instances) {
                            var r = this.instances[n];
                            r.name == e && r.on.apply(r, t)
                        }
                        this.on("instanceCreated", function(n) {
                            (n = n.data).name == e && n.on.apply(n, t)
                        })
                    },
                    parseElementClasses: function(e) {
                        if (!e) return null;
                        e = CKEDITOR.tools.trim(e).split(/\s+/);
                        for (var t, n = {}, r = 0; t = e.pop();) - 1 == t.indexOf("cke_") && (n[t] = r = 1);
                        return r ? n : null
                    },
                    wrapElement: function(e, t) {
                        var n, r, i = null;
                        if (e instanceof CKEDITOR.dom.element) {
                            if (t = t || e.data("widget"), !(n = this.registered[t])) return null;
                            if ((i = e.getParent()) && i.type == CKEDITOR.NODE_ELEMENT && i.data("cke-widget-wrapper")) return i;
                            e.hasAttribute("data-cke-widget-keep-attr") || e.data("cke-widget-keep-attr", e.data("widget") ? 1 : 0), e.data("widget", t), (r = u(n, e.getName())) && o(e), (i = new CKEDITOR.dom.element(r ? "span" : "div")).setAttributes(c(r, t)), i.data("cke-display-name", n.pathName ? n.pathName : e.getName()), e.getParent(!0) && i.replace(e), e.appendTo(i)
                        } else if (e instanceof CKEDITOR.htmlParser.element) {
                            if (!(n = this.registered[t = t || e.attributes["data-widget"]])) return null;
                            if ((i = e.parent) && i.type == CKEDITOR.NODE_ELEMENT && i.attributes["data-cke-widget-wrapper"]) return i;
                            var a;
                            "data-cke-widget-keep-attr" in e.attributes || (e.attributes["data-cke-widget-keep-attr"] = e.attributes["data-widget"] ? 1 : 0), t && (e.attributes["data-widget"] = t), (r = u(n, e.name)) && o(e), (i = new CKEDITOR.htmlParser.element(r ? "span" : "div", c(r, t))).attributes["data-cke-display-name"] = n.pathName ? n.pathName : e.name, (n = e.parent) && (a = e.getIndex(), e.remove()), i.add(e), n && function e(t, n, r) {
                                if (t.type == CKEDITOR.NODE_ELEMENT && (i = CKEDITOR.dtd[t.name]) && !i[r.name]) {
                                    var i = t.split(n),
                                        o = t.parent;
                                    return n = i.getIndex(), t.children.length || (--n, t.remove()), i.children.length || i.remove(), e(o, n, r)
                                }
                                t.add(r, n)
                            }(n, a, i)
                        }
                        return i
                    },
                    _tests_createEditableFilter: l
                }, CKEDITOR.event.implementOn(e.prototype), t.prototype = {
                    addClass: function(e) {
                        this.element.addClass(e), this.wrapper.addClass(t.WRAPPER_CLASS_PREFIX + e)
                    },
                    applyStyle: function(e) {
                        m(this, e, 1)
                    },
                    checkStyleActive: function(e) {
                        var t;
                        if (!(e = b(e))) return !1;
                        for (; t = e.pop();)
                            if (!this.hasClass(t)) return !1;
                        return !0
                    },
                    destroy: function(e) {
                        if (this.fire("destroy"), this.editables)
                            for (var t in this.editables) this.destroyEditable(t, e);
                        e || ("0" == this.element.data("cke-widget-keep-attr") && this.element.removeAttribute("data-widget"), this.element.removeAttributes(["data-cke-widget-data", "data-cke-widget-keep-attr"]), this.element.removeClass("cke_widget_element"), this.element.replace(this.wrapper)), this.wrapper = null
                    },
                    destroyEditable: function(e, t) {
                        var n = this.editables[e];
                        n.removeListener("focus", T), n.removeListener("blur", v), this.editor.focusManager.remove(n), t || (this.repository.destroyAll(!1, n), n.removeClass("cke_widget_editable"), n.removeClass("cke_widget_editable_focused"), n.removeAttributes(["contenteditable", "data-cke-widget-editable", "data-cke-enter-mode"])), delete this.editables[e]
                    },
                    edit: function() {
                        var e = {
                                dialog: this.dialog
                            },
                            t = this;
                        return !(!1 === this.fire("edit", e) || !e.dialog || (this.editor.openDialog(e.dialog, function(e) {
                            var n, r;
                            !1 !== t.fire("dialog", e) && (n = e.on("show", function() {
                                e.setupContent(t)
                            }), r = e.on("ok", function() {
                                var n, r = t.on("data", function(e) {
                                    n = 1, e.cancel()
                                }, null, null, 0);
                                t.editor.fire("saveSnapshot"), e.commitContent(t), r.removeListener(), n && (t.fire("data", t.data), t.editor.fire("saveSnapshot"))
                            }), e.once("hide", function() {
                                n.removeListener(), r.removeListener()
                            }))
                        }), 0))
                    },
                    getClasses: function() {
                        return this.repository.parseElementClasses(this.element.getAttribute("class"))
                    },
                    hasClass: function(e) {
                        return this.element.hasClass(e)
                    },
                    initEditable: function(e, t) {
                        var r = this._findOneNotNested(t.selector);
                        return !(!r || !r.is(CKEDITOR.dtd.$editable) || (r = new n(this.editor, r, {
                            filter: l.call(this.repository, this.name, e, t)
                        }), this.editables[e] = r, r.setAttributes({
                            contenteditable: "true",
                            "data-cke-widget-editable": e,
                            "data-cke-enter-mode": r.enterMode
                        }), r.filter && r.data("cke-filter", r.filter.id), r.addClass("cke_widget_editable"), r.removeClass("cke_widget_editable_focused"), t.pathName && r.data("cke-display-name", t.pathName), this.editor.focusManager.add(r), r.on("focus", T, this), CKEDITOR.env.ie && r.on("blur", v, this), r._.initialSetData = !0, r.setData(r.getHtml()), 0))
                    },
                    _findOneNotNested: function(e) {
                        e = this.wrapper.find(e);
                        for (var n, r, i = 0; i < e.count(); i++)
                            if (r = (n = e.getItem(i)).getAscendant(t.isDomWidgetWrapper), this.wrapper.equals(r)) return n;
                        return null
                    },
                    isInited: function() {
                        return !(!this.wrapper || !this.inited)
                    },
                    isReady: function() {
                        return this.isInited() && this.ready
                    },
                    focus: function() {
                        var e = this.editor.getSelection();
                        if (e) {
                            var t = this.editor.checkDirty();
                            e.fake(this.wrapper), !t && this.editor.resetDirty()
                        }
                        this.editor.focus()
                    },
                    removeClass: function(e) {
                        this.element.removeClass(e), this.wrapper.removeClass(t.WRAPPER_CLASS_PREFIX + e)
                    },
                    removeStyle: function(e) {
                        m(this, e, 0)
                    },
                    setData: function(e, t) {
                        var n = this.data,
                            r = 0;
                        if ("string" == typeof e) n[e] !== t && (n[e] = t, r = 1);
                        else {
                            var i = e;
                            for (e in i) n[e] !== i[e] && (r = 1, n[e] = i[e])
                        }
                        return r && this.dataReady && (C(this), this.fire("data", n)), this
                    },
                    setFocused: function(e) {
                        return this.wrapper[e ? "addClass" : "removeClass"]("cke_widget_focused"), this.fire(e ? "focus" : "blur"), this
                    },
                    setSelected: function(e) {
                        return this.wrapper[e ? "addClass" : "removeClass"]("cke_widget_selected"), this.fire(e ? "select" : "deselect"), this
                    },
                    updateDragHandlerPosition: function() {
                        var e = this.editor,
                            t = this._.dragHandlerOffset,
                            n = {
                                x: (n = this.element.$).offsetLeft,
                                y: n.offsetTop - 15
                            };
                        t && n.x == t.x && n.y == t.y || (t = e.checkDirty(), e.fire("lockSnapshot"), this.dragHandlerContainer.setStyles({
                            top: n.y + "px",
                            left: n.x + "px",
                            display: "block"
                        }), e.fire("unlockSnapshot"), !t && e.resetDirty(), this._.dragHandlerOffset = n)
                    }
                }, CKEDITOR.event.implementOn(t.prototype), t.getNestedEditable = function(e, n) {
                    return !n || n.equals(e) ? null : t.isDomNestedEditable(n) ? n : t.getNestedEditable(e, n.getParent())
                }, t.isDomDragHandler = function(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && e.hasAttribute("data-cke-widget-drag-handler")
                }, t.isDomDragHandlerContainer = function(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && e.hasClass("cke_widget_drag_handler_container")
                }, t.isDomNestedEditable = function(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && e.hasAttribute("data-cke-widget-editable")
                }, t.isDomWidgetElement = function(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && e.hasAttribute("data-widget")
                }, t.isDomWidgetWrapper = function(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && e.hasAttribute("data-cke-widget-wrapper")
                }, t.isDomWidget = function(e) {
                    return !!e && (this.isDomWidgetWrapper(e) || this.isDomWidgetElement(e))
                }, t.isParserWidgetElement = function(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && !!e.attributes["data-widget"]
                }, t.isParserWidgetWrapper = function(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && !!e.attributes["data-cke-widget-wrapper"]
                }, t.WRAPPER_CLASS_PREFIX = "cke_widget_wrapper_", n.prototype = CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype), {
                    setData: function(e) {
                        this._.initialSetData || this.editor.widgets.destroyAll(!1, this), this._.initialSetData = !1, e = this.editor.dataProcessor.toHtml(e, {
                            context: this.getName(),
                            filter: this.filter,
                            enterMode: this.enterMode
                        }), this.setHtml(e), this.editor.widgets.initOnAll(this)
                    },
                    getData: function() {
                        return this.editor.dataProcessor.toDataFormat(this.getHtml(), {
                            context: this.getName(),
                            filter: this.filter,
                            enterMode: this.enterMode
                        })
                    }
                });
                var k = /^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,
                    w = {
                        37: 1,
                        38: 1,
                        39: 1,
                        40: 1,
                        8: 1,
                        46: 1
                    };
                CKEDITOR.plugins.widget = t, t.repository = e, t.nestedEditable = n
            }(), function() {
                function e(e, t, n) {
                    this.editor = e, this.notification = null, this._message = new CKEDITOR.template(t), this._singularMessage = n ? new CKEDITOR.template(n) : null, this._tasks = [], this._doneTasks = this._doneWeights = this._totalWeights = 0
                }

                function t(e) {
                    this._weight = e || 1, this._doneWeight = 0, this._isCanceled = !1
                }
                CKEDITOR.plugins.add("notificationaggregator", {
                    requires: "notification"
                }), e.prototype = {
                    createTask: function(e) {
                        e = e || {};
                        var t, n = !this.notification;
                        return n && (this.notification = this._createNotification()), (t = this._addTask(e)).on("updated", this._onTaskUpdate, this), t.on("done", this._onTaskDone, this), t.on("canceled", function() {
                            this._removeTask(t)
                        }, this), this.update(), n && this.notification.show(), t
                    },
                    update: function() {
                        this._updateNotification(), this.isFinished() && this.fire("finished")
                    },
                    getPercentage: function() {
                        return 0 === this.getTaskCount() ? 1 : this._doneWeights / this._totalWeights
                    },
                    isFinished: function() {
                        return this.getDoneTaskCount() === this.getTaskCount()
                    },
                    getTaskCount: function() {
                        return this._tasks.length
                    },
                    getDoneTaskCount: function() {
                        return this._doneTasks
                    },
                    _updateNotification: function() {
                        this.notification.update({
                            message: this._getNotificationMessage(),
                            progress: this.getPercentage()
                        })
                    },
                    _getNotificationMessage: function() {
                        var e = this.getTaskCount(),
                            t = {
                                current: this.getDoneTaskCount(),
                                max: e,
                                percentage: Math.round(100 * this.getPercentage())
                            };
                        return (1 == e && this._singularMessage ? this._singularMessage : this._message).output(t)
                    },
                    _createNotification: function() {
                        return new CKEDITOR.plugins.notification(this.editor, {
                            type: "progress"
                        })
                    },
                    _addTask: function(e) {
                        return e = new t(e.weight), this._tasks.push(e), this._totalWeights += e._weight, e
                    },
                    _removeTask: function(e) {
                        var t = CKEDITOR.tools.indexOf(this._tasks, e); - 1 !== t && (e._doneWeight && (this._doneWeights -= e._doneWeight), this._totalWeights -= e._weight, this._tasks.splice(t, 1), this.update())
                    },
                    _onTaskUpdate: function(e) {
                        this._doneWeights += e.data, this.update()
                    },
                    _onTaskDone: function() {
                        this._doneTasks += 1, this.update()
                    }
                }, CKEDITOR.event.implementOn(e.prototype), t.prototype = {
                    done: function() {
                        this.update(this._weight)
                    },
                    update: function(e) {
                        if (!this.isDone() && !this.isCanceled()) {
                            var t = (e = Math.min(this._weight, e)) - this._doneWeight;
                            this._doneWeight = e, this.fire("updated", t), this.isDone() && this.fire("done")
                        }
                    },
                    cancel: function() {
                        this.isDone() || this.isCanceled() || (this._isCanceled = !0, this.fire("canceled"))
                    },
                    isDone: function() {
                        return this._weight === this._doneWeight
                    },
                    isCanceled: function() {
                        return this._isCanceled
                    }
                }, CKEDITOR.event.implementOn(t.prototype), CKEDITOR.plugins.notificationAggregator = e, CKEDITOR.plugins.notificationAggregator.task = t
            }(), CKEDITOR.plugins.add("uploadwidget", {
                requires: "widget,clipboard,filetools,notificationaggregator",
                init: function(e) {
                    e.filter.allow("*[!data-widget,!data-cke-upload-id]")
                }
            }), CKEDITOR.fileTools || (CKEDITOR.fileTools = {}), CKEDITOR.tools.extend(CKEDITOR.fileTools, {
                addUploadWidget: function(e, t, n) {
                    var r = CKEDITOR.fileTools,
                        i = e.uploadRepository;
                    n.fileToElement && e.on("paste", function(n) {
                        var o, a, s = e.widgets.registered[t],
                            l = (n = n.data).dataTransfer,
                            c = l.getFilesCount(),
                            u = s.loadMethod || "loadAndUpload";
                        if (!n.dataValue && c)
                            for (a = 0; a < c; a++)
                                if (o = l.getFile(a), !s.supportedTypes || r.isTypeSupported(o, s.supportedTypes)) {
                                    var d = s.fileToElement(o);
                                    o = i.create(o, void 0, s.loaderType), d && (o[u](s.uploadUrl, s.additionalRequestParameters), CKEDITOR.fileTools.markElement(d, t, o.id), "loadAndUpload" != u && "upload" != u || s.skipNotifications || CKEDITOR.fileTools.bindNotifications(e, o), n.dataValue += d.getOuterHtml())
                                }
                    }, null, null, n.supportedTypes ? 10 : 20), CKEDITOR.tools.extend(n, {
                        downcast: function() {
                            return new CKEDITOR.htmlParser.text("")
                        },
                        init: function() {
                            var t, n, r = this,
                                o = this.wrapper.findOne("[data-cke-upload-id]").data("cke-upload-id"),
                                a = i.loaders[o],
                                s = CKEDITOR.tools.capitalize;
                            a.on("update", function(i) {
                                r.wrapper && r.wrapper.getParent() ? (e.fire("lockSnapshot"), i = "on" + s(a.status), "function" == typeof r[i] && !1 === r[i](a) || (n = "cke_upload_" + a.status, r.wrapper && n != t && (t && r.wrapper.removeClass(t), r.wrapper.addClass(n), t = n), "error" != a.status && "abort" != a.status || e.widgets.del(r)), e.fire("unlockSnapshot")) : (e.editable().find('[data-cke-upload-id="' + o + '"]').count() || a.abort(), i.removeListener())
                            }), a.update()
                        },
                        replaceWith: function(t, n) {
                            if ("" === t.trim()) e.widgets.del(this);
                            else {
                                var r, i, o = this == e.widgets.focused,
                                    a = e.editable(),
                                    s = e.createRange();
                                o || (i = e.getSelection().createBookmarks()), s.setStartBefore(this.wrapper), s.setEndAfter(this.wrapper), o && (r = s.createBookmark()), a.insertHtmlIntoRange(t, s, n), e.widgets.checkWidgets({
                                    initOnlyNew: !0
                                }), e.widgets.destroy(this, !0), o ? (s.moveToBookmark(r), s.select()) : e.getSelection().selectBookmarks(i)
                            }
                        },
                        _getLoader: function() {
                            var e = this.wrapper.findOne("[data-cke-upload-id]");
                            return e ? this.editor.uploadRepository.loaders[e.data("cke-upload-id")] : null
                        }
                    }), e.widgets.add(t, n)
                },
                markElement: function(e, t, n) {
                    e.setAttributes({
                        "data-cke-upload-id": n,
                        "data-widget": t
                    })
                },
                bindNotifications: function(e, t) {
                    var n, r = null;
                    t.on("update", function() {
                        !r && t.uploadTotal && ((n = e._.uploadWidgetNotificaionAggregator) && !n.isFinished() || (n = e._.uploadWidgetNotificaionAggregator = new CKEDITOR.plugins.notificationAggregator(e, e.lang.uploadwidget.uploadMany, e.lang.uploadwidget.uploadOne)).once("finished", function() {
                            var t = n.getTaskCount();
                            0 === t ? n.notification.hide() : n.notification.update({
                                message: 1 == t ? e.lang.uploadwidget.doneOne : e.lang.uploadwidget.doneMany.replace("%1", t),
                                type: "success",
                                important: 1
                            })
                        }), r = n.createTask({
                            weight: t.uploadTotal
                        })), r && "uploading" == t.status && r.update(t.uploaded)
                    }), t.on("uploaded", function() {
                        r && r.done()
                    }), t.on("error", function() {
                        r && r.cancel(), e.showNotification(t.message, "warning")
                    }), t.on("abort", function() {
                        r && r.cancel(), e.showNotification(e.lang.uploadwidget.abort, "info")
                    })
                }
            }), function() {
                function e(e) {
                    return 9 >= e && (e = "0" + e), String(e)
                }

                function t(t) {
                    var r = [(r = new Date).getFullYear(), r.getMonth() + 1, r.getDate(), r.getHours(), r.getMinutes(), r.getSeconds()];
                    return n += 1, "image-" + CKEDITOR.tools.array.map(r, e).join("") + "-" + n + "." + t
                }
                var n = 0;
                CKEDITOR.plugins.add("uploadimage", {
                    requires: "uploadwidget",
                    onLoad: function() {
                        CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")
                    },
                    init: function(e) {
                        if (CKEDITOR.plugins.clipboard.isFileApiSupported) {
                            var n = CKEDITOR.fileTools,
                                r = n.getUploadUrl(e.config, "image");
                            r && (n.addUploadWidget(e, "uploadimage", {
                                supportedTypes: /image\/(jpeg|png|gif|bmp)/,
                                uploadUrl: r,
                                fileToElement: function() {
                                    var e = new CKEDITOR.dom.element("img");
                                    return e.setAttribute("src", "data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs="), e
                                },
                                parts: {
                                    img: "img"
                                },
                                onUploading: function(e) {
                                    this.parts.img.setAttribute("src", e.data)
                                },
                                onUploaded: function(e) {
                                    var t = this.parts.img.$;
                                    this.replaceWith('<img src="' + e.url + '" width="' + (e.responseData.width || t.naturalWidth) + '" height="' + (e.responseData.height || t.naturalHeight) + '">')
                                }
                            }), e.on("paste", function(i) {
                                if (i.data.dataValue.match(/<img[\s\S]+data:/i)) {
                                    i = i.data;
                                    var o, a, s, l = document.implementation.createHTMLDocument("");
                                    for ((l = new CKEDITOR.dom.element(l.body)).data("cke-editable", 1), l.appendHtml(i.dataValue), o = l.find("img"), s = 0; s < o.count(); s++) {
                                        var c = (a = o.getItem(s)).getAttribute("src"),
                                            u = c && "data:" == c.substring(0, 5),
                                            d = null === a.data("cke-realelement");
                                        u && d && !a.data("cke-upload-id") && !a.isReadOnly(1) && (u = (u = c.match(/image\/([a-z]+?);/i)) && u[1] || "jpg", (c = e.uploadRepository.create(c, t(u))).upload(r), n.markElement(a, "uploadimage", c.id), n.bindNotifications(e, c))
                                    }
                                    i.dataValue = l.getHtml()
                                }
                            }))
                        }
                    }
                })
            }(), CKEDITOR.plugins.add("wsc", {
                requires: "dialog",
                parseApi: function(e) {
                    e.config.wsc_onFinish = "function" == typeof e.config.wsc_onFinish ? e.config.wsc_onFinish : function() {}, e.config.wsc_onClose = "function" == typeof e.config.wsc_onClose ? e.config.wsc_onClose : function() {}
                },
                parseConfig: function(e) {
                    e.config.wsc_customerId = e.config.wsc_customerId || CKEDITOR.config.wsc_customerId || "1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk", e.config.wsc_customDictionaryIds = e.config.wsc_customDictionaryIds || CKEDITOR.config.wsc_customDictionaryIds || "", e.config.wsc_userDictionaryName = e.config.wsc_userDictionaryName || CKEDITOR.config.wsc_userDictionaryName || "", e.config.wsc_customLoaderScript = e.config.wsc_customLoaderScript || CKEDITOR.config.wsc_customLoaderScript, e.config.wsc_interfaceLang = e.config.wsc_interfaceLang, CKEDITOR.config.wsc_cmd = e.config.wsc_cmd || CKEDITOR.config.wsc_cmd || "spell", CKEDITOR.config.wsc_version = "v4.3.0-master-d769233", CKEDITOR.config.wsc_removeGlobalVariable = !0
                },
                onLoad: function(e) {
                    "moono-lisa" == (CKEDITOR.skinName || e.config.skin) && CKEDITOR.document.appendStyleSheet(this.path + "skins/" + CKEDITOR.skin.name + "/wsc.css")
                },
                init: function(e) {
                    var t = CKEDITOR.env;
                    this.parseConfig(e), this.parseApi(e), e.addCommand("checkspell", new CKEDITOR.dialogCommand("checkspell")).modes = {
                        wysiwyg: !(CKEDITOR.env.opera || CKEDITOR.env.air || document.domain != window.location.hostname || t.ie && (8 > t.version || t.quirks))
                    }, void 0 === e.plugins.scayt && e.ui.addButton && e.ui.addButton("SpellChecker", {
                        label: e.lang.wsc.toolbar,
                        click: function(e) {
                            var t = e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? e.container.getText() : e.document.getBody().getText();
                            (t = t.replace(/\s/g, "")) ? e.execCommand("checkspell"): alert("Nothing to check!")
                        },
                        toolbar: "spellchecker,10"
                    }), CKEDITOR.dialog.add("checkspell", this.path + (CKEDITOR.env.ie && 7 >= CKEDITOR.env.version ? "dialogs/wsc_ie.js" : window.postMessage ? "dialogs/wsc.js" : "dialogs/wsc_ie.js"))
                }
            }), function() {
                function e(e) {
                    function t(e) {
                        var t = !1;
                        a.attachListener(a, "keydown", function() {
                            var n = r.getBody().getElementsByTag(e);
                            if (!t) {
                                for (var i = 0; i < n.count(); i++) n.getItem(i).setCustomData("retain", !0);
                                t = !0
                            }
                        }, null, null, 1), a.attachListener(a, "keyup", function() {
                            var n = r.getElementsByTag(e);
                            t && (1 == n.count() && !n.getItem(0).getCustomData("retain") && CKEDITOR.tools.isEmpty(n.getItem(0).getAttributes()) && n.getItem(0).remove(1), t = !1)
                        })
                    }
                    var n = this.editor,
                        r = e.document,
                        i = r.body,
                        o = r.getElementById("cke_actscrpt");
                    o && o.parentNode.removeChild(o), (o = r.getElementById("cke_shimscrpt")) && o.parentNode.removeChild(o), (o = r.getElementById("cke_basetagscrpt")) && o.parentNode.removeChild(o), i.contentEditable = !0, CKEDITOR.env.ie && (i.hideFocus = !0, i.disabled = !0, i.removeAttribute("disabled")), delete this._.isLoadingData, this.$ = i, r = new CKEDITOR.dom.document(r), this.setup(), this.fixInitialSelection();
                    var a = this;
                    CKEDITOR.env.ie && !CKEDITOR.env.edge && r.getDocumentElement().addClass(r.$.compatMode), CKEDITOR.env.ie && !CKEDITOR.env.edge && n.enterMode != CKEDITOR.ENTER_P ? t("p") : CKEDITOR.env.edge && 15 > CKEDITOR.env.version && n.enterMode != CKEDITOR.ENTER_DIV && t("div"), (CKEDITOR.env.webkit || CKEDITOR.env.ie && 10 < CKEDITOR.env.version) && r.getDocumentElement().on("mousedown", function(e) {
                            e.data.getTarget().is("html") && setTimeout(function() {
                                n.editable().focus()
                            })
                        }),
                        function(e) {
                            function t(e) {
                                e.returnValue = !1
                            }
                            if (CKEDITOR.env.gecko) try {
                                var n = e.document.$;
                                n.execCommand("enableObjectResizing", !1, !e.config.disableObjectResizing), n.execCommand("enableInlineTableEditing", !1, !e.config.disableNativeTableHandles)
                            } catch (e) {} else CKEDITOR.env.ie && 11 > CKEDITOR.env.version && e.config.disableObjectResizing && function() {
                                var n;
                                e.editable().attachListener(e, "selectionChange", function() {
                                    var r = e.getSelection().getSelectedElement();
                                    r && (n && (n.detachEvent("onresizestart", t), n = null), r.$.attachEvent("onresizestart", t), n = r.$)
                                })
                            }()
                        }(n);
                    try {
                        n.document.$.execCommand("2D-position", !1, !0)
                    } catch (e) {}(CKEDITOR.env.gecko || CKEDITOR.env.ie && "CSS1Compat" == n.document.$.compatMode) && this.attachListener(this, "keydown", function(e) {
                        var t = e.data.getKeystroke();
                        if (33 == t || 34 == t)
                            if (CKEDITOR.env.ie) setTimeout(function() {
                                n.getSelection().scrollIntoView()
                            }, 0);
                            else if (n.window.$.innerHeight > this.$.offsetHeight) {
                            var r = n.createRange();
                            r[33 == t ? "moveToElementEditStart" : "moveToElementEditEnd"](this), r.select(), e.data.preventDefault()
                        }
                    }), CKEDITOR.env.ie && this.attachListener(r, "blur", function() {
                        try {
                            r.$.selection.empty()
                        } catch (e) {}
                    }), CKEDITOR.env.iOS && this.attachListener(r, "touchend", function() {
                        e.focus()
                    }), (i = n.document.getElementsByTag("title").getItem(0)).data("cke-title", i.getText()), CKEDITOR.env.ie && (n.document.$.title = this._.docTitle), CKEDITOR.tools.setTimeout(function() {
                        "unloaded" == this.status && (this.status = "ready"), n.fire("contentDom"), this._.isPendingFocus && (n.focus(), this._.isPendingFocus = !1), setTimeout(function() {
                            n.fire("dataReady")
                        }, 0)
                    }, 0, this)
                }
                var t;
                CKEDITOR.plugins.add("wysiwygarea", {
                    init: function(e) {
                        e.config.fullPage && e.addFeature({
                            allowedContent: "html head title; style [media,type]; body (*)[id]; meta link [*]",
                            requiredContent: "body"
                        }), e.addMode("wysiwyg", function(n) {
                            function r(r) {
                                r && r.removeListener(), e.editable(new t(e, o.$.contentWindow.document.body)), e.setData(e.getData(1), n)
                            }
                            var i = "document.open();" + (CKEDITOR.env.ie ? "(" + CKEDITOR.tools.fixDomain + ")();" : "") + "document.close();",
                                o = (i = CKEDITOR.env.air ? "javascript:void(0)" : CKEDITOR.env.ie && !CKEDITOR.env.edge ? "javascript:void(function(){" + encodeURIComponent(i) + "}())" : "", CKEDITOR.dom.element.createFromHtml('<iframe src="' + i + '" frameBorder="0"></iframe>'));
                            o.setStyles({
                                width: "100%",
                                height: "100%"
                            }), o.addClass("cke_wysiwyg_frame").addClass("cke_reset"), (i = e.ui.space("contents")).append(o);
                            var a = CKEDITOR.env.ie && !CKEDITOR.env.edge || CKEDITOR.env.gecko;
                            a && o.on("load", r);
                            var s = e.title,
                                l = e.fire("ariaEditorHelpLabel", {}).label;
                            if (s && (CKEDITOR.env.ie && l && (s += ", " + l), o.setAttribute("title", s)), l) {
                                s = CKEDITOR.tools.getNextId();
                                var c = CKEDITOR.dom.element.createFromHtml('<span id="' + s + '" class="cke_voice_label">' + l + "</span>");
                                i.append(c, 1), o.setAttribute("aria-describedby", s)
                            }
                            e.on("beforeModeUnload", function(e) {
                                e.removeListener(), c && c.remove()
                            }), o.setAttributes({
                                tabIndex: e.tabIndex,
                                allowTransparency: "true"
                            }), !a && r(), e.fire("ariaWidget", o)
                        })
                    }
                }), CKEDITOR.editor.prototype.addContentsCss = function(e) {
                    var t = this.config,
                        n = t.contentsCss;
                    CKEDITOR.tools.isArray(n) || (t.contentsCss = n ? [n] : []), t.contentsCss.push(e)
                }, t = CKEDITOR.tools.createClass({
                    $: function() {
                        this.base.apply(this, arguments), this._.frameLoadedHandler = CKEDITOR.tools.addFunction(function(t) {
                            CKEDITOR.tools.setTimeout(e, 0, this, t)
                        }, this), this._.docTitle = this.getWindow().getFrame().getAttribute("title")
                    },
                    base: CKEDITOR.editable,
                    proto: {
                        setData: function(e, t) {
                            var n = this.editor;
                            if (t) this.setHtml(e), this.fixInitialSelection(), n.fire("dataReady");
                            else {
                                this._.isLoadingData = !0, n._.dataStore = {
                                    id: 1
                                };
                                var r = n.config,
                                    i = r.fullPage,
                                    o = r.docType,
                                    a = CKEDITOR.tools.buildStyleHtml(function() {
                                        var e = [];
                                        if (8 <= CKEDITOR.document.$.documentMode) {
                                            e.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");
                                            var t, n = [];
                                            for (t in CKEDITOR.dtd.$removeEmpty) n.push("html.CSS1Compat " + t + "[contenteditable=false]");
                                            e.push(n.join(",") + "{display:inline-block}")
                                        } else CKEDITOR.env.gecko && (e.push("html{height:100% !important}"), e.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));
                                        return e.push("html{cursor:text;*cursor:auto}"), e.push("img,input,textarea{cursor:default}"), e.join("\n")
                                    }()).replace(/<style>/, '<style data-cke-temp="1">');
                                i || (a += CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));
                                var s = r.baseHref ? '<base href="' + r.baseHref + '" data-cke-temp="1" />' : "";
                                i && (e = e.replace(/<!DOCTYPE[^>]*>/i, function(e) {
                                    return n.docType = o = e, ""
                                }).replace(/<\?xml\s[^\?]*\?>/i, function(e) {
                                    return n.xmlDeclaration = e, ""
                                })), e = n.dataProcessor.toHtml(e), i ? (/<body[\s|>]/.test(e) || (e = "<body>" + e), /<html[\s|>]/.test(e) || (e = "<html>" + e + "</html>"), /<head[\s|>]/.test(e) ? /<title[\s|>]/.test(e) || (e = e.replace(/<head[^>]*>/, "$&<title></title>")) : e = e.replace(/<html[^>]*>/, "$&<head><title></title></head>"), s && (e = e.replace(/<head[^>]*?>/, "$&" + s)), e = e.replace(/<\/head\s*>/, a + "$&"), e = o + e) : e = r.docType + '<html dir="' + r.contentsLangDirection + '" lang="' + (r.contentsLanguage || n.langCode) + '"><head><title>' + this._.docTitle + "</title>" + s + a + "</head><body" + (r.bodyId ? ' id="' + r.bodyId + '"' : "") + (r.bodyClass ? ' class="' + r.bodyClass + '"' : "") + ">" + e + "</body></html>", CKEDITOR.env.gecko && (e = e.replace(/<body/, '<body contenteditable="true" '), 2e4 > CKEDITOR.env.version && (e = e.replace(/<body[^>]*>/, "$&\x3c!-- cke-content-start --\x3e"))), r = '<script id="cke_actscrpt" type="text/javascript"' + (CKEDITOR.env.ie ? ' defer="defer" ' : "") + ">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction(" + this._.frameLoadedHandler + ",window);wasLoaded=1;}" + (CKEDITOR.env.ie ? "onload();" : 'document.addEventListener("DOMContentLoaded", onload, false );') + "<\/script>", CKEDITOR.env.ie && 9 > CKEDITOR.env.version && (r += '<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)<\/script>'), s && CKEDITOR.env.ie && 10 > CKEDITOR.env.version && (r += '<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;<\/script>'), e = e.replace(/(?=\s*<\/(:?head)>)/, r), this.clearCustomData(), this.clearListeners(), n.fire("contentDomUnload");
                                var l = this.getDocument();
                                try {
                                    l.write(e)
                                } catch (t) {
                                    setTimeout(function() {
                                        l.write(e)
                                    }, 0)
                                }
                            }
                        },
                        getData: function(e) {
                            if (e) return this.getHtml();
                            var t = (e = this.editor).config,
                                n = (o = t.fullPage) && e.docType,
                                r = o && e.xmlDeclaration,
                                i = this.getDocument(),
                                o = o ? i.getDocumentElement().getOuterHtml() : i.getBody().getHtml();
                            return CKEDITOR.env.gecko && t.enterMode != CKEDITOR.ENTER_BR && (o = o.replace(/<br>(?=\s*(:?$|<\/body>))/, "")), o = e.dataProcessor.toDataFormat(o), r && (o = r + "\n" + o), n && (o = n + "\n" + o), o
                        },
                        focus: function() {
                            this._.isLoadingData ? this._.isPendingFocus = !0 : t.baseProto.focus.call(this)
                        },
                        detach: function() {
                            var e, n = this.editor,
                                r = n.document;
                            try {
                                e = n.window.getFrame()
                            } catch (e) {}
                            t.baseProto.detach.call(this), this.clearCustomData(), r.getDocumentElement().clearCustomData(), CKEDITOR.tools.removeFunction(this._.frameLoadedHandler), e && e.getParent() ? (e.clearCustomData(), (n = e.removeCustomData("onResize")) && n.removeListener(), e.remove()) : CKEDITOR.warn("editor-destroy-iframe")
                        }
                    }
                })
            }(), CKEDITOR.config.disableObjectResizing = !1, CKEDITOR.config.disableNativeTableHandles = !0, CKEDITOR.config.disableNativeSpellChecker = !0, CKEDITOR.config.plugins = "dialogui,dialog,a11yhelp,about,basicstyles,blockquote,notification,button,toolbar,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filetools,filebrowser,floatingspace,listblock,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,tableselection,undo,lineutils,widgetselection,widget,notificationaggregator,uploadwidget,uploadimage,wsc,wysiwygarea", CKEDITOR.config.skin = "moono-lisa", function() {
                var e = function(e, t) {
                    var n = CKEDITOR.getUrl("plugins/" + t);
                    e = e.split(",");
                    for (var r = 0; r < e.length; r++) CKEDITOR.skin.icons[e[r]] = {
                        path: n,
                        offset: -e[++r],
                        bgsize: e[++r]
                    }
                };
                CKEDITOR.env.hidpi ? e("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,copyformatting,456,,creatediv,480,,docprops-rtl,504,,docprops,528,,easyimagealigncenter,552,,easyimagealignleft,576,,easyimagealignright,600,,easyimagealt,624,,easyimagefull,648,,easyimageside,672,,easyimageupload,696,,embed,720,,embedsemantic,744,,find-rtl,768,,find,792,,replace,816,,flash,840,,button,864,,checkbox,888,,form,912,,hiddenfield,936,,imagebutton,960,,radio,984,,select-rtl,1008,,select,1032,,textarea-rtl,1056,,textarea,1080,,textfield-rtl,1104,,textfield,1128,,horizontalrule,1152,,iframe,1176,,image,1200,,indent-rtl,1224,,indent,1248,,outdent-rtl,1272,,outdent,1296,,justifyblock,1320,,justifycenter,1344,,justifyleft,1368,,justifyright,1392,,language,1416,,anchor-rtl,1440,,anchor,1464,,link,1488,,unlink,1512,,bulletedlist-rtl,1536,,bulletedlist,1560,,numberedlist-rtl,1584,,numberedlist,1608,,mathjax,1632,,maximize,1656,,newpage-rtl,1680,,newpage,1704,,pagebreak-rtl,1728,,pagebreak,1752,,pastefromword-rtl,1776,,pastefromword,1800,,pastetext-rtl,1824,,pastetext,1848,,placeholder,1872,,preview-rtl,1896,,preview,1920,,print,1944,,removeformat,1968,,save,1992,,scayt,2016,,selectall,2040,,showblocks-rtl,2064,,showblocks,2088,,smiley,2112,,source-rtl,2136,,source,2160,,sourcedialog-rtl,2184,,sourcedialog,2208,,specialchar,2232,,table,2256,,templates-rtl,2280,,templates,2304,,uicolor,2328,,redo-rtl,2352,,redo,2376,,undo-rtl,2400,,undo,2424,,simplebox,4896,auto,spellchecker,2472,", "icons_hidpi.png") : e("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,copyformatting,456,auto,creatediv,480,auto,docprops-rtl,504,auto,docprops,528,auto,easyimagealigncenter,552,auto,easyimagealignleft,576,auto,easyimagealignright,600,auto,easyimagealt,624,auto,easyimagefull,648,auto,easyimageside,672,auto,easyimageupload,696,auto,embed,720,auto,embedsemantic,744,auto,find-rtl,768,auto,find,792,auto,replace,816,auto,flash,840,auto,button,864,auto,checkbox,888,auto,form,912,auto,hiddenfield,936,auto,imagebutton,960,auto,radio,984,auto,select-rtl,1008,auto,select,1032,auto,textarea-rtl,1056,auto,textarea,1080,auto,textfield-rtl,1104,auto,textfield,1128,auto,horizontalrule,1152,auto,iframe,1176,auto,image,1200,auto,indent-rtl,1224,auto,indent,1248,auto,outdent-rtl,1272,auto,outdent,1296,auto,justifyblock,1320,auto,justifycenter,1344,auto,justifyleft,1368,auto,justifyright,1392,auto,language,1416,auto,anchor-rtl,1440,auto,anchor,1464,auto,link,1488,auto,unlink,1512,auto,bulletedlist-rtl,1536,auto,bulletedlist,1560,auto,numberedlist-rtl,1584,auto,numberedlist,1608,auto,mathjax,1632,auto,maximize,1656,auto,newpage-rtl,1680,auto,newpage,1704,auto,pagebreak-rtl,1728,auto,pagebreak,1752,auto,pastefromword-rtl,1776,auto,pastefromword,1800,auto,pastetext-rtl,1824,auto,pastetext,1848,auto,placeholder,1872,auto,preview-rtl,1896,auto,preview,1920,auto,print,1944,auto,removeformat,1968,auto,save,1992,auto,scayt,2016,auto,selectall,2040,auto,showblocks-rtl,2064,auto,showblocks,2088,auto,smiley,2112,auto,source-rtl,2136,auto,source,2160,auto,sourcedialog-rtl,2184,auto,sourcedialog,2208,auto,specialchar,2232,auto,table,2256,auto,templates-rtl,2280,auto,templates,2304,auto,uicolor,2328,auto,redo-rtl,2352,auto,redo,2376,auto,undo-rtl,2400,auto,undo,2424,auto,simplebox,2448,auto,spellchecker,2472,auto", "icons.png")
            }())
        },
        vp08: function(e, t, n) {
            ace.define("ace/mode/doc_comment_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function(e, t, n) {
                "use strict";
                var r = e("../lib/oop"),
                    i = e("./text_highlight_rules").TextHighlightRules,
                    o = function() {
                        this.$rules = {
                            start: [{
                                token: "comment.doc.tag",
                                regex: "@[\\w\\d_]+"
                            }, o.getTagRule(), {
                                defaultToken: "comment.doc",
                                caseInsensitive: !0
                            }]
                        }
                    };
                r.inherits(o, i), o.getTagRule = function(e) {
                    return {
                        token: "comment.doc.tag.storage.type",
                        regex: "\\b(?:TODO|FIXME|XXX|HACK)\\b"
                    }
                }, o.getStartRule = function(e) {
                    return {
                        token: "comment.doc",
                        regex: "\\/\\*(?=\\*)",
                        next: e
                    }
                }, o.getEndRule = function(e) {
                    return {
                        token: "comment.doc",
                        regex: "\\*\\/",
                        next: e
                    }
                }, t.DocCommentHighlightRules = o
            }), ace.define("ace/mode/javascript_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/doc_comment_highlight_rules", "ace/mode/text_highlight_rules"], function(e, t, n) {
                "use strict";
                var r = e("../lib/oop"),
                    i = e("./doc_comment_highlight_rules").DocCommentHighlightRules,
                    o = e("./text_highlight_rules").TextHighlightRules,
                    a = "[a-zA-Z\\$_\xa1-\uffff][a-zA-Z\\d\\$_\xa1-\uffff]*",
                    s = function(e) {
                        var t = this.createKeywordMapper({
                                "variable.language": "Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",
                                keyword: "const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static",
                                "storage.type": "const|let|var|function",
                                "constant.language": "null|Infinity|NaN|undefined",
                                "support.function": "alert",
                                "constant.language.boolean": "true|false"
                            }, "identifier"),
                            n = "\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";
                        this.$rules = {
                            no_regex: [i.getStartRule("doc-start"), l("no_regex"), {
                                token: "string",
                                regex: "'(?=.)",
                                next: "qstring"
                            }, {
                                token: "string",
                                regex: '"(?=.)',
                                next: "qqstring"
                            }, {
                                token: "constant.numeric",
                                regex: /0(?:[xX][0-9a-fA-F]+|[bB][01]+)\b/
                            }, {
                                token: "constant.numeric",
                                regex: /[+-]?\d[\d_]*(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/
                            }, {
                                token: ["storage.type", "punctuation.operator", "support.function", "punctuation.operator", "entity.name.function", "text", "keyword.operator"],
                                regex: "(" + a + ")(\\.)(prototype)(\\.)(" + a + ")(\\s*)(=)",
                                next: "function_arguments"
                            }, {
                                token: ["storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "paren.lparen"],
                                regex: "(" + a + ")(\\.)(" + a + ")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                                next: "function_arguments"
                            }, {
                                token: ["entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "paren.lparen"],
                                regex: "(" + a + ")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                                next: "function_arguments"
                            }, {
                                token: ["storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "entity.name.function", "text", "paren.lparen"],
                                regex: "(" + a + ")(\\.)(" + a + ")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",
                                next: "function_arguments"
                            }, {
                                token: ["storage.type", "text", "entity.name.function", "text", "paren.lparen"],
                                regex: "(function)(\\s+)(" + a + ")(\\s*)(\\()",
                                next: "function_arguments"
                            }, {
                                token: ["entity.name.function", "text", "punctuation.operator", "text", "storage.type", "text", "paren.lparen"],
                                regex: "(" + a + ")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",
                                next: "function_arguments"
                            }, {
                                token: ["text", "text", "storage.type", "text", "paren.lparen"],
                                regex: "(:)(\\s*)(function)(\\s*)(\\()",
                                next: "function_arguments"
                            }, {
                                token: "keyword",
                                regex: "(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",
                                next: "start"
                            }, {
                                token: ["support.constant"],
                                regex: /that\b/
                            }, {
                                token: ["storage.type", "punctuation.operator", "support.function.firebug"],
                                regex: /(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/
                            }, {
                                token: t,
                                regex: a
                            }, {
                                token: "punctuation.operator",
                                regex: /[.](?![.])/,
                                next: "property"
                            }, {
                                token: "keyword.operator",
                                regex: /--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,
                                next: "start"
                            }, {
                                token: "punctuation.operator",
                                regex: /[?:,;.]/,
                                next: "start"
                            }, {
                                token: "paren.lparen",
                                regex: /[\[({]/,
                                next: "start"
                            }, {
                                token: "paren.rparen",
                                regex: /[\])}]/
                            }, {
                                token: "comment",
                                regex: /^#!.*$/
                            }],
                            property: [{
                                token: "text",
                                regex: "\\s+"
                            }, {
                                token: ["storage.type", "punctuation.operator", "entity.name.function", "text", "keyword.operator", "text", "storage.type", "text", "entity.name.function", "text", "paren.lparen"],
                                regex: "(" + a + ")(\\.)(" + a + ")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",
                                next: "function_arguments"
                            }, {
                                token: "punctuation.operator",
                                regex: /[.](?![.])/
                            }, {
                                token: "support.function",
                                regex: /(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/
                            }, {
                                token: "support.function.dom",
                                regex: /(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/
                            }, {
                                token: "support.constant",
                                regex: /(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/
                            }, {
                                token: "identifier",
                                regex: a
                            }, {
                                regex: "",
                                token: "empty",
                                next: "no_regex"
                            }],
                            start: [i.getStartRule("doc-start"), l("start"), {
                                token: "string.regexp",
                                regex: "\\/",
                                next: "regex"
                            }, {
                                token: "text",
                                regex: "\\s+|^$",
                                next: "start"
                            }, {
                                token: "empty",
                                regex: "",
                                next: "no_regex"
                            }],
                            regex: [{
                                token: "regexp.keyword.operator",
                                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
                            }, {
                                token: "string.regexp",
                                regex: "/[sxngimy]*",
                                next: "no_regex"
                            }, {
                                token: "invalid",
                                regex: /\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/
                            }, {
                                token: "constant.language.escape",
                                regex: /\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/
                            }, {
                                token: "constant.language.delimiter",
                                regex: /\|/
                            }, {
                                token: "constant.language.escape",
                                regex: /\[\^?/,
                                next: "regex_character_class"
                            }, {
                                token: "empty",
                                regex: "$",
                                next: "no_regex"
                            }, {
                                defaultToken: "string.regexp"
                            }],
                            regex_character_class: [{
                                token: "regexp.charclass.keyword.operator",
                                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
                            }, {
                                token: "constant.language.escape",
                                regex: "]",
                                next: "regex"
                            }, {
                                token: "constant.language.escape",
                                regex: "-"
                            }, {
                                token: "empty",
                                regex: "$",
                                next: "no_regex"
                            }, {
                                defaultToken: "string.regexp.charachterclass"
                            }],
                            function_arguments: [{
                                token: "variable.parameter",
                                regex: a
                            }, {
                                token: "punctuation.operator",
                                regex: "[, ]+"
                            }, {
                                token: "punctuation.operator",
                                regex: "$"
                            }, {
                                token: "empty",
                                regex: "",
                                next: "no_regex"
                            }],
                            qqstring: [{
                                token: "constant.language.escape",
                                regex: n
                            }, {
                                token: "string",
                                regex: "\\\\$",
                                next: "qqstring"
                            }, {
                                token: "string",
                                regex: '"|$',
                                next: "no_regex"
                            }, {
                                defaultToken: "string"
                            }],
                            qstring: [{
                                token: "constant.language.escape",
                                regex: n
                            }, {
                                token: "string",
                                regex: "\\\\$",
                                next: "qstring"
                            }, {
                                token: "string",
                                regex: "'|$",
                                next: "no_regex"
                            }, {
                                defaultToken: "string"
                            }]
                        }, e && e.noES6 || (this.$rules.no_regex.unshift({
                            regex: "[{}]",
                            onMatch: function(e, t, n) {
                                if (this.next = "{" == e ? this.nextState : "", "{" == e && n.length) n.unshift("start", t);
                                else if ("}" == e && n.length && (n.shift(), this.next = n.shift(), -1 != this.next.indexOf("string") || -1 != this.next.indexOf("jsx"))) return "paren.quasi.end";
                                return "{" == e ? "paren.lparen" : "paren.rparen"
                            },
                            nextState: "start"
                        }, {
                            token: "string.quasi.start",
                            regex: /`/,
                            push: [{
                                token: "constant.language.escape",
                                regex: n
                            }, {
                                token: "paren.quasi.start",
                                regex: /\${/,
                                push: "start"
                            }, {
                                token: "string.quasi.end",
                                regex: /`/,
                                next: "pop"
                            }, {
                                defaultToken: "string.quasi"
                            }]
                        }), e && 0 == e.jsx || (function() {
                            var e = a.replace("\\d", "\\d\\-"),
                                t = {
                                    onMatch: function(e, t, n) {
                                        var r = "/" == e.charAt(1) ? 2 : 1;
                                        return 1 == r ? (t != this.nextState ? n.unshift(this.next, this.nextState, 0) : n.unshift(this.next), n[2]++) : 2 == r && t == this.nextState && (n[1]--, (!n[1] || n[1] < 0) && (n.shift(), n.shift())), [{
                                            type: "meta.tag.punctuation." + (1 == r ? "" : "end-") + "tag-open.xml",
                                            value: e.slice(0, r)
                                        }, {
                                            type: "meta.tag.tag-name.xml",
                                            value: e.substr(r)
                                        }]
                                    },
                                    regex: "</?" + e,
                                    next: "jsxAttributes",
                                    nextState: "jsx"
                                };
                            this.$rules.start.unshift(t);
                            var n = {
                                regex: "{",
                                token: "paren.quasi.start",
                                push: "start"
                            };
                            this.$rules.jsx = [n, t, {
                                include: "reference"
                            }, {
                                defaultToken: "string"
                            }], this.$rules.jsxAttributes = [{
                                token: "meta.tag.punctuation.tag-close.xml",
                                regex: "/?>",
                                onMatch: function(e, t, n) {
                                    return t == n[0] && n.shift(), 2 == e.length && (n[0] == this.nextState && n[1]--, (!n[1] || n[1] < 0) && n.splice(0, 2)), this.next = n[0] || "start", [{
                                        type: this.token,
                                        value: e
                                    }]
                                },
                                nextState: "jsx"
                            }, n, l("jsxAttributes"), {
                                token: "entity.other.attribute-name.xml",
                                regex: e
                            }, {
                                token: "keyword.operator.attribute-equals.xml",
                                regex: "="
                            }, {
                                token: "text.tag-whitespace.xml",
                                regex: "\\s+"
                            }, {
                                token: "string.attribute-value.xml",
                                regex: "'",
                                stateName: "jsx_attr_q",
                                push: [{
                                    token: "string.attribute-value.xml",
                                    regex: "'",
                                    next: "pop"
                                }, {
                                    include: "reference"
                                }, {
                                    defaultToken: "string.attribute-value.xml"
                                }]
                            }, {
                                token: "string.attribute-value.xml",
                                regex: '"',
                                stateName: "jsx_attr_qq",
                                push: [{
                                    token: "string.attribute-value.xml",
                                    regex: '"',
                                    next: "pop"
                                }, {
                                    include: "reference"
                                }, {
                                    defaultToken: "string.attribute-value.xml"
                                }]
                            }, t], this.$rules.reference = [{
                                token: "constant.language.escape.reference.xml",
                                regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
                            }]
                        }).call(this)), this.embedRules(i, "doc-", [i.getEndRule("no_regex")]), this.normalizeRules()
                    };

                function l(e) {
                    return [{
                        token: "comment",
                        regex: /\/\*/,
                        next: [i.getTagRule(), {
                            token: "comment",
                            regex: "\\*\\/",
                            next: e || "pop"
                        }, {
                            defaultToken: "comment",
                            caseInsensitive: !0
                        }]
                    }, {
                        token: "comment",
                        regex: "\\/\\/",
                        next: [i.getTagRule(), {
                            token: "comment",
                            regex: "$|^",
                            next: e || "pop"
                        }, {
                            defaultToken: "comment",
                            caseInsensitive: !0
                        }]
                    }]
                }
                r.inherits(s, o), t.JavaScriptHighlightRules = s
            }), ace.define("ace/mode/matching_brace_outdent", ["require", "exports", "module", "ace/range"], function(e, t, n) {
                "use strict";
                var r = e("../range").Range,
                    i = function() {};
                (function() {
                    this.checkOutdent = function(e, t) {
                        return !!/^\s+$/.test(e) && /^\s*\}/.test(t)
                    }, this.autoOutdent = function(e, t) {
                        var n = e.getLine(t).match(/^(\s*\})/);
                        if (!n) return 0;
                        var i = n[1].length,
                            o = e.findMatchingBracket({
                                row: t,
                                column: i
                            });
                        if (!o || o.row == t) return 0;
                        var a = this.$getIndent(e.getLine(o.row));
                        e.replace(new r(t, 0, t, i - 1), a)
                    }, this.$getIndent = function(e) {
                        return e.match(/^\s*/)[0]
                    }
                }).call(i.prototype), t.MatchingBraceOutdent = i
            }), ace.define("ace/mode/folding/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode"], function(e, t, n) {
                "use strict";
                var r = e("../../lib/oop"),
                    i = e("../../range").Range,
                    o = e("./fold_mode").FoldMode,
                    a = t.FoldMode = function(e) {
                        e && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + e.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + e.end)))
                    };
                r.inherits(a, o), (function() {
                    this.foldingStartMarker = /(\{|\[)[^\}\]]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function(e, t, n) {
                        var r = e.getLine(n);
                        if (this.singleLineBlockCommentRe.test(r) && !this.startRegionRe.test(r) && !this.tripleStarBlockCommentRe.test(r)) return "";
                        var i = this._getFoldWidgetBase(e, t, n);
                        return !i && this.startRegionRe.test(r) ? "start" : i
                    }, this.getFoldWidgetRange = function(e, t, n, r) {
                        var i, o = e.getLine(n);
                        if (this.startRegionRe.test(o)) return this.getCommentRegionBlock(e, o, n);
                        if (i = o.match(this.foldingStartMarker)) {
                            var a = i.index;
                            if (i[1]) return this.openingBracketBlock(e, i[1], n, a);
                            var s = e.getCommentFoldRange(n, a + i[0].length, 1);
                            return s && !s.isMultiLine() && (r ? s = this.getSectionRange(e, n) : "all" != t && (s = null)), s
                        }
                        return "markbegin" !== t && (i = o.match(this.foldingStopMarker)) ? (a = i.index + i[0].length, i[1] ? this.closingBracketBlock(e, i[1], n, a) : e.getCommentFoldRange(n, a, -1)) : void 0
                    }, this.getSectionRange = function(e, t) {
                        for (var n = e.getLine(t), r = n.search(/\S/), o = t, a = n.length, s = t += 1, l = e.getLength(); ++t < l;) {
                            var c = (n = e.getLine(t)).search(/\S/);
                            if (-1 !== c) {
                                if (r > c) break;
                                var u = this.getFoldWidgetRange(e, "all", t);
                                if (u) {
                                    if (u.start.row <= o) break;
                                    if (u.isMultiLine()) t = u.end.row;
                                    else if (r == c) break
                                }
                                s = t
                            }
                        }
                        return new i(o, a, s, e.getLine(s).length)
                    }, this.getCommentRegionBlock = function(e, t, n) {
                        for (var r = t.search(/\s*$/), o = e.getLength(), a = n, s = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/, l = 1; ++n < o;) {
                            t = e.getLine(n);
                            var c = s.exec(t);
                            if (c && (c[1] ? l-- : l++, !l)) break
                        }
                        if (n > a) return new i(a, r, n, t.length)
                    }
                }).call(a.prototype)
            }), ace.define("ace/mode/javascript", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/javascript_highlight_rules", "ace/mode/matching_brace_outdent", "ace/worker/worker_client", "ace/mode/behaviour/cstyle", "ace/mode/folding/cstyle"], function(e, t, r) {
                "use strict";
                var i = e("../lib/oop"),
                    o = e("./text").Mode,
                    a = e("./javascript_highlight_rules").JavaScriptHighlightRules,
                    s = e("./matching_brace_outdent").MatchingBraceOutdent,
                    l = e("../worker/worker_client").WorkerClient,
                    c = e("./behaviour/cstyle").CstyleBehaviour,
                    u = e("./folding/cstyle").FoldMode,
                    d = function() {
                        this.HighlightRules = a, this.$outdent = new s, this.$behaviour = new c, this.foldingRules = new u
                    };
                i.inherits(d, o), (function() {
                    this.lineCommentStart = "//", this.blockComment = {
                        start: "/*",
                        end: "*/"
                    }, this.getNextLineIndent = function(e, t, n) {
                        var r = this.$getIndent(t),
                            i = this.getTokenizer().getLineTokens(t, e),
                            o = i.tokens,
                            a = i.state;
                        if (o.length && "comment" == o[o.length - 1].type) return r;
                        if ("start" == e || "no_regex" == e)(s = t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/)) && (r += n);
                        else if ("doc-start" == e) {
                            if ("start" == a || "no_regex" == a) return "";
                            var s;
                            (s = t.match(/^\s*(\/?)\*/)) && (s[1] && (r += " "), r += "* ")
                        }
                        return r
                    }, this.checkOutdent = function(e, t, n) {
                        return this.$outdent.checkOutdent(t, n)
                    }, this.autoOutdent = function(e, t, n) {
                        this.$outdent.autoOutdent(t, n)
                    }, this.createWorker = function(e) {
                        var t = new l(["ace"], n("bWjX"), "JavaScriptWorker");
                        return t.attachToDocument(e.getDocument()), t.on("annotate", function(t) {
                            e.setAnnotations(t.data)
                        }), t.on("terminate", function() {
                            e.clearAnnotations()
                        }), t
                    }, this.$id = "ace/mode/javascript"
                }).call(d.prototype), t.Mode = d
            }), ace.define("ace/mode/css_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/text_highlight_rules"], function(e, t, n) {
                "use strict";
                var r = e("../lib/oop"),
                    i = (e("../lib/lang"), e("./text_highlight_rules").TextHighlightRules),
                    o = t.supportType = "align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|min-height|min-width|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",
                    a = t.supportFunction = "rgb|rgba|url|attr|counter|counters",
                    s = t.supportConstant = "absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero",
                    l = t.supportConstantColor = "aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow",
                    c = t.supportConstantFonts = "arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",
                    u = t.numRe = "\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",
                    d = t.pseudoElements = "(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",
                    h = t.pseudoClasses = "(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|acequired|root|target|valid|visited)\\b",
                    p = function() {
                        var e = this.createKeywordMapper({
                            "support.function": a,
                            "support.constant": s,
                            "support.type": o,
                            "support.constant.color": l,
                            "support.constant.fonts": c
                        }, "text", !0);
                        this.$rules = {
                            start: [{
                                token: "comment",
                                regex: "\\/\\*",
                                push: "comment"
                            }, {
                                token: "paren.lparen",
                                regex: "\\{",
                                push: "ruleset"
                            }, {
                                token: "string",
                                regex: "@.*?{",
                                push: "media"
                            }, {
                                token: "keyword",
                                regex: "#[a-z0-9-_]+"
                            }, {
                                token: "variable",
                                regex: "\\.[a-z0-9-_]+"
                            }, {
                                token: "string",
                                regex: ":[a-z0-9-_]+"
                            }, {
                                token: "constant",
                                regex: "[a-z0-9-_]+"
                            }, {
                                caseInsensitive: !0
                            }],
                            media: [{
                                token: "comment",
                                regex: "\\/\\*",
                                push: "comment"
                            }, {
                                token: "paren.lparen",
                                regex: "\\{",
                                push: "ruleset"
                            }, {
                                token: "string",
                                regex: "\\}",
                                next: "pop"
                            }, {
                                token: "keyword",
                                regex: "#[a-z0-9-_]+"
                            }, {
                                token: "variable",
                                regex: "\\.[a-z0-9-_]+"
                            }, {
                                token: "string",
                                regex: ":[a-z0-9-_]+"
                            }, {
                                token: "constant",
                                regex: "[a-z0-9-_]+"
                            }, {
                                caseInsensitive: !0
                            }],
                            comment: [{
                                token: "comment",
                                regex: "\\*\\/",
                                next: "pop"
                            }, {
                                defaultToken: "comment"
                            }],
                            ruleset: [{
                                token: "paren.rparen",
                                regex: "\\}",
                                next: "pop"
                            }, {
                                token: "comment",
                                regex: "\\/\\*",
                                push: "comment"
                            }, {
                                token: "string",
                                regex: '["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'
                            }, {
                                token: "string",
                                regex: "['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"
                            }, {
                                token: ["constant.numeric", "keyword"],
                                regex: "(" + u + ")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"
                            }, {
                                token: "constant.numeric",
                                regex: u
                            }, {
                                token: "constant.numeric",
                                regex: "#[a-f0-9]{6}"
                            }, {
                                token: "constant.numeric",
                                regex: "#[a-f0-9]{3}"
                            }, {
                                token: ["punctuation", "entity.other.attribute-name.pseudo-element.css"],
                                regex: d
                            }, {
                                token: ["punctuation", "entity.other.attribute-name.pseudo-class.css"],
                                regex: h
                            }, {
                                token: ["support.function", "string", "support.function"],
                                regex: "(url\\()(.*)(\\))"
                            }, {
                                token: e,
                                regex: "\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"
                            }, {
                                caseInsensitive: !0
                            }]
                        }, this.normalizeRules()
                    };
                r.inherits(p, i), t.CssHighlightRules = p
            }), ace.define("ace/mode/css_completions", ["require", "exports", "module"], function(e, t, n) {
                "use strict";
                var r = {
                        background: {
                            "#$0": 1
                        },
                        "background-color": {
                            "#$0": 1,
                            transparent: 1,
                            fixed: 1
                        },
                        "background-image": {
                            "url('/$0')": 1
                        },
                        "background-repeat": {
                            repeat: 1,
                            "repeat-x": 1,
                            "repeat-y": 1,
                            "no-repeat": 1,
                            inherit: 1
                        },
                        "background-position": {
                            bottom: 2,
                            center: 2,
                            left: 2,
                            right: 2,
                            top: 2,
                            inherit: 2
                        },
                        "background-attachment": {
                            scroll: 1,
                            fixed: 1
                        },
                        "background-size": {
                            cover: 1,
                            contain: 1
                        },
                        "background-clip": {
                            "border-box": 1,
                            "padding-box": 1,
                            "content-box": 1
                        },
                        "background-origin": {
                            "border-box": 1,
                            "padding-box": 1,
                            "content-box": 1
                        },
                        border: {
                            "solid $0": 1,
                            "dashed $0": 1,
                            "dotted $0": 1,
                            "#$0": 1
                        },
                        "border-color": {
                            "#$0": 1
                        },
                        "border-style": {
                            solid: 2,
                            dashed: 2,
                            dotted: 2,
                            double: 2,
                            groove: 2,
                            hidden: 2,
                            inherit: 2,
                            inset: 2,
                            none: 2,
                            outset: 2,
                            ridged: 2
                        },
                        "border-collapse": {
                            collapse: 1,
                            separate: 1
                        },
                        bottom: {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        clear: {
                            left: 1,
                            right: 1,
                            both: 1,
                            none: 1
                        },
                        color: {
                            "#$0": 1,
                            "rgb(#$00,0,0)": 1
                        },
                        cursor: {
                            default: 1,
                            pointer: 1,
                            move: 1,
                            text: 1,
                            wait: 1,
                            help: 1,
                            progress: 1,
                            "n-resize": 1,
                            "ne-resize": 1,
                            "e-resize": 1,
                            "se-resize": 1,
                            "s-resize": 1,
                            "sw-resize": 1,
                            "w-resize": 1,
                            "nw-resize": 1
                        },
                        display: {
                            none: 1,
                            block: 1,
                            inline: 1,
                            "inline-block": 1,
                            "table-cell": 1
                        },
                        "empty-cells": {
                            show: 1,
                            hide: 1
                        },
                        float: {
                            left: 1,
                            right: 1,
                            none: 1
                        },
                        "font-family": {
                            Arial: 2,
                            "Comic Sans MS": 2,
                            Consolas: 2,
                            "Courier New": 2,
                            Courier: 2,
                            Georgia: 2,
                            Monospace: 2,
                            "Sans-Serif": 2,
                            "Segoe UI": 2,
                            Tahoma: 2,
                            "Times New Roman": 2,
                            "Trebuchet MS": 2,
                            Verdana: 1
                        },
                        "font-size": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "font-weight": {
                            bold: 1,
                            normal: 1
                        },
                        "font-style": {
                            italic: 1,
                            normal: 1
                        },
                        "font-variant": {
                            normal: 1,
                            "small-caps": 1
                        },
                        height: {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        left: {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "letter-spacing": {
                            normal: 1
                        },
                        "line-height": {
                            normal: 1
                        },
                        "list-style-type": {
                            none: 1,
                            disc: 1,
                            circle: 1,
                            square: 1,
                            decimal: 1,
                            "decimal-leading-zero": 1,
                            "lower-roman": 1,
                            "upper-roman": 1,
                            "lower-greek": 1,
                            "lower-latin": 1,
                            "upper-latin": 1,
                            georgian: 1,
                            "lower-alpha": 1,
                            "upper-alpha": 1
                        },
                        margin: {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "margin-right": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "margin-left": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "margin-top": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "margin-bottom": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "max-height": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "max-width": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "min-height": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "min-width": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        overflow: {
                            hidden: 1,
                            visible: 1,
                            auto: 1,
                            scroll: 1
                        },
                        "overflow-x": {
                            hidden: 1,
                            visible: 1,
                            auto: 1,
                            scroll: 1
                        },
                        "overflow-y": {
                            hidden: 1,
                            visible: 1,
                            auto: 1,
                            scroll: 1
                        },
                        padding: {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "padding-top": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "padding-right": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "padding-bottom": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "padding-left": {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "page-break-after": {
                            auto: 1,
                            always: 1,
                            avoid: 1,
                            left: 1,
                            right: 1
                        },
                        "page-break-before": {
                            auto: 1,
                            always: 1,
                            avoid: 1,
                            left: 1,
                            right: 1
                        },
                        position: {
                            absolute: 1,
                            relative: 1,
                            fixed: 1,
                            static: 1
                        },
                        right: {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "table-layout": {
                            fixed: 1,
                            auto: 1
                        },
                        "text-decoration": {
                            none: 1,
                            underline: 1,
                            "line-through": 1,
                            blink: 1
                        },
                        "text-align": {
                            left: 1,
                            right: 1,
                            center: 1,
                            justify: 1
                        },
                        "text-transform": {
                            capitalize: 1,
                            uppercase: 1,
                            lowercase: 1,
                            none: 1
                        },
                        top: {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "vertical-align": {
                            top: 1,
                            bottom: 1
                        },
                        visibility: {
                            hidden: 1,
                            visible: 1
                        },
                        "white-space": {
                            nowrap: 1,
                            normal: 1,
                            pre: 1,
                            "pre-line": 1,
                            "pre-wrap": 1
                        },
                        width: {
                            px: 1,
                            em: 1,
                            "%": 1
                        },
                        "word-spacing": {
                            normal: 1
                        },
                        filter: {
                            "alpha(opacity=$0100)": 1
                        },
                        "text-shadow": {
                            "$02px 2px 2px #777": 1
                        },
                        "text-overflow": {
                            "ellipsis-word": 1,
                            clip: 1,
                            ellipsis: 1
                        },
                        "-moz-border-radius": 1,
                        "-moz-border-radius-topright": 1,
                        "-moz-border-radius-bottomright": 1,
                        "-moz-border-radius-topleft": 1,
                        "-moz-border-radius-bottomleft": 1,
                        "-webkit-border-radius": 1,
                        "-webkit-border-top-right-radius": 1,
                        "-webkit-border-top-left-radius": 1,
                        "-webkit-border-bottom-right-radius": 1,
                        "-webkit-border-bottom-left-radius": 1,
                        "-moz-box-shadow": 1,
                        "-webkit-box-shadow": 1,
                        transform: {
                            "rotate($00deg)": 1,
                            "skew($00deg)": 1
                        },
                        "-moz-transform": {
                            "rotate($00deg)": 1,
                            "skew($00deg)": 1
                        },
                        "-webkit-transform": {
                            "rotate($00deg)": 1,
                            "skew($00deg)": 1
                        }
                    },
                    i = function() {};
                (function() {
                    this.completionsDefined = !1, this.defineCompletions = function() {
                        if (document) {
                            var e = document.createElement("c").style;
                            for (var t in e)
                                if ("string" == typeof e[t]) {
                                    var n = t.replace(/[A-Z]/g, function(e) {
                                        return "-" + e.toLowerCase()
                                    });
                                    r.hasOwnProperty(n) || (r[n] = 1)
                                }
                        }
                        this.completionsDefined = !0
                    }, this.getCompletions = function(e, t, n, r) {
                        if (this.completionsDefined || this.defineCompletions(), !t.getTokenAt(n.row, n.column)) return [];
                        if ("ruleset" === e) {
                            var i = t.getLine(n.row).substr(0, n.column);
                            return /:[^;]+$/.test(i) ? (/([\w\-]+):[^:]*$/.test(i), this.getPropertyValueCompletions(e, t, n, r)) : this.getPropertyCompletions(e, t, n, r)
                        }
                        return []
                    }, this.getPropertyCompletions = function(e, t, n, i) {
                        return Object.keys(r).map(function(e) {
                            return {
                                caption: e,
                                snippet: e + ": $0",
                                meta: "property",
                                score: Number.MAX_VALUE
                            }
                        })
                    }, this.getPropertyValueCompletions = function(e, t, n, i) {
                        var o = t.getLine(n.row).substr(0, n.column),
                            a = (/([\w\-]+):[^:]*$/.exec(o) || {})[1];
                        if (!a) return [];
                        var s = [];
                        return a in r && "object" == typeof r[a] && (s = Object.keys(r[a])), s.map(function(e) {
                            return {
                                caption: e,
                                snippet: e,
                                meta: "property value",
                                score: Number.MAX_VALUE
                            }
                        })
                    }
                }).call(i.prototype), t.CssCompletions = i
            }), ace.define("ace/mode/behaviour/css", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/mode/behaviour/cstyle", "ace/token_iterator"], function(e, t, n) {
                "use strict";
                var r = e("../../lib/oop"),
                    i = (e("../behaviour"), e("./cstyle").CstyleBehaviour),
                    o = e("../../token_iterator").TokenIterator,
                    a = function() {
                        this.inherit(i), this.add("colon", "insertion", function(e, t, n, r, i) {
                            if (":" === i) {
                                var a = n.getCursorPosition(),
                                    s = new o(r, a.row, a.column),
                                    l = s.getCurrentToken();
                                if (l && l.value.match(/\s+/) && (l = s.stepBackward()), l && "support.type" === l.type) {
                                    var c = r.doc.getLine(a.row);
                                    if (":" === c.substring(a.column, a.column + 1)) return {
                                        text: "",
                                        selection: [1, 1]
                                    };
                                    if (!c.substring(a.column).match(/^\s*;/)) return {
                                        text: ":;",
                                        selection: [1, 1]
                                    }
                                }
                            }
                        }), this.add("colon", "deletion", function(e, t, n, r, i) {
                            var a = r.doc.getTextRange(i);
                            if (!i.isMultiLine() && ":" === a) {
                                var s = n.getCursorPosition(),
                                    l = new o(r, s.row, s.column),
                                    c = l.getCurrentToken();
                                if (c && c.value.match(/\s+/) && (c = l.stepBackward()), c && "support.type" === c.type && ";" === r.doc.getLine(i.start.row).substring(i.end.column, i.end.column + 1)) return i.end.column++, i
                            }
                        }), this.add("semicolon", "insertion", function(e, t, n, r, i) {
                            if (";" === i) {
                                var o = n.getCursorPosition();
                                if (";" === r.doc.getLine(o.row).substring(o.column, o.column + 1)) return {
                                    text: "",
                                    selection: [1, 1]
                                }
                            }
                        })
                    };
                r.inherits(a, i), t.CssBehaviour = a
            }), ace.define("ace/mode/css", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/css_highlight_rules", "ace/mode/matching_brace_outdent", "ace/worker/worker_client", "ace/mode/css_completions", "ace/mode/behaviour/css", "ace/mode/folding/cstyle"], function(e, t, r) {
                "use strict";
                var i = e("../lib/oop"),
                    o = e("./text").Mode,
                    a = e("./css_highlight_rules").CssHighlightRules,
                    s = e("./matching_brace_outdent").MatchingBraceOutdent,
                    l = e("../worker/worker_client").WorkerClient,
                    c = e("./css_completions").CssCompletions,
                    u = e("./behaviour/css").CssBehaviour,
                    d = e("./folding/cstyle").FoldMode,
                    h = function() {
                        this.HighlightRules = a, this.$outdent = new s, this.$behaviour = new u, this.$completer = new c, this.foldingRules = new d
                    };
                i.inherits(h, o), (function() {
                    this.foldingRules = "cStyle", this.blockComment = {
                        start: "/*",
                        end: "*/"
                    }, this.getNextLineIndent = function(e, t, n) {
                        var r = this.$getIndent(t),
                            i = this.getTokenizer().getLineTokens(t, e).tokens;
                        return i.length && "comment" == i[i.length - 1].type ? r : (t.match(/^.*\{\s*$/) && (r += n), r)
                    }, this.checkOutdent = function(e, t, n) {
                        return this.$outdent.checkOutdent(t, n)
                    }, this.autoOutdent = function(e, t, n) {
                        this.$outdent.autoOutdent(t, n)
                    }, this.getCompletions = function(e, t, n, r) {
                        return this.$completer.getCompletions(e, t, n, r)
                    }, this.createWorker = function(e) {
                        var t = new l(["ace"], n("4HD+"), "Worker");
                        return t.attachToDocument(e.getDocument()), t.on("annotate", function(t) {
                            e.setAnnotations(t.data)
                        }), t.on("terminate", function() {
                            e.clearAnnotations()
                        }), t
                    }, this.$id = "ace/mode/css"
                }).call(h.prototype), t.Mode = h
            }), ace.define("ace/mode/xml_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function(e, t, n) {
                "use strict";
                var r = e("../lib/oop"),
                    i = e("./text_highlight_rules").TextHighlightRules,
                    o = function(e) {
                        var t = "[_:a-zA-Z\xc0-\uffff][-_:.a-zA-Z0-9\xc0-\uffff]*";
                        this.$rules = {
                            start: [{
                                token: "string.cdata.xml",
                                regex: "<\\!\\[CDATA\\[",
                                next: "cdata"
                            }, {
                                token: ["punctuation.xml-decl.xml", "keyword.xml-decl.xml"],
                                regex: "(<\\?)(xml)(?=[\\s])",
                                next: "xml_decl",
                                caseInsensitive: !0
                            }, {
                                token: ["punctuation.instruction.xml", "keyword.instruction.xml"],
                                regex: "(<\\?)(" + t + ")",
                                next: "processing_instruction"
                            }, {
                                token: "comment.xml",
                                regex: "<\\!--",
                                next: "comment"
                            }, {
                                token: ["xml-pe.doctype.xml", "xml-pe.doctype.xml"],
                                regex: "(<\\!)(DOCTYPE)(?=[\\s])",
                                next: "doctype",
                                caseInsensitive: !0
                            }, {
                                include: "tag"
                            }, {
                                token: "text.end-tag-open.xml",
                                regex: "</"
                            }, {
                                token: "text.tag-open.xml",
                                regex: "<"
                            }, {
                                include: "reference"
                            }, {
                                defaultToken: "text.xml"
                            }],
                            xml_decl: [{
                                token: "entity.other.attribute-name.decl-attribute-name.xml",
                                regex: "(?:" + t + ":)?" + t
                            }, {
                                token: "keyword.operator.decl-attribute-equals.xml",
                                regex: "="
                            }, {
                                include: "whitespace"
                            }, {
                                include: "string"
                            }, {
                                token: "punctuation.xml-decl.xml",
                                regex: "\\?>",
                                next: "start"
                            }],
                            processing_instruction: [{
                                token: "punctuation.instruction.xml",
                                regex: "\\?>",
                                next: "start"
                            }, {
                                defaultToken: "instruction.xml"
                            }],
                            doctype: [{
                                include: "whitespace"
                            }, {
                                include: "string"
                            }, {
                                token: "xml-pe.doctype.xml",
                                regex: ">",
                                next: "start"
                            }, {
                                token: "xml-pe.xml",
                                regex: "[-_a-zA-Z0-9:]+"
                            }, {
                                token: "punctuation.int-subset",
                                regex: "\\[",
                                push: "int_subset"
                            }],
                            int_subset: [{
                                token: "text.xml",
                                regex: "\\s+"
                            }, {
                                token: "punctuation.int-subset.xml",
                                regex: "]",
                                next: "pop"
                            }, {
                                token: ["punctuation.markup-decl.xml", "keyword.markup-decl.xml"],
                                regex: "(<\\!)(" + t + ")",
                                push: [{
                                    token: "text",
                                    regex: "\\s+"
                                }, {
                                    token: "punctuation.markup-decl.xml",
                                    regex: ">",
                                    next: "pop"
                                }, {
                                    include: "string"
                                }]
                            }],
                            cdata: [{
                                token: "string.cdata.xml",
                                regex: "\\]\\]>",
                                next: "start"
                            }, {
                                token: "text.xml",
                                regex: "\\s+"
                            }, {
                                token: "text.xml",
                                regex: "(?:[^\\]]|\\](?!\\]>))+"
                            }],
                            comment: [{
                                token: "comment.xml",
                                regex: "--\x3e",
                                next: "start"
                            }, {
                                defaultToken: "comment.xml"
                            }],
                            reference: [{
                                token: "constant.language.escape.reference.xml",
                                regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
                            }],
                            attr_reference: [{
                                token: "constant.language.escape.reference.attribute-value.xml",
                                regex: "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
                            }],
                            tag: [{
                                token: ["meta.tag.punctuation.tag-open.xml", "meta.tag.punctuation.end-tag-open.xml", "meta.tag.tag-name.xml"],
                                regex: "(?:(<)|(</))((?:" + t + ":)?" + t + ")",
                                next: [{
                                    include: "attributes"
                                }, {
                                    token: "meta.tag.punctuation.tag-close.xml",
                                    regex: "/?>",
                                    next: "start"
                                }]
                            }],
                            tag_whitespace: [{
                                token: "text.tag-whitespace.xml",
                                regex: "\\s+"
                            }],
                            whitespace: [{
                                token: "text.whitespace.xml",
                                regex: "\\s+"
                            }],
                            string: [{
                                token: "string.xml",
                                regex: "'",
                                push: [{
                                    token: "string.xml",
                                    regex: "'",
                                    next: "pop"
                                }, {
                                    defaultToken: "string.xml"
                                }]
                            }, {
                                token: "string.xml",
                                regex: '"',
                                push: [{
                                    token: "string.xml",
                                    regex: '"',
                                    next: "pop"
                                }, {
                                    defaultToken: "string.xml"
                                }]
                            }],
                            attributes: [{
                                token: "entity.other.attribute-name.xml",
                                regex: "(?:" + t + ":)?" + t
                            }, {
                                token: "keyword.operator.attribute-equals.xml",
                                regex: "="
                            }, {
                                include: "tag_whitespace"
                            }, {
                                include: "attribute_value"
                            }],
                            attribute_value: [{
                                token: "string.attribute-value.xml",
                                regex: "'",
                                push: [{
                                    token: "string.attribute-value.xml",
                                    regex: "'",
                                    next: "pop"
                                }, {
                                    include: "attr_reference"
                                }, {
                                    defaultToken: "string.attribute-value.xml"
                                }]
                            }, {
                                token: "string.attribute-value.xml",
                                regex: '"',
                                push: [{
                                    token: "string.attribute-value.xml",
                                    regex: '"',
                                    next: "pop"
                                }, {
                                    include: "attr_reference"
                                }, {
                                    defaultToken: "string.attribute-value.xml"
                                }]
                            }]
                        }, this.constructor === o && this.normalizeRules()
                    };
                (function() {
                    this.embedTagRules = function(e, t, n) {
                        this.$rules.tag.unshift({
                            token: ["meta.tag.punctuation.tag-open.xml", "meta.tag." + n + ".tag-name.xml"],
                            regex: "(<)(" + n + "(?=\\s|>|$))",
                            next: [{
                                include: "attributes"
                            }, {
                                token: "meta.tag.punctuation.tag-close.xml",
                                regex: "/?>",
                                next: t + "start"
                            }]
                        }), this.$rules[n + "-end"] = [{
                            include: "attributes"
                        }, {
                            token: "meta.tag.punctuation.tag-close.xml",
                            regex: "/?>",
                            next: "start",
                            onMatch: function(e, t, n) {
                                return n.splice(0), this.token
                            }
                        }], this.embedRules(e, t, [{
                            token: ["meta.tag.punctuation.end-tag-open.xml", "meta.tag." + n + ".tag-name.xml"],
                            regex: "(</)(" + n + "(?=\\s|>|$))",
                            next: n + "-end"
                        }, {
                            token: "string.cdata.xml",
                            regex: "<\\!\\[CDATA\\["
                        }, {
                            token: "string.cdata.xml",
                            regex: "\\]\\]>"
                        }])
                    }
                }).call(i.prototype), r.inherits(o, i), t.XmlHighlightRules = o
            }), ace.define("ace/mode/html_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/css_highlight_rules", "ace/mode/javascript_highlight_rules", "ace/mode/xml_highlight_rules"], function(e, t, n) {
                "use strict";
                var r = e("../lib/oop"),
                    i = e("../lib/lang"),
                    o = e("./css_highlight_rules").CssHighlightRules,
                    a = e("./javascript_highlight_rules").JavaScriptHighlightRules,
                    s = e("./xml_highlight_rules").XmlHighlightRules,
                    l = i.createMap({
                        a: "anchor",
                        button: "form",
                        form: "form",
                        img: "image",
                        input: "form",
                        label: "form",
                        option: "form",
                        script: "script",
                        select: "form",
                        textarea: "form",
                        style: "style",
                        table: "table",
                        tbody: "table",
                        td: "table",
                        tfoot: "table",
                        th: "table",
                        tr: "table"
                    }),
                    c = function() {
                        s.call(this), this.addRules({
                            attributes: [{
                                include: "tag_whitespace"
                            }, {
                                token: "entity.other.attribute-name.xml",
                                regex: "[-_a-zA-Z0-9:.]+"
                            }, {
                                token: "keyword.operator.attribute-equals.xml",
                                regex: "=",
                                push: [{
                                    include: "tag_whitespace"
                                }, {
                                    token: "string.unquoted.attribute-value.html",
                                    regex: "[^<>='\"`\\s]+",
                                    next: "pop"
                                }, {
                                    token: "empty",
                                    regex: "",
                                    next: "pop"
                                }]
                            }, {
                                include: "attribute_value"
                            }],
                            tag: [{
                                token: function(e, t) {
                                    var n = l[t];
                                    return ["meta.tag.punctuation." + ("<" == e ? "" : "end-") + "tag-open.xml", "meta.tag" + (n ? "." + n : "") + ".tag-name.xml"]
                                },
                                regex: "(</?)([-_a-zA-Z0-9:.]+)",
                                next: "tag_stuff"
                            }],
                            tag_stuff: [{
                                include: "attributes"
                            }, {
                                token: "meta.tag.punctuation.tag-close.xml",
                                regex: "/?>",
                                next: "start"
                            }]
                        }), this.embedTagRules(o, "css-", "style"), this.embedTagRules(new a({
                            jsx: !1
                        }).getRules(), "js-", "script"), this.constructor === c && this.normalizeRules()
                    };
                r.inherits(c, s), t.HtmlHighlightRules = c
            }), ace.define("ace/mode/behaviour/xml", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function(e, t, n) {
                "use strict";
                var r = e("../../lib/oop"),
                    i = e("../behaviour").Behaviour,
                    o = e("../../token_iterator").TokenIterator;

                function a(e, t) {
                    return e.type.lastIndexOf(t + ".xml") > -1
                }
                e("../../lib/lang");
                var s = function() {
                    this.add("string_dquotes", "insertion", function(e, t, n, r, i) {
                        if ('"' == i || "'" == i) {
                            var s = i,
                                l = r.doc.getTextRange(n.getSelectionRange());
                            if ("" !== l && "'" !== l && '"' != l && n.getWrapBehavioursEnabled()) return {
                                text: s + l + s,
                                selection: !1
                            };
                            var c = n.getCursorPosition(),
                                u = r.doc.getLine(c.row).substring(c.column, c.column + 1),
                                d = new o(r, c.row, c.column),
                                h = d.getCurrentToken();
                            if (u == s && (a(h, "attribute-value") || a(h, "string"))) return {
                                text: "",
                                selection: [1, 1]
                            };
                            if (h || (h = d.stepBackward()), !h) return;
                            for (; a(h, "tag-whitespace") || a(h, "whitespace");) h = d.stepBackward();
                            var p = !u || u.match(/\s/);
                            if (a(h, "attribute-equals") && (p || ">" == u) || a(h, "decl-attribute-equals") && (p || "?" == u)) return {
                                text: s + s,
                                selection: [1, 1]
                            }
                        }
                    }), this.add("string_dquotes", "deletion", function(e, t, n, r, i) {
                        var o = r.doc.getTextRange(i);
                        if (!i.isMultiLine() && ('"' == o || "'" == o) && r.doc.getLine(i.start.row).substring(i.start.column + 1, i.start.column + 2) == o) return i.end.column++, i
                    }), this.add("autoclosing", "insertion", function(e, t, n, r, i) {
                        if (">" == i) {
                            var s = n.getSelectionRange().start,
                                l = new o(r, s.row, s.column),
                                c = l.getCurrentToken() || l.stepBackward();
                            if (!c || !(a(c, "tag-name") || a(c, "tag-whitespace") || a(c, "attribute-name") || a(c, "attribute-equals") || a(c, "attribute-value"))) return;
                            if (a(c, "reference.attribute-value")) return;
                            if (a(c, "attribute-value")) {
                                var u = c.value.charAt(0);
                                if ('"' == u || "'" == u) {
                                    var d = c.value.charAt(c.value.length - 1),
                                        h = l.getCurrentTokenColumn() + c.value.length;
                                    if (h > s.column || h == s.column && u != d) return
                                }
                            }
                            for (; !a(c, "tag-name");)
                                if ("<" == (c = l.stepBackward()).value) {
                                    c = l.stepForward();
                                    break
                                }
                            var p = l.getCurrentTokenRow(),
                                f = l.getCurrentTokenColumn();
                            if (a(l.stepBackward(), "end-tag-open")) return;
                            var m = c.value;
                            if (p == s.row && (m = m.substring(0, s.column - f)), this.voidElements.hasOwnProperty(m.toLowerCase())) return;
                            return {
                                text: "></" + m + ">",
                                selection: [1, 1]
                            }
                        }
                    }), this.add("autoindent", "insertion", function(e, t, n, r, i) {
                        if ("\n" == i) {
                            var a = n.getCursorPosition(),
                                s = r.getLine(a.row),
                                l = new o(r, a.row, a.column),
                                c = l.getCurrentToken();
                            if (c && -1 !== c.type.indexOf("tag-close")) {
                                if ("/>" == c.value) return;
                                for (; c && -1 === c.type.indexOf("tag-name");) c = l.stepBackward();
                                if (!c) return;
                                var u = c.value,
                                    d = l.getCurrentTokenRow();
                                if (!(c = l.stepBackward()) || -1 !== c.type.indexOf("end-tag")) return;
                                if (this.voidElements && !this.voidElements[u]) {
                                    var h = r.getTokenAt(a.row, a.column + 1),
                                        p = (s = r.getLine(d), this.$getIndent(s)),
                                        f = p + r.getTabString();
                                    return h && "</" === h.value ? {
                                        text: "\n" + f + "\n" + p,
                                        selection: [1, f.length, 1, f.length]
                                    } : {
                                        text: "\n" + f
                                    }
                                }
                            }
                        }
                    })
                };
                r.inherits(s, i), t.XmlBehaviour = s
            }), ace.define("ace/mode/folding/mixed", ["require", "exports", "module", "ace/lib/oop", "ace/mode/folding/fold_mode"], function(e, t, n) {
                "use strict";
                var r = e("../../lib/oop"),
                    i = e("./fold_mode").FoldMode,
                    o = t.FoldMode = function(e, t) {
                        this.defaultMode = e, this.subModes = t
                    };
                r.inherits(o, i), (function() {
                    this.$getMode = function(e) {
                        for (var t in "string" != typeof e && (e = e[0]), this.subModes)
                            if (0 === e.indexOf(t)) return this.subModes[t];
                        return null
                    }, this.$tryMode = function(e, t, n, r) {
                        var i = this.$getMode(e);
                        return i ? i.getFoldWidget(t, n, r) : ""
                    }, this.getFoldWidget = function(e, t, n) {
                        return this.$tryMode(e.getState(n - 1), e, t, n) || this.$tryMode(e.getState(n), e, t, n) || this.defaultMode.getFoldWidget(e, t, n)
                    }, this.getFoldWidgetRange = function(e, t, n) {
                        var r = this.$getMode(e.getState(n - 1));
                        return r && r.getFoldWidget(e, t, n) || (r = this.$getMode(e.getState(n))), r && r.getFoldWidget(e, t, n) || (r = this.defaultMode), r.getFoldWidgetRange(e, t, n)
                    }
                }).call(o.prototype)
            }), ace.define("ace/mode/folding/xml", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/range", "ace/mode/folding/fold_mode", "ace/token_iterator"], function(e, t, n) {
                "use strict";
                var r = e("../../lib/oop"),
                    i = (e("../../lib/lang"), e("../../range").Range),
                    o = e("./fold_mode").FoldMode,
                    a = e("../../token_iterator").TokenIterator,
                    s = t.FoldMode = function(e, t) {
                        o.call(this), this.voidElements = e || {}, this.optionalEndTags = r.mixin({}, this.voidElements), t && r.mixin(this.optionalEndTags, t)
                    };
                r.inherits(s, o);
                var l = function() {
                    this.tagName = "", this.closing = !1, this.selfClosing = !1, this.start = {
                        row: 0,
                        column: 0
                    }, this.end = {
                        row: 0,
                        column: 0
                    }
                };

                function c(e, t) {
                    return e.type.lastIndexOf(t + ".xml") > -1
                }(function() {
                    this.getFoldWidget = function(e, t, n) {
                        var r = this._getFirstTagInLine(e, n);
                        return r ? r.closing || !r.tagName && r.selfClosing ? "markbeginend" == t ? "end" : "" : !r.tagName || r.selfClosing || this.voidElements.hasOwnProperty(r.tagName.toLowerCase()) ? "" : this._findEndTagInLine(e, n, r.tagName, r.end.column) ? "" : "start" : ""
                    }, this._getFirstTagInLine = function(e, t) {
                        for (var n = e.getTokens(t), r = new l, i = 0; i < n.length; i++) {
                            var o = n[i];
                            if (c(o, "tag-open")) {
                                if (r.end.column = r.start.column + o.value.length, r.closing = c(o, "end-tag-open"), !(o = n[++i])) return null;
                                for (r.tagName = o.value, r.end.column += o.value.length, i++; i < n.length; i++)
                                    if (r.end.column += (o = n[i]).value.length, c(o, "tag-close")) {
                                        r.selfClosing = "/>" == o.value;
                                        break
                                    }
                                return r
                            }
                            if (c(o, "tag-close")) return r.selfClosing = "/>" == o.value, r;
                            r.start.column += o.value.length
                        }
                        return null
                    }, this._findEndTagInLine = function(e, t, n, r) {
                        for (var i = e.getTokens(t), o = 0, a = 0; a < i.length; a++) {
                            var s = i[a];
                            if (!((o += s.value.length) < r) && c(s, "end-tag-open") && (s = i[a + 1]) && s.value == n) return !0
                        }
                        return !1
                    }, this._readTagForward = function(e) {
                        var t = e.getCurrentToken();
                        if (!t) return null;
                        var n = new l;
                        do {
                            if (c(t, "tag-open")) n.closing = c(t, "end-tag-open"), n.start.row = e.getCurrentTokenRow(), n.start.column = e.getCurrentTokenColumn();
                            else if (c(t, "tag-name")) n.tagName = t.value;
                            else if (c(t, "tag-close")) return n.selfClosing = "/>" == t.value, n.end.row = e.getCurrentTokenRow(), n.end.column = e.getCurrentTokenColumn() + t.value.length, e.stepForward(), n
                        } while (t = e.stepForward());
                        return null
                    }, this._readTagBackward = function(e) {
                        var t = e.getCurrentToken();
                        if (!t) return null;
                        var n = new l;
                        do {
                            if (c(t, "tag-open")) return n.closing = c(t, "end-tag-open"), n.start.row = e.getCurrentTokenRow(), n.start.column = e.getCurrentTokenColumn(), e.stepBackward(), n;
                            c(t, "tag-name") ? n.tagName = t.value : c(t, "tag-close") && (n.selfClosing = "/>" == t.value, n.end.row = e.getCurrentTokenRow(), n.end.column = e.getCurrentTokenColumn() + t.value.length)
                        } while (t = e.stepBackward());
                        return null
                    }, this._pop = function(e, t) {
                        for (; e.length;) {
                            var n = e[e.length - 1];
                            if (t && n.tagName != t.tagName) {
                                if (this.optionalEndTags.hasOwnProperty(n.tagName)) {
                                    e.pop();
                                    continue
                                }
                                return null
                            }
                            return e.pop()
                        }
                    }, this.getFoldWidgetRange = function(e, t, n) {
                        var r = this._getFirstTagInLine(e, n);
                        if (!r) return null;
                        var o, s = [];
                        if (r.closing || r.selfClosing) {
                            c = new a(e, n, r.end.column);
                            for (var l = {
                                    row: n,
                                    column: r.start.column
                                }; o = this._readTagBackward(c);) {
                                if (o.selfClosing) {
                                    if (s.length) continue;
                                    return o.start.column += o.tagName.length + 2, o.end.column -= 2, i.fromPoints(o.start, o.end)
                                }
                                if (o.closing) s.push(o);
                                else if (this._pop(s, o), 0 == s.length) return o.start.column += o.tagName.length + 2, o.start.row == o.end.row && o.start.column < o.end.column && (o.start.column = o.end.column), i.fromPoints(o.start, l)
                            }
                        } else {
                            var c = new a(e, n, r.start.column),
                                u = {
                                    row: n,
                                    column: r.start.column + r.tagName.length + 2
                                };
                            for (r.start.row == r.end.row && (u.column = r.end.column); o = this._readTagForward(c);) {
                                if (o.selfClosing) {
                                    if (s.length) continue;
                                    return o.start.column += o.tagName.length + 2, o.end.column -= 2, i.fromPoints(o.start, o.end)
                                }
                                if (o.closing) {
                                    if (this._pop(s, o), 0 == s.length) return i.fromPoints(u, o.start)
                                } else s.push(o)
                            }
                        }
                    }
                }).call(s.prototype)
            }), ace.define("ace/mode/folding/html", ["require", "exports", "module", "ace/lib/oop", "ace/mode/folding/mixed", "ace/mode/folding/xml", "ace/mode/folding/cstyle"], function(e, t, n) {
                "use strict";
                var r = e("../../lib/oop"),
                    i = e("./mixed").FoldMode,
                    o = e("./xml").FoldMode,
                    a = e("./cstyle").FoldMode,
                    s = t.FoldMode = function(e, t) {
                        i.call(this, new o(e, t), {
                            "js-": new a,
                            "css-": new a
                        })
                    };
                r.inherits(s, i)
            }), ace.define("ace/mode/html_completions", ["require", "exports", "module", "ace/token_iterator"], function(e, t, n) {
                "use strict";
                var r = e("../token_iterator").TokenIterator,
                    i = ["accesskey", "class", "contenteditable", "contextmenu", "dir", "draggable", "dropzone", "hidden", "id", "inert", "itemid", "itemprop", "itemref", "itemscope", "itemtype", "lang", "spellcheck", "style", "tabindex", "title", "translate"].concat(["onabort", "onblur", "oncancel", "oncanplay", "oncanplaythrough", "onchange", "onclick", "onclose", "oncontextmenu", "oncuechange", "ondblclick", "ondrag", "ondragend", "ondragenter", "ondragleave", "ondragover", "ondragstart", "ondrop", "ondurationchange", "onemptied", "onended", "onerror", "onfocus", "oninput", "oninvalid", "onkeydown", "onkeypress", "onkeyup", "onload", "onloadeddata", "onloadedmetadata", "onloadstart", "onmousedown", "onmousemove", "onmouseout", "onmouseover", "onmouseup", "onmousewheel", "onpause", "onplay", "onplaying", "onprogress", "onratechange", "onreset", "onscroll", "onseeked", "onseeking", "onselect", "onshow", "onstalled", "onsubmit", "onsuspend", "ontimeupdate", "onvolumechange", "onwaiting"]),
                    o = {
                        html: {
                            manifest: 1
                        },
                        head: {},
                        title: {},
                        base: {
                            href: 1,
                            target: 1
                        },
                        link: {
                            href: 1,
                            hreflang: 1,
                            rel: {
                                stylesheet: 1,
                                icon: 1
                            },
                            media: {
                                all: 1,
                                screen: 1,
                                print: 1
                            },
                            type: {
                                "text/css": 1,
                                "image/png": 1,
                                "image/jpeg": 1,
                                "image/gif": 1
                            },
                            sizes: 1
                        },
                        meta: {
                            "http-equiv": {
                                "content-type": 1
                            },
                            name: {
                                description: 1,
                                keywords: 1
                            },
                            content: {
                                "text/html; charset=UTF-8": 1
                            },
                            charset: 1
                        },
                        style: {
                            type: 1,
                            media: {
                                all: 1,
                                screen: 1,
                                print: 1
                            },
                            scoped: 1
                        },
                        script: {
                            charset: 1,
                            type: {
                                "text/javascript": 1
                            },
                            src: 1,
                            defer: 1,
                            async: 1
                        },
                        noscript: {
                            href: 1
                        },
                        body: {
                            onafterprint: 1,
                            onbeforeprint: 1,
                            onbeforeunload: 1,
                            onhashchange: 1,
                            onmessage: 1,
                            onoffline: 1,
                            onpopstate: 1,
                            onredo: 1,
                            onresize: 1,
                            onstorage: 1,
                            onundo: 1,
                            onunload: 1
                        },
                        section: {},
                        nav: {},
                        article: {
                            pubdate: 1
                        },
                        aside: {},
                        h1: {},
                        h2: {},
                        h3: {},
                        h4: {},
                        h5: {},
                        h6: {},
                        header: {},
                        footer: {},
                        address: {},
                        main: {},
                        p: {},
                        hr: {},
                        pre: {},
                        blockquote: {
                            cite: 1
                        },
                        ol: {
                            start: 1,
                            reversed: 1
                        },
                        ul: {},
                        li: {
                            value: 1
                        },
                        dl: {},
                        dt: {},
                        dd: {},
                        figure: {},
                        figcaption: {},
                        div: {},
                        a: {
                            href: 1,
                            target: {
                                _blank: 1,
                                top: 1
                            },
                            ping: 1,
                            rel: {
                                nofollow: 1,
                                alternate: 1,
                                author: 1,
                                bookmark: 1,
                                help: 1,
                                license: 1,
                                next: 1,
                                noreferrer: 1,
                                prefetch: 1,
                                prev: 1,
                                search: 1,
                                tag: 1
                            },
                            media: 1,
                            hreflang: 1,
                            type: 1
                        },
                        em: {},
                        strong: {},
                        small: {},
                        s: {},
                        cite: {},
                        q: {
                            cite: 1
                        },
                        dfn: {},
                        abbr: {},
                        data: {},
                        time: {
                            datetime: 1
                        },
                        code: {},
                        var: {},
                        samp: {},
                        kbd: {},
                        sub: {},
                        sup: {},
                        i: {},
                        b: {},
                        u: {},
                        mark: {},
                        ruby: {},
                        rt: {},
                        rp: {},
                        bdi: {},
                        bdo: {},
                        span: {},
                        br: {},
                        wbr: {},
                        ins: {
                            cite: 1,
                            datetime: 1
                        },
                        del: {
                            cite: 1,
                            datetime: 1
                        },
                        img: {
                            alt: 1,
                            src: 1,
                            height: 1,
                            width: 1,
                            usemap: 1,
                            ismap: 1
                        },
                        iframe: {
                            name: 1,
                            src: 1,
                            height: 1,
                            width: 1,
                            sandbox: {
                                "allow-same-origin": 1,
                                "allow-top-navigation": 1,
                                "allow-forms": 1,
                                "allow-scripts": 1
                            },
                            seamless: {
                                seamless: 1
                            }
                        },
                        embed: {
                            src: 1,
                            height: 1,
                            width: 1,
                            type: 1
                        },
                        object: {
                            param: 1,
                            data: 1,
                            type: 1,
                            height: 1,
                            width: 1,
                            usemap: 1,
                            name: 1,
                            form: 1,
                            classid: 1
                        },
                        param: {
                            name: 1,
                            value: 1
                        },
                        video: {
                            src: 1,
                            autobuffer: 1,
                            autoplay: {
                                autoplay: 1
                            },
                            loop: {
                                loop: 1
                            },
                            controls: {
                                controls: 1
                            },
                            width: 1,
                            height: 1,
                            poster: 1,
                            muted: {
                                muted: 1
                            },
                            preload: {
                                auto: 1,
                                metadata: 1,
                                none: 1
                            }
                        },
                        audio: {
                            src: 1,
                            autobuffer: 1,
                            autoplay: {
                                autoplay: 1
                            },
                            loop: {
                                loop: 1
                            },
                            controls: {
                                controls: 1
                            },
                            muted: {
                                muted: 1
                            },
                            preload: {
                                auto: 1,
                                metadata: 1,
                                none: 1
                            }
                        },
                        source: {
                            src: 1,
                            type: 1,
                            media: 1
                        },
                        track: {
                            kind: 1,
                            src: 1,
                            srclang: 1,
                            label: 1,
                            default: 1
                        },
                        canvas: {
                            width: 1,
                            height: 1
                        },
                        map: {
                            name: 1
                        },
                        area: {
                            shape: 1,
                            coords: 1,
                            href: 1,
                            hreflang: 1,
                            alt: 1,
                            target: 1,
                            media: 1,
                            rel: 1,
                            ping: 1,
                            type: 1
                        },
                        svg: {},
                        math: {},
                        table: {
                            summary: 1
                        },
                        caption: {},
                        colgroup: {
                            span: 1
                        },
                        col: {
                            span: 1
                        },
                        tbody: {},
                        thead: {},
                        tfoot: {},
                        tr: {},
                        td: {
                            headers: 1,
                            rowspan: 1,
                            colspan: 1
                        },
                        th: {
                            headers: 1,
                            rowspan: 1,
                            colspan: 1,
                            scope: 1
                        },
                        form: {
                            "accept-charset": 1,
                            action: 1,
                            autocomplete: 1,
                            enctype: {
                                "multipart/form-data": 1,
                                "application/x-www-form-urlencoded": 1
                            },
                            method: {
                                get: 1,
                                post: 1
                            },
                            name: 1,
                            novalidate: 1,
                            target: {
                                _blank: 1,
                                top: 1
                            }
                        },
                        fieldset: {
                            disabled: 1,
                            form: 1,
                            name: 1
                        },
                        legend: {},
                        label: {
                            form: 1,
                            for: 1
                        },
                        input: {
                            type: {
                                text: 1,
                                password: 1,
                                hidden: 1,
                                checkbox: 1,
                                submit: 1,
                                radio: 1,
                                file: 1,
                                button: 1,
                                reset: 1,
                                image: 31,
                                color: 1,
                                date: 1,
                                datetime: 1,
                                "datetime-local": 1,
                                email: 1,
                                month: 1,
                                number: 1,
                                range: 1,
                                search: 1,
                                tel: 1,
                                time: 1,
                                url: 1,
                                week: 1
                            },
                            accept: 1,
                            alt: 1,
                            autocomplete: {
                                on: 1,
                                off: 1
                            },
                            autofocus: {
                                autofocus: 1
                            },
                            checked: {
                                checked: 1
                            },
                            disabled: {
                                disabled: 1
                            },
                            form: 1,
                            formaction: 1,
                            formenctype: {
                                "application/x-www-form-urlencoded": 1,
                                "multipart/form-data": 1,
                                "text/plain": 1
                            },
                            formmethod: {
                                get: 1,
                                post: 1
                            },
                            formnovalidate: {
                                formnovalidate: 1
                            },
                            formtarget: {
                                _blank: 1,
                                _self: 1,
                                _parent: 1,
                                _top: 1
                            },
                            height: 1,
                            list: 1,
                            max: 1,
                            maxlength: 1,
                            min: 1,
                            multiple: {
                                multiple: 1
                            },
                            name: 1,
                            pattern: 1,
                            placeholder: 1,
                            readonly: {
                                readonly: 1
                            },
                            acequired: {
                                acequired: 1
                            },
                            size: 1,
                            src: 1,
                            step: 1,
                            width: 1,
                            files: 1,
                            value: 1
                        },
                        button: {
                            autofocus: 1,
                            disabled: {
                                disabled: 1
                            },
                            form: 1,
                            formaction: 1,
                            formenctype: 1,
                            formmethod: 1,
                            formnovalidate: 1,
                            formtarget: 1,
                            name: 1,
                            value: 1,
                            type: {
                                button: 1,
                                submit: 1
                            }
                        },
                        select: {
                            autofocus: 1,
                            disabled: 1,
                            form: 1,
                            multiple: {
                                multiple: 1
                            },
                            name: 1,
                            size: 1,
                            readonly: {
                                readonly: 1
                            }
                        },
                        datalist: {},
                        optgroup: {
                            disabled: 1,
                            label: 1
                        },
                        option: {
                            disabled: 1,
                            selected: 1,
                            label: 1,
                            value: 1
                        },
                        textarea: {
                            autofocus: {
                                autofocus: 1
                            },
                            disabled: {
                                disabled: 1
                            },
                            form: 1,
                            maxlength: 1,
                            name: 1,
                            placeholder: 1,
                            readonly: {
                                readonly: 1
                            },
                            acequired: {
                                acequired: 1
                            },
                            rows: 1,
                            cols: 1,
                            wrap: {
                                on: 1,
                                off: 1,
                                hard: 1,
                                soft: 1
                            }
                        },
                        keygen: {
                            autofocus: 1,
                            challenge: {
                                challenge: 1
                            },
                            disabled: {
                                disabled: 1
                            },
                            form: 1,
                            keytype: {
                                rsa: 1,
                                dsa: 1,
                                ec: 1
                            },
                            name: 1
                        },
                        output: {
                            for: 1,
                            form: 1,
                            name: 1
                        },
                        progress: {
                            value: 1,
                            max: 1
                        },
                        meter: {
                            value: 1,
                            min: 1,
                            max: 1,
                            low: 1,
                            high: 1,
                            optimum: 1
                        },
                        details: {
                            open: 1
                        },
                        summary: {},
                        command: {
                            type: 1,
                            label: 1,
                            icon: 1,
                            disabled: 1,
                            checked: 1,
                            radiogroup: 1,
                            command: 1
                        },
                        menu: {
                            type: 1,
                            label: 1
                        },
                        dialog: {
                            open: 1
                        }
                    },
                    a = Object.keys(o);

                function s(e, t) {
                    return e.type.lastIndexOf(t + ".xml") > -1
                }

                function l(e, t) {
                    for (var n = new r(e, t.row, t.column), i = n.getCurrentToken(); i && !s(i, "tag-name");) i = n.stepBackward();
                    if (i) return i.value
                }
                var c = function() {};
                (function() {
                    this.getCompletions = function(e, t, n, r) {
                        var i = t.getTokenAt(n.row, n.column);
                        if (!i) return [];
                        if (s(i, "tag-name") || s(i, "tag-open") || s(i, "end-tag-open")) return this.getTagCompletions(e, t, n, r);
                        if (s(i, "tag-whitespace") || s(i, "attribute-name")) return this.getAttributeCompletions(e, t, n, r);
                        if (s(i, "attribute-value")) return this.getAttributeValueCompletions(e, t, n, r);
                        var o = t.getLine(n.row).substr(0, n.column);
                        return /&[a-z]*$/i.test(o) ? this.getHTMLEntityCompletions(e, t, n, r) : []
                    }, this.getTagCompletions = function(e, t, n, r) {
                        return a.map(function(e) {
                            return {
                                value: e,
                                meta: "tag",
                                score: Number.MAX_VALUE
                            }
                        })
                    }, this.getAttributeCompletions = function(e, t, n, r) {
                        var a = l(t, n);
                        if (!a) return [];
                        var s = i;
                        return a in o && (s = s.concat(Object.keys(o[a]))), s.map(function(e) {
                            return {
                                caption: e,
                                snippet: e + '="$0"',
                                meta: "attribute",
                                score: Number.MAX_VALUE
                            }
                        })
                    }, this.getAttributeValueCompletions = function(e, t, n, i) {
                        var a = l(t, n),
                            c = function(e, t) {
                                for (var n = new r(e, t.row, t.column), i = n.getCurrentToken(); i && !s(i, "attribute-name");) i = n.stepBackward();
                                if (i) return i.value
                            }(t, n);
                        if (!a) return [];
                        var u = [];
                        return a in o && c in o[a] && "object" == typeof o[a][c] && (u = Object.keys(o[a][c])), u.map(function(e) {
                            return {
                                caption: e,
                                snippet: e,
                                meta: "attribute value",
                                score: Number.MAX_VALUE
                            }
                        })
                    }, this.getHTMLEntityCompletions = function(e, t, n, r) {
                        return ["Aacute;", "aacute;", "Acirc;", "acirc;", "acute;", "AElig;", "aelig;", "Agrave;", "agrave;", "alefsym;", "Alpha;", "alpha;", "amp;", "and;", "ang;", "Aring;", "aring;", "asymp;", "Atilde;", "atilde;", "Auml;", "auml;", "bdquo;", "Beta;", "beta;", "brvbar;", "bull;", "cap;", "Ccedil;", "ccedil;", "cedil;", "cent;", "Chi;", "chi;", "circ;", "clubs;", "cong;", "copy;", "crarr;", "cup;", "curren;", "Dagger;", "dagger;", "dArr;", "darr;", "deg;", "Delta;", "delta;", "diams;", "divide;", "Eacute;", "eacute;", "Ecirc;", "ecirc;", "Egrave;", "egrave;", "empty;", "emsp;", "ensp;", "Epsilon;", "epsilon;", "equiv;", "Eta;", "eta;", "ETH;", "eth;", "Euml;", "euml;", "euro;", "exist;", "fnof;", "forall;", "frac12;", "frac14;", "frac34;", "frasl;", "Gamma;", "gamma;", "ge;", "gt;", "hArr;", "harr;", "hearts;", "hellip;", "Iacute;", "iacute;", "Icirc;", "icirc;", "iexcl;", "Igrave;", "igrave;", "image;", "infin;", "int;", "Iota;", "iota;", "iquest;", "isin;", "Iuml;", "iuml;", "Kappa;", "kappa;", "Lambda;", "lambda;", "lang;", "laquo;", "lArr;", "larr;", "lceil;", "ldquo;", "le;", "lfloor;", "lowast;", "loz;", "lrm;", "lsaquo;", "lsquo;", "lt;", "macr;", "mdash;", "micro;", "middot;", "minus;", "Mu;", "mu;", "nabla;", "nbsp;", "ndash;", "ne;", "ni;", "not;", "notin;", "nsub;", "Ntilde;", "ntilde;", "Nu;", "nu;", "Oacute;", "oacute;", "Ocirc;", "ocirc;", "OElig;", "oelig;", "Ograve;", "ograve;", "oline;", "Omega;", "omega;", "Omicron;", "omicron;", "oplus;", "or;", "ordf;", "ordm;", "Oslash;", "oslash;", "Otilde;", "otilde;", "otimes;", "Ouml;", "ouml;", "para;", "part;", "permil;", "perp;", "Phi;", "phi;", "Pi;", "pi;", "piv;", "plusmn;", "pound;", "Prime;", "prime;", "prod;", "prop;", "Psi;", "psi;", "quot;", "radic;", "rang;", "raquo;", "rArr;", "rarr;", "rceil;", "rdquo;", "real;", "reg;", "rfloor;", "Rho;", "rho;", "rlm;", "rsaquo;", "rsquo;", "sbquo;", "Scaron;", "scaron;", "sdot;", "sect;", "shy;", "Sigma;", "sigma;", "sigmaf;", "sim;", "spades;", "sub;", "sube;", "sum;", "sup;", "sup1;", "sup2;", "sup3;", "supe;", "szlig;", "Tau;", "tau;", "there4;", "Theta;", "theta;", "thetasym;", "thinsp;", "THORN;", "thorn;", "tilde;", "times;", "trade;", "Uacute;", "uacute;", "uArr;", "uarr;", "Ucirc;", "ucirc;", "Ugrave;", "ugrave;", "uml;", "upsih;", "Upsilon;", "upsilon;", "Uuml;", "uuml;", "weierp;", "Xi;", "xi;", "Yacute;", "yacute;", "yen;", "Yuml;", "yuml;", "Zeta;", "zeta;", "zwj;", "zwnj;"].map(function(e) {
                            return {
                                caption: e,
                                snippet: e,
                                meta: "html entity",
                                score: Number.MAX_VALUE
                            }
                        })
                    }
                }).call(c.prototype), t.HtmlCompletions = c
            }), ace.define("ace/mode/html", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/mode/text", "ace/mode/javascript", "ace/mode/css", "ace/mode/html_highlight_rules", "ace/mode/behaviour/xml", "ace/mode/folding/html", "ace/mode/html_completions", "ace/worker/worker_client"], function(e, t, r) {
                "use strict";
                var i = e("../lib/oop"),
                    o = e("../lib/lang"),
                    a = e("./text").Mode,
                    s = e("./javascript").Mode,
                    l = e("./css").Mode,
                    c = e("./html_highlight_rules").HtmlHighlightRules,
                    u = e("./behaviour/xml").XmlBehaviour,
                    d = e("./folding/html").FoldMode,
                    h = e("./html_completions").HtmlCompletions,
                    p = e("../worker/worker_client").WorkerClient,
                    f = ["area", "base", "br", "col", "embed", "hr", "img", "input", "keygen", "link", "meta", "menuitem", "param", "source", "track", "wbr"],
                    m = ["li", "dt", "dd", "p", "rt", "rp", "optgroup", "option", "colgroup", "td", "th"],
                    g = function(e) {
                        this.fragmentContext = e && e.fragmentContext, this.HighlightRules = c, this.$behaviour = new u, this.$completer = new h, this.createModeDelegates({
                            "js-": s,
                            "css-": l
                        }), this.foldingRules = new d(this.voidElements, o.arrayToMap(m))
                    };
                i.inherits(g, a), (function() {
                    this.blockComment = {
                        start: "\x3c!--",
                        end: "--\x3e"
                    }, this.voidElements = o.arrayToMap(f), this.getNextLineIndent = function(e, t, n) {
                        return this.$getIndent(t)
                    }, this.checkOutdent = function(e, t, n) {
                        return !1
                    }, this.getCompletions = function(e, t, n, r) {
                        return this.$completer.getCompletions(e, t, n, r)
                    }, this.createWorker = function(e) {
                        if (this.constructor == g) {
                            var t = new p(["ace"], n("1Xw/"), "Worker");
                            return t.attachToDocument(e.getDocument()), this.fragmentContext && t.call("setOptions", [{
                                context: this.fragmentContext
                            }]), t.on("error", function(t) {
                                e.setAnnotations(t.data)
                            }), t.on("terminate", function() {
                                e.clearAnnotations()
                            }), t
                        }
                    }, this.$id = "ace/mode/html"
                }).call(g.prototype), t.Mode = g
            })
        }
    }
]);